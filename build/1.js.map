{"version":3,"file":"./build/1.js","sources":["webpack:///./deps/jquery-2.1.1.min.js","webpack:///(webpack)/buildin/amd-options.js","webpack:///../Tone.js/Tone/core/Transport.js","webpack:///../Tone.js/Tone/core/Tone.js","webpack:///../Tone.js/Tone/core/Clock.js","webpack:///../Tone.js/Tone/signal/Signal.js","webpack:///../Tone.js/Tone/signal/WaveShaper.js","webpack:///../Tone.js/Tone/signal/SignalBase.js","webpack:///../Tone.js/Tone/signal/Multiply.js","webpack:///./app/controller/Mediator.js","webpack:///./deps/requestAnimationFrame.js","webpack:///./app/util/Config.js","webpack:///../Tone.js/Tone/core/Buffer.js","webpack:///./app/interface/Window.js","webpack:///./style/main.scss?a7e6","webpack:///./style/main.scss","webpack:///./~/css-loader/lib/css-base.js","webpack:///./~/style-loader/addStyles.js","webpack:///./app/visuals/Main.js","webpack:///./app/visuals/Arp.js","webpack:///./app/visuals/Context.js","webpack:///./app/shader/Noise.js","webpack:///./app/shader/noise.frag","webpack:///./app/shader/colorshift.vert","webpack:///./deps/tween.min.js","webpack:///./deps/Stats.js","webpack:///./app/shader/ColorShift.js","webpack:///./app/shader/colorshift.frag","webpack:///./app/controller/Conductor.js","webpack:///../Tone.js/Tone/core/Note.js","webpack:///./deps/TERP.js","webpack:///./app/interface/Scroll.js","webpack:///./deps/jquery.mousewheel.js","webpack:///./app/interface/GUI.js","webpack:///./deps/dat.gui.js","webpack:///../Tone.js/Tone/source/Oscillator.js","webpack:///../Tone.js/Tone/source/Source.js","webpack:///../Tone.js/Tone/core/Master.js","webpack:///../Tone.js/Tone/source/OmniOscillator.js","webpack:///../Tone.js/Tone/source/PulseOscillator.js","webpack:///../Tone.js/Tone/source/PWMOscillator.js","webpack:///../Tone.js/Tone/source/Noise.js","webpack:///../Tone.js/Tone/component/Filter.js","webpack:///../Tone.js/Tone/instrument/PolySynth.js","webpack:///../Tone.js/Tone/instrument/MonoSynth.js","webpack:///../Tone.js/Tone/component/AmplitudeEnvelope.js","webpack:///../Tone.js/Tone/component/Envelope.js","webpack:///../Tone.js/Tone/signal/Pow.js","webpack:///../Tone.js/Tone/component/ScaledEnvelope.js","webpack:///../Tone.js/Tone/signal/Scale.js","webpack:///../Tone.js/Tone/signal/Add.js","webpack:///../Tone.js/Tone/instrument/Monophonic.js","webpack:///../Tone.js/Tone/instrument/Instrument.js","webpack:///./deps/three.min-r71.js","webpack:///./deps/three.shader.min.js","webpack:///./app/preset/ArpVisuals.js","webpack:///./app/preset/Interpolator.js","webpack:///./app/interface/VisualGUI.js","webpack:///./app/visuals/Bass.js","webpack:///./app/preset/BassVisual.js","webpack:///./app/visuals/Pictures.js","webpack:///./app/preset/PictureFrame.js","webpack:///./app/visuals/Piano.js","webpack:///./app/preset/PianoVisuals.js","webpack:///./app/visuals/Kick.js","webpack:///./app/shader/KickWave.js","webpack:///./app/shader/kickwave.frag","webpack:///./app/shader/kickwave.vert","webpack:///./app/preset/KickVisual.js","webpack:///./app/visuals/Snare.js","webpack:///./app/shader/SnareWave.js","webpack:///./app/shader/snarewave.vert","webpack:///./app/preset/SnareVisuals.js","webpack:///./app/visuals/Voice.js","webpack:///./app/preset/VoiceVisual.js","webpack:///./app/visuals/HighHat.js","webpack:///./app/preset/HighHatVisual.js","webpack:///./app/visuals/Frame.js","webpack:///./app/visuals/BackgroundImages.js","webpack:///./app/score/Main.js","webpack:///./app/score/Bass.js","webpack:///./app/channel/Bass.js","webpack:///../Tone.js/Tone/component/Compressor.js","webpack:///./app/preset/BassSoundA.js","webpack:///./app/interface/PresetGUI.js","webpack:///./app/preset/BassSoundB.js","webpack:///../Tone.js/Tone/component/LFO.js","webpack:///../Tone.js/Tone/signal/AudioToGain.js","webpack:///../Tone.js/Tone/signal/Expr.js","webpack:///../Tone.js/Tone/signal/Equal.js","webpack:///../Tone.js/Tone/signal/EqualZero.js","webpack:///../Tone.js/Tone/signal/GreaterThanZero.js","webpack:///../Tone.js/Tone/signal/Subtract.js","webpack:///../Tone.js/Tone/signal/Negate.js","webpack:///../Tone.js/Tone/signal/IfThenElse.js","webpack:///../Tone.js/Tone/signal/Select.js","webpack:///../Tone.js/Tone/signal/OR.js","webpack:///../Tone.js/Tone/signal/AND.js","webpack:///../Tone.js/Tone/signal/NOT.js","webpack:///../Tone.js/Tone/signal/GreaterThan.js","webpack:///../Tone.js/Tone/signal/LessThan.js","webpack:///../Tone.js/Tone/signal/Abs.js","webpack:///../Tone.js/Tone/signal/Max.js","webpack:///../Tone.js/Tone/signal/Min.js","webpack:///../Tone.js/Tone/signal/Modulo.js","webpack:///./app/score/Piano.js","webpack:///./app/channel/Piano.js","webpack:///../Tone.js/Tone/component/Panner.js","webpack:///../Tone.js/Tone/component/CrossFade.js","webpack:///../Tone.js/Tone/signal/EqualPowerGain.js","webpack:///../Tone.js/Tone/component/Merge.js","webpack:///../Tone.js/Tone/component/Split.js","webpack:///../Tone.js/Tone/signal/GainToAudio.js","webpack:///./app/preset/PianoSoundA.js","webpack:///./app/preset/PianoSoundB.js","webpack:///../Tone.js/Tone/component/Volume.js","webpack:///../Tone.js/Tone/component/Meter.js","webpack:///../Tone.js/Tone/core/Bus.js","webpack:///./app/score/Voice.js","webpack:///./app/channel/Voice.js","webpack:///../Tone.js/Tone/instrument/Sampler.js","webpack:///../Tone.js/Tone/source/Player.js","webpack:///./app/preset/Voice.js","webpack:///./app/effect/Main.js","webpack:///../Tone.js/Tone/effect/Convolver.js","webpack:///../Tone.js/Tone/effect/Effect.js","webpack:///./app/effect/Delay.js","webpack:///../Tone.js/Tone/effect/PingPongDelay.js","webpack:///../Tone.js/Tone/effect/StereoXFeedbackEffect.js","webpack:///../Tone.js/Tone/effect/StereoEffect.js","webpack:///../Tone.js/Tone/effect/FeedbackEffect.js","webpack:///./app/effect/Master.js","webpack:///../Tone.js/Tone/component/EQ3.js","webpack:///../Tone.js/Tone/component/MultibandSplit.js","webpack:///../Tone.js/Tone/effect/Distortion.js","webpack:///./app/effect/Drums.js","webpack:///./app/preset/VoiceB.js","webpack:///./app/score/Drums.js","webpack:///./app/channel/HighHat.js","webpack:///../Tone.js/Tone/instrument/NoiseSynth.js","webpack:///../Tone.js/Tone/component/PanVol.js","webpack:///./app/preset/HighHatSound.js","webpack:///../Tone.js/Tone/component/Mono.js","webpack:///./app/channel/Kick.js","webpack:///./app/preset/KickSound.js","webpack:///./app/channel/Snare.js","webpack:///./app/preset/SnareSound.js","webpack:///./app/score/Arp.js","webpack:///./app/channel/Arp.js","webpack:///./app/preset/ArpSoundA.js","webpack:///./app/preset/ArpSoundB.js","webpack:///./app/interface/Main.js","webpack:///./app/interface/ScrollIndicator.js","webpack:///./style/scroll.scss?3f14","webpack:///./style/scroll.scss","webpack:///./app/interface/Loading.js","webpack:///./style/loading.scss?99c2","webpack:///./style/loading.scss","webpack:///./app/interface/Splash.js","webpack:///./style/splash.scss?1497","webpack:///./style/splash.scss","webpack:///./app/interface/Password.js","webpack:///./app/interface/Notification.js","webpack:///./app/controller/Analytics.js","webpack:///./fragment/notification.html","webpack:///./style/buttons.scss?1ca4","webpack:///./style/buttons.scss","webpack:///./images/logo.png","webpack:///./style/notification.scss?f881","webpack:///./style/notification.scss","webpack:///./app/interface/Info.js","webpack:///./fragment/info.html","webpack:///./fragment/infoDetail.html","webpack:///./app/interface/HD.js","webpack:///./app/channel/Main.js","webpack:///./app/interface/StartButton.js"],"sourcesContent":["/*! jQuery v2.1.1 | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license */\n!function(a,b){\"object\"==typeof module&&\"object\"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error(\"jQuery requires a window with a document\");return b(a)}:b(a)}(\"undefined\"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l=a.document,m=\"2.1.1\",n=function(a,b){return new n.fn.init(a,b)},o=/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,p=/^-ms-/,q=/-([\\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:\"\",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return n.each(this,a,b)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for(\"boolean\"==typeof g&&(j=g,g=arguments[h]||{},h++),\"object\"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(n.isPlainObject(d)||(e=n.isArray(d)))?(e?(e=!1,f=c&&n.isArray(c)?c:[]):f=c&&n.isPlainObject(c)?c:{},g[b]=n.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},n.extend({expando:\"jQuery\"+(m+Math.random()).replace(/\\D/g,\"\"),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return\"function\"===n.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return!n.isArray(a)&&a-parseFloat(a)>=0},isPlainObject:function(a){return\"object\"!==n.type(a)||a.nodeType||n.isWindow(a)?!1:a.constructor&&!j.call(a.constructor.prototype,\"isPrototypeOf\")?!1:!0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+\"\":\"object\"==typeof a||\"function\"==typeof a?h[i.call(a)]||\"object\":typeof a},globalEval:function(a){var b,c=eval;a=n.trim(a),a&&(1===a.indexOf(\"use strict\")?(b=l.createElement(\"script\"),b.text=a,l.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,\"ms-\").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=s(a);if(c){if(g){for(;f>e;e++)if(d=b.apply(a[e],c),d===!1)break}else for(e in a)if(d=b.apply(a[e],c),d===!1)break}else if(g){for(;f>e;e++)if(d=b.call(a[e],e,a[e]),d===!1)break}else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;return a},trim:function(a){return null==a?\"\":(a+\"\").replace(o,\"\")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,\"string\"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:g.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=s(a),i=[];if(h)for(;g>f;f++)d=b(a[f],f,c),null!=d&&i.push(d);else for(f in a)d=b(a[f],f,c),null!=d&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return\"string\"==typeof b&&(c=a[b],b=a,a=c),n.isFunction(a)?(e=d.call(arguments,2),f=function(){return a.apply(b||this,e.concat(d.call(arguments)))},f.guid=a.guid=a.guid||n.guid++,f):void 0},now:Date.now,support:k}),n.each(\"Boolean Number String Function Array Date RegExp Object Error\".split(\" \"),function(a,b){h[\"[object \"+b+\"]\"]=b.toLowerCase()});function s(a){var b=a.length,c=n.type(a);return\"function\"===c||n.isWindow(a)?!1:1===a.nodeType&&b?!0:\"array\"===c||0===b||\"number\"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u=\"sizzle\"+-new Date,v=a.document,w=0,x=0,y=gb(),z=gb(),A=gb(),B=function(a,b){return a===b&&(l=!0),0},C=\"undefined\",D=1<<31,E={}.hasOwnProperty,F=[],G=F.pop,H=F.push,I=F.push,J=F.slice,K=F.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},L=\"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped\",M=\"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",N=\"(?:\\\\\\\\.|[\\\\w-]|[^\\\\x00-\\\\xa0])+\",O=N.replace(\"w\",\"w#\"),P=\"\\\\[\"+M+\"*(\"+N+\")(?:\"+M+\"*([*^$|!~]?=)\"+M+\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\"+O+\"))|)\"+M+\"*\\\\]\",Q=\":(\"+N+\")(?:\\\\((('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\"+P+\")*)|.*)\\\\)|)\",R=new RegExp(\"^\"+M+\"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\"+M+\"+$\",\"g\"),S=new RegExp(\"^\"+M+\"*,\"+M+\"*\"),T=new RegExp(\"^\"+M+\"*([>+~]|\"+M+\")\"+M+\"*\"),U=new RegExp(\"=\"+M+\"*([^\\\\]'\\\"]*?)\"+M+\"*\\\\]\",\"g\"),V=new RegExp(Q),W=new RegExp(\"^\"+O+\"$\"),X={ID:new RegExp(\"^#(\"+N+\")\"),CLASS:new RegExp(\"^\\\\.(\"+N+\")\"),TAG:new RegExp(\"^(\"+N.replace(\"w\",\"w*\")+\")\"),ATTR:new RegExp(\"^\"+P),PSEUDO:new RegExp(\"^\"+Q),CHILD:new RegExp(\"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(\"+M+\"*(even|odd|(([+-]|)(\\\\d*)n|)\"+M+\"*(?:([+-]|)\"+M+\"*(\\\\d+)|))\"+M+\"*\\\\)|)\",\"i\"),bool:new RegExp(\"^(?:\"+L+\")$\",\"i\"),needsContext:new RegExp(\"^\"+M+\"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(\"+M+\"*((?:-\\\\d)?\\\\d*)\"+M+\"*\\\\)|)(?=[^-]|$)\",\"i\")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\\d$/i,$=/^[^{]+\\{\\s*\\[native \\w/,_=/^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,ab=/[+~]/,bb=/'|\\\\/g,cb=new RegExp(\"\\\\\\\\([\\\\da-f]{1,6}\"+M+\"?|(\"+M+\")|.)\",\"ig\"),db=function(a,b,c){var d=\"0x\"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)};try{I.apply(F=J.call(v.childNodes),v.childNodes),F[v.childNodes.length].nodeType}catch(eb){I={apply:F.length?function(a,b){H.apply(a,J.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function fb(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;if((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,d=d||[],!a||\"string\"!=typeof a)return d;if(1!==(k=b.nodeType)&&9!==k)return[];if(p&&!e){if(f=_.exec(a))if(j=f[1]){if(9===k){if(h=b.getElementById(j),!h||!h.parentNode)return d;if(h.id===j)return d.push(h),d}else if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j)return d.push(h),d}else{if(f[2])return I.apply(d,b.getElementsByTagName(a)),d;if((j=f[3])&&c.getElementsByClassName&&b.getElementsByClassName)return I.apply(d,b.getElementsByClassName(j)),d}if(c.qsa&&(!q||!q.test(a))){if(s=r=u,w=b,x=9===k&&a,1===k&&\"object\"!==b.nodeName.toLowerCase()){o=g(a),(r=b.getAttribute(\"id\"))?s=r.replace(bb,\"\\\\$&\"):b.setAttribute(\"id\",s),s=\"[id='\"+s+\"'] \",l=o.length;while(l--)o[l]=s+qb(o[l]);w=ab.test(a)&&ob(b.parentNode)||b,x=o.join(\",\")}if(x)try{return I.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute(\"id\")}}}return i(a.replace(R,\"$1\"),b,d,e)}function gb(){var a=[];function b(c,e){return a.push(c+\" \")>d.cacheLength&&delete b[a.shift()],b[c+\" \"]=e}return b}function hb(a){return a[u]=!0,a}function ib(a){var b=n.createElement(\"div\");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function jb(a,b){var c=a.split(\"|\"),e=a.length;while(e--)d.attrHandle[c[e]]=b}function kb(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||D)-(~a.sourceIndex||D);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function lb(a){return function(b){var c=b.nodeName.toLowerCase();return\"input\"===c&&b.type===a}}function mb(a){return function(b){var c=b.nodeName.toLowerCase();return(\"input\"===c||\"button\"===c)&&b.type===a}}function nb(a){return hb(function(b){return b=+b,hb(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function ob(a){return a&&typeof a.getElementsByTagName!==C&&a}c=fb.support={},f=fb.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?\"HTML\"!==b.nodeName:!1},m=fb.setDocument=function(a){var b,e=a?a.ownerDocument||a:v,g=e.defaultView;return e!==n&&9===e.nodeType&&e.documentElement?(n=e,o=e.documentElement,p=!f(e),g&&g!==g.top&&(g.addEventListener?g.addEventListener(\"unload\",function(){m()},!1):g.attachEvent&&g.attachEvent(\"onunload\",function(){m()})),c.attributes=ib(function(a){return a.className=\"i\",!a.getAttribute(\"className\")}),c.getElementsByTagName=ib(function(a){return a.appendChild(e.createComment(\"\")),!a.getElementsByTagName(\"*\").length}),c.getElementsByClassName=$.test(e.getElementsByClassName)&&ib(function(a){return a.innerHTML=\"<div class='a'></div><div class='a i'></div>\",a.firstChild.className=\"i\",2===a.getElementsByClassName(\"i\").length}),c.getById=ib(function(a){return o.appendChild(a).id=u,!e.getElementsByName||!e.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if(typeof b.getElementById!==C&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(cb,db);return function(a){return a.getAttribute(\"id\")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(cb,db);return function(a){var c=typeof a.getAttributeNode!==C&&a.getAttributeNode(\"id\");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return typeof b.getElementsByTagName!==C?b.getElementsByTagName(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if(\"*\"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return typeof b.getElementsByClassName!==C&&p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=$.test(e.querySelectorAll))&&(ib(function(a){a.innerHTML=\"<select msallowclip=''><option selected=''></option></select>\",a.querySelectorAll(\"[msallowclip^='']\").length&&q.push(\"[*^$]=\"+M+\"*(?:''|\\\"\\\")\"),a.querySelectorAll(\"[selected]\").length||q.push(\"\\\\[\"+M+\"*(?:value|\"+L+\")\"),a.querySelectorAll(\":checked\").length||q.push(\":checked\")}),ib(function(a){var b=e.createElement(\"input\");b.setAttribute(\"type\",\"hidden\"),a.appendChild(b).setAttribute(\"name\",\"D\"),a.querySelectorAll(\"[name=d]\").length&&q.push(\"name\"+M+\"*[*^$|!~]?=\"),a.querySelectorAll(\":enabled\").length||q.push(\":enabled\",\":disabled\"),a.querySelectorAll(\"*,:x\"),q.push(\",.*:\")})),(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ib(function(a){c.disconnectedMatch=s.call(a,\"div\"),s.call(a,\"[s!='']:x\"),r.push(\"!=\",Q)}),q=q.length&&new RegExp(q.join(\"|\")),r=r.length&&new RegExp(r.join(\"|\")),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===e||a.ownerDocument===v&&t(v,a)?-1:b===e||b.ownerDocument===v&&t(v,b)?1:k?K.call(k,a)-K.call(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,f=a.parentNode,g=b.parentNode,h=[a],i=[b];if(!f||!g)return a===e?-1:b===e?1:f?-1:g?1:k?K.call(k,a)-K.call(k,b):0;if(f===g)return kb(a,b);c=a;while(c=c.parentNode)h.unshift(c);c=b;while(c=c.parentNode)i.unshift(c);while(h[d]===i[d])d++;return d?kb(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},e):n},fb.matches=function(a,b){return fb(a,null,null,b)},fb.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(U,\"='$1']\"),!(!c.matchesSelector||!p||r&&r.test(b)||q&&q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return fb(b,n,null,[a]).length>0},fb.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},fb.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&E.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},fb.error=function(a){throw new Error(\"Syntax error, unrecognized expression: \"+a)},fb.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=fb.getText=function(a){var b,c=\"\",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if(\"string\"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=fb.selectors={cacheLength:50,createPseudo:hb,match:X,attrHandle:{},find:{},relative:{\">\":{dir:\"parentNode\",first:!0},\" \":{dir:\"parentNode\"},\"+\":{dir:\"previousSibling\",first:!0},\"~\":{dir:\"previousSibling\"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(cb,db),a[3]=(a[3]||a[4]||a[5]||\"\").replace(cb,db),\"~=\"===a[2]&&(a[3]=\" \"+a[3]+\" \"),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),\"nth\"===a[1].slice(0,3)?(a[3]||fb.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*(\"even\"===a[3]||\"odd\"===a[3])),a[5]=+(a[7]+a[8]||\"odd\"===a[3])):a[3]&&fb.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||\"\":c&&V.test(c)&&(b=g(c,!0))&&(b=c.indexOf(\")\",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(cb,db).toLowerCase();return\"*\"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+\" \"];return b||(b=new RegExp(\"(^|\"+M+\")\"+a+\"(\"+M+\"|$)\"))&&y(a,function(a){return b.test(\"string\"==typeof a.className&&a.className||typeof a.getAttribute!==C&&a.getAttribute(\"class\")||\"\")})},ATTR:function(a,b,c){return function(d){var e=fb.attr(d,a);return null==e?\"!=\"===b:b?(e+=\"\",\"=\"===b?e===c:\"!=\"===b?e!==c:\"^=\"===b?c&&0===e.indexOf(c):\"*=\"===b?c&&e.indexOf(c)>-1:\"$=\"===b?c&&e.slice(-c.length)===c:\"~=\"===b?(\" \"+e+\" \").indexOf(c)>-1:\"|=\"===b?e===c||e.slice(0,c.length+1)===c+\"-\":!1):!0}},CHILD:function(a,b,c,d,e){var f=\"nth\"!==a.slice(0,3),g=\"last\"!==a.slice(-4),h=\"of-type\"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?\"nextSibling\":\"previousSibling\",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p])if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p=\"only\"===a&&!o&&\"nextSibling\"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===w&&j[1],m=j[0]===w&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if(1===l.nodeType&&++m&&l===b){k[a]=[w,n,m];break}}else if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w)m=j[1];else while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(s&&((l[u]||(l[u]={}))[a]=[w,m]),l===b))break;return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||fb.error(\"unsupported pseudo: \"+a);return e[u]?e(b):e.length>1?(c=[a,a,\"\",b],d.setFilters.hasOwnProperty(a.toLowerCase())?hb(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=K.call(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:hb(function(a){var b=[],c=[],d=h(a.replace(R,\"$1\"));return d[u]?hb(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:hb(function(a){return function(b){return fb(a,b).length>0}}),contains:hb(function(a){return function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:hb(function(a){return W.test(a||\"\")||fb.error(\"unsupported lang: \"+a),a=a.replace(cb,db).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute(\"xml:lang\")||b.getAttribute(\"lang\"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+\"-\");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return\"input\"===b&&!!a.checked||\"option\"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return\"input\"===b&&\"button\"===a.type||\"button\"===b},text:function(a){var b;return\"input\"===a.nodeName.toLowerCase()&&\"text\"===a.type&&(null==(b=a.getAttribute(\"type\"))||\"text\"===b.toLowerCase())},first:nb(function(){return[0]}),last:nb(function(a,b){return[b-1]}),eq:nb(function(a,b,c){return[0>c?c+b:c]}),even:nb(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:nb(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:nb(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:nb(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=lb(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=mb(b);function pb(){}pb.prototype=d.filters=d.pseudos,d.setFilters=new pb,g=fb.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+\" \"];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){(!c||(e=S.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=T.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(R,\" \")}),h=h.slice(c.length));for(g in d.filter)!(e=X[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?fb.error(a):z(a,i).slice(0)};function qb(a){for(var b=0,c=a.length,d=\"\";c>b;b++)d+=a[b].value;return d}function rb(a,b,c){var d=b.dir,e=c&&\"parentNode\"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(i=b[u]||(b[u]={}),(h=i[d])&&h[0]===w&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function sb(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function tb(a,b,c){for(var d=0,e=b.length;e>d;d++)fb(a,b[d],c);return c}function ub(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function vb(a,b,c,d,e,f){return d&&!d[u]&&(d=vb(d)),e&&!e[u]&&(e=vb(e,f)),hb(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||tb(b||\"*\",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:ub(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=ub(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?K.call(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=ub(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):I.apply(g,r)})}function wb(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[\" \"],i=g?1:0,k=rb(function(a){return a===b},h,!0),l=rb(function(a){return K.call(b,a)>-1},h,!0),m=[function(a,c,d){return!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d))}];f>i;i++)if(c=d.relative[a[i].type])m=[rb(sb(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return vb(i>1&&sb(m),i>1&&qb(a.slice(0,i-1).concat({value:\" \"===a[i-2].type?\"*\":\"\"})).replace(R,\"$1\"),c,e>i&&wb(a.slice(i,e)),f>e&&wb(a=a.slice(e)),f>e&&qb(a))}m.push(c)}return sb(m)}function xb(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q=\"0\",r=f&&[],s=[],t=j,u=f||e&&d.find.TAG(\"*\",k),v=w+=null==t?1:Math.random()||.1,x=u.length;for(k&&(j=g!==n&&g);q!==x&&null!=(l=u[q]);q++){if(e&&l){m=0;while(o=a[m++])if(o(l,g,h)){i.push(l);break}k&&(w=v)}c&&((l=!o&&l)&&p--,f&&r.push(l))}if(p+=q,c&&q!==p){m=0;while(o=b[m++])o(r,s,g,h);if(f){if(p>0)while(q--)r[q]||s[q]||(s[q]=G.call(i));s=ub(s)}I.apply(i,s),k&&!f&&s.length>0&&p+b.length>1&&fb.uniqueSort(i)}return k&&(w=v,j=t),r};return c?hb(f):f}return h=fb.compile=function(a,b){var c,d=[],e=[],f=A[a+\" \"];if(!f){b||(b=g(a)),c=b.length;while(c--)f=wb(b[c]),f[u]?d.push(f):e.push(f);f=A(a,xb(e,d)),f.selector=a}return f},i=fb.select=function(a,b,e,f){var i,j,k,l,m,n=\"function\"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&\"ID\"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(cb,db),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=X.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(cb,db),ab.test(j[0].type)&&ob(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&qb(j),!a)return I.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,ab.test(a)&&ob(b.parentNode)||b),e},c.sortStable=u.split(\"\").sort(B).join(\"\")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ib(function(a){return 1&a.compareDocumentPosition(n.createElement(\"div\"))}),ib(function(a){return a.innerHTML=\"<a href='#'></a>\",\"#\"===a.firstChild.getAttribute(\"href\")})||jb(\"type|href|height|width\",function(a,b,c){return c?void 0:a.getAttribute(b,\"type\"===b.toLowerCase()?1:2)}),c.attributes&&ib(function(a){return a.innerHTML=\"<input/>\",a.firstChild.setAttribute(\"value\",\"\"),\"\"===a.firstChild.getAttribute(\"value\")})||jb(\"value\",function(a,b,c){return c||\"input\"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ib(function(a){return null==a.getAttribute(\"disabled\")})||jb(L,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),fb}(a);n.find=t,n.expr=t.selectors,n.expr[\":\"]=n.expr.pseudos,n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=n.expr.match.needsContext,v=/^<(\\w+)\\s*\\/?>(?:<\\/\\1>|)$/,w=/^.[^:#\\[\\.,]*$/;function x(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if(\"string\"==typeof b){if(w.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return g.call(b,a)>=0!==c})}n.filter=function(a,b,c){var d=b[0];return c&&(a=\":not(\"+a+\")\"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if(\"string\"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;c>b;b++)if(n.contains(e[b],this))return!0}));for(b=0;c>b;b++)n.find(a,e[b],d);return d=this.pushStack(c>1?n.unique(d):d),d.selector=this.selector?this.selector+\" \"+a:a,d},filter:function(a){return this.pushStack(x(this,a||[],!1))},not:function(a){return this.pushStack(x(this,a||[],!0))},is:function(a){return!!x(this,\"string\"==typeof a&&u.test(a)?n(a):a||[],!1).length}});var y,z=/^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]*))$/,A=n.fn.init=function(a,b){var c,d;if(!a)return this;if(\"string\"==typeof a){if(c=\"<\"===a[0]&&\">\"===a[a.length-1]&&a.length>=3?[null,a,null]:z.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||y).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:l,!0)),v.test(c[1])&&n.isPlainObject(b))for(c in b)n.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}return d=l.getElementById(c[2]),d&&d.parentNode&&(this.length=1,this[0]=d),this.context=l,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?\"undefined\"!=typeof y.ready?y.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};A.prototype=n.fn,y=n(l);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};n.extend({dir:function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)if(1===a.nodeType){if(e&&n(a).is(c))break;d.push(a)}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),n.fn.extend({has:function(a){var b=n(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(n.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=u.test(a)||\"string\"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.unique(f):f)},index:function(a){return a?\"string\"==typeof a?g.call(n(a),this[0]):g.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.unique(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function D(a,b){while((a=a[b])&&1!==a.nodeType);return a}n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return n.dir(a,\"parentNode\")},parentsUntil:function(a,b,c){return n.dir(a,\"parentNode\",c)},next:function(a){return D(a,\"nextSibling\")},prev:function(a){return D(a,\"previousSibling\")},nextAll:function(a){return n.dir(a,\"nextSibling\")},prevAll:function(a){return n.dir(a,\"previousSibling\")},nextUntil:function(a,b,c){return n.dir(a,\"nextSibling\",c)},prevUntil:function(a,b,c){return n.dir(a,\"previousSibling\",c)},siblings:function(a){return n.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return n.sibling(a.firstChild)},contents:function(a){return a.contentDocument||n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return\"Until\"!==a.slice(-5)&&(d=c),d&&\"string\"==typeof d&&(e=n.filter(d,e)),this.length>1&&(C[a]||n.unique(e),B.test(a)&&e.reverse()),this.pushStack(e)}});var E=/\\S+/g,F={};function G(a){var b=F[a]={};return n.each(a.match(E)||[],function(a,c){b[c]=!0}),b}n.Callbacks=function(a){a=\"string\"==typeof a?F[a]||G(a):n.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(b=a.memory&&l,c=!0,g=e||0,e=0,f=h.length,d=!0;h&&f>g;g++)if(h[g].apply(l[0],l[1])===!1&&a.stopOnFalse){b=!1;break}d=!1,h&&(i?i.length&&j(i.shift()):b?h=[]:k.disable())},k={add:function(){if(h){var c=h.length;!function g(b){n.each(b,function(b,c){var d=n.type(c);\"function\"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&\"string\"!==d&&g(c)})}(arguments),d?f=h.length:b&&(e=c,j(b))}return this},remove:function(){return h&&n.each(arguments,function(a,b){var c;while((c=n.inArray(b,h,c))>-1)h.splice(c,1),d&&(f>=c&&f--,g>=c&&g--)}),this},has:function(a){return a?n.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],f=0,this},disable:function(){return h=i=b=void 0,this},disabled:function(){return!h},lock:function(){return i=void 0,b||k.disable(),this},locked:function(){return!i},fireWith:function(a,b){return!h||c&&!i||(b=b||[],b=[a,b.slice?b.slice():b],d?i.push(b):j(b)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!c}};return k},n.extend({Deferred:function(a){var b=[[\"resolve\",\"done\",n.Callbacks(\"once memory\"),\"resolved\"],[\"reject\",\"fail\",n.Callbacks(\"once memory\"),\"rejected\"],[\"notify\",\"progress\",n.Callbacks(\"memory\")]],c=\"pending\",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+\"With\"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+\"With\"](this===e?d:this,arguments),this},e[f[0]+\"With\"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&n.isFunction(a.promise)?e:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1)for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f;return f||g.resolveWith(k,c),g.promise()}});var H;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&&--n.readyWait>0||(H.resolveWith(l,[n]),n.fn.triggerHandler&&(n(l).triggerHandler(\"ready\"),n(l).off(\"ready\"))))}});function I(){l.removeEventListener(\"DOMContentLoaded\",I,!1),a.removeEventListener(\"load\",I,!1),n.ready()}n.ready.promise=function(b){return H||(H=n.Deferred(),\"complete\"===l.readyState?setTimeout(n.ready):(l.addEventListener(\"DOMContentLoaded\",I,!1),a.addEventListener(\"load\",I,!1))),H.promise(b)},n.ready.promise();var J=n.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if(\"object\"===n.type(c)){e=!0;for(h in c)n.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f};n.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function K(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=n.expando+Math.random()}K.uid=1,K.accepts=n.acceptData,K.prototype={key:function(a){if(!K.accepts(a))return 0;var b={},c=a[this.expando];if(!c){c=K.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,b)}catch(d){b[this.expando]=c,n.extend(a,b)}}return this.cache[c]||(this.cache[c]={}),c},set:function(a,b,c){var d,e=this.key(a),f=this.cache[e];if(\"string\"==typeof b)f[b]=c;else if(n.isEmptyObject(f))n.extend(this.cache[e],b);else for(d in b)f[d]=b[d];return f},get:function(a,b){var c=this.cache[this.key(a)];return void 0===b?c:c[b]},access:function(a,b,c){var d;return void 0===b||b&&\"string\"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,n.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=this.key(a),g=this.cache[f];if(void 0===b)this.cache[f]={};else{n.isArray(b)?d=b.concat(b.map(n.camelCase)):(e=n.camelCase(b),b in g?d=[b,e]:(d=e,d=d in g?[d]:d.match(E)||[])),c=d.length;while(c--)delete g[d[c]]}},hasData:function(a){return!n.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var L=new K,M=new K,N=/^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,O=/([A-Z])/g;function P(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d=\"data-\"+b.replace(O,\"-$1\").toLowerCase(),c=a.getAttribute(d),\"string\"==typeof c){try{c=\"true\"===c?!0:\"false\"===c?!1:\"null\"===c?null:+c+\"\"===c?+c:N.test(c)?n.parseJSON(c):c}catch(e){}M.set(a,b,c)}else c=void 0;return c}n.extend({hasData:function(a){return M.hasData(a)||L.hasData(a)},data:function(a,b,c){return M.access(a,b,c)},removeData:function(a,b){M.remove(a,b)\n},_data:function(a,b,c){return L.access(a,b,c)},_removeData:function(a,b){L.remove(a,b)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=M.get(f),1===f.nodeType&&!L.get(f,\"hasDataAttrs\"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf(\"data-\")&&(d=n.camelCase(d.slice(5)),P(f,d,e[d])));L.set(f,\"hasDataAttrs\",!0)}return e}return\"object\"==typeof a?this.each(function(){M.set(this,a)}):J(this,function(b){var c,d=n.camelCase(a);if(f&&void 0===b){if(c=M.get(f,a),void 0!==c)return c;if(c=M.get(f,d),void 0!==c)return c;if(c=P(f,d,void 0),void 0!==c)return c}else this.each(function(){var c=M.get(this,d);M.set(this,d,b),-1!==a.indexOf(\"-\")&&void 0!==c&&M.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){M.remove(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||\"fx\")+\"queue\",d=L.get(a,b),c&&(!d||n.isArray(c)?d=L.access(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||\"fx\";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};\"inprogress\"===e&&(e=c.shift(),d--),e&&(\"fx\"===b&&c.unshift(\"inprogress\"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+\"queueHooks\";return L.get(a,c)||L.access(a,c,{empty:n.Callbacks(\"once memory\").add(function(){L.remove(a,[b+\"queue\",c])})})}}),n.fn.extend({queue:function(a,b){var c=2;return\"string\"!=typeof a&&(b=a,a=\"fx\",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),\"fx\"===a&&\"inprogress\"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||\"fx\",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};\"string\"!=typeof a&&(b=a,a=void 0),a=a||\"fx\";while(g--)c=L.get(f[g],a+\"queueHooks\"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var Q=/[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/.source,R=[\"Top\",\"Right\",\"Bottom\",\"Left\"],S=function(a,b){return a=b||a,\"none\"===n.css(a,\"display\")||!n.contains(a.ownerDocument,a)},T=/^(?:checkbox|radio)$/i;!function(){var a=l.createDocumentFragment(),b=a.appendChild(l.createElement(\"div\")),c=l.createElement(\"input\");c.setAttribute(\"type\",\"radio\"),c.setAttribute(\"checked\",\"checked\"),c.setAttribute(\"name\",\"t\"),b.appendChild(c),k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML=\"<textarea>x</textarea>\",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var U=\"undefined\";k.focusinBubbles=\"onfocusin\"in a;var V=/^key/,W=/^(?:mouse|pointer|contextmenu)|click/,X=/^(?:focusinfocus|focusoutblur)$/,Y=/^([^.]*)(?:\\.(.+)|)$/;function Z(){return!0}function $(){return!1}function _(){try{return l.activeElement}catch(a){}}n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=L.get(a);if(r){c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=n.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return typeof n!==U&&n.event.triggered!==b.type?n.event.dispatch.apply(a,arguments):void 0}),b=(b||\"\").match(E)||[\"\"],j=b.length;while(j--)h=Y.exec(b[j])||[],o=q=h[1],p=(h[2]||\"\").split(\".\").sort(),o&&(l=n.event.special[o]||{},o=(e?l.delegateType:l.bindType)||o,l=n.event.special[o]||{},k=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(\".\")},f),(m=i[o])||(m=i[o]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,p,g)!==!1||a.addEventListener&&a.addEventListener(o,g,!1)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),n.event.global[o]=!0)}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=L.hasData(a)&&L.get(a);if(r&&(i=r.events)){b=(b||\"\").match(E)||[\"\"],j=b.length;while(j--)if(h=Y.exec(b[j])||[],o=q=h[1],p=(h[2]||\"\").split(\".\").sort(),o){l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=i[o]||[],h=h[2]&&new RegExp(\"(^|\\\\.)\"+p.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"),g=f=m.length;while(f--)k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&(\"**\"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete i[o])}else for(o in i)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(i)&&(delete r.handle,L.remove(a,\"events\"))}},trigger:function(b,c,d,e){var f,g,h,i,k,m,o,p=[d||l],q=j.call(b,\"type\")?b.type:b,r=j.call(b,\"namespace\")?b.namespace.split(\".\"):[];if(g=h=d=d||l,3!==d.nodeType&&8!==d.nodeType&&!X.test(q+n.event.triggered)&&(q.indexOf(\".\")>=0&&(r=q.split(\".\"),q=r.shift(),r.sort()),k=q.indexOf(\":\")<0&&\"on\"+q,b=b[n.expando]?b:new n.Event(q,\"object\"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=r.join(\".\"),b.namespace_re=b.namespace?new RegExp(\"(^|\\\\.)\"+r.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:n.makeArray(c,[b]),o=n.event.special[q]||{},e||!o.trigger||o.trigger.apply(d,c)!==!1)){if(!e&&!o.noBubble&&!n.isWindow(d)){for(i=o.delegateType||q,X.test(i+q)||(g=g.parentNode);g;g=g.parentNode)p.push(g),h=g;h===(d.ownerDocument||l)&&p.push(h.defaultView||h.parentWindow||a)}f=0;while((g=p[f++])&&!b.isPropagationStopped())b.type=f>1?i:o.bindType||q,m=(L.get(g,\"events\")||{})[b.type]&&L.get(g,\"handle\"),m&&m.apply(g,c),m=k&&g[k],m&&m.apply&&n.acceptData(g)&&(b.result=m.apply(g,c),b.result===!1&&b.preventDefault());return b.type=q,e||b.isDefaultPrevented()||o._default&&o._default.apply(p.pop(),c)!==!1||!n.acceptData(d)||k&&n.isFunction(d[q])&&!n.isWindow(d)&&(h=d[k],h&&(d[k]=null),n.event.triggered=q,d[q](),n.event.triggered=void 0,h&&(d[k]=h)),b.result}},dispatch:function(a){a=n.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(L.get(this,\"events\")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=n.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,c=0;while((g=f.handlers[c++])&&!a.isImmediatePropagationStopped())(!a.namespace_re||a.namespace_re.test(g.namespace))&&(a.handleObj=g,a.data=g.data,e=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==e&&(a.result=e)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||\"click\"!==a.type))for(;i!==this;i=i.parentNode||this)if(i.disabled!==!0||\"click\"!==a.type){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+\" \",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>=0:n.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:\"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which\".split(\" \"),fixHooks:{},keyHooks:{props:\"char charCode key keyCode\".split(\" \"),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:\"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement\".split(\" \"),filter:function(a,b){var c,d,e,f=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||l,d=c.documentElement,e=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},fix:function(a){if(a[n.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=W.test(e)?this.mouseHooks:V.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new n.Event(f),b=d.length;while(b--)c=d[b],a[c]=f[c];return a.target||(a.target=l),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==_()&&this.focus?(this.focus(),!1):void 0},delegateType:\"focusin\"},blur:{trigger:function(){return this===_()&&this.blur?(this.blur(),!1):void 0},delegateType:\"focusout\"},click:{trigger:function(){return\"checkbox\"===this.type&&this.click&&n.nodeName(this,\"input\")?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,\"a\")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=n.extend(new n.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?n.event.trigger(e,null,b):n.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},n.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?Z:$):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={isDefaultPrevented:$,isPropagationStopped:$,isImmediatePropagationStopped:$,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=Z,a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=Z,a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=Z,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:\"mouseover\",mouseleave:\"mouseout\",pointerenter:\"pointerover\",pointerleave:\"pointerout\"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!n.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),k.focusinBubbles||n.each({focus:\"focusin\",blur:\"focusout\"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a),!0)};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=L.access(d,b);e||d.addEventListener(a,c,!0),L.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=L.access(d,b)-1;e?L.access(d,b,e):(d.removeEventListener(a,c,!0),L.remove(d,b))}}}),n.fn.extend({on:function(a,b,c,d,e){var f,g;if(\"object\"==typeof a){\"string\"!=typeof b&&(c=c||b,b=void 0);for(g in a)this.on(g,b,c,a[g],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&(\"string\"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=$;else if(!d)return this;return 1===e&&(f=d,d=function(a){return n().off(a),f.apply(this,arguments)},d.guid=f.guid||(f.guid=n.guid++)),this.each(function(){n.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+\".\"+d.namespace:d.origType,d.selector,d.handler),this;if(\"object\"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||\"function\"==typeof b)&&(c=b,b=void 0),c===!1&&(c=$),this.each(function(){n.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}});var ab=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/gi,bb=/<([\\w:]+)/,cb=/<|&#?\\w+;/,db=/<(?:script|style|link)/i,eb=/checked\\s*(?:[^=]|=\\s*.checked.)/i,fb=/^$|\\/(?:java|ecma)script/i,gb=/^true\\/(.*)/,hb=/^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g,ib={option:[1,\"<select multiple='multiple'>\",\"</select>\"],thead:[1,\"<table>\",\"</table>\"],col:[2,\"<table><colgroup>\",\"</colgroup></table>\"],tr:[2,\"<table><tbody>\",\"</tbody></table>\"],td:[3,\"<table><tbody><tr>\",\"</tr></tbody></table>\"],_default:[0,\"\",\"\"]};ib.optgroup=ib.option,ib.tbody=ib.tfoot=ib.colgroup=ib.caption=ib.thead,ib.th=ib.td;function jb(a,b){return n.nodeName(a,\"table\")&&n.nodeName(11!==b.nodeType?b:b.firstChild,\"tr\")?a.getElementsByTagName(\"tbody\")[0]||a.appendChild(a.ownerDocument.createElement(\"tbody\")):a}function kb(a){return a.type=(null!==a.getAttribute(\"type\"))+\"/\"+a.type,a}function lb(a){var b=gb.exec(a.type);return b?a.type=b[1]:a.removeAttribute(\"type\"),a}function mb(a,b){for(var c=0,d=a.length;d>c;c++)L.set(a[c],\"globalEval\",!b||L.get(b[c],\"globalEval\"))}function nb(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(L.hasData(a)&&(f=L.access(a),g=L.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)n.event.add(b,e,j[e][c])}M.hasData(a)&&(h=M.access(a),i=n.extend({},h),M.set(b,i))}}function ob(a,b){var c=a.getElementsByTagName?a.getElementsByTagName(b||\"*\"):a.querySelectorAll?a.querySelectorAll(b||\"*\"):[];return void 0===b||b&&n.nodeName(a,b)?n.merge([a],c):c}function pb(a,b){var c=b.nodeName.toLowerCase();\"input\"===c&&T.test(a.type)?b.checked=a.checked:(\"input\"===c||\"textarea\"===c)&&(b.defaultValue=a.defaultValue)}n.extend({clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=n.contains(a.ownerDocument,a);if(!(k.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(g=ob(h),f=ob(a),d=0,e=f.length;e>d;d++)pb(f[d],g[d]);if(b)if(c)for(f=f||ob(a),g=g||ob(h),d=0,e=f.length;e>d;d++)nb(f[d],g[d]);else nb(a,h);return g=ob(h,\"script\"),g.length>0&&mb(g,!i&&ob(a,\"script\")),h},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k=b.createDocumentFragment(),l=[],m=0,o=a.length;o>m;m++)if(e=a[m],e||0===e)if(\"object\"===n.type(e))n.merge(l,e.nodeType?[e]:e);else if(cb.test(e)){f=f||k.appendChild(b.createElement(\"div\")),g=(bb.exec(e)||[\"\",\"\"])[1].toLowerCase(),h=ib[g]||ib._default,f.innerHTML=h[1]+e.replace(ab,\"<$1></$2>\")+h[2],j=h[0];while(j--)f=f.lastChild;n.merge(l,f.childNodes),f=k.firstChild,f.textContent=\"\"}else l.push(b.createTextNode(e));k.textContent=\"\",m=0;while(e=l[m++])if((!d||-1===n.inArray(e,d))&&(i=n.contains(e.ownerDocument,e),f=ob(k.appendChild(e),\"script\"),i&&mb(f),c)){j=0;while(e=f[j++])fb.test(e.type||\"\")&&c.push(e)}return k},cleanData:function(a){for(var b,c,d,e,f=n.event.special,g=0;void 0!==(c=a[g]);g++){if(n.acceptData(c)&&(e=c[L.expando],e&&(b=L.cache[e]))){if(b.events)for(d in b.events)f[d]?n.event.remove(c,d):n.removeEvent(c,d,b.handle);L.cache[e]&&delete L.cache[e]}delete M.cache[c[M.expando]]}}}),n.fn.extend({text:function(a){return J(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=a)})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=jb(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=jb(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?n.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||n.cleanData(ob(c)),c.parentNode&&(b&&n.contains(c.ownerDocument,c)&&mb(ob(c,\"script\")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(n.cleanData(ob(a,!1)),a.textContent=\"\");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return J(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if(\"string\"==typeof a&&!db.test(a)&&!ib[(bb.exec(a)||[\"\",\"\"])[1].toLowerCase()]){a=a.replace(ab,\"<$1></$2>\");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(ob(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,n.cleanData(ob(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,m=this,o=l-1,p=a[0],q=n.isFunction(p);if(q||l>1&&\"string\"==typeof p&&!k.checkClone&&eb.test(p))return this.each(function(c){var d=m.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)});if(l&&(c=n.buildFragment(a,this[0].ownerDocument,!1,this),d=c.firstChild,1===c.childNodes.length&&(c=d),d)){for(f=n.map(ob(c,\"script\"),kb),g=f.length;l>j;j++)h=c,j!==o&&(h=n.clone(h,!0,!0),g&&n.merge(f,ob(h,\"script\"))),b.call(this[j],h,j);if(g)for(i=f[f.length-1].ownerDocument,n.map(f,lb),j=0;g>j;j++)h=f[j],fb.test(h.type||\"\")&&!L.access(h,\"globalEval\")&&n.contains(i,h)&&(h.src?n._evalUrl&&n._evalUrl(h.src):n.globalEval(h.textContent.replace(hb,\"\")))}return this}}),n.each({appendTo:\"append\",prependTo:\"prepend\",insertBefore:\"before\",insertAfter:\"after\",replaceAll:\"replaceWith\"},function(a,b){n.fn[a]=function(a){for(var c,d=[],e=n(a),g=e.length-1,h=0;g>=h;h++)c=h===g?this:this.clone(!0),n(e[h])[b](c),f.apply(d,c.get());return this.pushStack(d)}});var qb,rb={};function sb(b,c){var d,e=n(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:n.css(e[0],\"display\");return e.detach(),f}function tb(a){var b=l,c=rb[a];return c||(c=sb(a,b),\"none\"!==c&&c||(qb=(qb||n(\"<iframe frameborder='0' width='0' height='0'/>\")).appendTo(b.documentElement),b=qb[0].contentDocument,b.write(),b.close(),c=sb(a,b),qb.detach()),rb[a]=c),c}var ub=/^margin/,vb=new RegExp(\"^(\"+Q+\")(?!px)[a-z%]+$\",\"i\"),wb=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)};function xb(a,b,c){var d,e,f,g,h=a.style;return c=c||wb(a),c&&(g=c.getPropertyValue(b)||c[b]),c&&(\"\"!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),vb.test(g)&&ub.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+\"\":g}function yb(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}!function(){var b,c,d=l.documentElement,e=l.createElement(\"div\"),f=l.createElement(\"div\");if(f.style){f.style.backgroundClip=\"content-box\",f.cloneNode(!0).style.backgroundClip=\"\",k.clearCloneStyle=\"content-box\"===f.style.backgroundClip,e.style.cssText=\"border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute\",e.appendChild(f);function g(){f.style.cssText=\"-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute\",f.innerHTML=\"\",d.appendChild(e);var g=a.getComputedStyle(f,null);b=\"1%\"!==g.top,c=\"4px\"===g.width,d.removeChild(e)}a.getComputedStyle&&n.extend(k,{pixelPosition:function(){return g(),b},boxSizingReliable:function(){return null==c&&g(),c},reliableMarginRight:function(){var b,c=f.appendChild(l.createElement(\"div\"));return c.style.cssText=f.style.cssText=\"-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0\",c.style.marginRight=c.style.width=\"0\",f.style.width=\"1px\",d.appendChild(e),b=!parseFloat(a.getComputedStyle(c,null).marginRight),d.removeChild(e),b}})}}(),n.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var zb=/^(none|table(?!-c[ea]).+)/,Ab=new RegExp(\"^(\"+Q+\")(.*)$\",\"i\"),Bb=new RegExp(\"^([+-])=(\"+Q+\")\",\"i\"),Cb={position:\"absolute\",visibility:\"hidden\",display:\"block\"},Db={letterSpacing:\"0\",fontWeight:\"400\"},Eb=[\"Webkit\",\"O\",\"Moz\",\"ms\"];function Fb(a,b){if(b in a)return b;var c=b[0].toUpperCase()+b.slice(1),d=b,e=Eb.length;while(e--)if(b=Eb[e]+c,b in a)return b;return d}function Gb(a,b,c){var d=Ab.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||\"px\"):b}function Hb(a,b,c,d,e){for(var f=c===(d?\"border\":\"content\")?4:\"width\"===b?1:0,g=0;4>f;f+=2)\"margin\"===c&&(g+=n.css(a,c+R[f],!0,e)),d?(\"content\"===c&&(g-=n.css(a,\"padding\"+R[f],!0,e)),\"margin\"!==c&&(g-=n.css(a,\"border\"+R[f]+\"Width\",!0,e))):(g+=n.css(a,\"padding\"+R[f],!0,e),\"padding\"!==c&&(g+=n.css(a,\"border\"+R[f]+\"Width\",!0,e)));return g}function Ib(a,b,c){var d=!0,e=\"width\"===b?a.offsetWidth:a.offsetHeight,f=wb(a),g=\"border-box\"===n.css(a,\"boxSizing\",!1,f);if(0>=e||null==e){if(e=xb(a,b,f),(0>e||null==e)&&(e=a.style[b]),vb.test(e))return e;d=g&&(k.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Hb(a,b,c||(g?\"border\":\"content\"),d,f)+\"px\"}function Jb(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=L.get(d,\"olddisplay\"),c=d.style.display,b?(f[g]||\"none\"!==c||(d.style.display=\"\"),\"\"===d.style.display&&S(d)&&(f[g]=L.access(d,\"olddisplay\",tb(d.nodeName)))):(e=S(d),\"none\"===c&&e||L.set(d,\"olddisplay\",e?c:n.css(d,\"display\"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&\"none\"!==d.style.display&&\"\"!==d.style.display||(d.style.display=b?f[g]||\"\":\"none\"));return a}n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=xb(a,\"opacity\");return\"\"===c?\"1\":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{\"float\":\"cssFloat\"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;return b=n.cssProps[h]||(n.cssProps[h]=Fb(i,h)),g=n.cssHooks[b]||n.cssHooks[h],void 0===c?g&&\"get\"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,\"string\"===f&&(e=Bb.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(n.css(a,b)),f=\"number\"),null!=c&&c===c&&(\"number\"!==f||n.cssNumber[h]||(c+=\"px\"),k.clearCloneStyle||\"\"!==c||0!==b.indexOf(\"background\")||(i[b]=\"inherit\"),g&&\"set\"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Fb(a.style,h)),g=n.cssHooks[b]||n.cssHooks[h],g&&\"get\"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=xb(a,b,d)),\"normal\"===e&&b in Db&&(e=Db[b]),\"\"===c||c?(f=parseFloat(e),c===!0||n.isNumeric(f)?f||0:e):e}}),n.each([\"height\",\"width\"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?zb.test(n.css(a,\"display\"))&&0===a.offsetWidth?n.swap(a,Cb,function(){return Ib(a,b,d)}):Ib(a,b,d):void 0},set:function(a,c,d){var e=d&&wb(a);return Gb(a,c,d?Hb(a,b,d,\"border-box\"===n.css(a,\"boxSizing\",!1,e),e):0)}}}),n.cssHooks.marginRight=yb(k.reliableMarginRight,function(a,b){return b?n.swap(a,{display:\"inline-block\"},xb,[a,\"marginRight\"]):void 0}),n.each({margin:\"\",padding:\"\",border:\"Width\"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f=\"string\"==typeof c?c.split(\" \"):[c];4>d;d++)e[a+R[d]+b]=f[d]||f[d-2]||f[0];return e}},ub.test(a)||(n.cssHooks[a+b].set=Gb)}),n.fn.extend({css:function(a,b){return J(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=wb(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Jb(this,!0)},hide:function(){return Jb(this)},toggle:function(a){return\"boolean\"==typeof a?a?this.show():this.hide():this.each(function(){S(this)?n(this).show():n(this).hide()})}});function Kb(a,b,c,d,e){return new Kb.prototype.init(a,b,c,d,e)}n.Tween=Kb,Kb.prototype={constructor:Kb,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||\"swing\",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?\"\":\"px\")},cur:function(){var a=Kb.propHooks[this.prop];return a&&a.get?a.get(this):Kb.propHooks._default.get(this)},run:function(a){var b,c=Kb.propHooks[this.prop];return this.pos=b=this.options.duration?n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Kb.propHooks._default.set(this),this}},Kb.prototype.init.prototype=Kb.prototype,Kb.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=n.css(a.elem,a.prop,\"\"),b&&\"auto\"!==b?b:0):a.elem[a.prop]},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[n.cssProps[a.prop]]||n.cssHooks[a.prop])?n.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Kb.propHooks.scrollTop=Kb.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},n.fx=Kb.prototype.init,n.fx.step={};var Lb,Mb,Nb=/^(?:toggle|show|hide)$/,Ob=new RegExp(\"^(?:([+-])=|)(\"+Q+\")([a-z%]*)$\",\"i\"),Pb=/queueHooks$/,Qb=[Vb],Rb={\"*\":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=Ob.exec(b),f=e&&e[3]||(n.cssNumber[a]?\"\":\"px\"),g=(n.cssNumber[a]||\"px\"!==f&&+d)&&Ob.exec(n.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||\".5\",g/=h,n.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function Sb(){return setTimeout(function(){Lb=void 0}),Lb=n.now()}function Tb(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=R[d],e[\"margin\"+c]=e[\"padding\"+c]=a;return b&&(e.opacity=e.width=a),e}function Ub(a,b,c){for(var d,e=(Rb[b]||[]).concat(Rb[\"*\"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function Vb(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},o=a.style,p=a.nodeType&&S(a),q=L.get(a,\"fxshow\");c.queue||(h=n._queueHooks(a,\"fx\"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,n.queue(a,\"fx\").length||h.empty.fire()})})),1===a.nodeType&&(\"height\"in b||\"width\"in b)&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=n.css(a,\"display\"),k=\"none\"===j?L.get(a,\"olddisplay\")||tb(a.nodeName):j,\"inline\"===k&&\"none\"===n.css(a,\"float\")&&(o.display=\"inline-block\")),c.overflow&&(o.overflow=\"hidden\",l.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],Nb.exec(e)){if(delete b[d],f=f||\"toggle\"===e,e===(p?\"hide\":\"show\")){if(\"show\"!==e||!q||void 0===q[d])continue;p=!0}m[d]=q&&q[d]||n.style(a,d)}else j=void 0;if(n.isEmptyObject(m))\"inline\"===(\"none\"===j?tb(a.nodeName):j)&&(o.display=j);else{q?\"hidden\"in q&&(p=q.hidden):q=L.access(a,\"fxshow\",{}),f&&(q.hidden=!p),p?n(a).show():l.done(function(){n(a).hide()}),l.done(function(){var b;L.remove(a,\"fxshow\");for(b in m)n.style(a,b,m[b])});for(d in m)g=Ub(p?q[d]:0,d,l),d in q||(q[d]=g.start,p&&(g.end=g.start,g.start=\"width\"===d||\"height\"===d?1:0))}}function Wb(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&\"expand\"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function Xb(a,b,c){var d,e,f=0,g=Qb.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Lb||Sb(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:Lb||Sb(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(Wb(k,j.opts.specialEasing);g>f;f++)if(d=Qb[f].call(j,a,k,j.opts))return d;return n.map(k,Ub,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}n.Animation=n.extend(Xb,{tweener:function(a,b){n.isFunction(a)?(b=a,a=[\"*\"]):a=a.split(\" \");for(var c,d=0,e=a.length;e>d;d++)c=a[d],Rb[c]=Rb[c]||[],Rb[c].unshift(b)},prefilter:function(a,b){b?Qb.unshift(a):Qb.push(a)}}),n.speed=function(a,b,c){var d=a&&\"object\"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:\"number\"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue=\"fx\"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(S).css(\"opacity\",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=Xb(this,n.extend({},a),f);(e||L.get(this,\"finish\"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return\"string\"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||\"fx\",[]),this.each(function(){var b=!0,e=null!=a&&a+\"queueHooks\",f=n.timers,g=L.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Pb.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||\"fx\"),this.each(function(){var b,c=L.get(this),d=c[a+\"queue\"],e=c[a+\"queueHooks\"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each([\"toggle\",\"show\",\"hide\"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||\"boolean\"==typeof a?c.apply(this,arguments):this.animate(Tb(b,!0),a,d,e)}}),n.each({slideDown:Tb(\"show\"),slideUp:Tb(\"hide\"),slideToggle:Tb(\"toggle\"),fadeIn:{opacity:\"show\"},fadeOut:{opacity:\"hide\"},fadeToggle:{opacity:\"toggle\"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=0,c=n.timers;for(Lb=n.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||n.fx.stop(),Lb=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Mb||(Mb=setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){clearInterval(Mb),Mb=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(a,b){return a=n.fx?n.fx.speeds[a]||a:a,b=b||\"fx\",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a=l.createElement(\"input\"),b=l.createElement(\"select\"),c=b.appendChild(l.createElement(\"option\"));a.type=\"checkbox\",k.checkOn=\"\"!==a.value,k.optSelected=c.selected,b.disabled=!0,k.optDisabled=!c.disabled,a=l.createElement(\"input\"),a.value=\"t\",a.type=\"radio\",k.radioValue=\"t\"===a.value}();var Yb,Zb,$b=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return J(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===U?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),d=n.attrHooks[b]||(n.expr.match.bool.test(b)?Zb:Yb)),void 0===c?d&&\"get\"in d&&null!==(e=d.get(a,b))?e:(e=n.find.attr(a,b),null==e?void 0:e):null!==c?d&&\"set\"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+\"\"),c):void n.removeAttr(a,b))\n},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType)while(c=f[e++])d=n.propFix[c]||c,n.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)},attrHooks:{type:{set:function(a,b){if(!k.radioValue&&\"radio\"===b&&n.nodeName(a,\"input\")){var c=a.value;return a.setAttribute(\"type\",b),c&&(a.value=c),b}}}}}),Zb={set:function(a,b,c){return b===!1?n.removeAttr(a,c):a.setAttribute(c,c),c}},n.each(n.expr.match.bool.source.match(/\\w+/g),function(a,b){var c=$b[b]||n.find.attr;$b[b]=function(a,b,d){var e,f;return d||(f=$b[b],$b[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,$b[b]=f),e}});var _b=/^(?:input|select|textarea|button)$/i;n.fn.extend({prop:function(a,b){return J(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}}),n.extend({propFix:{\"for\":\"htmlFor\",\"class\":\"className\"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!n.isXMLDoc(a),f&&(b=n.propFix[b]||b,e=n.propHooks[b]),void 0!==c?e&&\"set\"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&\"get\"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){return a.hasAttribute(\"tabindex\")||_b.test(a.nodeName)||a.href?a.tabIndex:-1}}}}),k.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),n.each([\"tabIndex\",\"readOnly\",\"maxLength\",\"cellSpacing\",\"cellPadding\",\"rowSpan\",\"colSpan\",\"useMap\",\"frameBorder\",\"contentEditable\"],function(){n.propFix[this.toLowerCase()]=this});var ac=/[\\t\\r\\n\\f]/g;n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h=\"string\"==typeof a&&a,i=0,j=this.length;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,this.className))});if(h)for(b=(a||\"\").match(E)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(\" \"+c.className+\" \").replace(ac,\" \"):\" \")){f=0;while(e=b[f++])d.indexOf(\" \"+e+\" \")<0&&(d+=e+\" \");g=n.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0===arguments.length||\"string\"==typeof a&&a,i=0,j=this.length;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,this.className))});if(h)for(b=(a||\"\").match(E)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(\" \"+c.className+\" \").replace(ac,\" \"):\"\")){f=0;while(e=b[f++])while(d.indexOf(\" \"+e+\" \")>=0)d=d.replace(\" \"+e+\" \",\" \");g=a?n.trim(d):\"\",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return\"boolean\"==typeof b&&\"string\"===c?b?this.addClass(a):this.removeClass(a):this.each(n.isFunction(a)?function(c){n(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if(\"string\"===c){var b,d=0,e=n(this),f=a.match(E)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else(c===U||\"boolean\"===c)&&(this.className&&L.set(this,\"__className__\",this.className),this.className=this.className||a===!1?\"\":L.get(this,\"__className__\")||\"\")})},hasClass:function(a){for(var b=\" \"+a+\" \",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(\" \"+this[c].className+\" \").replace(ac,\" \").indexOf(b)>=0)return!0;return!1}});var bc=/\\r/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e=\"\":\"number\"==typeof e?e+=\"\":n.isArray(e)&&(e=n.map(e,function(a){return null==a?\"\":a+\"\"})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&\"set\"in b&&void 0!==b.set(this,e,\"value\")||(this.value=e))});if(e)return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&\"get\"in b&&void 0!==(c=b.get(e,\"value\"))?c:(c=e.value,\"string\"==typeof c?c.replace(bc,\"\"):null==c?\"\":c)}}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,\"value\");return null!=b?b:n.trim(n.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f=\"select-one\"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(k.optDisabled?c.disabled:null!==c.getAttribute(\"disabled\"))||c.parentNode.disabled&&n.nodeName(c.parentNode,\"optgroup\"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=n.makeArray(b),g=e.length;while(g--)d=e[g],(d.selected=n.inArray(d.value,f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),n.each([\"radio\",\"checkbox\"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>=0:void 0}},k.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute(\"value\")?\"on\":a.value})}),n.each(\"blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu\".split(\" \"),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,\"**\"):this.off(b,a||\"**\",c)}});var cc=n.now(),dc=/\\?/;n.parseJSON=function(a){return JSON.parse(a+\"\")},n.parseXML=function(a){var b,c;if(!a||\"string\"!=typeof a)return null;try{c=new DOMParser,b=c.parseFromString(a,\"text/xml\")}catch(d){b=void 0}return(!b||b.getElementsByTagName(\"parsererror\").length)&&n.error(\"Invalid XML: \"+a),b};var ec,fc,gc=/#.*$/,hc=/([?&])_=[^&]*/,ic=/^(.*?):[ \\t]*([^\\r\\n]*)$/gm,jc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,kc=/^(?:GET|HEAD)$/,lc=/^\\/\\//,mc=/^([\\w.+-]+:)(?:\\/\\/(?:[^\\/?#]*@|)([^\\/?#:]*)(?::(\\d+)|)|)/,nc={},oc={},pc=\"*/\".concat(\"*\");try{fc=location.href}catch(qc){fc=l.createElement(\"a\"),fc.href=\"\",fc=fc.href}ec=mc.exec(fc.toLowerCase())||[];function rc(a){return function(b,c){\"string\"!=typeof b&&(c=b,b=\"*\");var d,e=0,f=b.toLowerCase().match(E)||[];if(n.isFunction(c))while(d=f[e++])\"+\"===d[0]?(d=d.slice(1)||\"*\",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function sc(a,b,c,d){var e={},f=a===oc;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return\"string\"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e[\"*\"]&&g(\"*\")}function tc(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&n.extend(!0,a,d),a}function uc(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while(\"*\"===i[0])i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader(\"Content-Type\"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+\" \"+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function vc(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if(\"*\"===f)f=i;else if(\"*\"!==i&&i!==f){if(g=j[i+\" \"+f]||j[\"* \"+f],!g)for(e in j)if(h=e.split(\" \"),h[1]===f&&(g=j[i+\" \"+h[0]]||j[\"* \"+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a[\"throws\"])b=g(b);else try{b=g(b)}catch(l){return{state:\"parsererror\",error:g?l:\"No conversion from \"+i+\" to \"+f}}}return{state:\"success\",data:b}}n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:fc,type:\"GET\",isLocal:jc.test(ec[1]),global:!0,processData:!0,async:!0,contentType:\"application/x-www-form-urlencoded; charset=UTF-8\",accepts:{\"*\":pc,text:\"text/plain\",html:\"text/html\",xml:\"application/xml, text/xml\",json:\"application/json, text/javascript\"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:\"responseXML\",text:\"responseText\",json:\"responseJSON\"},converters:{\"* text\":String,\"text html\":!0,\"text json\":n.parseJSON,\"text xml\":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?tc(tc(a,n.ajaxSettings),b):tc(n.ajaxSettings,a)},ajaxPrefilter:rc(nc),ajaxTransport:rc(oc),ajax:function(a,b){\"object\"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=n.ajaxSetup({},b),l=k.context||k,m=k.context&&(l.nodeType||l.jquery)?n(l):n.event,o=n.Deferred(),p=n.Callbacks(\"once memory\"),q=k.statusCode||{},r={},s={},t=0,u=\"canceled\",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!f){f={};while(b=ic.exec(e))f[b[1].toLowerCase()]=b[2]}b=f[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?e:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return c&&c.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||fc)+\"\").replace(gc,\"\").replace(lc,ec[1]+\"//\"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=n.trim(k.dataType||\"*\").toLowerCase().match(E)||[\"\"],null==k.crossDomain&&(h=mc.exec(k.url.toLowerCase()),k.crossDomain=!(!h||h[1]===ec[1]&&h[2]===ec[2]&&(h[3]||(\"http:\"===h[1]?\"80\":\"443\"))===(ec[3]||(\"http:\"===ec[1]?\"80\":\"443\")))),k.data&&k.processData&&\"string\"!=typeof k.data&&(k.data=n.param(k.data,k.traditional)),sc(nc,k,b,v),2===t)return v;i=k.global,i&&0===n.active++&&n.event.trigger(\"ajaxStart\"),k.type=k.type.toUpperCase(),k.hasContent=!kc.test(k.type),d=k.url,k.hasContent||(k.data&&(d=k.url+=(dc.test(d)?\"&\":\"?\")+k.data,delete k.data),k.cache===!1&&(k.url=hc.test(d)?d.replace(hc,\"$1_=\"+cc++):d+(dc.test(d)?\"&\":\"?\")+\"_=\"+cc++)),k.ifModified&&(n.lastModified[d]&&v.setRequestHeader(\"If-Modified-Since\",n.lastModified[d]),n.etag[d]&&v.setRequestHeader(\"If-None-Match\",n.etag[d])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader(\"Content-Type\",k.contentType),v.setRequestHeader(\"Accept\",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+(\"*\"!==k.dataTypes[0]?\", \"+pc+\"; q=0.01\":\"\"):k.accepts[\"*\"]);for(j in k.headers)v.setRequestHeader(j,k.headers[j]);if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t))return v.abort();u=\"abort\";for(j in{success:1,error:1,complete:1})v[j](k[j]);if(c=sc(oc,k,b,v)){v.readyState=1,i&&m.trigger(\"ajaxSend\",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort(\"timeout\")},k.timeout));try{t=1,c.send(r,x)}catch(w){if(!(2>t))throw w;x(-1,w)}}else x(-1,\"No Transport\");function x(a,b,f,h){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),c=void 0,e=h||\"\",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,f&&(u=uc(k,v,f)),u=vc(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader(\"Last-Modified\"),w&&(n.lastModified[d]=w),w=v.getResponseHeader(\"etag\"),w&&(n.etag[d]=w)),204===a||\"HEAD\"===k.type?x=\"nocontent\":304===a?x=\"notmodified\":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x=\"error\",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+\"\",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,i&&m.trigger(j?\"ajaxSuccess\":\"ajaxError\",[v,k,j?r:s]),p.fireWith(l,[v,x]),i&&(m.trigger(\"ajaxComplete\",[v,k]),--n.active||n.event.trigger(\"ajaxStop\")))}return v},getJSON:function(a,b,c){return n.get(a,b,c,\"json\")},getScript:function(a,b){return n.get(a,void 0,b,\"script\")}}),n.each([\"get\",\"post\"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),n.each([\"ajaxStart\",\"ajaxStop\",\"ajaxComplete\",\"ajaxError\",\"ajaxSuccess\",\"ajaxSend\"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n._evalUrl=function(a){return n.ajax({url:a,type:\"GET\",dataType:\"script\",async:!1,global:!1,\"throws\":!0})},n.fn.extend({wrapAll:function(a){var b;return n.isFunction(a)?this.each(function(b){n(this).wrapAll(a.call(this,b))}):(this[0]&&(b=n(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return this.each(n.isFunction(a)?function(b){n(this).wrapInner(a.call(this,b))}:function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,\"body\")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0},n.expr.filters.visible=function(a){return!n.expr.filters.hidden(a)};var wc=/%20/g,xc=/\\[\\]$/,yc=/\\r?\\n/g,zc=/^(?:submit|button|image|reset|file)$/i,Ac=/^(?:input|select|textarea|keygen)/i;function Bc(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||xc.test(a)?d(a,e):Bc(a+\"[\"+(\"object\"==typeof e?b:\"\")+\"]\",e,c,d)});else if(c||\"object\"!==n.type(b))d(a,b);else for(e in b)Bc(a+\"[\"+e+\"]\",b[e],c,d)}n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?\"\":b,d[d.length]=encodeURIComponent(a)+\"=\"+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)Bc(c,a[c],b,e);return d.join(\"&\").replace(wc,\"+\")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,\"elements\");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(\":disabled\")&&Ac.test(this.nodeName)&&!zc.test(a)&&(this.checked||!T.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(yc,\"\\r\\n\")}}):{name:b.name,value:c.replace(yc,\"\\r\\n\")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var Cc=0,Dc={},Ec={0:200,1223:204},Fc=n.ajaxSettings.xhr();a.ActiveXObject&&n(a).on(\"unload\",function(){for(var a in Dc)Dc[a]()}),k.cors=!!Fc&&\"withCredentials\"in Fc,k.ajax=Fc=!!Fc,n.ajaxTransport(function(a){var b;return k.cors||Fc&&!a.crossDomain?{send:function(c,d){var e,f=a.xhr(),g=++Cc;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c[\"X-Requested-With\"]||(c[\"X-Requested-With\"]=\"XMLHttpRequest\");for(e in c)f.setRequestHeader(e,c[e]);b=function(a){return function(){b&&(delete Dc[g],b=f.onload=f.onerror=null,\"abort\"===a?f.abort():\"error\"===a?d(f.status,f.statusText):d(Ec[f.status]||f.status,f.statusText,\"string\"==typeof f.responseText?{text:f.responseText}:void 0,f.getAllResponseHeaders()))}},f.onload=b(),f.onerror=b(\"error\"),b=Dc[g]=b(\"abort\");try{f.send(a.hasContent&&a.data||null)}catch(h){if(b)throw h}},abort:function(){b&&b()}}:void 0}),n.ajaxSetup({accepts:{script:\"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript\"},contents:{script:/(?:java|ecma)script/},converters:{\"text script\":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter(\"script\",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type=\"GET\")}),n.ajaxTransport(\"script\",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=n(\"<script>\").prop({async:!0,charset:a.scriptCharset,src:a.url}).on(\"load error\",c=function(a){b.remove(),c=null,a&&e(\"error\"===a.type?404:200,a.type)}),l.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Gc=[],Hc=/(=)\\?(?=&|$)|\\?\\?/;n.ajaxSetup({jsonp:\"callback\",jsonpCallback:function(){var a=Gc.pop()||n.expando+\"_\"+cc++;return this[a]=!0,a}}),n.ajaxPrefilter(\"json jsonp\",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Hc.test(b.url)?\"url\":\"string\"==typeof b.data&&!(b.contentType||\"\").indexOf(\"application/x-www-form-urlencoded\")&&Hc.test(b.data)&&\"data\");return h||\"jsonp\"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Hc,\"$1\"+e):b.jsonp!==!1&&(b.url+=(dc.test(b.url)?\"&\":\"?\")+b.jsonp+\"=\"+e),b.converters[\"script json\"]=function(){return g||n.error(e+\" was not called\"),g[0]},b.dataTypes[0]=\"json\",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Gc.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),\"script\"):void 0}),n.parseHTML=function(a,b,c){if(!a||\"string\"!=typeof a)return null;\"boolean\"==typeof b&&(c=b,b=!1),b=b||l;var d=v.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=n.buildFragment([a],b,e),e&&e.length&&n(e).remove(),n.merge([],d.childNodes))};var Ic=n.fn.load;n.fn.load=function(a,b,c){if(\"string\"!=typeof a&&Ic)return Ic.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(\" \");return h>=0&&(d=n.trim(a.slice(h)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&\"object\"==typeof b&&(e=\"POST\"),g.length>0&&n.ajax({url:a,type:e,dataType:\"html\",data:b}).done(function(a){f=arguments,g.html(d?n(\"<div>\").append(n.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,f||[a.responseText,b,a])}),this},n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};var Jc=a.document.documentElement;function Kc(a){return n.isWindow(a)?a:9===a.nodeType&&a.defaultView}n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,\"position\"),l=n(a),m={};\"static\"===k&&(a.style.position=\"relative\"),h=l.offset(),f=n.css(a,\"top\"),i=n.css(a,\"left\"),j=(\"absolute\"===k||\"fixed\"===k)&&(f+i).indexOf(\"auto\")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),\"using\"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,n.contains(b,d)?(typeof d.getBoundingClientRect!==U&&(e=d.getBoundingClientRect()),c=Kc(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return\"fixed\"===n.css(c,\"position\")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],\"html\")||(d=a.offset()),d.top+=n.css(a[0],\"borderTopWidth\",!0),d.left+=n.css(a[0],\"borderLeftWidth\",!0)),{top:b.top-d.top-n.css(c,\"marginTop\",!0),left:b.left-d.left-n.css(c,\"marginLeft\",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||Jc;while(a&&!n.nodeName(a,\"html\")&&\"static\"===n.css(a,\"position\"))a=a.offsetParent;return a||Jc})}}),n.each({scrollLeft:\"pageXOffset\",scrollTop:\"pageYOffset\"},function(b,c){var d=\"pageYOffset\"===c;n.fn[b]=function(e){return J(this,function(b,e,f){var g=Kc(b);return void 0===f?g?g[c]:b[e]:void(g?g.scrollTo(d?a.pageXOffset:f,d?f:a.pageYOffset):b[e]=f)},b,e,arguments.length,null)}}),n.each([\"top\",\"left\"],function(a,b){n.cssHooks[b]=yb(k.pixelPosition,function(a,c){return c?(c=xb(a,b),vb.test(c)?n(a).position()[b]+\"px\":c):void 0})}),n.each({Height:\"height\",Width:\"width\"},function(a,b){n.each({padding:\"inner\"+a,content:b,\"\":\"outer\"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||\"boolean\"!=typeof d),g=c||(d===!0||e===!0?\"margin\":\"border\");return J(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement[\"client\"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body[\"scroll\"+a],e[\"scroll\"+a],b.body[\"offset\"+a],e[\"offset\"+a],e[\"client\"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.size=function(){return this.length},n.fn.andSelf=n.fn.addBack,\"function\"==typeof define&&define.amd&&define(\"jquery\",[],function(){return n});var Lc=a.jQuery,Mc=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=Mc),b&&a.jQuery===n&&(a.jQuery=Lc),n},typeof b===U&&(a.jQuery=a.$=n),n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./deps/jquery-2.1.1.min.js\n ** module id = 1\n ** module chunks = 1\n **/","module.exports = __webpack_amd_options__;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** (webpack)/buildin/amd-options.js\n ** module id = 2\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/core/Clock\", \"Tone/signal/Signal\", \"Tone/signal/Multiply\"], \nfunction(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t *  @class  Oscillator-based transport allows for simple musical timing\n\t *          supports tempo curves and time changes. Do not construct\n\t *          an instance of the transport. One is automatically created \n\t *          on init and additional transports cannot be created. <br><br>\n\t *          If you need to schedule highly independent callback functions,\n\t *          check out {@link Tone.Clock}.\n\t *\n\t *  @extends {Tone}\n\t */\n\tTone.Transport = function(){\n\n\t\t/**\n\t\t *  watches the main oscillator for timing ticks\n\t\t *  initially starts at 120bpm\n\t\t *  \n\t\t *  @private\n\t\t *  @type {Tone.Clock}\n\t\t */\n\t\tthis._clock = new Tone.Clock(0, this._processTick.bind(this));\n\t\tthis._clock.onended = this._onended.bind(this);\n\n\t\t/** \n\t\t * \tIf the transport loops or not.\n\t\t *  @type {boolean}\n\t\t */\n\t\tthis.loop = false;\n\n\t\t/**\n\t\t *  the bpm value\n\t\t *  @type {Tone.Signal}\n\t\t */\n\t\tthis.bpm = new Tone.Signal(120, Tone.Type.BPM);\n\n\t\t/**\n\t\t *  the signal scalar\n\t\t *  @type {Tone.Multiply}\n\t\t *  @private\n\t\t */\n\t\tthis._bpmMult = new Tone.Multiply(1/60 * tatum);\n\n\t\t/**\n\t\t * \tThe state of the transport. \n\t\t *  @type {Tone.State}\n\t\t */\n\t\tthis.state = Tone.State.Stopped;\n\n\t\t//connect it all up\n\t\tthis.bpm.chain(this._bpmMult, this._clock.frequency);\n\t};\n\n\tTone.extend(Tone.Transport);\n\n\t/**\n\t *  the defaults\n\t *  @type {Object}\n\t *  @const\n\t *  @static\n\t */\n\tTone.Transport.defaults = {\n\t\t\"bpm\" : 120,\n\t\t\"swing\" : 0,\n\t\t\"swingSubdivision\" : \"16n\",\n\t\t\"timeSignature\" : 4,\n\t\t\"loopStart\" : 0,\n\t\t\"loopEnd\" : \"4m\"\n\t};\n\n\t/** \n\t * @private\n\t * @type {number}\n\t */\n\tvar tatum = 12;\n\n\t/** \n\t * @private \n\t * @type {number} \n\t */\n\tvar timelineTicks = 0;\n\n\t/** \n\t * @private \n\t * @type {number} \n\t */\n\tvar transportTicks = 0;\n\n\t/**\n\t *  Which subdivision the swing is applied to.\n\t *  defaults to an 16th note\n\t *  @private\n\t *  @type {number}\n\t */\n\tvar swingSubdivision = \"16n\";\n\n\t/**\n\t *  controls which beat the swing is applied to\n\t *  defaults to an 16th note\n\t *  @private\n\t *  @type {number}\n\t */\n\tvar swingTatum = 3;\n\n\t/**\n\t *  controls which beat the swing is applied to\n\t *  @private\n\t *  @type {number}\n\t */\n\tvar swingAmount = 0;\n\n\t/** \n\t * @private\n\t * @type {number}\n\t */\n\tvar transportTimeSignature = 4;\n\n\t/** \n\t * @private\n\t * @type {number}\n\t */\n\tvar loopStart = 0;\n\n\t/** \n\t * @private\n\t * @type {number}\n\t */\n\tvar loopEnd = tatum * 4;\n\n\t/** \n\t * @private\n\t * @type {Array}\n\t */\n\tvar intervals = [];\n\t\n\t/** \n\t * @private\n\t * @type {Array}\n\t */\n\tvar timeouts = [];\n\t\n\t/** \n\t * @private\n\t * @type {Array}\n\t */\n\tvar transportTimeline = [];\n\t\n\t/** \n\t * @private\n\t * @type {number}\n\t */\n\tvar timelineProgress = 0;\n\n\t/** \n\t *  All of the synced components\n\t *  @private \n\t *  @type {Array<Tone>}\n\t */\n\tvar SyncedSources = [];\n\n\t/** \n\t *  All of the synced Signals\n\t *  @private \n\t *  @type {Array<Tone.Signal>}\n\t */\n\tvar SyncedSignals = [];\n\n\t///////////////////////////////////////////////////////////////////////////////\n\t//\tTICKS\n\t///////////////////////////////////////////////////////////////////////////////\n\n\t/**\n\t *  called on every tick\n\t *  @param   {number} tickTime clock relative tick time\n\t *  @private\n\t */\n\tTone.Transport.prototype._processTick = function(tickTime){\n\t\tif (this.state === Tone.State.Started){\n\t\t\tif (swingAmount > 0 && \n\t\t\t\ttimelineTicks % tatum !== 0 && //not on a downbeat\n\t\t\t\ttimelineTicks % swingTatum === 0){\n\t\t\t\t//add some swing\n\t\t\t\ttickTime += this._ticksToSeconds(swingTatum) * swingAmount;\n\t\t\t}\n\t\t\tprocessIntervals(tickTime);\n\t\t\tprocessTimeouts(tickTime);\n\t\t\tprocessTimeline(tickTime);\n\t\t\ttransportTicks += 1;\n\t\t\ttimelineTicks += 1;\n\t\t\tif (this.loop){\n\t\t\t\tif (timelineTicks === loopEnd){\n\t\t\t\t\tthis._setTicks(loopStart);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t *  jump to a specific tick in the timeline\n\t *  updates the timeline callbacks\n\t *  \n\t *  @param   {number} ticks the tick to jump to\n\t *  @private\n\t */\n\tTone.Transport.prototype._setTicks = function(ticks){\n\t\ttimelineTicks = ticks;\n\t\tfor (var i = 0; i < transportTimeline.length; i++){\n\t\t\tvar timeout = transportTimeline[i];\n\t\t\tif (timeout.callbackTick() >= ticks){\n\t\t\t\ttimelineProgress = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t};\n\n\t///////////////////////////////////////////////////////////////////////////////\n\t//\tEVENT PROCESSING\n\t///////////////////////////////////////////////////////////////////////////////\n\n\t/**\n\t *  process the intervals\n\t *  @param  {number} time \n\t */\n\tvar processIntervals = function(time){\n\t\tfor (var i = 0, len = intervals.length; i<len; i++){\n\t\t\tvar interval = intervals[i];\n\t\t\tif (interval.testInterval(transportTicks)){\n\t\t\t\tinterval.doCallback(time);\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t *  process the timeouts\n\t *  @param  {number} time \n\t */\n\tvar processTimeouts = function(time){\n\t\tvar removeTimeouts = 0;\n\t\tfor (var i = 0, len = timeouts.length; i<len; i++){\n\t\t\tvar timeout = timeouts[i];\n\t\t\tvar callbackTick = timeout.callbackTick();\n\t\t\tif (callbackTick <= transportTicks){\n\t\t\t\ttimeout.doCallback(time);\n\t\t\t\tremoveTimeouts++;\n\t\t\t} else if (callbackTick > transportTicks){\n\t\t\t\tbreak;\n\t\t\t} \n\t\t}\n\t\t//remove the timeouts off the front of the array after they've been called\n\t\ttimeouts.splice(0, removeTimeouts);\n\t};\n\n\t/**\n\t *  process the transportTimeline events\n\t *  @param  {number} time \n\t */\n\tvar processTimeline = function(time){\n\t\tfor (var i = timelineProgress, len = transportTimeline.length; i<len; i++){\n\t\t\tvar evnt = transportTimeline[i];\n\t\t\tvar callbackTick = evnt.callbackTick();\n\t\t\tif (callbackTick === timelineTicks){\n\t\t\t\ttimelineProgress = i;\n\t\t\t\tevnt.doCallback(time);\n\t\t\t} else if (callbackTick > timelineTicks){\n\t\t\t\tbreak;\n\t\t\t} \n\t\t}\n\t};\n\n\t///////////////////////////////////////////////////////////////////////////////\n\t//\tINTERVAL\n\t///////////////////////////////////////////////////////////////////////////////\n\n\t/**\n\t *  Set a callback for a recurring event.\n\t *\n\t *  @param {function} callback\n\t *  @param {Tone.Type.Time}   interval \n\t *  @return {number} the id of the interval\n\t *  @example\n\t *  //triggers a callback every 8th note with the exact time of the event\n\t *  Tone.Transport.setInterval(function(time){\n\t *  \tenvelope.triggerAttack(time);\n\t *  }, \"8n\");\n\t */\n\tTone.Transport.prototype.setInterval = function(callback, interval, ctx){\n\t\tvar tickTime = this._toTicks(interval);\n\t\tvar timeout = new TimelineEvent(callback, ctx, tickTime, transportTicks);\n\t\tintervals.push(timeout);\n\t\treturn timeout.id;\n\t};\n\n\t/**\n\t *  clear an interval from the processing array\n\t *  @param  {number} rmInterval \tthe interval to remove\n\t *  @return {boolean}            \ttrue if the event was removed\n\t */\n\tTone.Transport.prototype.clearInterval = function(rmInterval){\n\t\tfor (var i = 0; i < intervals.length; i++){\n\t\t\tvar interval = intervals[i];\n\t\t\tif (interval.id === rmInterval){\n\t\t\t\tintervals.splice(i, 1);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t};\n\n\t/**\n\t *  removes all of the intervals that are currently set\n\t *  @return {boolean}            \ttrue if the event was removed\n\t */\n\tTone.Transport.prototype.clearIntervals = function(){\n\t\tvar willRemove = intervals.length > 0;\n\t\tintervals = [];\n\t\treturn willRemove;\n\t};\n\n\t///////////////////////////////////////////////////////////////////////////////\n\t//\tTIMEOUT\n\t///////////////////////////////////////////////////////////////////////////////\n\n\t/**\n\t *  Set a timeout to occur after time from now. NB: the transport must be \n\t *  running for this to be triggered. All timeout events are cleared when the \n\t *  transport is stopped. \n\t *\n\t *  @param {function} callback \n\t *  @param {Tone.Type.Time}   time     \n\t *  @return {number} the id of the timeout for clearing timeouts\n\t *  @example\n\t *  //trigger an event to happen 1 second from now\n\t *  Tone.Transport.setTimeout(function(time){\n\t *  \tplayer.start(time);\n\t *  }, 1)\n\t */\n\tTone.Transport.prototype.setTimeout = function(callback, time, ctx){\n\t\tvar ticks = this._toTicks(time);\n\t\tvar timeout = new TimelineEvent(callback, ctx, ticks + transportTicks, 0);\n\t\t//put it in the right spot\n\t\tfor (var i = 0, len = timeouts.length; i<len; i++){\n\t\t\tvar testEvnt = timeouts[i];\n\t\t\tif (testEvnt.callbackTick() > timeout.callbackTick()){\n\t\t\t\ttimeouts.splice(i, 0, timeout);\n\t\t\t\treturn timeout.id;\n\t\t\t}\n\t\t}\n\t\t//otherwise push it on the end\n\t\ttimeouts.push(timeout);\n\t\treturn timeout.id;\n\t};\n\n\t/**\n\t *  clear the timeout based on it's ID\n\t *  @param  {number} timeoutID \n\t *  @return {boolean}           true if the timeout was removed\n\t */\n\tTone.Transport.prototype.clearTimeout = function(timeoutID){\n\t\tfor (var i = 0; i < timeouts.length; i++){\n\t\t\tvar testTimeout = timeouts[i];\n\t\t\tif (testTimeout.id === timeoutID){\n\t\t\t\ttimeouts.splice(i, 1);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t};\n\n\t/**\n\t *  removes all of the timeouts that are currently set\n\t *  @return {boolean}            \ttrue if the event was removed\n\t */\n\tTone.Transport.prototype.clearTimeouts = function(){\n\t\tvar willRemove = timeouts.length > 0;\n\t\ttimeouts = [];\n\t\treturn willRemove;\n\t};\n\n\t///////////////////////////////////////////////////////////////////////////////\n\t//\tTIMELINE\n\t///////////////////////////////////////////////////////////////////////////////\n\n\t/**\n\t *  Timeline events are synced to the transportTimeline of the Tone.Transport\n\t *  Unlike Timeout, Timeline events will restart after the \n\t *  Tone.Transport has been stopped and restarted. \n\t *\n\t *  @param {function} \tcallback \t\n\t *  @param {Tome.Time}  timeout  \n\t *  @return {number} \t\t\t\tthe id for clearing the transportTimeline event\n\t *  @example\n\t *  //trigger the start of a part on the 16th measure\n\t *  Tone.Transport.setTimeline(function(time){\n\t *  \tpart.start(time);\n\t *  }, \"16m\");\n\t */\n\tTone.Transport.prototype.setTimeline = function(callback, timeout, ctx){\n\t\tvar ticks = this._toTicks(timeout);\n\t\tvar timelineEvnt = new TimelineEvent(callback, ctx, ticks, 0);\n\t\t//put it in the right spot\n\t\tfor (var i = timelineProgress, len = transportTimeline.length; i<len; i++){\n\t\t\tvar testEvnt = transportTimeline[i];\n\t\t\tif (testEvnt.callbackTick() > timelineEvnt.callbackTick()){\n\t\t\t\ttransportTimeline.splice(i, 0, timelineEvnt);\n\t\t\t\treturn timelineEvnt.id;\n\t\t\t}\n\t\t}\n\t\t//otherwise push it on the end\n\t\ttransportTimeline.push(timelineEvnt);\n\t\treturn timelineEvnt.id;\n\t};\n\n\t/**\n\t *  clear the transportTimeline event from the \n\t *  @param  {number} timelineID \n\t *  @return {boolean} true if it was removed\n\t */\n\tTone.Transport.prototype.clearTimeline = function(timelineID){\n\t\tfor (var i = 0; i < transportTimeline.length; i++){\n\t\t\tvar testTimeline = transportTimeline[i];\n\t\t\tif (testTimeline.id === timelineID){\n\t\t\t\ttransportTimeline.splice(i, 1);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t};\n\n\t/**\n\t *  remove all events from the timeline\n\t *  @returns {boolean} true if the events were removed\n\t */\n\tTone.Transport.prototype.clearTimelines = function(){\n\t\ttimelineProgress = 0;\n\t\tvar willRemove = transportTimeline.length > 0;\n\t\ttransportTimeline = [];\n\t\treturn willRemove;\n\t};\n\n\t///////////////////////////////////////////////////////////////////////////////\n\t//\tTIME CONVERSIONS\n\t///////////////////////////////////////////////////////////////////////////////\n\n\t/**\n\t *  turns the time into\n\t *  @param  {Tone.Type.Time} time\n\t *  @return {number}   \n\t *  @private   \n\t */\n\tTone.Transport.prototype._toTicks = function(time){\n\t\t//get the seconds\n\t\tvar seconds = this.toSeconds(time);\n\t\tvar quarter = this.notationToSeconds(\"4n\");\n\t\tvar quarters = seconds / quarter;\n\t\tvar tickNum = quarters * tatum;\n\t\t//quantize to tick value\n\t\treturn Math.round(tickNum);\n\t};\n\n\t/**\n\t *  convert ticks into seconds\n\t *  \n\t *  @param  {number} ticks \n\t *  @param {number=} bpm \n\t *  @param {number=} timeSignature\n\t *  @return {number}               seconds\n\t *  @private\n\t */\n\tTone.Transport.prototype._ticksToSeconds = function(ticks, bpm, timeSignature){\n\t\tticks = Math.floor(ticks);\n\t\tvar quater = this.notationToSeconds(\"4n\", bpm, timeSignature);\n\t\treturn (quater * ticks) / (tatum);\n\t};\n\n\t/**\n\t *  returns the time of the next beat\n\t *  @param  {string} [subdivision=\"4n\"]\n\t *  @return {number} \tthe time in seconds of the next subdivision\n\t */\n\tTone.Transport.prototype.nextBeat = function(subdivision){\n\t\tsubdivision = this.defaultArg(subdivision, \"4n\");\n\t\tvar tickNum = this._toTicks(subdivision);\n\t\tvar remainingTicks = (transportTicks % tickNum);\n\t\tvar nextTick = remainingTicks;\n\t\tif (remainingTicks > 0){\n\t\t\tnextTick = tickNum - remainingTicks;\n\t\t}\n\t\treturn this._ticksToSeconds(nextTick);\n\t};\n\n\n\t///////////////////////////////////////////////////////////////////////////////\n\t//\tSTART/STOP/PAUSE\n\t///////////////////////////////////////////////////////////////////////////////\n\n\t/**\n\t *  start the transport and all sources synced to the transport\n\t *  \n\t *  @param  {Tone.Type.Time} time\n\t *  @param  {Tone.Type.Time=} offset the offset position to start\n\t *  @returns {Tone.Transport} `this`\n\t */\n\tTone.Transport.prototype.start = function(time, offset){\n\t\tif (this.state === Tone.State.Stopped || this.state === Tone.State.Paused){\n\t\t\tif (!this.isUndef(offset)){\n\t\t\t\tthis._setTicks(this._toTicks(offset));\n\t\t\t}\n\t\t\tthis.state = Tone.State.Started;\n\t\t\tvar startTime = this.toSeconds(time);\n\t\t\tthis._clock.start(startTime);\n\t\t\t//call start on each of the synced sources\n\t\t\tfor (var i = 0; i < SyncedSources.length; i++){\n\t\t\t\tvar source = SyncedSources[i].source;\n\t\t\t\tvar delay = SyncedSources[i].delay;\n\t\t\t\tsource.start(startTime + delay);\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t};\n\n\n\t/**\n\t *  stop the transport and all sources synced to the transport\n\t *  \n\t *  @param  {Tone.Type.Time} time\n\t *  @returns {Tone.Transport} `this`\n\t */\n\tTone.Transport.prototype.stop = function(time){\n\t\tif (this.state === Tone.State.Started || this.state === Tone.State.Paused){\n\t\t\tvar stopTime = this.toSeconds(time);\n\t\t\tthis._clock.stop(stopTime);\n\t\t\t//call start on each of the synced sources\n\t\t\tfor (var i = 0; i < SyncedSources.length; i++){\n\t\t\t\tvar source = SyncedSources[i].source;\n\t\t\t\tsource.stop(stopTime);\n\t\t\t}\n\t\t} else {\n\t\t\tthis._onended();\n\t\t}\n\t\treturn this;\n\t};\n\n\t/**\n\t *  invoked when the transport is stopped\n\t *  @private\n\t */\n\tTone.Transport.prototype._onended = function(){\n\t\ttransportTicks = 0;\n\t\tthis._setTicks(0);\n\t\tthis.clearTimeouts();\n\t\tthis.state = Tone.State.Stopped;\n\t};\n\n\t/**\n\t *  pause the transport and all sources synced to the transport\n\t *  \n\t *  @param  {Tone.Type.Time} time\n\t *  @returns {Tone.Transport} `this`\n\t */\n\tTone.Transport.prototype.pause = function(time){\n\t\tif (this.state === Tone.State.Started){\n\t\t\tthis.state = Tone.State.Paused;\n\t\t\tvar stopTime = this.toSeconds(time);\n\t\t\tthis._clock.stop(stopTime);\n\t\t\t//call pause on each of the synced sources\n\t\t\tfor (var i = 0; i < SyncedSources.length; i++){\n\t\t\t\tvar source = SyncedSources[i].source;\n\t\t\t\tsource.pause(stopTime);\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t};\n\n\t///////////////////////////////////////////////////////////////////////////////\n\t//\tSETTERS/GETTERS\n\t///////////////////////////////////////////////////////////////////////////////\n\n\t/**\n\t *  Time signature as just the numerator over 4. \n\t *  For example 4/4 would be just 4 and 6/8 would be 3.\n\t *  @memberOf Tone.Transport#\n\t *  @type {number}\n\t *  @name timeSignature\n\t */\n\tObject.defineProperty(Tone.Transport.prototype, \"timeSignature\", {\n\t\tget : function(){\n\t\t\treturn transportTimeSignature;\n\t\t},\n\t\tset : function(numerator){\n\t\t\ttransportTimeSignature = numerator;\n\t\t}\n\t});\n\n\n\t/**\n\t * The loop start point\n\t * @memberOf Tone.Transport#\n\t * @type {Tone.Type.Time}\n\t * @name loopStart\n\t */\n\tObject.defineProperty(Tone.Transport.prototype, \"loopStart\", {\n\t\tget : function(){\n\t\t\treturn this._ticksToSeconds(loopStart);\n\t\t},\n\t\tset : function(startPosition){\n\t\t\tloopStart = this._toTicks(startPosition);\n\t\t}\n\t});\n\n\t/**\n\t * The loop end point\n\t * @memberOf Tone.Transport#\n\t * @type {Tone.Type.Time}\n\t * @name loopEnd\n\t */\n\tObject.defineProperty(Tone.Transport.prototype, \"loopEnd\", {\n\t\tget : function(){\n\t\t\treturn this._ticksToSeconds(loopEnd);\n\t\t},\n\t\tset : function(endPosition){\n\t\t\tloopEnd = this._toTicks(endPosition);\n\t\t}\n\t});\n\n\t/**\n\t *  shorthand loop setting\n\t *  @param {Tone.Type.Time} startPosition \n\t *  @param {Tone.Type.Time} endPosition   \n\t *  @returns {Tone.Transport} `this`\n\t */\n\tTone.Transport.prototype.setLoopPoints = function(startPosition, endPosition){\n\t\tthis.loopStart = startPosition;\n\t\tthis.loopEnd = endPosition;\n\t\treturn this;\n\t};\n\n\t/**\n\t *  The swing value. Between 0-1 where 1 equal to \n\t *  the note + half the subdivision.\n\t *  @memberOf Tone.Transport#\n\t *  @type {Tone.Type.NormalRange}\n\t *  @name swing\n\t */\n\tObject.defineProperty(Tone.Transport.prototype, \"swing\", {\n\t\tget : function(){\n\t\t\treturn swingAmount * 2;\n\t\t},\n\t\tset : function(amount){\n\t\t\t//scale the values to a normal range\n\t\t\tswingAmount = amount * 0.5;\n\t\t}\n\t});\n\n\t/**\n\t *  Set the subdivision which the swing will be applied to. \n\t *  The default values is a 16th note. Value must be less \n\t *  than a quarter note.\n\t *  \n\t *  \n\t *  @memberOf Tone.Transport#\n\t *  @type {Tone.Type.Time}\n\t *  @name swingSubdivision\n\t */\n\tObject.defineProperty(Tone.Transport.prototype, \"swingSubdivision\", {\n\t\tget : function(){\n\t\t\treturn swingSubdivision;\n\t\t},\n\t\tset : function(subdivision){\n\t\t\t//scale the values to a normal range\n\t\t\tswingSubdivision = subdivision;\n\t\t\tswingTatum = this._toTicks(subdivision);\n\t\t}\n\t});\n\n\t/**\n\t *  The Transport's position in MEASURES:BEATS:SIXTEENTHS.\n\t *  Setting the value will jump to that position right away. \n\t *  \n\t *  @memberOf Tone.Transport#\n\t *  @type {string}\n\t *  @name position\n\t */\n\tObject.defineProperty(Tone.Transport.prototype, \"position\", {\n\t\tget : function(){\n\t\t\tvar quarters = timelineTicks / tatum;\n\t\t\tvar measures = Math.floor(quarters / transportTimeSignature);\n\t\t\tvar sixteenths = Math.floor((quarters % 1) * 4);\n\t\t\tquarters = Math.floor(quarters) % transportTimeSignature;\n\t\t\tvar progress = [measures, quarters, sixteenths];\n\t\t\treturn progress.join(\":\");\n\t\t},\n\t\tset : function(progress){\n\t\t\tvar ticks = this._toTicks(progress);\n\t\t\tthis._setTicks(ticks);\n\t\t}\n\t});\n\n\t///////////////////////////////////////////////////////////////////////////////\n\t//\tSYNCING\n\t///////////////////////////////////////////////////////////////////////////////\n\n\t/**\n\t *  Sync a source to the transport so that \n\t *  @param  {Tone.Source} source the source to sync to the transport\n\t *  @param {Tone.Type.Time} delay (optionally) start the source with a delay from the transport\n\t *  @returns {Tone.Transport} `this`\n\t */\n\tTone.Transport.prototype.syncSource = function(source, startDelay){\n\t\tSyncedSources.push({\n\t\t\tsource : source,\n\t\t\tdelay : this.toSeconds(this.defaultArg(startDelay, 0))\n\t\t});\n\t\treturn this;\n\t};\n\n\t/**\n\t *  remove the source from the list of Synced Sources\n\t *  \n\t *  @param  {Tone.Source} source [description]\n\t *  @returns {Tone.Transport} `this`\n\t */\n\tTone.Transport.prototype.unsyncSource = function(source){\n\t\tfor (var i = 0; i < SyncedSources.length; i++){\n\t\t\tif (SyncedSources[i].source === source){\n\t\t\t\tSyncedSources.splice(i, 1);\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t};\n\n\t/**\n\t *  attaches the signal to the tempo control signal so that \n\t *  any changes in the tempo will change the signal in the same\n\t *  ratio. \n\t *  \n\t *  @param  {Tone.Signal} signal \n\t *  @param {number=} ratio Optionally pass in the ratio between\n\t *                         the two signals. Otherwise it will be computed\n\t *                         based on their current values. \n\t *  @returns {Tone.Transport} `this`\n\t */\n\tTone.Transport.prototype.syncSignal = function(signal, ratio){\n\t\tif (!ratio){\n\t\t\t//get the sync ratio\n\t\t\tif (signal._value.value !== 0){\n\t\t\t\tratio = signal._value.value / this.bpm.value;\n\t\t\t} else {\n\t\t\t\tratio = 0;\n\t\t\t}\n\t\t}\n\t\tvar ratioSignal = this.context.createGain();\n\t\tratioSignal.gain.value = ratio;\n\t\tthis.bpm.chain(ratioSignal, signal._value);\n\t\tSyncedSignals.push({\n\t\t\t\"ratio\" : ratioSignal,\n\t\t\t\"signal\" : signal,\n\t\t\t\"initial\" : signal._value.value\n\t\t});\n\t\tsignal._value.value = 0;\n\t\treturn this;\n\t};\n\n\t/**\n\t *  Unsyncs a previously synced signal from the transport's control\n\t *  @param  {Tone.Signal} signal \n\t *  @returns {Tone.Transport} `this`\n\t */\n\tTone.Transport.prototype.unsyncSignal = function(signal){\n\t\tfor (var i = 0; i < SyncedSignals.length; i++){\n\t\t\tvar syncedSignal = SyncedSignals[i];\n\t\t\tif (syncedSignal.signal === signal){\n\t\t\t\tsyncedSignal.ratio.disconnect();\n\t\t\t\tsyncedSignal.signal._value.value = syncedSignal.initial;\n\t\t\t\tSyncedSignals.splice(i, 1);\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t};\n\n\t/**\n\t *  clean up\n\t *  @returns {Tone.Transport} `this`\n\t */\n\tTone.Transport.prototype.dispose = function(){\n\t\tthis._clock.dispose();\n\t\tthis._clock = null;\n\t\tthis.bpm.dispose();\n\t\tthis.bpm = null;\n\t\tthis._bpmMult.dispose();\n\t\tthis._bpmMult = null;\n\t\treturn this;\n\t};\n\n\t///////////////////////////////////////////////////////////////////////////////\n\t//\tTIMELINE EVENT\n\t///////////////////////////////////////////////////////////////////////////////\n\n\t/**\n\t *  @static\n\t *  @type {number}\n\t */\n\tvar TimelineEventIDCounter = 0;\n\n\t/**\n\t *  A Timeline event\n\t *\n\t *  @constructor\n\t *  @private\n\t *  @param {function(number)} callback   \n\t *  @param {Object}   context    \n\t *  @param {number}   tickTime\n \t *  @param {number}   startTicks\n\t */\n\tvar TimelineEvent = function(callback, context, tickTime, startTicks){\n\t\tthis.startTicks = startTicks;\n\t\tthis.tickTime = tickTime;\n\t\tthis.callback = callback;\n\t\tthis.context = context;\n\t\tthis.id = TimelineEventIDCounter++;\n\t};\n\t\n\t/**\n\t *  invoke the callback in the correct context\n\t *  passes in the playback time\n\t *  \n\t *  @param  {number} playbackTime \n\t */\n\tTimelineEvent.prototype.doCallback = function(playbackTime){\n\t\tthis.callback.call(this.context, playbackTime); \n\t};\n\n\t/**\n\t *  get the tick which the callback is supposed to occur on\n\t *  \n\t *  @return {number} \n\t */\n\tTimelineEvent.prototype.callbackTick = function(){\n\t\treturn this.startTicks + this.tickTime;\n\t};\n\n\t/**\n\t *  test if the tick occurs on the interval\n\t *  \n\t *  @param  {number} tick \n\t *  @return {boolean}      \n\t */\n\tTimelineEvent.prototype.testInterval = function(tick){\n\t\treturn (tick - this.startTicks) % this.tickTime === 0;\n\t};\n\n\n\t///////////////////////////////////////////////////////////////////////////////\n\t//\tAUGMENT TONE'S PROTOTYPE TO INCLUDE TRANSPORT TIMING\n\t///////////////////////////////////////////////////////////////////////////////\n\n\t/**\n\t *  tests if a string is musical notation\n\t *  i.e.:\n\t *  \t4n = quarter note\n\t *   \t2m = two measures\n\t *    \t8t = eighth-note triplet\n\t *  defined in \"Tone/core/Transport\"\n\t *  \n\t *  @return {boolean} \n\t *  @method isNotation\n\t *  @lends Tone.prototype.isNotation\n\t */\n\tTone.prototype.isNotation = (function(){\n\t\tvar notationFormat = new RegExp(/[0-9]+[mnt]$/i);\n\t\treturn function(note){\n\t\t\treturn notationFormat.test(note);\n\t\t};\n\t})();\n\n\t/**\n\t *  tests if a string is transportTime\n\t *  i.e. :\n\t *  \t1:2:0 = 1 measure + two quarter notes + 0 sixteenth notes\n\t *  defined in \"Tone/core/Transport\"\n\t *  \t\n\t *  @return {boolean} \n\t *\n\t *  @method isTransportTime\n\t *  @lends Tone.prototype.isTransportTime\n\t */\n\tTone.prototype.isTransportTime = (function(){\n\t\tvar transportTimeFormat = new RegExp(/^\\d+(\\.\\d+)?:\\d+(\\.\\d+)?(:\\d+(\\.\\d+)?)?$/i);\n\t\treturn function(transportTime){\n\t\t\treturn transportTimeFormat.test(transportTime);\n\t\t};\n\t})();\n\n\t/**\n\t *\n\t *  convert notation format strings to seconds\n\t *  defined in \"Tone/core/Transport\"\n\t *  \n\t *  @param  {string} notation     \n\t *  @param {number=} bpm \n\t *  @param {number=} timeSignature \n\t *  @return {number} \n\t *                \n\t */\n\tTone.prototype.notationToSeconds = function(notation, bpm, timeSignature){\n\t\tbpm = this.defaultArg(bpm, Tone.Transport.bpm.value);\n\t\ttimeSignature = this.defaultArg(timeSignature, transportTimeSignature);\n\t\tvar beatTime = (60 / bpm);\n\t\tvar subdivision = parseInt(notation, 10);\n\t\tvar beats = 0;\n\t\tif (subdivision === 0){\n\t\t\tbeats = 0;\n\t\t}\n\t\tvar lastLetter = notation.slice(-1);\n\t\tif (lastLetter === \"t\"){\n\t\t\tbeats = (4 / subdivision) * 2/3;\n\t\t} else if (lastLetter === \"n\"){\n\t\t\tbeats = 4 / subdivision;\n\t\t} else if (lastLetter === \"m\"){\n\t\t\tbeats = subdivision * timeSignature;\n\t\t} else {\n\t\t\tbeats = 0;\n\t\t}\n\t\treturn beatTime * beats;\n\t};\n\n\t/**\n\t *  convert transportTime into seconds\n\t *  defined in \"Tone/core/Transport\"\n\t *  \n\t *  ie: 4:2:3 == 4 measures + 2 quarters + 3 sixteenths\n\t *\n\t *  @param  {string} transportTime \n\t *  @param {number=} bpm \n\t *  @param {number=} timeSignature\n\t *  @return {number}               seconds\n\t *\n\t *  @lends Tone.prototype.transportTimeToSeconds\n\t */\n\tTone.prototype.transportTimeToSeconds = function(transportTime, bpm, timeSignature){\n\t\tbpm = this.defaultArg(bpm, Tone.Transport.bpm.value);\n\t\ttimeSignature = this.defaultArg(timeSignature, transportTimeSignature);\n\t\tvar measures = 0;\n\t\tvar quarters = 0;\n\t\tvar sixteenths = 0;\n\t\tvar split = transportTime.split(\":\");\n\t\tif (split.length === 2){\n\t\t\tmeasures = parseFloat(split[0]);\n\t\t\tquarters = parseFloat(split[1]);\n\t\t} else if (split.length === 1){\n\t\t\tquarters = parseFloat(split[0]);\n\t\t} else if (split.length === 3){\n\t\t\tmeasures = parseFloat(split[0]);\n\t\t\tquarters = parseFloat(split[1]);\n\t\t\tsixteenths = parseFloat(split[2]);\n\t\t}\n\t\tvar beats = (measures * timeSignature + quarters + sixteenths / 4);\n\t\treturn beats * this.notationToSeconds(\"4n\");\n\t};\n\n\t/**\n\t *  Convert seconds to the closest transportTime in the form \n\t *  \tmeasures:quarters:sixteenths\n\t *  defined in \"Tone/core/Transport\"\n\t *\n\t *  @method toTransportTime\n\t *  \n\t *  @param {Tone.Type.Time} seconds \n\t *  @param {number=} bpm \n\t *  @param {number=} timeSignature\n\t *  @return {string}  \n\t *  \n\t *  @lends Tone.prototype.toTransportTime\n\t */\n\tTone.prototype.toTransportTime = function(time, bpm, timeSignature){\n\t\tvar seconds = this.toSeconds(time, bpm, timeSignature);\n\t\tbpm = this.defaultArg(bpm, Tone.Transport.bpm.value);\n\t\ttimeSignature = this.defaultArg(timeSignature, transportTimeSignature);\n\t\tvar quarterTime = this.notationToSeconds(\"4n\");\n\t\tvar quarters = seconds / quarterTime;\n\t\tvar measures = Math.floor(quarters / timeSignature);\n\t\tvar sixteenths = Math.floor((quarters % 1) * 4);\n\t\tquarters = Math.floor(quarters) % timeSignature;\n\t\tvar progress = [measures, quarters, sixteenths];\n\t\treturn progress.join(\":\");\n\t};\n\n\t/**\n\t *  Convert a frequency representation into a number.\n\t *  Defined in \"Tone/core/Transport\".\n\t *  \t\n\t *  @param  {Tone.Type.Frequency} freq \n\t *  @param {number=} \tnow \tif passed in, this number will be \n\t *                        \t\tused for all 'now' relative timings\n\t *  @return {number}      the frequency in hertz\n\t */\n\tTone.prototype.toFrequency = function(freq, now){\n\t\tif (this.isFrequency(freq)){\n\t\t\treturn parseFloat(freq);\n\t\t} else if (this.isNotation(freq) || this.isTransportTime(freq)) {\n\t\t\treturn this.secondsToFrequency(this.toSeconds(freq, now));\n\t\t} else {\n\t\t\treturn freq;\n\t\t}\n\t};\n\n\t/**\n\t *  Convert Tone.Type.Time into seconds.\n\t *  Defined in \"Tone/core/Transport\".\n\t *  \n\t *  Unlike the method which it overrides, this takes into account \n\t *  transporttime and musical notation.\n\t *\n\t *  Time : 1.40\n\t *  Notation: 4n|1m|2t\n\t *  TransportTime: 2:4:1 (measure:quarters:sixteens)\n\t *  Now Relative: +3n\n\t *  Math: 3n+16n or even very complicated expressions ((3n*2)/6 + 1)\n\t *\n\t *  @override\n\t *  @param  {Tone.Type.Time} time       \n\t *  @param {number=} \tnow \tif passed in, this number will be \n\t *                        \t\tused for all 'now' relative timings\n\t *  @return {number} \n\t */\n\tTone.prototype.toSeconds = function(time, now){\n\t\tnow = this.defaultArg(now, this.now());\n\t\tif (typeof time === \"number\"){\n\t\t\treturn time; //assuming that it's seconds\n\t\t} else if (typeof time === \"string\"){\n\t\t\tvar plusTime = 0;\n\t\t\tif(time.charAt(0) === \"+\") {\n\t\t\t\tplusTime = now;\n\t\t\t\ttime = time.slice(1);\n\t\t\t} \n\t\t\tvar components = time.split(/[\\(\\)\\-\\+\\/\\*]/);\n\t\t\tif (components.length > 1){\n\t\t\t\tvar originalTime = time;\n\t\t\t\tfor(var i = 0; i < components.length; i++){\n\t\t\t\t\tvar symb = components[i].trim();\n\t\t\t\t\tif (symb !== \"\"){\n\t\t\t\t\t\tvar val = this.toSeconds(symb);\n\t\t\t\t\t\ttime = time.replace(symb, val);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ttry {\n\t\t\t\t\t//i know eval is evil, but i think it's safe here\n\t\t\t\t\ttime = eval(time); // jshint ignore:line\n\t\t\t\t} catch (e){\n\t\t\t\t\tthrow new EvalError(\"problem evaluating Tone.Type.Time: \"+originalTime);\n\t\t\t\t}\n\t\t\t} else if (this.isNotation(time)){\n\t\t\t\ttime = this.notationToSeconds(time);\n\t\t\t} else if (this.isTransportTime(time)){\n\t\t\t\ttime = this.transportTimeToSeconds(time);\n\t\t\t} else if (this.isFrequency(time)){\n\t\t\t\ttime = this.frequencyToSeconds(time);\n\t\t\t} else {\n\t\t\t\ttime = parseFloat(time);\n\t\t\t}\n\t\t\treturn time + plusTime;\n\t\t} else {\n\t\t\treturn now;\n\t\t}\n\t};\n\n\tvar TransportConstructor = Tone.Transport;\n\n\tTone._initAudioContext(function(){\n\t\tif (typeof Tone.Transport === \"function\"){\n\t\t\t//a single transport object\n\t\t\tTone.Transport = new Tone.Transport();\n\t\t} else {\n\t\t\t//stop the clock\n\t\t\tTone.Transport.stop();\n\t\t\t//get the previous bpm\n\t\t\tvar bpm = Tone.Transport.bpm.value;\n\t\t\t//destory the old clock\n\t\t\tTone.Transport._clock.dispose();\n\t\t\t//make new Transport insides\n\t\t\tTransportConstructor.call(Tone.Transport);\n\t\t\t//set the bpm\n\t\t\tTone.Transport.bpm.value = bpm;\n\t\t}\n\t});\n\n\treturn Tone.Transport;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/core/Transport.js\n ** module id = 3\n ** module chunks = 1\n **/","/**\n *  Tone.js\n *  @author Yotam Mann\n *  @license http://opensource.org/licenses/MIT MIT License\n *  @copyright 2014-2015 Yotam Mann\n */\ndefine(function(){\n\n\t\"use strict\";\n\n\t//////////////////////////////////////////////////////////////////////////\n\t//\tWEB AUDIO CONTEXT\n\t///////////////////////////////////////////////////////////////////////////\n\n\t//borrowed from underscore.js\n\tfunction isUndef(val){\n\t\treturn val === void 0;\n\t}\n\n\t//borrowed from underscore.js\n\tfunction isFunction(val){\n\t\treturn typeof val === \"function\";\n\t}\n\n\tvar audioContext;\n\n\t//polyfill for AudioContext and OfflineAudioContext\n\tif (isUndef(window.AudioContext)){\n\t\twindow.AudioContext = window.webkitAudioContext;\n\t} \n\tif (isUndef(window.OfflineAudioContext)){\n\t\twindow.OfflineAudioContext = window.webkitOfflineAudioContext;\n\t} \n\n\tif (!isUndef(AudioContext)){\n\t\taudioContext = new AudioContext();\n\t} else {\n\t\tthrow new Error(\"Web Audio is not supported in this browser\");\n\t}\n\n\t//SHIMS////////////////////////////////////////////////////////////////////\n\n\tif (!isFunction(AudioContext.prototype.createGain)){\n\t\tAudioContext.prototype.createGain = AudioContext.prototype.createGainNode;\n\t}\n\tif (!isFunction(AudioContext.prototype.createDelay)){\n\t\tAudioContext.prototype.createDelay = AudioContext.prototype.createDelayNode;\n\t}\n\tif (!isFunction(AudioContext.prototype.createPeriodicWave)){\n\t\tAudioContext.prototype.createPeriodicWave = AudioContext.prototype.createWaveTable;\n\t}\n\tif (!isFunction(AudioBufferSourceNode.prototype.start)){\n\t\tAudioBufferSourceNode.prototype.start = AudioBufferSourceNode.prototype.noteGrainOn;\n\t}\n\tif (!isFunction(AudioBufferSourceNode.prototype.stop)){\n\t\tAudioBufferSourceNode.prototype.stop = AudioBufferSourceNode.prototype.noteOff;\n\t}\n\tif (!isFunction(OscillatorNode.prototype.start)){\n\t\tOscillatorNode.prototype.start = OscillatorNode.prototype.noteOn;\n\t}\n\tif (!isFunction(OscillatorNode.prototype.stop)){\n\t\tOscillatorNode.prototype.stop = OscillatorNode.prototype.noteOff;\t\n\t}\n\tif (!isFunction(OscillatorNode.prototype.setPeriodicWave)){\n\t\tOscillatorNode.prototype.setPeriodicWave = OscillatorNode.prototype.setWaveTable;\t\n\t}\n\t//extend the connect function to include Tones\n\tAudioNode.prototype._nativeConnect = AudioNode.prototype.connect;\n\tAudioNode.prototype.connect = function(B, outNum, inNum){\n\t\tif (B.input){\n\t\t\tif (Array.isArray(B.input)){\n\t\t\t\tif (isUndef(inNum)){\n\t\t\t\t\tinNum = 0;\n\t\t\t\t}\n\t\t\t\tthis.connect(B.input[inNum]);\n\t\t\t} else {\n\t\t\t\tthis.connect(B.input, outNum, inNum);\n\t\t\t}\n\t\t} else {\n\t\t\ttry {\n\t\t\t\tif (B instanceof AudioNode){\n\t\t\t\t\tthis._nativeConnect(B, outNum, inNum);\n\t\t\t\t} else {\n\t\t\t\t\tthis._nativeConnect(B, outNum);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tthrow new Error(\"error connecting to node: \"+B);\n\t\t\t}\n\t\t}\n\t};\n\n\t///////////////////////////////////////////////////////////////////////////\n\t//\tTONE\n\t///////////////////////////////////////////////////////////////////////////\n\n\t/**\n\t *  @class  Tone is the base class of all other classes.  \n\t *  \n\t *  @constructor\n\t *  @alias Tone\n\t *  @param {number} [inputs=1] the number of input nodes\n\t *  @param {number} [outputs=1] the number of output nodes\n\t */\n\tvar Tone = function(inputs, outputs){\n\n\t\t/**\n\t\t *  the input node(s)\n\t\t *  @type {GainNode|Array}\n\t\t */\n\t\tif (isUndef(inputs) || inputs === 1){\n\t\t\tthis.input = this.context.createGain();\n\t\t} else if (inputs > 1){\n\t\t\tthis.input = new Array(inputs);\n\t\t}\n\n\t\t/**\n\t\t *  the output node(s)\n\t\t *  @type {GainNode|Array}\n\t\t */\n\t\tif (isUndef(outputs) || outputs === 1){\n\t\t\tthis.output = this.context.createGain();\n\t\t} else if (outputs > 1){\n\t\t\tthis.output = new Array(inputs);\n\t\t}\n\t};\n\n\t/**\n\t *  Set the parameters at once. Either pass in an\n\t *  object mapping parameters to values, or to set a\n\t *  single parameter, by passing in a string and value.\n\t *  The last argument is an optional ramp time which \n\t *  will ramp any signal values to their destination value\n\t *  over the duration of the rampTime.\n\t *  @param {Object|string} params\n\t *  @param {number=} value\n\t *  @param {Tone.Type.Time=} rampTime\n\t *  @returns {Tone} `this`\n\t *  @example\n\t *  //set values using an object\n\t *  filter.set({\n\t *  \t\"frequency\" : 300,\n\t *  \t\"type\" : highpass\n\t *  });\n\t *  //or\n\t *  filter.set(\"type\", \"highpass\");\n\t *  //ramp to the value 220 over 3 seconds. \n\t *  oscillator.set({\n\t *  \t\"frequency\" : 220\n\t *  }, 3);\n\t */\n\tTone.prototype.set = function(params, value, rampTime){\n\t\tif (typeof params === \"object\"){\n\t\t\trampTime = value;\n\t\t} else if (typeof params === \"string\"){\n\t\t\tvar tmpObj = {};\n\t\t\ttmpObj[params] = value;\n\t\t\tparams = tmpObj;\n\t\t}\n\t\tfor (var attr in params){\n\t\t\tvalue = params[attr];\n\t\t\tvar parent = this;\n\t\t\tif (attr.indexOf(\".\") !== -1){\n\t\t\t\tvar attrSplit = attr.split(\".\");\n\t\t\t\tfor (var i = 0; i < attrSplit.length - 1; i++){\n\t\t\t\t\tparent = parent[attrSplit[i]];\n\t\t\t\t}\n\t\t\t\tattr = attrSplit[attrSplit.length - 1];\n\t\t\t}\n\t\t\tvar param = parent[attr];\n\t\t\tif (isUndef(param)){\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (param instanceof Tone.Signal){\n\t\t\t\tif (param.value !== value){\n\t\t\t\t\tif (isUndef(rampTime)){\n\t\t\t\t\t\tparam.value = value;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tparam.rampTo(value, rampTime);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (param instanceof AudioParam){\n\t\t\t\tif (param.value !== value){\n\t\t\t\t\tparam.value = value;\n\t\t\t\t}\t\t\t\t\n\t\t\t} else if (param instanceof Tone){\n\t\t\t\tparam.set(value);\n\t\t\t} else if (param !== value){\n\t\t\t\tparent[attr] = value;\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t};\n\n\t/**\n\t *  Get the object's attributes. Given no arguments `get`\n\t *  will return all available object properties and their corresponding\n\t *  values. Pass in a single attribute to retrieve or an array\n\t *  of attributes. The attribute strings can also include a \".\"\n\t *  to access deeper properties.\n\t *  @example\n\t * osc.get();\n\t * //returns {\"type\" : \"sine\", \"frequency\" : 440, ...etc}\n\t *  @example\n\t * osc.get(\"type\");\n\t * //returns { \"type\" : \"sine\"}\n\t * @example\n\t * //use dot notation to access deep properties\n\t * synth.get([\"envelope.attack\", \"envelope.release\"]);\n\t * //returns {\"envelope\" : {\"attack\" : 0.2, \"release\" : 0.4}}\n\t *  @param {Array=|string|undefined} params the parameters to get, otherwise will return \n\t *  \t\t\t\t\t                  all available.\n\t *  @returns {Object}\n\t */\n\tTone.prototype.get = function(params){\n\t\tif (isUndef(params)){\n\t\t\tparams = this._collectDefaults(this.constructor);\n\t\t} else if (typeof params === \"string\"){\n\t\t\tparams = [params];\n\t\t} \n\t\tvar ret = {};\n\t\tfor (var i = 0; i < params.length; i++){\n\t\t\tvar attr = params[i];\n\t\t\tvar parent = this;\n\t\t\tvar subRet = ret;\n\t\t\tif (attr.indexOf(\".\") !== -1){\n\t\t\t\tvar attrSplit = attr.split(\".\");\n\t\t\t\tfor (var j = 0; j < attrSplit.length - 1; j++){\n\t\t\t\t\tvar subAttr = attrSplit[j];\n\t\t\t\t\tsubRet[subAttr] = subRet[subAttr] || {};\n\t\t\t\t\tsubRet = subRet[subAttr];\n\t\t\t\t\tparent = parent[subAttr];\n\t\t\t\t}\n\t\t\t\tattr = attrSplit[attrSplit.length - 1];\n\t\t\t}\n\t\t\tvar param = parent[attr];\n\t\t\tif (typeof params[attr] === \"object\"){\n\t\t\t\tsubRet[attr] = param.get();\n\t\t\t} else if (param instanceof Tone.Signal){\n\t\t\t\tsubRet[attr] = param.value;\n\t\t\t} else if (param instanceof AudioParam){\n\t\t\t\tsubRet[attr] = param.value;\n\t\t\t} else if (param instanceof Tone){\n\t\t\t\tsubRet[attr] = param.get();\n\t\t\t} else if (!isFunction(param) && !isUndef(param)){\n\t\t\t\tsubRet[attr] = param;\n\t\t\t} \n\t\t}\n\t\treturn ret;\n\t};\n\n\t/**\n\t *  collect all of the default attributes in one\n\t *  @private\n\t *  @param {function} constr the constructor to find the defaults from\n\t *  @return {Array} all of the attributes which belong to the class\n\t */\n\tTone.prototype._collectDefaults = function(constr){\n\t\tvar ret = [];\n\t\tif (!isUndef(constr.defaults)){\n\t\t\tret = Object.keys(constr.defaults);\n\t\t}\n\t\tif (!isUndef(constr._super)){\n\t\t\tvar superDefs = this._collectDefaults(constr._super);\n\t\t\t//filter out repeats\n\t\t\tfor (var i = 0; i < superDefs.length; i++){\n\t\t\t\tif (ret.indexOf(superDefs[i]) === -1){\n\t\t\t\t\tret.push(superDefs[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn ret;\n\t};\n\n\t/**\n\t *  Set the preset if it exists. \n\t *  @param {string} presetName the name of the preset\n\t *  @returns {Tone} `this`\n\t */\n\tTone.prototype.setPreset = function(presetName){\n\t\tif (!this.isUndef(this.preset) && this.preset.hasOwnProperty(presetName)){\n\t\t\tthis.set(this.preset[presetName]);\n\t\t}\n\t\treturn this;\n\t};\n\n\t/**\n\t *  @returns {string} returns the name of the class as a string\n\t */\n\tTone.prototype.toString = function(){\n\t\tfor (var className in Tone){\n\t\t\tvar isLetter = className[0].match(/^[A-Z]$/);\n\t\t\tvar sameConstructor =  Tone[className] === this.constructor;\n\t\t\tif (isFunction(Tone[className]) && isLetter && sameConstructor){\n\t\t\t\treturn className;\n\t\t\t}\n\t\t}\n\t\treturn \"Tone\";\n\t};\n\n\t///////////////////////////////////////////////////////////////////////////\n\t//\tCLASS VARS\n\t///////////////////////////////////////////////////////////////////////////\n\n\t/**\n\t *  A static pointer to the audio context accessible as `Tone.context`. \n\t *  @type {AudioContext}\n\t */\n\tTone.context = audioContext;\n\n\t/**\n\t *  The audio context.\n\t *  @type {AudioContext}\n\t */\n\tTone.prototype.context = Tone.context;\n\n\t/**\n\t *  the default buffer size\n\t *  @type {number}\n\t *  @static\n\t *  @const\n\t */\n\tTone.prototype.bufferSize = 2048;\n\n\t/**\n\t *  the delay time of a single buffer frame\n\t *  @type {number}\n\t *  @static\n\t *  @const\n\t */\n\tTone.prototype.bufferTime = Tone.prototype.bufferSize / Tone.context.sampleRate;\n\t\n\t///////////////////////////////////////////////////////////////////////////\n\t//\tCONNECTIONS\n\t///////////////////////////////////////////////////////////////////////////\n\n\t/**\n\t *  disconnect and dispose\n\t *  @returns {Tone} `this`\n\t */\n\tTone.prototype.dispose = function(){\n\t\tif (!this.isUndef(this.input)){\n\t\t\tif (this.input instanceof AudioNode){\n\t\t\t\tthis.input.disconnect();\n\t\t\t} \n\t\t\tthis.input = null;\n\t\t}\n\t\tif (!this.isUndef(this.output)){\n\t\t\tif (this.output instanceof AudioNode){\n\t\t\t\tthis.output.disconnect();\n\t\t\t} \n\t\t\tthis.output = null;\n\t\t}\n\t\treturn this;\n\t};\n\n\t/**\n\t *  a silent connection to the DesinationNode\n\t *  which will ensure that anything connected to it\n\t *  will not be garbage collected\n\t *  \n\t *  @private\n\t */\n\tvar _silentNode = null;\n\n\t/**\n\t *  makes a connection to ensure that the node will not be garbage collected\n\t *  until 'dispose' is explicitly called\n\t *\n\t *  use carefully. circumvents JS and WebAudio's normal Garbage Collection behavior\n\t *  @returns {Tone} `this`\n\t */\n\tTone.prototype.noGC = function(){\n\t\tthis.output.connect(_silentNode);\n\t\treturn this;\n\t};\n\n\tAudioNode.prototype.noGC = function(){\n\t\tthis.connect(_silentNode);\n\t\treturn this;\n\t};\n\n\t/**\n\t *  connect the output of a ToneNode to an AudioParam, AudioNode, or ToneNode\n\t *  @param  {Tone | AudioParam | AudioNode} unit \n\t *  @param {number} [outputNum=0] optionally which output to connect from\n\t *  @param {number} [inputNum=0] optionally which input to connect to\n\t *  @returns {Tone} `this`\n\t */\n\tTone.prototype.connect = function(unit, outputNum, inputNum){\n\t\tif (Array.isArray(this.output)){\n\t\t\toutputNum = this.defaultArg(outputNum, 0);\n\t\t\tthis.output[outputNum].connect(unit, 0, inputNum);\n\t\t} else {\n\t\t\tthis.output.connect(unit, outputNum, inputNum);\n\t\t}\n\t\treturn this;\n\t};\n\n\t/**\n\t *  disconnect the output\n\t *  @returns {Tone} `this`\n\t */\n\tTone.prototype.disconnect = function(outputNum){\n\t\tif (Array.isArray(this.output)){\n\t\t\toutputNum = this.defaultArg(outputNum, 0);\n\t\t\tthis.output[outputNum].disconnect();\n\t\t} else {\n\t\t\tthis.output.disconnect();\n\t\t}\n\t\treturn this;\n\t};\n\n\t/**\n\t *  connect together all of the arguments in series\n\t *  @param {...AudioParam|Tone|AudioNode}\n\t *  @returns {Tone} `this`\n\t */\n\tTone.prototype.connectSeries = function(){\n\t\tif (arguments.length > 1){\n\t\t\tvar currentUnit = arguments[0];\n\t\t\tfor (var i = 1; i < arguments.length; i++){\n\t\t\t\tvar toUnit = arguments[i];\n\t\t\t\tcurrentUnit.connect(toUnit);\n\t\t\t\tcurrentUnit = toUnit;\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t};\n\n\t/**\n\t *  fan out the connection from the first argument to the rest of the arguments\n\t *  @param {...AudioParam|Tone|AudioNode}\n\t *  @returns {Tone} `this`\n\t */\n\tTone.prototype.connectParallel = function(){\n\t\tvar connectFrom = arguments[0];\n\t\tif (arguments.length > 1){\n\t\t\tfor (var i = 1; i < arguments.length; i++){\n\t\t\t\tvar connectTo = arguments[i];\n\t\t\t\tconnectFrom.connect(connectTo);\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t};\n\n\t/**\n\t *  Connect the output of this node to the rest of the nodes in series.\n\t *  @example\n\t *  //connect a node to an effect, panVol and then to the master output\n\t *  node.chain(effect, panVol, Tone.Master);\n\t *  @param {...AudioParam|Tone|AudioNode} nodes\n\t *  @returns {Tone} `this`\n\t */\n\tTone.prototype.chain = function(){\n\t\tif (arguments.length > 0){\n\t\t\tvar currentUnit = this;\n\t\t\tfor (var i = 0; i < arguments.length; i++){\n\t\t\t\tvar toUnit = arguments[i];\n\t\t\t\tcurrentUnit.connect(toUnit);\n\t\t\t\tcurrentUnit = toUnit;\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t};\n\n\t/**\n\t *  connect the output of this node to the rest of the nodes in parallel.\n\t *  @param {...AudioParam|Tone|AudioNode}\n\t *  @returns {Tone} `this`\n\t */\n\tTone.prototype.fan = function(){\n\t\tif (arguments.length > 0){\n\t\t\tfor (var i = 0; i < arguments.length; i++){\n\t\t\t\tthis.connect(arguments[i]);\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t};\n\n\t//give native nodes chain and fan methods\n\tAudioNode.prototype.chain = Tone.prototype.chain;\n\tAudioNode.prototype.fan = Tone.prototype.fan;\n\n\t///////////////////////////////////////////////////////////////////////////\n\t//\tUTILITIES / HELPERS / MATHS\n\t///////////////////////////////////////////////////////////////////////////\n\n\t/**\n\t *  if a the given is undefined, use the fallback. \n\t *  if both given and fallback are objects, given\n\t *  will be augmented with whatever properties it's\n\t *  missing which are in fallback\n\t *\n\t *  warning: if object is self referential, it will go into an an \n\t *  infinite recursive loop. \n\t *  \n\t *  @param  {*} given    \n\t *  @param  {*} fallback \n\t *  @return {*}          \n\t */\n\tTone.prototype.defaultArg = function(given, fallback){\n\t\tif (typeof given === \"object\" && typeof fallback === \"object\"){\n\t\t\tvar ret = {};\n\t\t\t//make a deep copy of the given object\n\t\t\tfor (var givenProp in given) {\n\t\t\t\tret[givenProp] = this.defaultArg(given[givenProp], given[givenProp]);\n\t\t\t}\n\t\t\tfor (var prop in fallback) {\n\t\t\t\tret[prop] = this.defaultArg(given[prop], fallback[prop]);\n\t\t\t}\n\t\t\treturn ret;\n\t\t} else {\n\t\t\treturn isUndef(given) ? fallback : given;\n\t\t}\n\t};\n\n\t/**\n\t *  returns the args as an options object with given arguments\n\t *  mapped to the names provided. \n\t *\n\t *  if the args given is an array containing an object, it is assumed\n\t *  that that's already the options object and will just return it. \n\t *  \n\t *  @param  {Array} values  the 'arguments' object of the function\n\t *  @param  {Array} keys the names of the arguments as they\n\t *                                 should appear in the options object\n\t *  @param {Object=} defaults optional defaults to mixin to the returned \n\t *                            options object                              \n\t *  @return {Object}       the options object with the names mapped to the arguments\n\t */\n\tTone.prototype.optionsObject = function(values, keys, defaults){\n\t\tvar options = {};\n\t\tif (values.length === 1 && typeof values[0] === \"object\"){\n\t\t\toptions = values[0];\n\t\t} else {\n\t\t\tfor (var i = 0; i < keys.length; i++){\n\t\t\t\toptions[keys[i]] = values[i];\n\t\t\t}\n\t\t}\n\t\tif (!this.isUndef(defaults)){\n\t\t\treturn this.defaultArg(options, defaults);\n\t\t} else {\n\t\t\treturn options;\n\t\t}\n\t};\n\n\t/**\n\t *  test if the arg is undefined\n\t *  @param {*} arg the argument to test\n\t *  @returns {boolean} true if the arg is undefined\n\t *  @function\n\t */\n\tTone.prototype.isUndef = isUndef;\n\n\t/**\n\t *  test if the arg is a function\n\t *  @param {*} arg the argument to test\n\t *  @returns {boolean} true if the arg is a function\n\t *  @function\n\t */\n\tTone.prototype.isFunction = isFunction;\n\n\t/**\n\t *  Make the property not writable. Internal use only. \n\t *  @private\n\t *  @param  {string}  property  the property to make not writable\n\t */\n\tTone.prototype._readOnly = function(property){\n\t\tif (Array.isArray(property)){\n\t\t\tfor (var i = 0; i < property.length; i++){\n\t\t\t\tthis._readOnly(property[i]);\n\t\t\t}\n\t\t} else {\n\t\t\tObject.defineProperty(this, property, { \n\t\t\t\twritable: false,\n\t\t\t\tenumerable : true,\n\t\t\t});\n\t\t}\n\t};\n\n\t/**\n\t *  Make an attribute writeable. Interal use only. \n\t *  @private\n\t *  @param  {string}  property  the property to make writable\n\t */\n\tTone.prototype._writable = function(property){\n\t\tif (Array.isArray(property)){\n\t\t\tfor (var i = 0; i < property.length; i++){\n\t\t\t\tthis._writable(property[i]);\n\t\t\t}\n\t\t} else {\n\t\t\tObject.defineProperty(this, property, { \n\t\t\t\twritable: true,\n\t\t\t});\n\t\t}\n\t};\n\n\t///////////////////////////////////////////////////////////////////////////\n\t// GAIN CONVERSIONS\n\t///////////////////////////////////////////////////////////////////////////\n\n\t/**\n\t *  equal power gain scale\n\t *  good for cross-fading\n\t *  @param  {number} percent (0-1)\n\t *  @return {number}         output gain (0-1)\n\t */\n\tTone.prototype.equalPowerScale = function(percent){\n\t\tvar piFactor = 0.5 * Math.PI;\n\t\treturn Math.sin(percent * piFactor);\n\t};\n\n\t/**\n\t *  convert db scale to gain scale (0-1)\n\t *  @param  {number} db\n\t *  @return {number}   \n\t */\n\tTone.prototype.dbToGain = function(db) {\n\t\treturn Math.pow(2, db / 6);\n\t};\n\n\t/**\n\t *  convert gain scale to decibels\n\t *  @param  {number} gain (0-1)\n\t *  @return {number}   \n\t */\n\tTone.prototype.gainToDb = function(gain) {\n\t\treturn  20 * (Math.log(gain) / Math.LN10);\n\t};\n\n\t///////////////////////////////////////////////////////////////////////////\n\t//\tTIMING\n\t///////////////////////////////////////////////////////////////////////////\n\n\t/**\n\t *  @return {number} the currentTime from the AudioContext\n\t */\n\tTone.prototype.now = function(){\n\t\treturn this.context.currentTime;\n\t};\n\n\t/**\n\t *  convert a sample count to seconds\n\t *  @param  {number} samples \n\t *  @return {number}         \n\t */\n\tTone.prototype.samplesToSeconds = function(samples){\n\t\treturn samples / this.context.sampleRate;\n\t};\n\n\t/**\n\t *  convert a time into samples\n\t *  \n\t *  @param  {Tone.time} time\n\t *  @return {number}         \n\t */\n\tTone.prototype.toSamples = function(time){\n\t\tvar seconds = this.toSeconds(time);\n\t\treturn Math.round(seconds * this.context.sampleRate);\n\t};\n\n\t/**\n\t *  convert time to seconds\n\t *\n\t *  this is a simplified version which only handles numbers and \n\t *  'now' relative numbers. If the Transport is included this \n\t *  method is overridden to include many other features including \n\t *  notationTime, Frequency, and transportTime\n\t *  \n\t *  @param  {number=} time \n\t *  @param {number=} now if passed in, this number will be \n\t *                       used for all 'now' relative timings\n\t *  @return {number}   \tseconds in the same timescale as the AudioContext\n\t */\n\tTone.prototype.toSeconds = function(time, now){\n\t\tnow = this.defaultArg(now, this.now());\n\t\tif (typeof time === \"number\"){\n\t\t\treturn time; //assuming that it's seconds\n\t\t} else if (typeof time === \"string\"){\n\t\t\tvar plusTime = 0;\n\t\t\tif(time.charAt(0) === \"+\") {\n\t\t\t\ttime = time.slice(1);\t\n\t\t\t\tplusTime = now;\t\t\t\n\t\t\t} \n\t\t\treturn parseFloat(time) + plusTime;\n\t\t} else {\n\t\t\treturn now;\n\t\t}\n\t};\n\n\t///////////////////////////////////////////////////////////////////////////\n\t// FREQUENCY CONVERSION\n\t///////////////////////////////////////////////////////////////////////////\n\n\t/**\n\t *  true if the input is in the format number+hz\n\t *  i.e.: 10hz\n\t *\n\t *  @param {number} freq \n\t *  @return {boolean} \n\t *  @function\n\t */\n\tTone.prototype.isFrequency = (function(){\n\t\tvar freqFormat = new RegExp(/\\d*\\.?\\d+hz$/i);\n\t\treturn function(freq){\n\t\t\treturn freqFormat.test(freq);\n\t\t};\n\t})();\n\n\t/**\n\t *  Convert a frequency into seconds.\n\t *  Accepts numbers and strings: i.e. `\"10hz\"` or \n\t *  `10` both return `0.1`. \n\t *  \n\t *  @param  {number|string} freq \n\t *  @return {number}      \n\t */\n\tTone.prototype.frequencyToSeconds = function(freq){\n\t\treturn 1 / parseFloat(freq);\n\t};\n\n\t/**\n\t *  Convert a number in seconds to a frequency.\n\t *  @param  {number} seconds \n\t *  @return {number}         \n\t */\n\tTone.prototype.secondsToFrequency = function(seconds){\n\t\treturn 1/seconds;\n\t};\n\n\t///////////////////////////////////////////////////////////////////////////\n\t//\tINHERITANCE\n\t///////////////////////////////////////////////////////////////////////////\n\n\t/**\n\t *  have a child inherit all of Tone's (or a parent's) prototype\n\t *  to inherit the parent's properties, make sure to call \n\t *  Parent.call(this) in the child's constructor\n\t *\n\t *  based on closure library's inherit function\n\t *\n\t *  @static\n\t *  @param  {function} \tchild  \n\t *  @param  {function=} parent (optional) parent to inherit from\n\t *                             if no parent is supplied, the child\n\t *                             will inherit from Tone\n\t */\n\tTone.extend = function(child, parent){\n\t\tif (isUndef(parent)){\n\t\t\tparent = Tone;\n\t\t}\n\t\tfunction TempConstructor(){}\n\t\tTempConstructor.prototype = parent.prototype;\n\t\tchild.prototype = new TempConstructor();\n\t\t/** @override */\n\t\tchild.prototype.constructor = child;\n\t\tchild._super = parent;\n\t};\n\n\t///////////////////////////////////////////////////////////////////////////\n\t//\tTYPES / STATES\n\t///////////////////////////////////////////////////////////////////////////\n\n\t/**\n\t * Possible types which a value can take on\n\t * @enum {string}\n\t */\n\tTone.Type = {\n\t\t/** \n\t\t *  The default value is a number which can take on any value between [-Infinity, Infinity]\n\t\t */\n\t\tDefault : \"number\",\n\t\t/**\n\t\t *  Time can be descibed in a number of ways. \n\t\t *  Any Method which accepts Tone.Type.Time as a parameter will accept: \n\t\t *  <ul>\n\t\t *  <li>Numbers, which will be taken literally as the time (in seconds). </li>\n\t\t *  \n\t\t *  <li>Notation, (\"4n\", \"8t\") describes time in BPM and time signature relative values. </li>\n\t\t *  \n\t\t *  <li>Transport Time, (\"4:3:2\") will also provide tempo and time signature relative times \n\t\t *  in the form BARS:QUARTERS:SIXTEENTHS.</li>\n\t\t *  \n\t\t *  <li>Frequency, (\"8hz\") is converted to the length of the cycle in seconds.</li>\n\t\t *  \n\t\t *  <li>Now-Relative, (\"+1\") prefix any of the above with \"+\" and it will be interpreted as \n\t\t *  \"the current time plus whatever expression follows\".</li>\n\t\t *  \n\t\t *  <li>Expressions, (\"3:0 + 2 - (1m / 7)\") any of the above can also be combined \n\t\t *  into a mathematical expression which will be evaluated to compute the desired time.</li>\n\t\t *  \n\t\t *  <li>No Argument, for methods which accept time, no argument will be interpreted as \n\t\t *  \"now\" (i.e. the currentTime).</li>\n\t\t *  </ul>\n\t\t *  [Time Wiki](https://github.com/TONEnoTONE/Tone.js/wiki/Time)\n\t\t *  @typedef {Tone.Type.Time}\n\t\t */\n\t\tTime : \"time\",\n\t\t/**\n\t\t *  Frequency can be described similar to time, except ultimately the\n\t\t *  values are converted to frequency instead of seconds. A number\n\t\t *  is taken literally as the value in hertz. Additionally any of the \n\t\t *  Tone.Type.Time encodings can be used. Note names in the form\n\t\t *  of NOTE OCTAVE (i.e. `C4`) are also accepted and converted to their\n\t\t *  frequency value. \n\t\t *  @typedef {Tone.Type.Frequency}\n\t\t */\n\t\tFrequency : \"frequency\",\n\t\t/**\n\t\t * Gain is the ratio between the input and the output value of a signal.\n\t\t *  @typedef {Tone.Type.Gain}\n\t\t */\n\t\tGain : \"gain\",\n\t\t/** \n\t\t *  Normal values are within the range of [0-1].\n\t\t *  @typedef {Tone.Type.NormalRange}\n\t\t */\n\t\tNormalRange : \"normalrange\",\n\t\t/** \n\t\t *  AudioRange values are between [-1, 1].\n\t\t *  @typedef {Tone.Type.AudioRange}\n\t\t */\n\t\tAudioRange : \"audiorange\",\n\t\t/** \n\t\t *  Decibels are a logarithmic unit of measurement which is useful for volume\n\t\t *  because of the logarithmic way that we perceive loudness. 0 decibels \n\t\t *  means no change in volume. -10db is approximately half as loud and 10db \n\t\t *  is twice is loud. \n\t\t *  @typedef {Tone.Type.Decibels}\n\t\t */\n\t\tDecibels : \"db\",\n\t\t/** \n\t\t *  Half-step note increments, i.e. 12 is an octave above the root. and 1 is a half-step up.\n\t\t *  @typedef {Tone.Type.Interval}\n\t\t */\n\t\tInterval : \"interval\",\n\t\t/** \n\t\t *  Beats per minute. \n\t\t *  @typedef {Tone.Type.BPM}\n\t\t */\n\t\tBPM : \"bpm\",\n\t\t/** \n\t\t *  The value must be greater than 0.\n\t\t *  @typedef {Tone.Type.Positive}\n\t\t */\n\t\tPositive : \"positive\",\n\t\t/** \n\t\t *  A cent is a hundreth of a semitone. \n\t\t *  @typedef {Tone.Type.Cents}\n\t\t */\n\t\tCents : \"cents\",\n\t\t/** \n\t\t *  Degrees (0 - 360)\n\t\t *  @typedef {Tone.Type.Degrees}\n\t\t */\n\t\tDegrees : \"degrees\"\n\t};\n\n\t/**\n\t * Possible play states. \n\t * @enum {string}\n\t */\n\tTone.State = {\n\t\tStarted : \"started\",\n\t\tStopped : \"stopped\",\n\t\tPaused : \"paused\",\n \t};\n\n\t///////////////////////////////////////////////////////////////////////////\n\t//\tCONTEXT\n\t///////////////////////////////////////////////////////////////////////////\n\n\t/**\n\t *  array of callbacks to be invoked when a new context is added\n\t *  @private \n\t *  @private\n\t */\n\tvar newContextCallbacks = [];\n\n\t/**\n\t *  invoke this callback when a new context is added\n\t *  will be invoked initially with the first context\n\t *  @private \n\t *  @static\n\t *  @param {function(AudioContext)} callback the callback to be invoked\n\t *                                           with the audio context\n\t */\n\tTone._initAudioContext = function(callback){\n\t\t//invoke the callback with the existing AudioContext\n\t\tcallback(Tone.context);\n\t\t//add it to the array\n\t\tnewContextCallbacks.push(callback);\n\t};\n\n\t/**\n\t *  Tone.js automatically creates a context on init, but if you are working\n\t *  with other libraries which also create an AudioContext, it can be\n\t *  useful to set your own. If you are going to set your own context, \n\t *  be sure to do it at the start of your code, before creating any objects.\n\t *  @static\n\t *  @param {AudioContext} ctx The new audio context to set\n\t */\n\tTone.setContext = function(ctx){\n\t\t//set the prototypes\n\t\tTone.prototype.context = ctx;\n\t\tTone.context = ctx;\n\t\t//invoke all the callbacks\n\t\tfor (var i = 0; i < newContextCallbacks.length; i++){\n\t\t\tnewContextCallbacks[i](ctx);\n\t\t}\n\t};\n\n\t/**\n\t *  Bind this to a touchstart event to start the audio on mobile devices. \n\t *  <br>\n\t *  http://stackoverflow.com/questions/12517000/no-sound-on-ios-6-web-audio-api/12569290#12569290\n\t *  @static\n\t */\n\tTone.startMobile = function(){\n\t\tvar osc = Tone.context.createOscillator();\n\t\tvar silent = Tone.context.createGain();\n\t\tsilent.gain.value = 0;\n\t\tosc.connect(silent);\n\t\tsilent.connect(Tone.context.destination);\n\t\tvar now = Tone.context.currentTime;\n\t\tosc.start(now);\n\t\tosc.stop(now+1);\n\t};\n\n\t//setup the context\n\tTone._initAudioContext(function(audioContext){\n\t\t//set the bufferTime\n\t\tTone.prototype.bufferTime = Tone.prototype.bufferSize / audioContext.sampleRate;\n\t\t_silentNode = audioContext.createGain();\n\t\t_silentNode.gain.value = 0;\n\t\t_silentNode.connect(audioContext.destination);\n\t});\n\n\tTone.version = \"r5-dev\";\n\n\tconsole.log(\"%c * Tone.js \" + Tone.version + \" * \", \"background: #000; color: #fff\");\n\n\treturn Tone;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/core/Tone.js\n ** module id = 4\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/signal/Signal\"], function(Tone){\n\n\t\"use strict\";\n\t\n\t/**\n\t *  @class  a sample accurate clock built on an oscillator.\n\t *          Invokes the tick method at the set rate\n\t *\n\t * \t@constructor\n\t * \t@extends {Tone}\n\t * \t@param {Tone.Type.Frequency} frequency the rate of the callback\n\t * \t@param {function} callback the callback to be invoked with the time of the audio event\n\t */\n\tTone.Clock = function(frequency, callback){\n\n\t\t/**\n\t\t *  the oscillator\n\t\t *  @type {OscillatorNode}\n\t\t *  @private\n\t\t */\n\t\tthis._oscillator = null;\n\n\t\t/**\n\t\t *  the script processor which listens to the oscillator\n\t\t *  @type {ScriptProcessorNode}\n\t\t *  @private\n\t\t */\n\t\tthis._jsNode = this.context.createScriptProcessor(this.bufferSize, 1, 1);\n\t\tthis._jsNode.onaudioprocess = this._processBuffer.bind(this);\n\n\t\t/**\n\t\t *  the rate control signal\n\t\t *  @type {Tone.Signal}\n\t\t */\n\t\tthis.frequency = new Tone.Signal(frequency, Tone.Type.Frequency);\n\n\t\t/**\n\t\t *  whether the tick is on the up or down\n\t\t *  @type {boolean}\n\t\t *  @private\n\t\t */\n\t\tthis._upTick = false;\n\n\t\t/**\n\t\t *  the callback which is invoked on every tick\n\t\t *  with the time of that tick as the argument\n\t\t *  @type {function(number)}\n\t\t */\n\t\tthis.tick = callback;\n\n\t\t/**\n\t\t * Callback is invoked when the clock is stopped.\n\t\t * @type {function}\n\t\t * @example\n\t\t *  clock.onended = function(){\n\t\t *  \tconsole.log(\"the clock is stopped\");\n\t\t *  }\n\t\t */\n\t\tthis.onended = function(){};\n\n\t\t//setup\n\t\tthis._jsNode.noGC();\n\t};\n\n\tTone.extend(Tone.Clock);\n\n\t/**\n\t *  start the clock\n\t *  @param {Tone.Type.Time} [time=now] the time when the clock should start\n\t *  @returns {Tone.Clock} `this`\n\t */\n\tTone.Clock.prototype.start = function(time){\n\t\tif (!this._oscillator){\n\t\t\tthis._oscillator = this.context.createOscillator();\n\t\t\tthis._oscillator.type = \"square\";\n\t\t\tthis._oscillator.connect(this._jsNode);\n\t\t\t//connect it up\n\t\t\tthis.frequency.connect(this._oscillator.frequency);\n\t\t\tthis._upTick = false;\n\t\t\tvar startTime = this.toSeconds(time);\n\t\t\tthis._oscillator.start(startTime);\n\t\t}\n\t\treturn this;\n\t};\n\n\t/**\n\t *  stop the clock\n\t *  @param {Tone.Type.Time} [time=now] The time when the clock should stop.\n\t *  @returns {Tone.Clock} `this`\n\t */\n\tTone.Clock.prototype.stop = function(time){\n\t\tif (this._oscillator){\n\t\t\tvar now = this.now();\n\t\t\tvar stopTime = this.toSeconds(time, now);\n\t\t\tthis._oscillator.stop(stopTime);\n\t\t\tthis._oscillator = null;\n\t\t\tif (time){\n\t\t\t\t//set a timeout for when it stops\n\t\t\t\tsetTimeout(this.onended.bind(this), (stopTime - now) * 1000);\n\t\t\t} else {\n\t\t\t\tthis.onended();\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t};\n\n\t/**\n\t *  @private\n\t *  @param  {AudioProcessingEvent} event\n\t */\n\tTone.Clock.prototype._processBuffer = function(event){\n\t\tvar now = this.defaultArg(event.playbackTime, this.now());\n\t\tvar bufferSize = this._jsNode.bufferSize;\n\t\tvar incomingBuffer = event.inputBuffer.getChannelData(0);\n\t\tvar upTick = this._upTick;\n\t\tvar self = this;\n\t\tfor (var i = 0; i < bufferSize; i++){\n\t\t\tvar sample = incomingBuffer[i];\n\t\t\tif (sample > 0 && !upTick){\n\t\t\t\tupTick = true;\t\n\t\t\t\t//get the callback out of audio thread\n\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t//to account for the double buffering\n\t\t\t\t\tvar tickTime = now + self.samplesToSeconds(i + bufferSize * 2);\n\t\t\t\t\treturn function(){\n\t\t\t\t\t\tif (self.tick){\n\t\t\t\t\t\t\tself.tick(tickTime);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}(), 0); // jshint ignore:line\n\t\t\t} else if (sample < 0 && upTick){\n\t\t\t\tupTick = false;\n\t\t\t}\n\t\t}\n\t\tthis._upTick = upTick;\n\t};\n\n\t/**\n\t *  clean up\n\t *  @returns {Tone.Clock} `this`\n\t */\n\tTone.Clock.prototype.dispose = function(){\n\t\tthis._jsNode.disconnect();\n\t\tthis.frequency.dispose();\n\t\tthis.frequency = null;\n\t\tif (this._oscillator){\n\t\t\tthis._oscillator.disconnect();\n\t\t\tthis._oscillator = null;\n\t\t}\n\t\tthis._jsNode.onaudioprocess = function(){};\n\t\tthis._jsNode = null;\n\t\tthis.tick = null;\n\t\tthis.onended = function(){};\n\t\treturn this;\n\t};\n\n\treturn Tone.Clock;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/core/Clock.js\n ** module id = 5\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/signal/WaveShaper\"], function(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t *  @class  Constant audio-rate signal.\n\t *          Tone.Signal is a core component which allows for sample-accurate \n\t *          synchronization of many components. Tone.Signal can be scheduled \n\t *          with all of the functions available to AudioParams\n\t *\n\t *  @constructor\n\t *  @extends {Tone.SignalBase}\n\t *  @param {number|AudioParam} [value=0] initial value or the AudioParam to control\n\t *                                       note that the signal has no output\n\t *                                       if an AudioParam is passed in.\n\t *  @param {Tone.Type} [units=Tone.Type.Default] unit the units the signal is in\n\t *  @example\n\t *  var signal = new Tone.Signal(10);\n\t */\n\tTone.Signal = function(){\n\n\t\tvar options = this.optionsObject(arguments, [\"value\", \"units\"], Tone.Signal.defaults);\n\n\t\t/**\n\t\t * the units the signal is in\n\t\t * @type {string}\n\t\t */\n\t\tthis.units = options.units;\n\n\t\t/**\n\t\t *  When true, converts the set value\n\t\t *  based on the units given. When false,\n\t\t *  applies no conversion and the units\n\t\t *  are merely used as a label. \n\t\t *  @type  {boolean}\n\t\t */\n\t\tthis.convert = options.convert;\n\n\t\t/**\n\t\t *  True if the signal value is being overridden by \n\t\t *  a connected signal.\n\t\t *  @readOnly\n\t\t *  @type  {boolean}\n\t\t */\n\t\tthis.overridden = false;\n\n\t\t/**\n\t\t * The node where the constant signal value is scaled.\n\t\t * @type {GainNode}\n\t\t * @private\n\t\t */\n\t\tthis.output = this._scaler = this.context.createGain();\n\n\t\t/**\n\t\t * The node where the value is set.\n\t\t * @type {AudioParam}\n\t\t * @private\n\t\t */\n\t\tthis.input = this._value = this._scaler.gain;\n\n\t\tif (options.value instanceof AudioParam){\n\t\t\tthis._scaler.connect(options.value);\n\t\t\t//zero out the value\n\t\t\toptions.value.value = 0;\n\t\t} else {\n\t\t\tif (options.param !== null){\n\t\t\t\tthis._scaler.connect(options.param);\n\t\t\t\toptions.param.value = 0;\n\t\t\t}\n\t\t\tthis.value = options.value;\n\t\t}\n\n\t\t//connect the constant 1 output to the node output\n\t\tTone.Signal._constant.chain(this._scaler);\n\t};\n\n\tTone.extend(Tone.Signal, Tone.SignalBase);\n\n\t/**\n\t *  The default values\n\t *  @type  {Object}\n\t *  @static\n\t *  @const\n\t */\n\tTone.Signal.defaults = {\n\t\t\"value\" : 0,\n\t\t\"param\" : null,\n\t\t\"units\" : Tone.Type.Default,\n\t\t\"convert\" : true,\n\t};\n\n\t/**\n\t * The value of the signal. \n\t * @memberOf Tone.Signal#\n\t * @type {*}\n\t * @name value\n\t */\n\tObject.defineProperty(Tone.Signal.prototype, \"value\", {\n\t\tget : function(){\n\t\t\treturn this._toUnits(this._value.value);\n\t\t},\n\t\tset : function(value){\n\t\t\tvar convertedVal = this._fromUnits(value);\n\t\t\t//is this what you want?\n\t\t\tthis.cancelScheduledValues(0);\n\t\t\tthis._value.value = convertedVal;\n\t\t}\n\t});\n\n\t/**\n\t * @private\n\t * @param  {Tone.Type.*} val the value to convert\n\t * @return {number}     the number which the value should be set to\n\t */\n\tTone.Signal.prototype._fromUnits = function(val){\n\t\tif (this.convert || this.isUndef(this.convert)){\n\t\t\tswitch(this.units){\n\t\t\t\tcase Tone.Type.Time: \n\t\t\t\t\treturn this.toSeconds(val);\n\t\t\t\tcase Tone.Type.Frequency: \n\t\t\t\t\treturn this.toFrequency(val);\n\t\t\t\tcase Tone.Type.Decibels: \n\t\t\t\t\treturn this.dbToGain(val);\n\t\t\t\tcase Tone.Type.NormalRange: \n\t\t\t\t\treturn Math.min(Math.max(val, 0), 1);\n\t\t\t\tcase Tone.Type.AudioRange: \n\t\t\t\t\treturn Math.min(Math.max(val, -1), 1);\n\t\t\t\tcase Tone.Type.Positive: \n\t\t\t\t\treturn Math.max(val, 0);\n\t\t\t\tdefault:\n\t\t\t\t\treturn val;\n\t\t\t}\n\t\t} else {\n\t\t\treturn val;\n\t\t}\n\t};\n\n\t/**\n\t * convert to the desired units\n\t * @private\n\t * @param  {number} val the value to convert\n\t * @return {number}\n\t */\n\tTone.Signal.prototype._toUnits = function(val){\n\t\tif (this.convert || this.isUndef(this.convert)){\n\t\t\tswitch(this.units){\n\t\t\t\tcase Tone.Type.Decibels: \n\t\t\t\t\treturn this.gainToDb(val);\n\t\t\t\tdefault:\n\t\t\t\t\treturn val;\n\t\t\t}\n\t\t} else {\n\t\t\treturn val;\n\t\t}\n\t};\n\n\t/**\n\t *  Schedules a parameter value change at the given time.\n\t *  @param {number}\t\tvalue \n\t *  @param {Tone.Type.Time}  time \n\t *  @returns {Tone.Signal} `this`\n\t */\n\tTone.Signal.prototype.setValueAtTime = function(value, time){\n\t\tvalue = this._fromUnits(value);\n\t\tthis._value.setValueAtTime(value, this.toSeconds(time));\n\t\treturn this;\n\t};\n\n\t/**\n\t *  Creates a schedule point with the current value at the current time.\n\t *\n\t *  @param {number=} now (optionally) pass the now value in\n\t *  @returns {Tone.Signal} `this`\n\t */\n\tTone.Signal.prototype.setCurrentValueNow = function(now){\n\t\tnow = this.defaultArg(now, this.now());\n\t\tvar currentVal = this._value.value;\n\t\tthis.cancelScheduledValues(now);\n\t\tthis._value.setValueAtTime(currentVal, now);\n\t\treturn this;\n\t};\n\n\t/**\n\t *  Schedules a linear continuous change in parameter value from the \n\t *  previous scheduled parameter value to the given value.\n\t *  \n\t *  @param  {number} value   \n\t *  @param  {Tone.Type.Time} endTime \n\t *  @returns {Tone.Signal} `this`\n\t */\n\tTone.Signal.prototype.linearRampToValueAtTime = function(value, endTime){\n\t\tvalue = this._fromUnits(value);\n\t\tthis._value.linearRampToValueAtTime(value, this.toSeconds(endTime));\n\t\treturn this;\n\t};\n\n\t/**\n\t *  Schedules an exponential continuous change in parameter value from \n\t *  the previous scheduled parameter value to the given value.\n\t *  \n\t *  @param  {number} value   \n\t *  @param  {Tone.Type.Time} endTime \n\t *  @returns {Tone.Signal} `this`\n\t */\n\tTone.Signal.prototype.exponentialRampToValueAtTime = function(value, endTime){\n\t\tvalue = this._fromUnits(value);\n\t\tvalue = Math.max(0.00001, value);\n\t\tthis._value.exponentialRampToValueAtTime(value, this.toSeconds(endTime));\n\t\treturn this;\n\t};\n\n\t/**\n\t *  Schedules an exponential continuous change in parameter value from \n\t *  the current time and current value to the given value.\n\t *  \n\t *  @param  {number} value   \n\t *  @param  {Tone.Type.Time} rampTime the time that it takes the \n\t *                               value to ramp from it's current value\n\t *  @returns {Tone.Signal} `this`\n\t *  @example\n\t *  //exponentially ramp to the value 2 over 4 seconds. \n\t *  signal.exponentialRampToValueNow(2, 4);\n\t */\n\tTone.Signal.prototype.exponentialRampToValueNow = function(value, rampTime){\n\t\tvar now = this.now();\n\t\t// exponentialRampToValueAt cannot ever ramp from 0, apparently.\n\t\t// More info: https://bugzilla.mozilla.org/show_bug.cgi?id=1125600#c2\n\t\tvar currentVal = this.value;\n\t\tthis.setValueAtTime(Math.max(currentVal, 0.0001), now);\n\t\tthis.exponentialRampToValueAtTime(value, now + this.toSeconds(rampTime));\n\t\treturn this;\n\t};\n\n\t/**\n\t *  Schedules an linear continuous change in parameter value from \n\t *  the current time and current value to the given value at the given time.\n\t *  \n\t *  @param  {number} value   \n\t *  @param  {Tone.Type.Time} rampTime the time that it takes the \n\t *                               value to ramp from it's current value\n\t *  @returns {Tone.Signal} `this`\n\t *  @example\n\t *  //linearly ramp to the value 4 over 3 seconds. \n\t *  signal.linearRampToValueNow(4, 3);\n\t */\n\tTone.Signal.prototype.linearRampToValueNow = function(value, rampTime){\n\t\tvar now = this.now();\n\t\tthis.setCurrentValueNow(now);\n\t\tthis.linearRampToValueAtTime(value, now + this.toSeconds(rampTime));\n\t\treturn this;\n\t};\n\n\t/**\n\t *  Start exponentially approaching the target value at the given time with\n\t *  a rate having the given time constant.\n\t *  @param {number} value        \n\t *  @param {Tone.Type.Time} startTime    \n\t *  @param {number} timeConstant \n\t *  @returns {Tone.Signal} `this`\n\t */\n\tTone.Signal.prototype.setTargetAtTime = function(value, startTime, timeConstant){\n\t\tvalue = this._fromUnits(value);\n\t\t// The value will never be able to approach without timeConstant > 0.\n\t\t// http://www.w3.org/TR/webaudio/#dfn-setTargetAtTime, where the equation\n\t\t// is described. 0 results in a division by 0.\n\t\ttimeConstant = Math.max(0.00001, timeConstant);\n\t\tthis._value.setTargetAtTime(value, this.toSeconds(startTime), timeConstant);\n\t\treturn this;\n\t};\n\n\t/**\n\t *  Sets an array of arbitrary parameter values starting at the given time\n\t *  for the given duration.\n\t *  \t\n\t *  @param {Array<number>} values    \n\t *  @param {Tone.Type.Time} startTime \n\t *  @param {Tone.Type.Time} duration  \n\t *  @returns {Tone.Signal} `this`\n\t */\n\tTone.Signal.prototype.setValueCurveAtTime = function(values, startTime, duration){\n\t\tfor (var i = 0; i < values.length; i++){\n\t\t\tvalues[i] = this._fromUnits(values[i]);\n\t\t}\n\t\tthis._value.setValueCurveAtTime(values, this.toSeconds(startTime), this.toSeconds(duration));\n\t\treturn this;\n\t};\n\n\t/**\n\t *  Cancels all scheduled parameter changes with times greater than or \n\t *  equal to startTime.\n\t *  \n\t *  @param  {Tone.Type.Time} startTime\n\t *  @returns {Tone.Signal} `this`\n\t */\n\tTone.Signal.prototype.cancelScheduledValues = function(startTime){\n\t\tthis._value.cancelScheduledValues(this.toSeconds(startTime));\n\t\treturn this;\n\t};\n\n\t/**\n\t *  Ramps to the given value over the duration of the rampTime. \n\t *  Automatically selects the best ramp type (exponential or linear)\n\t *  depending on the `units` of the signal\n\t *  \n\t *  @param  {number} value   \n\t *  @param  {Tone.Type.Time} rampTime the time that it takes the \n\t *                               value to ramp from it's current value\n\t *  @returns {Tone.Signal} `this`\n\t *  @example\n\t *  //ramp to the value either linearly or exponentially \n\t *  //depending on the \"units\" value of the signal\n\t *  signal.rampTo(0, 10);\n\t */\n\tTone.Signal.prototype.rampTo = function(value, rampTime){\n\t\trampTime = this.defaultArg(rampTime, 0);\n\t\tif (this.units === Tone.Type.Frequency || this.units === Tone.Type.BPM){\n\t\t\tthis.exponentialRampToValueNow(value, rampTime);\n\t\t} else {\n\t\t\tthis.linearRampToValueNow(value, rampTime);\n\t\t}\n\t\treturn this;\n\t};\n\n\t/**\n\t *  dispose and disconnect\n\t *  @returns {Tone.Signal} `this`\n\t */\n\tTone.Signal.prototype.dispose = function(){\n\t\tTone.prototype.dispose.call(this);\n\t\tthis._value = null;\n\t\tthis._scaler = null;\n\t\treturn this;\n\t};\n\n\t///////////////////////////////////////////////////////////////////////////\n\t//\tSTATIC\n\t///////////////////////////////////////////////////////////////////////////\n\n\t/**\n\t *  the constant signal generator\n\t *  @static\n\t *  @private\n\t *  @const\n\t *  @type {OscillatorNode}\n\t */\n\tTone.Signal._generator = null;\n\n\t/**\n\t *  the signal generator waveshaper. makes the incoming signal\n\t *  only output 1 for all inputs.\n\t *  @static\n\t *  @private\n\t *  @const\n\t *  @type {Tone.WaveShaper}\n\t */\n\tTone.Signal._constant = null;\n\n\t/**\n\t *  initializer function\n\t */\n\tTone._initAudioContext(function(audioContext){\n\t\tTone.Signal._generator = audioContext.createOscillator();\n\t\tTone.Signal._constant = new Tone.WaveShaper([1,1]);\n\t\tTone.Signal._generator.connect(Tone.Signal._constant);\n\t\tTone.Signal._generator.start(0);\n\t\tTone.Signal._generator.noGC();\n\t});\n\n\treturn Tone.Signal;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/signal/Signal.js\n ** module id = 6\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/signal/SignalBase\"], function(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t *  @class Wraps the WaveShaperNode\n\t *\n\t *  @extends {Tone.SignalBase}\n\t *  @constructor\n\t *  @param {function(number, number)|Array|number} mapping the function used to define the values. \n\t *                                    The mapping function should take two arguments: \n\t *                                    the first is the value at the current position \n\t *                                    and the second is the array position. \n\t *                                    If the argument is an array, that array will be\n\t *                                    set as the wave shapping function\n\t *  @param {number} [bufferLen=1024] the length of the WaveShaperNode buffer.\n\t *  @example\n\t *  var timesTwo = new Tone.WaveShaper(function(val){\n\t *  \treturn val * 2;\n\t *  }, 2048);\n\t */\n\tTone.WaveShaper = function(mapping, bufferLen){\n\n\t\t/**\n\t\t *  the waveshaper\n\t\t *  @type {WaveShaperNode}\n\t\t *  @private\n\t\t */\n\t\tthis._shaper = this.input = this.output = this.context.createWaveShaper();\n\n\t\t/**\n\t\t *  the waveshapers curve\n\t\t *  @type {Float32Array}\n\t\t *  @private\n\t\t */\n\t\tthis._curve = null;\n\n\t\tif (Array.isArray(mapping)){\n\t\t\tthis.curve = mapping;\n\t\t} else if (isFinite(mapping) || this.isUndef(mapping)){\n\t\t\tthis._curve = new Float32Array(this.defaultArg(mapping, 1024));\n\t\t} else if (this.isFunction(mapping)){\n\t\t\tthis._curve = new Float32Array(this.defaultArg(bufferLen, 1024));\n\t\t\tthis.setMap(mapping);\n\t\t} \n\t};\n\n\tTone.extend(Tone.WaveShaper, Tone.SignalBase);\n\n\t/**\n\t *  uses a mapping function to set the value of the curve\n\t *  @param {function(number, number)} mapping the function used to define the values. \n\t *                                    The mapping function should take two arguments: \n\t *                                    the first is the value at the current position \n\t *                                    and the second is the array position\n\t *  @returns {Tone.WaveShaper} `this`\n\t */\n\tTone.WaveShaper.prototype.setMap = function(mapping){\n\t\tfor (var i = 0, len = this._curve.length; i < len; i++){\n\t\t\tvar normalized = (i / (len)) * 2 - 1;\n\t\t\tthis._curve[i] = mapping(normalized, i);\n\t\t}\n\t\tthis._shaper.curve = this._curve;\n\t\treturn this;\n\t};\n\n\t/**\n\t * The array to set as the waveshaper curve\n\t * @memberOf Tone.WaveShaper#\n\t * @type {Array}\n\t * @name curve\n\t */\n\tObject.defineProperty(Tone.WaveShaper.prototype, \"curve\", {\n\t\tget : function(){\n\t\t\treturn this._shaper.curve;\n\t\t},\n\t\tset : function(mapping){\n\t\t\t//fixes safari WaveShaperNode bug\n\t\t\tif (this._isSafari()){\n\t\t\t\tvar first = mapping[0];\n\t\t\t\tmapping.unshift(first);\t\n\t\t\t}\n\t\t\tthis._curve = new Float32Array(mapping);\n\t\t\tthis._shaper.curve = this._curve;\n\t\t}\n\t});\n\n\t/**\n\t * The oversampling. Can either be \"none\", \"2x\" or \"4x\"\n\t * @memberOf Tone.WaveShaper#\n\t * @type {string}\n\t * @name oversample\n\t */\n\tObject.defineProperty(Tone.WaveShaper.prototype, \"oversample\", {\n\t\tget : function(){\n\t\t\treturn this._shaper.oversample;\n\t\t},\n\t\tset : function(oversampling){\n\t\t\tthis._shaper.oversample = oversampling;\n\t\t}\n\t});\n\n\t/**\n\t *  returns true if the browser is safari\n\t *  @return  {boolean} \n\t *  @private\n\t */\n\tTone.WaveShaper.prototype._isSafari = function(){\n\t\tvar ua = navigator.userAgent.toLowerCase(); \n\t\treturn ua.indexOf(\"safari\") !== -1 && ua.indexOf(\"chrome\") === -1;\n\t};\n\n\t/**\n\t *  clean up\n\t *  @returns {Tone.WaveShaper} `this`\n\t */\n\tTone.WaveShaper.prototype.dispose = function(){\n\t\tTone.prototype.dispose.call(this);\n\t\tthis._shaper.disconnect();\n\t\tthis._shaper = null;\n\t\tthis._curve = null;\n\t\treturn this;\n\t};\n\n\treturn Tone.WaveShaper;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/signal/WaveShaper.js\n ** module id = 7\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\"], function(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t *  @class  Base class for all Signals\n\t *\n\t *  @constructor\n\t *  @extends {Tone}\n\t */\n\tTone.SignalBase = function(){\n\n\t};\n\n\tTone.extend(Tone.SignalBase);\n\n\t/**\n\t *  When signals connect to other signals or AudioParams, \n\t *  they take over the output value of that signal or AudioParam. \n\t *  For all other nodes, the behavior is the same as a normal `connect`. \n\t *\n\t *  @override\n\t *  @param {AudioParam|AudioNode|Tone.Signal|Tone} node \n\t *  @param {number} [outputNumber=0] \n\t *  @param {number} [inputNumber=0] \n\t *  @returns {Tone.SignalBase} `this`\n\t */\n\tTone.SignalBase.prototype.connect = function(node, outputNumber, inputNumber){\n\t\t//zero it out so that the signal can have full control\n\t\tif (node.constructor === Tone.Signal){\n\t\t\t//cancel changes\n\t\t\tnode._value.cancelScheduledValues(0);\n\t\t\t//reset the value\n\t\t\tnode._value.value = 0;\n\t\t\t//mark the value as overridden\n\t\t\tnode.overridden = true;\n\t\t} else if (node instanceof AudioParam){\n\t\t\tnode.cancelScheduledValues(0);\n\t\t\tnode.value = 0;\n\t\t} \n\t\tTone.prototype.connect.call(this, node, outputNumber, inputNumber);\n\t\treturn this;\n\t};\n\n\treturn Tone.SignalBase;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/signal/SignalBase.js\n ** module id = 8\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/signal/Signal\"], function(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t *  @class  Multiply the incoming signal by a number or Multiply two signals.\n\t *          input 0: multiplicand.\n\t *          input 1: multiplier.\n\t *\n\t *  @constructor\n\t *  @extends {Tone.Signal}\n\t *  @param {number=} value constant value to multiple. if no value is provided\n\t *                         it will be multiplied by the value of input 1.\n\t *  @example\n\t *  var mult = new Tone.Multiply(3);\n\t *  var sig = new Tone.Signal(2).connect(mult);\n\t *  //output of mult is 6. \n\t */\n\tTone.Multiply = function(value){\n\n\t\tTone.call(this, 2, 0);\n\n\t\t/**\n\t\t *  the input node is the same as the output node\n\t\t *  it is also the GainNode which handles the scaling of incoming signal\n\t\t *  \n\t\t *  @type {GainNode}\n\t\t *  @private\n\t\t */\n\t\tthis._mult = this.input[0] = this.output = this.context.createGain();\n\n\t\t/**\n\t\t *  the scaling parameter\n\t\t *  @type {AudioParam}\n\t\t *  @private\n\t\t */\n\t\tthis._value = this.input[1] = this.output.gain;\n\t\t\n\t\tthis._value.value = this.defaultArg(value, 0);\n\t};\n\n\tTone.extend(Tone.Multiply, Tone.Signal);\n\n\t/**\n\t *  clean up\n\t *  @returns {Tone.Multiply} `this`\n\t */\n\tTone.Multiply.prototype.dispose = function(){\n\t\tTone.prototype.dispose.call(this);\n\t\tthis._mult.disconnect();\n\t\tthis._mult = null;\n\t\tthis._value = null;\n\t\treturn this;\n\t}; \n\n\treturn Tone.Multiply;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/signal/Multiply.js\n ** module id = 9\n ** module chunks = 1\n **/","define([\"requestAnimationFrame\", \"util/Config\", \"jquery\"], function(requestAnimationFrame, Config, $){\n\t\n\t/**\n\t * MicroEvent - to make any js object an event emitter (server or browser)\n\t * \n\t * - pure javascript - server compatible, browser compatible\n\t * - dont rely on the browser doms\n\t * - super simple - you get it immediatly, no mistery, no magic involved\n\t *\n\t * - create a MicroEventDebug with goodies to debug\n\t *   - make it safer to use\n\t*/\n\n\tvar MicroEvent\t= function(){};\n\n\tMicroEvent.prototype\t= {\n\t\troute\t: function(event, fct){\n\t\t\tthis._events = this._events || {};\n\t\t\tthis._events[event] = this._events[event]\t|| [];\n\t\t\tthis._events[event].push(fct);\n\t\t},\n\t\tunroute\t: function(event, fct){\n\t\t\tthis._events = this._events || {};\n\t\t\tif( event in this._events === false  )\treturn;\n\t\t\tthis._events[event].splice(this._events[event].indexOf(fct), 1);\n\t\t},\n\t\tsend\t: function(event /* , args... */){\n\t\t\tthis._events = this._events || {};\n\t\t\tif( event in this._events === false  )\treturn;\n\t\t\tfor(var i = 0; i < this._events[event].length; i++){\n\t\t\t\tthis._events[event][i].apply(this, Array.prototype.slice.call(arguments, 1));\n\t\t\t}\n\t\t},\n\t\tdeferSend\t: function(event /* , args... */){\n\t\t\tthis._events = this._events || {};\n\t\t\tif( event in this._events === false  )\treturn;\n\t\t\tvar args = Array.prototype.slice.call(arguments, 1);\n\t\t\tsetTimeout(function(){\n\t\t\t\tfor(var i = 0; i < this._events[event].length; i++){\n\t\t\t\t\tthis._events[event][i].apply(this, args);\n\t\t\t\t}\n\t\t\t}.bind(this), 1);\n\t\t}\n\t};\n\n\tvar Mediator = new MicroEvent();\n\n\t//////////////////////////////////////////////////////////////////////////\n\t//\tUPDATE LOOPS\n\t///////////////////////////////////////////////////////////////////////////\n\n\tvar slowUpdateRate = Config.SLOW_UPDATE * 1000;\n\n\tfunction slowUpdateLoop(){\n\t\tsetTimeout(slowUpdateLoop, slowUpdateRate);\n\t\tMediator.send(\"slowUpdate\", slowUpdateRate);\n\t}\n\n\tfunction update(){\n\t\tif (Config.HD){\n\t\t\trequestAnimationFrame(update);\n\t\t} else {\n\t\t\tsetTimeout(update, 30);\t\n\t\t}\n\t\tMediator.send(\"update\");\n\t}\n\n\tfunction mobileUpdate(){\n\t\tsetTimeout(mobileUpdate, 30);\n\t\tMediator.send(\"update\");\n\t}\n\n\tslowUpdateLoop();\n\tif (Config.MOBILE){\n\t\tmobileUpdate();\n\t} else {\n\t\tupdate();\n\t}\n\n\treturn Mediator;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/controller/Mediator.js\n ** module id = 10\n ** module chunks = 1\n **/","/**\n * requestAnimationFrame version: \"0.0.17\" Copyright (c) 2011-2012, Cyril Agosta ( cyril.agosta.dev@gmail.com) All Rights Reserved.\n * Available via the MIT license.\n * see: http://github.com/cagosta/requestAnimationFrame for details\n *\n * http://paulirish.com/2011/requestanimationframe-for-smart-animating/\n * http://my.opera.com/emoller/blog/2011/12/20/requestanimationframe-for-smart-er-animating\n * requestAnimationFrame polyfill by Erik Mller. fixes from Paul Irish and Tino Zijdel\n * MIT license\n *\n */\n\n\n( function( global ) {\n\n\n    ( function() {\n\n\n        if ( global.requestAnimationFrame ) {\n\n            return;\n\n        }\n\n        if ( global.webkitRequestAnimationFrame ) { // Chrome <= 23, Safari <= 6.1, Blackberry 10\n\n            global.requestAnimationFrame = global[ 'webkitRequestAnimationFrame' ];\n            global.cancelAnimationFrame = global[ 'webkitCancelAnimationFrame' ] || global[ 'webkitCancelRequestAnimationFrame' ];\n\n        }\n\n        // IE <= 9, Android <= 4.3, very old/rare browsers\n\n        var lastTime = 0;\n\n        global.requestAnimationFrame = function( callback ) {\n\n            var currTime = new Date().getTime();\n\n            var timeToCall = Math.max( 0, 16 - ( currTime - lastTime ) );\n\n            var id = global.setTimeout( function() {\n\n                callback( currTime + timeToCall );\n\n            }, timeToCall );\n\n            lastTime = currTime + timeToCall;\n\n            return id; // return the id for cancellation capabilities\n\n        };\n\n        global.cancelAnimationFrame = function( id ) {\n\n            clearTimeout( id );\n\n        };\n\n    } )();\n\n    if ( typeof define === 'function' ) {\n\n        define( function() {\n\n            return global.requestAnimationFrame;\n\n        } );\n\n    }\n\n} )( window );\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./deps/requestAnimationFrame.js\n ** module id = 11\n ** module chunks = 1\n **/","define([\"jquery\"], function($){\n\n\tvar GUI = window.location.hash === \"#GUI\";\n\n\tvar HD = screen.width >= 1280;\n\n\tvar noVis = window.location.hash !== \"#NOVIS\";\n\n\tvar isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n\n\tisMobile = (window.location.hash === \"#MOBILE\") || isMobile;\n\n\treturn {\n\t\tGUI : GUI,\n\t\tMOBILE : isMobile,\n\t\tPRESET_UPDATE : false,\n\t\tSTATS : false,\n\t\tPASSWORD : false,\n\t\tSPLASH : isMobile,\n\t\tVISUALS : noVis,\n\t\tANALYTICS : true,\n\t\tPAUSE_ON_BLUR : false,\n\t\tHD : false,\n\t\tSLOW_UPDATE : isMobile ? 0.8: 0.5\n\t};\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/util/Config.js\n ** module id = 12\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\"], function(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t *  @class  Buffer loading and storage. Tone.Buffer is used internally by all \n\t *          classes that make requests for audio files such as {@link Tone.Player},\n\t *          {@link Tone.Sampler} and {@link Tone.Convolver} .\n\t *          <br><br>Aside from load callbacks from individual buffers, Tone.Buffer \n\t *  \t\tprovides static methods which keep track of the loading progress \n\t *  \t\tof all of the buffers. These methods are `onload`, `onprogress`,\n\t *  \t\tand `onerror`. \n\t *\n\t *  @constructor \n\t *  @extends {Tone}\n\t *  @param {AudioBuffer|string} url the url to load, or the audio buffer to set\n\t */\n\tTone.Buffer = function(){\n\n\t\tvar options = this.optionsObject(arguments, [\"url\", \"onload\"], Tone.Buffer.defaults);\n\n\t\t/**\n\t\t *  stores the loaded AudioBuffer\n\t\t *  @type {AudioBuffer}\n\t\t *  @private\n\t\t */\n\t\tthis._buffer = null;\n\n\t\t/**\n\t\t *  indicates if the buffer should be reversed or not\n\t\t *  @type {boolean}\n\t\t *  @private\n\t\t */\n\t\tthis._reversed = options.reverse;\n\n\t\t/**\n\t\t *  the url of the buffer. `undefined` if it was \n\t\t *  constructed with a buffer\n\t\t *  @type {string}\n\t\t *  @readOnly\n\t\t */\n\t\tthis.url = undefined;\n\n\t\t/**\n\t\t *  indicates if the buffer is loaded or not\n\t\t *  @type {boolean}\n\t\t *  @readOnly\n\t\t */\n\t\tthis.loaded = false;\n\n\t\t/**\n\t\t *  the callback to invoke when everything is loaded\n\t\t *  @type {function}\n\t\t */\n\t\tthis.onload = options.onload.bind(this, this);\n\n\t\tif (options.url instanceof AudioBuffer){\n\t\t\tthis._buffer.set(options.url);\n\t\t\tthis.onload(this);\n\t\t} else if (typeof options.url === \"string\"){\n\t\t\tthis.url = options.url;\n\t\t\tTone.Buffer._addToQueue(options.url, this);\n\t\t}\n\t};\n\n\tTone.extend(Tone.Buffer);\n\n\t/**\n\t *  the default parameters\n\t *\n\t *  @static\n\t *  @const\n\t *  @type {Object}\n\t */\n\tTone.Buffer.defaults = {\n\t\t\"url\" : undefined,\n\t\t\"onload\" : function(){},\n\t\t\"reverse\" : false\n\t};\n\n\t/**\n\t *  set the buffer\n\t *  @param {AudioBuffer|Tone.Buffer} buffer the buffer\n\t *  @returns {Tone.Buffer} `this`\n\t */\n\tTone.Buffer.prototype.set = function(buffer){\n\t\tif (buffer instanceof Tone.Buffer){\n\t\t\tthis._buffer = buffer.get();\n\t\t} else {\n\t\t\tthis._buffer = buffer;\n\t\t}\n\t\tthis.loaded = true;\n\t\treturn this;\n\t};\n\n\t/**\n\t *  @return {AudioBuffer} the audio buffer\n\t */\n\tTone.Buffer.prototype.get = function(){\n\t\treturn this._buffer;\n\t};\n\n\t/**\n\t *  @param {string} url the url to load\n\t *  @param {function=} callback the callback to invoke on load. \n\t *                              don't need to set if `onload` is\n\t *                              already set.\n\t *  @returns {Tone.Buffer} `this`\n\t */\n\tTone.Buffer.prototype.load = function(url, callback){\n\t\tthis.url = url;\n\t\tthis.onload = this.defaultArg(callback, this.onload);\n\t\tTone.Buffer._addToQueue(url, this);\n\t\treturn this;\n\t};\n\n\t/**\n\t *  dispose and disconnect\n\t *  @returns {Tone.Buffer} `this`\n\t */\n\tTone.Buffer.prototype.dispose = function(){\n\t\tTone.prototype.dispose.call(this);\n\t\tTone.Buffer._removeFromQueue(this);\n\t\tthis._buffer = null;\n\t\tthis.onload = Tone.Buffer.defaults.onload;\n\t\treturn this;\n\t};\n\n\t/**\n\t * the duration of the buffer\n\t * @memberOf Tone.Buffer#\n\t * @type {number}\n\t * @name duration\n\t * @readOnly\n\t */\n\tObject.defineProperty(Tone.Buffer.prototype, \"duration\", {\n\t\tget : function(){\n\t\t\tif (this._buffer){\n\t\t\t\treturn this._buffer.duration;\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t},\n\t});\n\n\t/**\n\t *  reverse the buffer\n\t *  @private\n\t *  @return {Tone.Buffer} `this`\n\t */\n\tTone.Buffer.prototype._reverse = function(){\n\t\tif (this.loaded){\n\t\t\tfor (var i = 0; i < this._buffer.numberOfChannels; i++){\n\t\t\t\tArray.prototype.reverse.call(this._buffer.getChannelData(i));\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t};\n\n\t/**\n\t * if the buffer is reversed or not\n\t * @memberOf Tone.Buffer#\n\t * @type {boolean}\n\t * @name reverse\n\t */\n\tObject.defineProperty(Tone.Buffer.prototype, \"reverse\", {\n\t\tget : function(){\n\t\t\treturn this._reversed;\n\t\t},\n\t\tset : function(rev){\n\t\t\tif (this._reversed !== rev){\n\t\t\t\tthis._reversed = rev;\n\t\t\t\tthis._reverse();\n\t\t\t}\n\t\t},\n\t});\n\n\t///////////////////////////////////////////////////////////////////////////\n\t// STATIC METHODS\n\t///////////////////////////////////////////////////////////////////////////\n\t \n\t/**\n\t *  the static queue for all of the xhr requests\n\t *  @type {Array}\n\t *  @private\n\t */\n\tTone.Buffer._queue = [];\n\n\t/**\n\t *  the array of current downloads\n\t *  @type {Array}\n\t *  @private\n\t */\n\tTone.Buffer._currentDownloads = [];\n\n\t/**\n\t *  the total number of downloads\n\t *  @type {number}\n\t *  @private\n\t */\n\tTone.Buffer._totalDownloads = 0;\n\n\t/**\n\t *  the maximum number of simultaneous downloads\n\t *  @static\n\t *  @type {number}\n\t */\n\tTone.Buffer.MAX_SIMULTANEOUS_DOWNLOADS = 6;\n\t\n\t/**\n\t *  Adds a file to be loaded to the loading queue\n\t *  @param   {string}   url      the url to load\n\t *  @param   {function} callback the callback to invoke once it's loaded\n\t *  @private\n\t */\n\tTone.Buffer._addToQueue = function(url, buffer){\n\t\tTone.Buffer._queue.push({\n\t\t\turl : url,\n\t\t\tBuffer : buffer,\n\t\t\tprogress : 0,\n\t\t\txhr : null\n\t\t});\n\t\tthis._totalDownloads++;\n\t\tTone.Buffer._next();\n\t};\n\n\t/**\n\t *  Remove an object from the queue's (if it's still there)\n\t *  Abort the XHR if it's in progress\n\t *  @param {Tone.Buffer} buffer the buffer to remove\n\t *  @private\n\t */\n\tTone.Buffer._removeFromQueue = function(buffer){\n\t\tvar i;\n\t\tfor (i = 0; i < Tone.Buffer._queue.length; i++){\n\t\t\tvar q = Tone.Buffer._queue[i];\n\t\t\tif (q.Buffer === buffer){\n\t\t\t\tTone.Buffer._queue.splice(i, 1);\n\t\t\t}\n\t\t}\n\t\tfor (i = 0; i < Tone.Buffer._currentDownloads.length; i++){\n\t\t\tvar dl = Tone.Buffer._currentDownloads[i];\n\t\t\tif (dl.Buffer === buffer){\n\t\t\t\tTone.Buffer._currentDownloads.splice(i, 1);\n\t\t\t\tdl.xhr.abort();\n\t\t\t\tdl.xhr.onprogress = null;\n\t\t\t\tdl.xhr.onload = null;\n\t\t\t\tdl.xhr.onerror = null;\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t *  load the next buffer in the queue\n\t *  @private\n\t */\n\tTone.Buffer._next = function(){\n\t\tif (Tone.Buffer._queue.length > 0){\n\t\t\tif (Tone.Buffer._currentDownloads.length < Tone.Buffer.MAX_SIMULTANEOUS_DOWNLOADS){\n\t\t\t\tvar next = Tone.Buffer._queue.shift();\n\t\t\t\tTone.Buffer._currentDownloads.push(next);\n\t\t\t\tnext.xhr = Tone.Buffer.load(next.url, function(buffer){\n\t\t\t\t\t//remove this one from the queue\n\t\t\t\t\tvar index = Tone.Buffer._currentDownloads.indexOf(next);\n\t\t\t\t\tTone.Buffer._currentDownloads.splice(index, 1);\n\t\t\t\t\tnext.Buffer.set(buffer);\n\t\t\t\t\tif (next.Buffer._reversed){\n\t\t\t\t\t\tnext.Buffer._reverse();\n\t\t\t\t\t}\n\t\t\t\t\tnext.Buffer.onload(next.Buffer);\n\t\t\t\t\tTone.Buffer._onprogress();\n\t\t\t\t\tTone.Buffer._next();\n\t\t\t\t});\n\t\t\t\tnext.xhr.onprogress = function(event){\n\t\t\t\t\tnext.progress = event.loaded / event.total;\n\t\t\t\t\tTone.Buffer._onprogress();\n\t\t\t\t};\n\t\t\t\tnext.xhr.onerror = Tone.Buffer.onerror;\n\t\t\t} \n\t\t} else if (Tone.Buffer._currentDownloads.length === 0){\n\t\t\tTone.Buffer.onload();\n\t\t\t//reset the downloads\n\t\t\tTone.Buffer._totalDownloads = 0;\n\t\t}\n\t};\n\n\t/**\n\t *  internal progress event handler\n\t *  @private\n\t */\n\tTone.Buffer._onprogress = function(){\n\t\tvar curretDownloadsProgress = 0;\n\t\tvar currentDLLen = Tone.Buffer._currentDownloads.length;\n\t\tvar inprogress = 0;\n\t\tif (currentDLLen > 0){\n\t\t\tfor (var i = 0; i < currentDLLen; i++){\n\t\t\t\tvar dl = Tone.Buffer._currentDownloads[i];\n\t\t\t\tcurretDownloadsProgress += dl.progress;\n\t\t\t}\n\t\t\tinprogress = curretDownloadsProgress;\n\t\t}\n\t\tvar currentDownloadProgress = currentDLLen - inprogress;\n\t\tvar completed = Tone.Buffer._totalDownloads - Tone.Buffer._queue.length - currentDownloadProgress;\n\t\tTone.Buffer.onprogress(completed / Tone.Buffer._totalDownloads);\n\t};\n\n\t/**\n\t *  makes an xhr reqest for the selected url\n\t *  Load the audio file as an audio buffer.\n\t *  Decodes the audio asynchronously and invokes\n\t *  the callback once the audio buffer loads.\n\t *  @param {string} url the url of the buffer to load.\n\t *                      filetype support depends on the\n\t *                      browser.\n\t *  @param {function} callback function\n\t *  @returns {XMLHttpRequest} returns the XHR\n\t */\n\tTone.Buffer.load = function(url, callback){\n\t\tvar request = new XMLHttpRequest();\n\t\trequest.open(\"GET\", url, true);\n\t\trequest.responseType = \"arraybuffer\";\n\t\t// decode asynchronously\n\t\trequest.onload = function() {\n\t\t\tTone.context.decodeAudioData(request.response, function(buff) {\n\t\t\t\tif(!buff){\n\t\t\t\t\tthrow new Error(\"could not decode audio data:\" + url);\n\t\t\t\t}\n\t\t\t\tcallback(buff);\n\t\t\t});\n\t\t};\n\t\t//send the request\n\t\trequest.send();\n\t\treturn request;\n\t};\n\n\t/**\n\t *  callback when all of the buffers in the queue have loaded\n\t *  @static\n\t *  @type {function}\n\t *  @example\n\t * //invoked when all of the queued samples are done loading\n\t * Tone.Buffer.onload = function(){\n\t * \tconsole.log(\"everything is loaded\");\n\t * };\n\t */\n\tTone.Buffer.onload = function(){};\n\n\t/**\n\t *  Callback function is invoked with the progress of all of the loads in the queue. \n\t *  The value passed to the callback is between 0-1.\n\t *  @static\n\t *  @type {function}\n\t *  @example\n\t * Tone.Buffer.onprogress = function(percent){\n\t * \tconsole.log(\"progress:\" + (percent * 100).toFixed(1) + \"%\");\n\t * };\n\t */\n\tTone.Buffer.onprogress = function(){};\n\n\t/**\n\t *  Callback if one of the buffers in the queue encounters an error. The error\n\t *  is passed in as the argument. \n\t *  @static\n\t *  @type {function}\n\t *  @example\n\t * Tone.Buffer.onerror = function(e){\n\t * \tconsole.log(\"there was an error while loading the buffers: \"+e);\n\t * }\n\t */\n\tTone.Buffer.onerror = function(){};\n\n\treturn Tone.Buffer;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/core/Buffer.js\n ** module id = 13\n ** module chunks = 1\n **/","define([\"jquery\", \"util/Config\", \"controller/Mediator\", \"main.scss\"], function($, Config, Mediator, mainStyle){\n\n\tvar container = $(\"#Container\");\n\n\tif (Config.MOBILE){\n\t\tcontainer.addClass(\"Mobile\");\n\t}\n\n\tvar width = container.width();\n\tvar height = container.height();\n\n\t$(window).resize(function(){\n\t\twidth = container.width();\n\t\theight = container.height();\n\t});\n\n\n\t// http://davidwalsh.name/javascript-debounce-function\n\tfunction debounce(func, wait, immediate) {\n\t\tvar timeout;\n\t\treturn function() {\n\t\t\tvar context = this, args = arguments;\n\t\t\tvar later = function() {\n\t\t\t\ttimeout = null;\n\t\t\t\tif (!immediate) func.apply(context, args);\n\t\t\t};\n\t\t\tvar callNow = immediate && !timeout;\n\t\t\tclearTimeout(timeout);\n\t\t\ttimeout = setTimeout(later, wait);\n\t\t\tif (callNow) func.apply(context, args);\n\t\t};\n\t}\n\n\treturn {\n\t\twidth : function(){\n\t\t\treturn width;\n\t\t},\n\t\theight : function(){\n\t\t\treturn height;\n\t\t},\n\t\tcontainer : container,\n\t\tresize : function(callback){\n\t\t\t$(window).resize(debounce(function(){\n\t\t\t\tcallback(width, height);\n\t\t\t}, 500));\n\t\t}\n\t};\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/interface/Window.js\n ** module id = 14\n ** module chunks = 1\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../node_modules/css-loader/index.js!./../node_modules/autoprefixer-loader/index.js!./../node_modules/sass-loader/index.js!./main.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js!./../node_modules/autoprefixer-loader/index.js!./../node_modules/sass-loader/index.js!./main.scss\", function() {\n\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js!./../node_modules/autoprefixer-loader/index.js!./../node_modules/sass-loader/index.js!./main.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./style/main.scss\n ** module id = 15\n ** module chunks = 1\n **/","exports = module.exports = require(\"./../node_modules/css-loader/lib/css-base.js\")();\nexports.push([module.id, \".dg.ac {\\n  z-index: 10000 !important; }\\n\\nhtml, body {\\n  height: 100%;\\n  overflow: hidden; }\\n\\n#Container {\\n  height: 100%;\\n  position: absolute;\\n  top: 0px;\\n  left: 0px;\\n  background-color: white;\\n  font-family: sans-serif;\\n  overflow: hidden;\\n  width: calc(100% - 20px - 4px); }\\n  #Container canvas {\\n    opacity: 1;\\n    width: 100% !important;\\n    height: 100% !important; }\\n  #Container #CoverAll {\\n    position: absolute;\\n    width: 100%;\\n    height: 100%;\\n    background-color: white;\\n    top: 0px;\\n    left: 0px;\\n    opacity: 0; }\\n\\n#FrameContainer {\\n  position: absolute;\\n  height: 240%;\\n  top: 50%;\\n  left: 50%;\\n  margin-left: -320px;\\n  margin-top: -120%;\\n  width: 640px; }\\n  #FrameContainer .Frame {\\n    height: calc(100% / 3);\\n    left: 10%;\\n    width: 80%;\\n    top: 0px;\\n    position: absolute;\\n    position: absolute;\\n    z-index: 1000; }\\n    #FrameContainer .Frame #Content {\\n      height: 80%;\\n      position: absolute;\\n      left: 10%;\\n      width: 80%;\\n      top: 10%;\\n      background-color: #aaaaaa; }\\n\\n#NoSupport {\\n  font-family: sans-serif;\\n  width: 80%;\\n  left: 10%;\\n  position: absolute;\\n  top: 40%;\\n  text-align: center;\\n  color: black;\\n  font-weight: bold;\\n  font-size: 24px;\\n  line-height: 48px; }\\n\\n/* $notificationSize : 100px;\\n\\n@keyframes UpAndDown {\\n  0%   {transform : translate(-50%, -100%); }\\n  100%   { transform : translate(-50%, 0%); }\\n}\\n\\n#Notification {\\n\\tposition: absolute;\\n\\tleft: 50%;\\n\\ttop: 50%;\\n\\ttransform : translate(-50%, -50%);\\n\\twidth: 0px; \\n\\theight: 0px; \\n\\t@include fontFamily;\\n\\tfont-size: $notificationSize * 0.75;\\n\\tcolor: white;\\n\\ttext-align: center;\\n\\topacity: 0;\\n}\\n\\n#Notification.Up {\\n\\ttop: 70%;\\n\\tborder-left: 2 * $notificationSize/3 solid transparent;\\n\\tborder-right: 2 * $notificationSize/3 solid transparent;\\n\\tborder-top: $notificationSize solid black;\\n}\\n\\n#Notification.Down {\\n\\ttop: 30%;\\n\\tborder-left: 2 * $notificationSize/3 solid transparent;\\n\\tborder-right: 2 * $notificationSize/3 solid transparent;\\n\\tborder-bottom: $notificationSize solid black;\\n}\\n\\n#Notification.Animate {\\n\\tanimation-name: UpAndDown;\\n\\tanimation-duration: 0.5s;\\n\\tanimation-iteration-count: infinite;\\n\\tanimation-direction: alternate;\\n\\tanimation-timing-function: ease-in-out;\\n}\\n\\n.Mobile #Notification {\\n\\t\\n} */\\n#AlwaysBeScrolling {\\n  display: none;\\n  position: absolute;\\n  top: 13px;\\n  left: 20px;\\n  width: auto;\\n  line-height: 40px;\\n  height: 40px;\\n  font-family: sans-serif;\\n  font-size: 18px;\\n  color: white;\\n  font-weight: lighter;\\n  pointer-events: none; }\\n\\n#AlwaysBeScrolling.Mobile {\\n  bottom: 20px;\\n  top: inherit; }\\n\", \"\"]);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader!./~/autoprefixer-loader!./~/sass-loader!./style/main.scss\n ** module id = 16\n ** module chunks = 1\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader/lib/css-base.js\n ** module id = 17\n ** module chunks = 1\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar stylesInDom = {},\r\n\tmemoize = function(fn) {\r\n\t\tvar memo;\r\n\t\treturn function () {\r\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\treturn memo;\r\n\t\t};\r\n\t},\r\n\tisOldIE = memoize(function() {\r\n\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t}),\r\n\tgetHeadElement = memoize(function () {\r\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t}),\r\n\tsingletonElement = null,\r\n\tsingletonCounter = 0;\r\n\r\nmodule.exports = function(list, options) {\r\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\r\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t}\r\n\r\n\toptions = options || {};\r\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t// tags it will allow on a page\r\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\r\n\tvar styles = listToStyles(list);\r\n\taddStylesToDom(styles, options);\r\n\r\n\treturn function update(newList) {\r\n\t\tvar mayRemove = [];\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tdomStyle.refs--;\r\n\t\t\tmayRemove.push(domStyle);\r\n\t\t}\r\n\t\tif(newList) {\r\n\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\taddStylesToDom(newStyles, options);\r\n\t\t}\r\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction addStylesToDom(styles, options) {\r\n\tfor(var i = 0; i < styles.length; i++) {\r\n\t\tvar item = styles[i];\r\n\t\tvar domStyle = stylesInDom[item.id];\r\n\t\tif(domStyle) {\r\n\t\t\tdomStyle.refs++;\r\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t}\r\n\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction listToStyles(list) {\r\n\tvar styles = [];\r\n\tvar newStyles = {};\r\n\tfor(var i = 0; i < list.length; i++) {\r\n\t\tvar item = list[i];\r\n\t\tvar id = item[0];\r\n\t\tvar css = item[1];\r\n\t\tvar media = item[2];\r\n\t\tvar sourceMap = item[3];\r\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\tif(!newStyles[id])\r\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\telse\r\n\t\t\tnewStyles[id].parts.push(part);\r\n\t}\r\n\treturn styles;\r\n}\r\n\r\nfunction createStyleElement() {\r\n\tvar styleElement = document.createElement(\"style\");\r\n\tvar head = getHeadElement();\r\n\tstyleElement.type = \"text/css\";\r\n\thead.appendChild(styleElement);\r\n\treturn styleElement;\r\n}\r\n\r\nfunction createLinkElement() {\r\n\tvar linkElement = document.createElement(\"link\");\r\n\tvar head = getHeadElement();\r\n\tlinkElement.rel = \"stylesheet\";\r\n\thead.appendChild(linkElement);\r\n\treturn linkElement;\r\n}\r\n\r\nfunction addStyle(obj, options) {\r\n\tvar styleElement, update, remove;\r\n\r\n\tif (options.singleton) {\r\n\t\tvar styleIndex = singletonCounter++;\r\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement());\r\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t} else if(obj.sourceMap &&\r\n\t\ttypeof URL === \"function\" &&\r\n\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\ttypeof Blob === \"function\" &&\r\n\t\ttypeof btoa === \"function\") {\r\n\t\tstyleElement = createLinkElement();\r\n\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tstyleElement.parentNode.removeChild(styleElement);\r\n\t\t\tif(styleElement.href)\r\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t};\r\n\t} else {\r\n\t\tstyleElement = createStyleElement();\r\n\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tstyleElement.parentNode.removeChild(styleElement);\r\n\t\t};\r\n\t}\r\n\r\n\tupdate(obj);\r\n\r\n\treturn function updateStyle(newObj) {\r\n\t\tif(newObj) {\r\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\treturn;\r\n\t\t\tupdate(obj = newObj);\r\n\t\t} else {\r\n\t\t\tremove();\r\n\t\t}\r\n\t};\r\n}\r\n\r\nvar replaceText = (function () {\r\n\tvar textStore = [];\r\n\r\n\treturn function (index, replacement) {\r\n\t\ttextStore[index] = replacement;\r\n\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t};\r\n})();\r\n\r\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\tvar css = remove ? \"\" : obj.css;\r\n\r\n\tif (styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t} else {\r\n\t\tvar cssNode = document.createTextNode(css);\r\n\t\tvar childNodes = styleElement.childNodes;\r\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\tif (childNodes.length) {\r\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t} else {\r\n\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction applyToTag(styleElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(media) {\r\n\t\tstyleElement.setAttribute(\"media\", media)\r\n\t}\r\n\r\n\tif(styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = css;\r\n\t} else {\r\n\t\twhile(styleElement.firstChild) {\r\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t}\r\n\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t}\r\n}\r\n\r\nfunction updateLink(linkElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(sourceMap) {\r\n\t\t// http://stackoverflow.com/a/26603875\r\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t}\r\n\r\n\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\r\n\tvar oldSrc = linkElement.href;\r\n\r\n\tlinkElement.href = URL.createObjectURL(blob);\r\n\r\n\tif(oldSrc)\r\n\t\tURL.revokeObjectURL(oldSrc);\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/style-loader/addStyles.js\n ** module id = 18\n ** module chunks = 1\n **/","define([\"visuals/Bass\", \"visuals/Voice\", \"visuals/Pictures\", \"visuals/Piano\", \n\t\"visuals/Kick\", \"visuals/Snare\", \"visuals/Arp\", \"visuals/HighHat\", \"util/Config\", \n\t\"interface/Scroll\", \"visuals/Frame\", \"visuals/BackgroundImages\"], \nfunction(BassVisuals, VoiceVisuals, Pictures, PianoVisuals, \n\tKickVisuals, SnareVisuals, ArpVisuals, HighHatVisuals, Config, \n\tScroll, FrameVisuals, BackgroundImages){\n\n\tvar bassVis = new BassVisuals(); \n\n\tvar voiceVis = new VoiceVisuals();\n\n\tvar pianoVis = new PianoVisuals();\n\n\tvar arpVis = new ArpVisuals();\n\n\tvar hhVis = new HighHatVisuals();\n\t\n\tvar pics = new Pictures();\n\n\tvar frameVis = new FrameVisuals();\n\n\tif (!Config.MOBILE){\t\n\n\t\tvar backgroundImages = new BackgroundImages();\n\n\t\tvar kickVis = new KickVisuals();\n\n\t\tvar snareVis = new SnareVisuals();\n\t}\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/visuals/Main.js\n ** module id = 19\n ** module chunks = 1\n **/","define([\"visuals/Context\", \"controller/Mediator\", \"interface/Window\", \"TWEEN\", \n\t\"preset/ArpVisuals\", \"controller/Conductor\", \"THREE\"],\n function(Context, Mediator, Window, TWEEN, Preset, Conductor, THREE){\n\n\t\"use strict\";\n\n\tvar material = new THREE.MeshBasicMaterial({\n\t\ttransparent: Context.transparent,\n\t\topacity: 0.6,\n\t\tblending : Context.blending,\n\t\tblendSrc : Context.blendSrc,\n\t\tblendDst : Context.blendDst,\n\t\tblendEquation : Context.blendEq,\n\t\tdepthTest : false,\n\t\tdepthWrite : false,\n\t\tside: THREE.BackSide,\n\t\tcolor : 0xf00a00,\n\t\temissive : 0x000000\n\t});\n\n\tvar geometry = new THREE.PlaneBufferGeometry(3, 3, 2);\n\n\tvar offsetX = Context.width / 3;\n\tvar offsetY = -Context.height / 3;\n\tvar radius = 4;\n\n\t/**\n\t *  the bass visuals singleton\n\t */\n\tvar ArpVisuals = function(){\n\t\tthis.object = new THREE.Object3D();\n\t\tthis.object.position.setX(offsetX);\n\t\tthis.object.position.setY(offsetY);\n\t\tContext.background.add(this.object);\n\t\tthis.index = 0;\n\t\tthis.scaling = 1;\n\t\tthis.growth = 1;\n\t\tthis.squares = [];\n\t\tfor (var i = 0; i < 5; i++){\n\t\t\tvar square = new THREE.Mesh( geometry, material);\n\t\t\tsquare.scale.set(0.0001, 0.0001, 1);\n\t\t\tthis.squares.push(square);\n\t\t\tthis.object.add(square);\n\t\t}\n\t\tMediator.route(\"arp\", this.note.bind(this));\n\t\tPreset.onupdate(this.updatePreset.bind(this));\n\t};\n\n\tArpVisuals.prototype.note = function(){\n\t\tvar obj = this.squares[this.index];\n\t\tvar size = this.scaling + (this.growth * (this.index + 1) / this.squares.length);\n\t\tvar tween = new TWEEN.Tween({size : size})\n\t\t\t.to({size : 0.0001}, 100)\n\t\t\t.onUpdate(function(){\n\t\t\t\tobj.scale.set(this.size, this.size, 1);\n\t\t\t})\n\t\t\t.onComplete(function(){\n\t\t\t\tobj = null;\n\t\t\t\ttween = null;\n\t\t\t})\n\t\t\t.easing( TWEEN.Easing.Linear.None);\n\t\tvar attack = new TWEEN.Tween({size : 0.0001})\n\t\t\t.to({size : size}, 60)\n\t\t\t.onUpdate(function(){\n\t\t\t\tobj.scale.set(this.size, this.size, 1);\t\n\t\t\t})\n\t\t\t.onComplete(function(){\n\t\t\t\tattack = null;\n\t\t\t})\n\t\t\t.easing( TWEEN.Easing.Elastic.Out)\n\t\t\t.chain(tween)\n\t\t\t.start();\n\t\tthis.index = (this.index + 1) % this.squares.length;\n\t};\n\n\tMediator.route(\"B\", function(){\n\t\tmaterial.color.setRGB(1, 1, 1);\n\t});\n\n\tArpVisuals.prototype.updatePreset = function(pre){\n\t\tif (Conductor.getMovement() !== 1){\n\t\t\tvar color = pre.color;\n\t\t\tmaterial.color.setRGB(color[0], color[1], color[2]);\n\t\t}\n\t\tvar angle = pre.angle;\n\t\tfor (var i = 0; i < this.squares.length; i++){\n\t\t\tvar square = this.squares[i];\n\t\t\tvar rad = i * radius;\n\t\t\tvar x = Math.sin(angle) * rad;\n\t\t\tvar y = Math.cos(angle) * rad;\n\t\t\tsquare.position.set(x, y, 0);\n\t\t}\n\t\tthis.scaling = pre.size;\n\t\tthis.growth = pre.growth;\n\t};\n\t\n\n\treturn ArpVisuals;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/visuals/Arp.js\n ** module id = 20\n ** module chunks = 1\n **/","define([\"interface/Window\", \"jquery\", \"TWEEN\", \"Stats\", \n\t\"controller/Mediator\", \"shader/ColorShift\", \"shader/Noise\", \n\t\"util/Config\", \"controller/Conductor\", \"THREE\", \"THREEShaders\"], \nfunction(Window, $, TWEEN, Stats, Mediator, ColorShiftShader, \n\tNoiseShader, Config, Conductor, THREE, THREEShaders){\n\n\t/**\n\t *  the threejs context\n\t */\n\tvar Context = function(){\n\t\tthis.camera = new THREE.PerspectiveCamera( 40, Window.width() / Window.height(), 1, 20000 );\n\t\tthis.scene = new THREE.Scene();\n\t\t// this.scene.fog = new THREE.FogExp2( 0xffffff, 0.0025);\n\t\tthis.renderer = new THREE.WebGLRenderer({\n\t\t\tprecision : \"lowp\",\n\t\t\t// precision : \"mediump\",\n\t\t\talpha : false,\n\t\t\tpremultipliedAlpha: true,\n\t\t\tstencil : false,\n\t\t});\n\t\twindow.renderer = this.renderer;\n\t\tthis.renderer.autoClearStencil = false;\n\t\tthis.renderer.sortObjects = false;\n\n\t\tif (Config.MOBILE){\n\t\t\tthis.renderer.setClearColor( 0xffffff , 0);\n\t\t} else {\n\t\t\tthis.renderer.setClearColor( 0x000000 , 0);\n\t\t}\n\t\t// this.renderer.setSize(Window.width(), Window.height());\n\t\tthis.resize(Window.width(), Window.height());\n\t\tWindow.container.append(this.renderer.domElement);\n\n\t\tthis.$rendererElement = $(this.renderer.domElement);\n\n\t\t//camera positioning\n\t\tthis.camera.position.setZ(-100);\n\t\tthis.camera.lookAt(new THREE.Vector3 (0.0, 0.0, 0.0));\n\n\t\tthis.scene.add( new THREE.AmbientLight( 0x222222 ) );\n\t\tthis.light = new THREE.PointLight( 0xffffff );\n\t\tthis.light.position.setX(-100);\n\t\tthis.light.position.setY(-100);\n\t\tthis.light.position.setZ(-100);\n\t\tthis.light.lookAt(new THREE.Vector3 (0.0, 0.0, 0.0));\n\t\tthis.scene.add( this.light );\n\n\t\t//the stats\n\t\tif (Config.STATS){\n\t\t\tthis.stats = new Stats();\n\t\t\tthis.stats.setMode(0);\n\t\t\tthis.stats.domElement.style.position = 'absolute';\n\t\t\tthis.stats.domElement.style.left = '0px';\n\t\t\tthis.stats.domElement.style.top = '0px';\n\t\t\tWindow.container.append(this.stats.domElement);\n\t\t}\n\t\t\n\t\t//the background and foreground layers\t\t\n\t\tthis.background = this.layer0 = new THREE.Object3D();\n\t\tthis.layer1 = new THREE.Object3D();\n\t\tthis.layer2 = new THREE.Object3D();\n\t\t// this.background.position.setZ(-1);\n\t\tthis.scene.add(this.layer2);\n\t\tthis.scene.add(this.layer1);\n\t\tthis.scene.add(this.layer0);\n\n\t\t//listen for events\n\t\t// Mediator.route(\"half\", this.flipCamera.bind(this));\n\t\tMediator.route(\"update\", this.animate.bind(this));\n\t\tMediator.route(\"start\", this.fadeIn.bind(this));\n\t\tMediator.route(\"end\", this.fadeOut.bind(this));\n\t\tMediator.route(\"HD\", this.resize.bind(this));\n\t\tWindow.resize(this.resize.bind(this));\n\n\t\tthis.computeBounding();\n\t\tWindow.resize(this.computeBounding.bind(this));\n\n\t\t//drawing setup\n\t\tthis.transparent = true;\n\t\tthis.opacity = 0.5;\n\t\tif (Config.MOBILE){\n\t\t\tthis.blending = THREE.NormalBlending;\n\t\t} else {\n\t\t\tthis.blending = THREE.CustomBlending;\n\t\t}\n\t\tthis.blendSrc = THREE.SrcColorFactor;\n\t\tthis.blendDst = THREE.DstColorFactor;\n\t\tthis.blendEq = THREE.SubtractEquation;\n\n\t\t//the background shapes for testing\n\t\t// this.backgroundShape();\n\t\tif (!Config.MOBILE){\n\t\t\tthis.addComposer();\n\t\t}\n\n\t\t//start animating\n\t\tthis.animate();\n\t};\n\n\t//drawing setup\n\n\tContext.prototype.flipCamera = function(half){\n\t\tif (this.tween){\n\t\t\tthis.tween.stop();\n\t\t}\n\t\tvar self = this;\n\t\t/*this.tween = new TWEEN.Tween({rotation : this.background.rotation.z})\n\t\t\t.to({rotation : Math.PI * (1 - half)}, 1000)\n\t\t\t.onUpdate(function(){\n\t\t\t\tself.background.rotation.z = this.rotation;\n\t\t\t\t// self.background.rotation.x = this.rotation * 2;\n\t\t\t})\n\t\t\t.onComplete(function(){\n\t\t\t\tself.tween = null;\n\t\t\t\tself.flipped = half;\n\t\t\t\tMediator.send(\"flipped\", half);\n\t\t\t})\n\t\t\t.easing( TWEEN.Easing.Quadratic.InOut)\n\t\t\t.start();*/\n\t};\n\n\tContext.prototype.resize = function(){\n\t\tvar width = Window.width();\n\t\tvar height = Window.height();\n\t\tthis.camera.aspect = width / height;\n\t\tthis.camera.updateProjectionMatrix();\n\t\tvar resolutionMult = 1;\n\t\tif (!Config.HD || Config.MOBILE){\n\t\t\tresolutionMult = 0.8;\n\t\t}\n\t\tthis.renderer.setSize( width * resolutionMult, height * resolutionMult);\n\t};\n\n\tContext.prototype.fadeIn = function(){\n\t\t// this.$rendererElement.css({\n\t\t// \t\"opacity\" : 1\n\t\t// });\n\t};\n\n\tContext.prototype.fadeOut = function(){\n\t\t// var opacity = Math.pow(1 - endTransition, 1.5);\n\t\t/*this.$rendererElement.animate({\n\t\t\t\"opacity\" : 0\n\t\t}, 1000);*/\n\t\t/*if (Conductor.getMovement() === 2) {\n\t\t\tvar endTransition = Conductor.getEndTransitionProgress();\n\t\t\tif (endTransition > 0){\n\t\t\t\t// var opacity = Math.pow(1 - endTransition, 1.5);\n\t\t\t\t// this.$rendererElement.css(\"opacity\", opacity);\n\t\t\t} \n\t\t}*/\n\t};\n\n\tContext.prototype.animate = function(time) {\n\t\tif (Config.VISUALS){\n\t\t\tif (!Config.MOBILE){\n\t\t\t\tthis.composer.render();\n\t\t\t} else {\n\t\t\t\tthis.renderer.render(this.scene, this.camera);\n\t\t\t}\n\t\t}\n\t\tTWEEN.update(time);\n\t\tif (Config.STATS){\n\t\t\tthis.stats.update();\n\t\t}\n\t};\n\n\tContext.prototype.computeBounding = function(){\n\t\tvar vector = new THREE.Vector3(-1, -1, 1);\n\t\tvector.unproject( this.camera );\n\t\tvar dir = vector.sub( this.camera.position ).normalize();\n\t\tvar distance = - this.camera.position.z / dir.z;\n\t\tvar pos = this.camera.position.clone().add( dir.multiplyScalar( distance ) );\n\t\tthis.width = Math.abs(vector.x * 2);\n\t\tthis.height = Math.abs(vector.y * 2);\n\t};\n\n\tContext.prototype.pictureWidth = 50;\n\n\tContext.prototype.sidebarWidth = 25;\n\n\tContext.prototype.addComposer = function() {\n\t\tthis.composer = new THREE.EffectComposer( this.renderer );\n\t\tvar renderPass = new THREE.RenderPass(  this.scene, this.camera );\n\t\tthis.composer.addPass( renderPass );\n\t\tvar effect = new THREE.ShaderPass( ColorShiftShader );\n\t\teffect.renderToScreen = true;\n\t\tthis.composer.addPass( effect );\n\t};\n\n\tContext.prototype.dispose = function(){\n\n\t};\n\n\treturn new Context();\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/visuals/Context.js\n ** module id = 21\n ** module chunks = 1\n **/","define([\"shader/noise.frag\",  \"shader/colorshift.vert\"], \nfunction(fragShader, vertShader){\n\n\tvar ColorShader = {\n\n\t\tuniforms: {\n\n\t\t\t\"tDiffuse\": { type: \"t\", value: null },\n\t\t\t\"amount\": { type: \"f\", value: 5 },\n\n\t\t},\n\n\t\tvertexShader: vertShader,\n\n\t\tfragmentShader: fragShader\n\n\t};\n\n\treturn ColorShader;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/shader/Noise.js\n ** module id = 22\n ** module chunks = 1\n **/","module.exports = \"uniform sampler2D tDiffuse;\\nuniform float amount;\\n\\nvarying vec2 vUv;\\n\\nvoid main() {\\n\\n\\t// // sample the source\\n\\tvec4 cTextureScreen = texture2D( tDiffuse, vUv );\\n\\n\\t// // make some noise\\n\\tfloat x = vUv.x * vUv.y * 5.0 *  1000.0;\\n\\tx = mod( x, 13.0 ) * mod( x, 123.0 );\\n\\tfloat dx = mod( x, 0.01 );\\n\\n\\t// // add noise\\n\\tvec3 cResult = cTextureScreen.rgb + cTextureScreen.rgb * clamp( 0.1 + dx * amount, 0.0, 1.0 );\\n\\n\\tgl_FragColor =  vec4( cResult, cTextureScreen.a );\\n\\n}\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/shader/noise.frag\n ** module id = 23\n ** module chunks = 1\n **/","module.exports = \"varying vec2 vUv;\\n\\nvoid main() {\\n\\n\\tvUv = uv;\\n\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n\\n}\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/shader/colorshift.vert\n ** module id = 24\n ** module chunks = 1\n **/","// tween.js v.0.15.0 https://github.com/sole/tween.js\nvoid 0===Date.now&&(Date.now=function(){return(new Date).valueOf()});var TWEEN=TWEEN||function(){var n=[];return{REVISION:\"14\",getAll:function(){return n},removeAll:function(){n=[]},add:function(t){n.push(t)},remove:function(t){var r=n.indexOf(t);-1!==r&&n.splice(r,1)},update:function(t){if(0===n.length)return!1;var r=0;for(t=void 0!==t?t:\"undefined\"!=typeof window&&void 0!==window.performance&&void 0!==window.performance.now?window.performance.now():Date.now();r<n.length;)n[r].update(t)?r++:n.splice(r,1);return!0}}}();TWEEN.Tween=function(n){var t=n,r={},i={},u={},o=1e3,e=0,a=!1,f=!1,c=!1,s=0,h=null,l=TWEEN.Easing.Linear.None,p=TWEEN.Interpolation.Linear,E=[],d=null,v=!1,I=null,w=null,M=null;for(var O in n)r[O]=parseFloat(n[O],10);this.to=function(n,t){return void 0!==t&&(o=t),i=n,this},this.start=function(n){TWEEN.add(this),f=!0,v=!1,h=void 0!==n?n:\"undefined\"!=typeof window&&void 0!==window.performance&&void 0!==window.performance.now?window.performance.now():Date.now(),h+=s;for(var o in i){if(i[o]instanceof Array){if(0===i[o].length)continue;i[o]=[t[o]].concat(i[o])}r[o]=t[o],r[o]instanceof Array==!1&&(r[o]*=1),u[o]=r[o]||0}return this},this.stop=function(){return f?(TWEEN.remove(this),f=!1,null!==M&&M.call(t),this.stopChainedTweens(),this):this},this.stopChainedTweens=function(){for(var n=0,t=E.length;t>n;n++)E[n].stop()},this.delay=function(n){return s=n,this},this.repeat=function(n){return e=n,this},this.yoyo=function(n){return a=n,this},this.easing=function(n){return l=n,this},this.interpolation=function(n){return p=n,this},this.chain=function(){return E=arguments,this},this.onStart=function(n){return d=n,this},this.onUpdate=function(n){return I=n,this},this.onComplete=function(n){return w=n,this},this.onStop=function(n){return M=n,this},this.update=function(n){var f;if(h>n)return!0;v===!1&&(null!==d&&d.call(t),v=!0);var M=(n-h)/o;M=M>1?1:M;var O=l(M);for(f in i){var m=r[f]||0,N=i[f];N instanceof Array?t[f]=p(N,O):(\"string\"==typeof N&&(N=m+parseFloat(N,10)),\"number\"==typeof N&&(t[f]=m+(N-m)*O))}if(null!==I&&I.call(t,O),1==M){if(e>0){isFinite(e)&&e--;for(f in u){if(\"string\"==typeof i[f]&&(u[f]=u[f]+parseFloat(i[f],10)),a){var T=u[f];u[f]=i[f],i[f]=T}r[f]=u[f]}return a&&(c=!c),h=n+s,!0}null!==w&&w.call(t);for(var g=0,W=E.length;W>g;g++)E[g].start(n);return!1}return!0}},TWEEN.Easing={Linear:{None:function(n){return n}},Quadratic:{In:function(n){return n*n},Out:function(n){return n*(2-n)},InOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)}},Cubic:{In:function(n){return n*n*n},Out:function(n){return--n*n*n+1},InOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)}},Quartic:{In:function(n){return n*n*n*n},Out:function(n){return 1- --n*n*n*n},InOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)}},Quintic:{In:function(n){return n*n*n*n*n},Out:function(n){return--n*n*n*n*n+1},InOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)}},Sinusoidal:{In:function(n){return 1-Math.cos(n*Math.PI/2)},Out:function(n){return Math.sin(n*Math.PI/2)},InOut:function(n){return.5*(1-Math.cos(Math.PI*n))}},Exponential:{In:function(n){return 0===n?0:Math.pow(1024,n-1)},Out:function(n){return 1===n?1:1-Math.pow(2,-10*n)},InOut:function(n){return 0===n?0:1===n?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(-Math.pow(2,-10*(n-1))+2)}},Circular:{In:function(n){return 1-Math.sqrt(1-n*n)},Out:function(n){return Math.sqrt(1- --n*n)},InOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)}},Elastic:{In:function(n){var t,r=.1,i=.4;return 0===n?0:1===n?1:(!r||1>r?(r=1,t=i/4):t=i*Math.asin(1/r)/(2*Math.PI),-(r*Math.pow(2,10*(n-=1))*Math.sin(2*(n-t)*Math.PI/i)))},Out:function(n){var t,r=.1,i=.4;return 0===n?0:1===n?1:(!r||1>r?(r=1,t=i/4):t=i*Math.asin(1/r)/(2*Math.PI),r*Math.pow(2,-10*n)*Math.sin(2*(n-t)*Math.PI/i)+1)},InOut:function(n){var t,r=.1,i=.4;return 0===n?0:1===n?1:(!r||1>r?(r=1,t=i/4):t=i*Math.asin(1/r)/(2*Math.PI),(n*=2)<1?-.5*r*Math.pow(2,10*(n-=1))*Math.sin(2*(n-t)*Math.PI/i):r*Math.pow(2,-10*(n-=1))*Math.sin(2*(n-t)*Math.PI/i)*.5+1)}},Back:{In:function(n){var t=1.70158;return n*n*((t+1)*n-t)},Out:function(n){var t=1.70158;return--n*n*((t+1)*n+t)+1},InOut:function(n){var t=2.5949095;return(n*=2)<1?.5*n*n*((t+1)*n-t):.5*((n-=2)*n*((t+1)*n+t)+2)}},Bounce:{In:function(n){return 1-TWEEN.Easing.Bounce.Out(1-n)},Out:function(n){return 1/2.75>n?7.5625*n*n:2/2.75>n?7.5625*(n-=1.5/2.75)*n+.75:2.5/2.75>n?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},InOut:function(n){return.5>n?.5*TWEEN.Easing.Bounce.In(2*n):.5*TWEEN.Easing.Bounce.Out(2*n-1)+.5}}},TWEEN.Interpolation={Linear:function(n,t){var r=n.length-1,i=r*t,u=Math.floor(i),o=TWEEN.Interpolation.Utils.Linear;return 0>t?o(n[0],n[1],i):t>1?o(n[r],n[r-1],r-i):o(n[u],n[u+1>r?r:u+1],i-u)},Bezier:function(n,t){var r,i=0,u=n.length-1,o=Math.pow,e=TWEEN.Interpolation.Utils.Bernstein;for(r=0;u>=r;r++)i+=o(1-t,u-r)*o(t,r)*n[r]*e(u,r);return i},CatmullRom:function(n,t){var r=n.length-1,i=r*t,u=Math.floor(i),o=TWEEN.Interpolation.Utils.CatmullRom;return n[0]===n[r]?(0>t&&(u=Math.floor(i=r*(1+t))),o(n[(u-1+r)%r],n[u],n[(u+1)%r],n[(u+2)%r],i-u)):0>t?n[0]-(o(n[0],n[0],n[1],n[1],-i)-n[0]):t>1?n[r]-(o(n[r],n[r],n[r-1],n[r-1],i-r)-n[r]):o(n[u?u-1:0],n[u],n[u+1>r?r:u+1],n[u+2>r?r:u+2],i-u)},Utils:{Linear:function(n,t,r){return(t-n)*r+n},Bernstein:function(n,t){var r=TWEEN.Interpolation.Utils.Factorial;return r(n)/r(t)/r(n-t)},Factorial:function(){var n=[1];return function(t){var r,i=1;if(n[t])return n[t];for(r=t;r>1;r--)i*=r;return n[t]=i}}(),CatmullRom:function(n,t,r,i,u){var o=.5*(r-n),e=.5*(i-t),a=u*u,f=u*a;return(2*t-2*r+o+e)*f+(-3*t+3*r-2*o-e)*a+o*u+t}}},\"undefined\"!=typeof module&&module.exports&&(module.exports=TWEEN);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./deps/tween.min.js\n ** module id = 25\n ** module chunks = 1\n **/","/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar Stats = function () {\n\n\tvar startTime = Date.now(), prevTime = startTime;\n\tvar ms = 0, msMin = Infinity, msMax = 0;\n\tvar fps = 0, fpsMin = Infinity, fpsMax = 0;\n\tvar frames = 0, mode = 0;\n\n\tvar container = document.createElement( 'div' );\n\tcontainer.id = 'stats';\n\tcontainer.addEventListener( 'mousedown', function ( event ) { event.preventDefault(); setMode( ++ mode % 2 ) }, false );\n\tcontainer.style.cssText = 'width:80px;opacity:0.9;cursor:pointer';\n\n\tvar fpsDiv = document.createElement( 'div' );\n\tfpsDiv.id = 'fps';\n\tfpsDiv.style.cssText = 'padding:0 0 3px 3px;text-align:left;background-color:#002';\n\tcontainer.appendChild( fpsDiv );\n\n\tvar fpsText = document.createElement( 'div' );\n\tfpsText.id = 'fpsText';\n\tfpsText.style.cssText = 'color:#0ff;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px';\n\tfpsText.innerHTML = 'FPS';\n\tfpsDiv.appendChild( fpsText );\n\n\tvar fpsGraph = document.createElement( 'div' );\n\tfpsGraph.id = 'fpsGraph';\n\tfpsGraph.style.cssText = 'position:relative;width:74px;height:30px;background-color:#0ff';\n\tfpsDiv.appendChild( fpsGraph );\n\n\twhile ( fpsGraph.children.length < 74 ) {\n\n\t\tvar bar = document.createElement( 'span' );\n\t\tbar.style.cssText = 'width:1px;height:30px;float:left;background-color:#113';\n\t\tfpsGraph.appendChild( bar );\n\n\t}\n\n\tvar msDiv = document.createElement( 'div' );\n\tmsDiv.id = 'ms';\n\tmsDiv.style.cssText = 'padding:0 0 3px 3px;text-align:left;background-color:#020;display:none';\n\tcontainer.appendChild( msDiv );\n\n\tvar msText = document.createElement( 'div' );\n\tmsText.id = 'msText';\n\tmsText.style.cssText = 'color:#0f0;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px';\n\tmsText.innerHTML = 'MS';\n\tmsDiv.appendChild( msText );\n\n\tvar msGraph = document.createElement( 'div' );\n\tmsGraph.id = 'msGraph';\n\tmsGraph.style.cssText = 'position:relative;width:74px;height:30px;background-color:#0f0';\n\tmsDiv.appendChild( msGraph );\n\n\twhile ( msGraph.children.length < 74 ) {\n\n\t\tvar bar = document.createElement( 'span' );\n\t\tbar.style.cssText = 'width:1px;height:30px;float:left;background-color:#131';\n\t\tmsGraph.appendChild( bar );\n\n\t}\n\n\tvar setMode = function ( value ) {\n\n\t\tmode = value;\n\n\t\tswitch ( mode ) {\n\n\t\t\tcase 0:\n\t\t\t\tfpsDiv.style.display = 'block';\n\t\t\t\tmsDiv.style.display = 'none';\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tfpsDiv.style.display = 'none';\n\t\t\t\tmsDiv.style.display = 'block';\n\t\t\t\tbreak;\n\t\t}\n\n\t};\n\n\tvar updateGraph = function ( dom, value ) {\n\n\t\tvar child = dom.appendChild( dom.firstChild );\n\t\tchild.style.height = value + 'px';\n\n\t};\n\n\treturn {\n\n\t\tREVISION: 12,\n\n\t\tdomElement: container,\n\n\t\tsetMode: setMode,\n\n\t\tbegin: function () {\n\n\t\t\tstartTime = Date.now();\n\n\t\t},\n\n\t\tend: function () {\n\n\t\t\tvar time = Date.now();\n\n\t\t\tms = time - startTime;\n\t\t\tmsMin = Math.min( msMin, ms );\n\t\t\tmsMax = Math.max( msMax, ms );\n\n\t\t\tmsText.textContent = ms + ' MS (' + msMin + '-' + msMax + ')';\n\t\t\tupdateGraph( msGraph, Math.min( 30, 30 - ( ms / 200 ) * 30 ) );\n\n\t\t\tframes ++;\n\n\t\t\tif ( time > prevTime + 1000 ) {\n\n\t\t\t\tfps = Math.round( ( frames * 1000 ) / ( time - prevTime ) );\n\t\t\t\tfpsMin = Math.min( fpsMin, fps );\n\t\t\t\tfpsMax = Math.max( fpsMax, fps );\n\n\t\t\t\tfpsText.textContent = fps + ' FPS (' + fpsMin + '-' + fpsMax + ')';\n\t\t\t\tupdateGraph( fpsGraph, Math.min( 30, 30 - ( fps / 100 ) * 30 ) );\n\n\t\t\t\tprevTime = time;\n\t\t\t\tframes = 0;\n\n\t\t\t}\n\n\t\t\treturn time;\n\n\t\t},\n\n\t\tupdate: function () {\n\n\t\t\tstartTime = this.end();\n\n\t\t}\n\n\t}\n\n};\n\nif ( typeof module === 'object' ) {\n\n\tmodule.exports = Stats;\n\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./deps/Stats.js\n ** module id = 26\n ** module chunks = 1\n **/","define([\"shader/colorshift.frag\",  \"shader/colorshift.vert\"], \nfunction(fragShader, vertShader){\n\n\tvar ColorShader = {\n\n\t\tuniforms: {\n\n\t\t\t\"tDiffuse\": { type: \"t\", value: null },\n\n\t\t},\n\n\t\tvertexShader: vertShader,\n\n\t\tfragmentShader: fragShader\n\n\t};\n\n\treturn ColorShader;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/shader/ColorShift.js\n ** module id = 27\n ** module chunks = 1\n **/","module.exports = \"uniform sampler2D tDiffuse;\\n\\nvarying vec2 vUv;\\n\\nconst vec4 black = vec4(0.0, 0.0, 0.0, 1.0);\\nconst vec4 white = vec4(1.0, 1.0, 1.0, 1.0);\\n\\nvoid main() {\\n\\tvec4 color = texture2D(tDiffuse, vUv);\\n\\tif (!all(equal(color, black))){\\n\\t\\tgl_FragColor = white - color;\\n\\t} else {\\n\\t\\tgl_FragColor = white;\\n\\t}\\n}\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/shader/colorshift.frag\n ** module id = 28\n ** module chunks = 1\n **/","define([\"Tone/core/Transport\", \"controller/Mediator\", \"Tone/core/Note\", \n\t\"TERP\", \"util/Config\", \"interface/Scroll\"], \n\tfunction(Transport, Mediator, Note, TERP, Config, Scroll){\n\n\tTransport.loop = true;\n\n\tvar chordChanges = [ [\"0:0\", 0], [\"1:0\", 1], [\"3:0\", 0], [\"4:0\", 1], [\"6:0\", 0], [\"7:0\", 1], [\"9:0\", 0], [\"10:0\", 1], [\"12:0\", 0], [\"13:0\", 1], [\"15:0\", 0], [\"16:0\", 1], [\"18:0\", 0], [\"19:0\", 1], [\"21:0\", 0], [\"22:0\", 1]];\n\tvar chordProgression = [[\"A7\", \"Dm\"], [\"C7\", \"Fmaj\"], [\"D7\", \"Gmaj\"], [\"Gmaj\", \"Cmaj\"]];\n\n\t// chordProgression.reverse();\n\n\t/**\n\t *  the conductor leads the score\n\t *  it emits state events\n\t *  @constructor\n\t */\n\tvar Conductor = function(){\n\n\t\t/**\n\t\t *  the next section number [0,3]\n\t\t *  @type {Number}\n\t\t *  @private\n\t\t */\n\t\tthis.nextSection = -1;\n\n\t\t/**\n\t\t *  the current section number [0,3]\n\t\t *  @type {Number}\n\t\t *  @private\n\t\t */\n\t\tthis.currentSection = -2;\n\n\t\t/**\n\t\t *  the current chord number\n\t\t *  @type {Number}\n\t\t *  @private\n\t\t */\n\t\tthis.chordNumber = -1;\n\n\t\t/**\n\t\t *  the name of the chord\n\t\t *  @type {string}\n\t\t *  @private\n\t\t */\n\t\tthis.chordName = \"none!\";\n\n\t\t/**\n\t\t *  the progress through the piece\n\t\t *  @type {Number}\n\t\t *  @private\n\t\t */\n\t\tthis.progress = 0.5;\n\n\t\t/**\n\t\t *  the total number of loops which have passed\n\t\t */\n\t\tthis.loop = 0;\n\n\t\t/**\n\t\t *  the total number of measures\n\t\t */\n\t\tthis.measure = 0;\n\n\t\t/**\n\t\t *  the number of times the voice has repeated\n\t\t */\n\t\tthis.forceVoice = -1;\n\n\n\t\t// SECTION TIMING\n\n\t\t/**\n\t\t *  the distance you have to scroll to arrive at the b section\n\t\t */\n\t\tthis.bDistance = 3;\n\n\t\t/**\n\t\t *  the distance you have to scroll to arrive at the c section\n\t\t */\n\t\tthis.cDistance = 7;\n\n\t\t/**\n\t\t *  the distance you have to scroll to arrive at the end\n\t\t */\n\t\tthis.endDistance = 14;\n\n\t\t/** \n\t\t *  The movement of the piece A, B, or C\n\t\t */\n\t\tthis.movement = 0;\n\n\t\t/**\n\t\t *  the position within the section\n\t\t */\n\t\tthis.sectionPosition = 0;\n\n\t\tthis.btransitionNotification = false;\n\n\n\t\tTransport.setInterval(this.updateLoop.bind(this), \"1m\");\n\t\tTransport.setInterval(this.updateSection.bind(this), \"3m\");\n\t\t//trigger the B section\n\t\tthis.parseScore(chordChanges, this.chordChange.bind(this));\n\t\tMediator.route(\"scroll\", this.setTempo.bind(this));\n\t\tMediator.route(\"firstScroll\", this.start.bind(this));\n\t\tMediator.route(\"pause\", this.pause.bind(this));\n\t\tMediator.route(\"replay\", this.replay.bind(this));\n\t\tMediator.route(\"play\", this.play.bind(this));\n\t\tMediator.route(\"end\", this.end.bind(this));\n\t\tMediator.route(\"switchDirection\", this.switchDirection.bind(this));\n\t\tthis.setTempo(this.progress, 0);\n\t};\n\n\n\t/**\n\t *    1  ---------------------------+\n\t * +-------+\n\t * +-------->Cmaj7|\n\t * |+---+---+\n\t * +--v---+|\n\t * 0.75 -------+G6/9+-------------+\n\t * +--^---+|\n\t * ||\n\t * +----v-----+|\n\t * +---------->Daug7/9||\n\t * |0.5----------------------------+\n\t * ||C7#11<------+\n\t * |+-----^----+\n\t * ||\n\t * |+---v--+\n\t * ||F6/9|\n\t * |+---+--+\n\t * ||\n\t * |0.25 ---------------------------+\n\t * ||\n\t * +-+-----++--v-+\n\t * |Dmin7<------->A7|\n\t * +-------++----+\n\t * \n\t *    0  ---------------------------+\n\t */\n\tConductor.prototype.updateChords = function(currentSection){\n\t\t//a state machine that follows the chords above ^^\n\t\tvar chordNumber = this.chordNumber;\n\t\t//reverse the chords in movement 1\n\t\tif (this.movement === 1){\n\t\t\tcurrentSection = 3 - currentSection;\n\t\t}\n\t\tif (chordNumber >= 2){\n\t\t\tif (currentSection > chordNumber){\n\t\t\t\tthis.chordNumber++;\n\t\t\t} else if (currentSection < 2){\n\t\t\t\tthis.chordNumber = 1;\n\t\t\t}\n\t\t} else {\n\t\t\tif (currentSection < chordNumber){\n\t\t\t\tthis.chordNumber--;\n\t\t\t} else if (currentSection >= 2){\n\t\t\t\tthis.chordNumber = 2;\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t *  called everytime there is a chord change\n\t */\n\tConductor.prototype.chordChange = function(time, section){\t\t\n\t\tvar chord = chordProgression[this.chordNumber][section];\n\t\tthis.chordName = chord;\n\t};\n\n\tConductor.prototype.getChord = function() {\n\t\treturn this.chordName;\t\n\t};\n\n\tConductor.prototype.getProgress = function() {\n\t\treturn this.progress;\n\t};\n\n\tConductor.prototype.getSection = function() {\n\t\treturn this.currentSection;\n\t};\n\n\tConductor.prototype.getMovement = function() {\n\t\treturn this.movement;\n\t};\n\n\tConductor.prototype.switchDirection = function(direction, position){\n\t\tthis.sectionSplits[0] = position/2;\n\t\tthis.sectionSplits[1] = position;\n\t\tthis.sectionSplits[2] = (1 - position) / 2 + position;\n\t};\n\n\tConductor.prototype.setTempo = function(position, rampSpeed){\n\t\trampSpeed = rampSpeed || 0;\n\t\tthis.progress = position;\n\t\tvar bpm = TERP.map(position, 0, 1, 65, 130, 1);\n\t\tif (!rampSpeed){\n\t\t\tTransport.bpm.value = bpm;\n\t\t} else {\n\t\t\tTransport.bpm.rampTo(bpm, rampSpeed / 1000);\n\t\t}\n\t\t//set the section based on the loop\n\t\tvar section = Math.floor(Scroll.getDirectionPosition() * 4);\n\t\tif (this.nextSection !== section){\n\t\t\tthis.nextSection = section;\n\t\t}\n\t\t//also update the swing\n\t\t// Transport.swing = TERP.map(position, 0, 1, 0.2, 0);\n\t};\n\n\tConductor.prototype.updateSection = function(time) {\n\t\t// console.log(this.section);\n\t\t//set the measures\n\t\tif (!Config.MOBILE){\n\t\t\tif (Scroll.getDistance() > this.bDistance && this.movement === 0){\n\t\t\t\tthis._BStart(time);\n\t\t\t\tthis.setLoopStartSection();\n\t\t\t\tthis.setLoopEnd(this.currentSection);\n\t\t\t} else if (Scroll.getDistance() > this.cDistance && this.movement === 1){\n\t\t\t\tthis._CStart(time);\n\t\t\t\tthis.setLoopStartSection();\n\t\t\t\tthis.setLoopEnd(this.currentSection);\n\t\t\t} else if (Scroll.getDistance() > this.endDistance && this.movement === 2){\n\t\t\t\tthis.end();\n\t\t\t\tthis._BStart(time);\n\t\t\t\tthis.setLoopStartSection();\n\t\t\t\tthis.setLoopEnd(this.currentSection);\n\t\t\t}\n\t\t}\n\t\tthis.loop++;\n\t\tthis.forceVoice++;\n\t\t//update the chords if necessary\n\t\tthis.updateChords(this.currentSection);\n\t};\n\n\tConductor.prototype.updateLoop = function(time) {\n\t\tif (this.currentSection !== this.nextSection){\n\t\t\tif (this.nextSection >= 2 && this.currentSection < 2){\n\t\t\t\tthis.forceVoice = -1;\n\t\t\t\tMediator.deferSend(\"half\", 1);\n\t\t\t} else if (this.nextSection < 2 && this.currentSection >= 2){\n\t\t\t\tMediator.deferSend(\"half\", 0);\n\t\t\t\tthis.forceVoice = -1;\n\t\t\t}\n\t\t\tthis.currentSection = this.nextSection;\n\t\t\tthis.setLoopStart(this.currentSection);\n\t\t\tthis.setLoopEnd(this.currentSection);\n\t\t\tMediator.deferSend(\"section\", this.currentSection);\n\t\t}\n\t\tthis.sectionPosition = (this.sectionPosition + 1) % 3;\n\t\tif (this.getMovement() === 1 && this.measure === 1){\n\t\t\tMediator.send(\"BDrop\");\n\t\t}\n\t\tthis.measure++;\n\t};\n\n\t/**\n\t *  set the loop start based on teh current section\n\t */\n\tConductor.prototype.setLoopStart = function(section){\n\t\tmovement = this.movement % 2;\n\t\tTransport.loopStart = (section * 3 + movement * 12).toString() + \":0\";\n\t\tTransport.position = (section * 3 + this.sectionPosition + movement * 12).toString() + \":0\";\n\t};\n\n\t/**\n\t *  set the loop start based on teh current section\n\t */\n\tConductor.prototype.setLoopStartSection = function(){\n\t\t// console.log(\"setting loop start\", (section * 3).toString() + \":0\");\n\t\tvar section = this.currentSection;\n\t\tmovement = this.movement % 2;\n\t\tTransport.loopStart = (section * 3 + movement * 12).toString() + \":0\";\n\t\tTransport.position = (section * 3 +  movement * 12).toString() + \":0\";\n\t};\n\n\t/**\n\t *  set the loop end based on teh current section\n\t */\n\tConductor.prototype.setLoopEnd = function(section){\n\t\tmovement = this.movement % 2;\n\t\tvar loopEndTime = (section * 3 + 3 + movement * 12).toString() + \":0\";\n\t\t// console.log(\"setting loop end\", loopEndTime);\n\t\tTransport.loopEnd = loopEndTime;\n\t};\n\n\t/**\n\t *  triggered at the start of the B section\n\t *  @param  {[type]}  time  [description]\n\t */\n\tConductor.prototype._BStart = function(time){\n\t\tthis.movement = 1;\n\t\tthis.measure = 1;\n\t\tthis.forceVoice === -1;\n\t\tMediator.send(\"B\", time);\n\t\tthis.btransitionNotification = false;\n\t\tMediator.send(\"Movement\", time);\n\t};\n\n\t/**\n\t *  triggered at the start of the B section\n\t *  @param  {[type]}  time  [description]\n\t */\n\tConductor.prototype._CStart = function(time){\n\t\tthis.movement = 2;\n\t\tthis.measure = 1;\n\t\tMediator.send(\"C\", time);\n\t\tMediator.send(\"Movement\", time);\n\t};\n\n\t///////////////////////////////////////////////////////////////////////////\n\t//  Instrument Control\n\t///////////////////////////////////////////////////////////////////////////\n\n\tvar scrollIncrement = 0.1;\n\n\tvar hasVoiceA = 3;\n\tvar hasVoiceB = 4;\n\tvar voiceCounter = 0;\n\n\tConductor.prototype.hasVoice = function(){\n\t\tif (Scroll.getDistance() > scrollIncrement * 5){\n\t\t\t// console.log(\"pass\", this.measure % 2 === 0 || this.measure % 3 === 0);\n\t\t\t// console.log(\"force\", this.forceVoice);\n\t\t\tif (this.forceVoice === -1){\n\t\t\t\treturn true;\n\t\t\t}  else if (this.measure % 5 === 1 || this.measure % 2 === 1){\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t/*if (this.movement === 1 && this.measure === 1){\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\treturn this.forceVoice !== 0;\n\t\t\t}*/\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t};\n\n\tConductor.prototype.hasSnare = function(){\n\t\tif (Scroll.getDistance() > scrollIncrement * 4){\n\t\t\tif (this.movement === 1){\n\t\t\t\treturn this.measure > 1;\n\t\t\t} else {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t};\n\n\tConductor.prototype.hasKick = function(){\n\t\tif (Scroll.getDistance() > scrollIncrement * 3){\n\t\t\tif (this.movement === 1){\n\t\t\t\treturn this.measure > 1;\n\t\t\t} else {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t};\n\n\tConductor.prototype.hasHH = function(){\n\t\tif (Scroll.getDistance() > scrollIncrement * 2){\n\t\t\tif (this.movement === 1){\n\t\t\t\treturn this.measure > 1;\n\t\t\t} else {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t};\n\n\tConductor.prototype.hasArp = function(){\n\t\tif (Scroll.getDistance() > scrollIncrement * 6){\n\t\t\tif (this.movement === 1){\n\t\t\t\treturn this.measure > 1;\n\t\t\t} else {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t};\n\n\tConductor.prototype.hasBass = function(){\n\t\tif (Scroll.getDistance() > scrollIncrement * 1){\n\t\t\tif (this.movement === 1){\n\t\t\t\treturn this.measure > 1;\n\t\t\t} else {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t};\n\n\tConductor.prototype.hasPiano = function(){\n\t\tif (this.movement !== 1){\n\t\t\treturn true;\n\t\t} else if (this.movement === 1){\n\t\t\treturn this.measure > 1;\n\t\t} \n\t};\n\n\tvar transitionDistance = 0.75;\n\n\tConductor.prototype.getBProgress = function(){\n\t\treturn TERP.scale(Scroll.getDistance(), this.bDistance, this.cDistance, 0, 1);\n\t};\n\n\n\tConductor.prototype.getBTransitionProgress = function(){\n\t\tif (!Config.MOBILE){\n\t\t\tvar bDiff = this.bDistance - Scroll.getDistance();\n\t\t\tif (bDiff < transitionDistance){\n\t\t\t\tif (!this.btransitionNotification){\n\t\t\t\t\tthis.btransitionNotification = true;\n\t\t\t\t\tMediator.send(\"BTransitionStart\");\n\t\t\t\t}\n\t\t\t\treturn TERP.map(bDiff, transitionDistance, 0, 0, 1);\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t} else {\n\t\t\treturn 0;\n\t\t}\n\t};\n\n\tConductor.prototype.getEndTransitionProgress = function(){\n\t\tif (!Config.MOBILE){\n\t\t\tvar endDiff = this.endDistance - Scroll.getDistance();\n\t\t\tif (endDiff < transitionDistance * 2){\n\t\t\t\treturn TERP.map(endDiff, transitionDistance * 2, 0, 0, 1);\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t} else {\n\t\t\treturn 0;\n\t\t}\n\t};\n\n\t/**\n\t *  @private\n\t *  @static\n\t *  @type {Number}\n\t */\n\tConductor.randomNameCount = 0;\n\n\t/**\n\t *  parse the notes and the score\n\t */\n\tConductor.prototype.parseScore = function(notes, callback){\n\t\tvar name = \"randomName\" + Conductor.randomNameCount++;\n\t\tvar score = {};\n\t\tscore[name] = notes;\n\t\tNote.parseScore(score);\n\t\tNote.route(name, callback);\n\t};\n\n\t/**\n\t *  start the score at the right offset\n\t */\n\tConductor.prototype.start = function() {\n\t\t//set the loop start and end based on teh current values\n\t\tthis.setLoopStart(this.nextSection);\n\t\tthis.setLoopEnd(this.nextSection);\n\t\tthis.chordNumber = this.nextSection;\n\t\tif (this.nextSection >= 2){\n\t\t\tMediator.deferSend(\"half\", 1);\n\t\t} else if (this.nextSection < 2){\n\t\t\tMediator.deferSend(\"half\", 0);\n\t\t}\n\t\tmovement = this.movement % 2;\n\t\tTransport.start(\"+4n\", (this.nextSection * 3 + movement * 12).toString() + \":0\");\n\t};\n\n\tConductor.prototype.pause = function(){\n\t\tTransport.pause();\n\t};\n\n\tConductor.prototype.play = function(){\n\t\tTransport.start();\n\t};\n\n\tConductor.prototype.end = function(){\n\t\tScroll.setPosition(this.bDistance);\n\t\t// Transport.stop();\n\t};\n\n\tConductor.prototype.replay = function() {\n\t\tthis.movement = 0;\n\t\tthis.measure = 0;\n\t\tthis.nextSection = -1;\n\t\tthis.currentSection = -2;\n\t\tthis.chordNumber = -1;\n\t\tthis.chordName = \"none!\";\n\t\tthis.progress = 0.5;\n\t\tthis.forceVoice = -1;\n\t\tthis.setTempo(this.progress, 0);\n\t};\n\n\tConductor.prototype.isPaused = function(){\n\t\treturn Transport.state === \"paused\";\n\t};\n\n\treturn new Conductor();\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/controller/Conductor.js\n ** module id = 29\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/core/Transport\"], function(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t *  @class  A timed note. Creating a note will register a callback \n\t *          which will be invoked on the channel at the time with\n\t *          whatever value was specified. \n\t *\n\t *  @constructor\n\t *  @param {number|string} channel the channel name of the note\n\t *  @param {Tone.Type.Time} time the time when the note will occur\n\t *  @param {string|number|Object|Array} value the value of the note\n\t */\n\tTone.Note = function(channel, time, value){\n\n\t\t/**\n\t\t *  the value of the note. This value is returned\n\t\t *  when the channel callback is invoked.\n\t\t *  \n\t\t *  @type {string|number|Object}\n\t\t */\n\t\tthis.value = value;\n\n\t\t/**\n\t\t *  the channel name or number\n\t\t *  \n\t\t *  @type {string|number}\n\t\t *  @private\n\t\t */\n\t\tthis._channel = channel;\n\n\t\t/**\n\t\t *  an internal reference to the id of the timeline\n\t\t *  callback which is set. \n\t\t *  \n\t\t *  @type {number}\n\t\t *  @private\n\t\t */\n\t\tthis._timelineID = Tone.Transport.setTimeline(this._trigger.bind(this), time);\n\t};\n\n\t/**\n\t *  invoked by the timeline\n\t *  @private\n\t *  @param {number} time the time at which the note should play\n\t */\n\tTone.Note.prototype._trigger = function(time){\n\t\t//invoke the callback\n\t\tchannelCallbacks(this._channel, time, this.value);\n\t};\n\n\t/**\n\t *  clean up\n\t *  @returns {Tone.Note} `this`\n\t */\n\tTone.Note.prototype.dispose = function(){ \n\t\tTone.Tranport.clearTimeline(this._timelineID);\n\t\tthis.value = null;\n\t\treturn this;\n\t};\n\n\t/**\n\t *  @private\n\t *  @static\n\t *  @type {Object}\n\t */\n\tvar NoteChannels = {};\n\n\t/**\n\t *  invoke all of the callbacks on a specific channel\n\t *  @private\n\t */\n\tfunction channelCallbacks(channel, time, value){\n\t\tif (NoteChannels.hasOwnProperty(channel)){\n\t\t\tvar callbacks = NoteChannels[channel];\n\t\t\tfor (var i = 0, len = callbacks.length; i < len; i++){\n\t\t\t\tvar callback = callbacks[i];\n\t\t\t\tif (Array.isArray(value)){\n\t\t\t\t\tcallback.apply(window, [time].concat(value));\n\t\t\t\t} else {\n\t\t\t\t\tcallback(time, value);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t *  listen to a specific channel, get all of the note callbacks\n\t *  @static\n\t *  @param {string|number} channel the channel to route note events from\n\t *  @param {function(*)} callback callback to be invoked when a note will occur\n\t *                                        on the specified channel\n\t */\n\tTone.Note.route = function(channel, callback){\n\t\tif (NoteChannels.hasOwnProperty(channel)){\n\t\t\tNoteChannels[channel].push(callback);\n\t\t} else {\n\t\t\tNoteChannels[channel] = [callback];\n\t\t}\n\t};\n\n\t/**\n\t *  Remove a previously routed callback from a channel. \n\t *  @static\n\t *  @param {string|number} channel The channel to unroute note events from\n\t *  @param {function(*)} callback Callback which was registered to the channel.\n\t */\n\tTone.Note.unroute = function(channel, callback){\n\t\tif (NoteChannels.hasOwnProperty(channel)){\n\t\t\tvar channelCallback = NoteChannels[channel];\n\t\t\tvar index = channelCallback.indexOf(callback);\n\t\t\tif (index !== -1){\n\t\t\t\tNoteChannels[channel].splice(index, 1);\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t *  Parses a score and registers all of the notes along the timeline. \n\t *\n\t *  Scores are a JSON object with instruments at the top level\n\t *  and an array of time and values. The value of a note can be 0 or more \n\t *  parameters. \n\t *\n\t *  The only requirement for the score format is that the time is the first (or only)\n\t *  value in the array. All other values are optional and will be passed into the callback\n\t *  function registered using `Note.route(channelName, callback)`.\n\t *\n\t *  To convert MIDI files to score notation, take a look at utils/MidiToScore.js\n\t *\n\t *  @example\n\t *  //an example JSON score which sets up events on channels\n\t *  var score = { \n\t *  \t\"synth\"  : [[\"0\", \"C3\"], [\"0:1\", \"D3\"], [\"0:2\", \"E3\"], ... ],\n\t *  \t\"bass\"  : [[\"0\", \"C2\"], [\"1:0\", \"A2\"], [\"2:0\", \"C2\"], [\"3:0\", \"A2\"], ... ],\n\t *  \t\"kick\"  : [\"0\", \"0:2\", \"1:0\", \"1:2\", \"2:0\", ... ],\n\t *  \t//...\n\t *  };\n\t *  //parse the score into Notes\n\t *  Tone.Note.parseScore(score);\n\t *  //route all notes on the \"synth\" channel\n\t *  Tone.Note.route(\"synth\", function(time, note){\n\t *  \t//trigger synth\n\t *  });\n\t *  @static\n\t *  @param {Object} score\n\t *  @return {Array<Tone.Note>} an array of all of the notes that were created\n\t */\n\tTone.Note.parseScore = function(score){\n\t\tvar notes = [];\n\t\tfor (var inst in score){\n\t\t\tvar part = score[inst];\n\t\t\tif (inst === \"tempo\"){\n\t\t\t\tTone.Transport.bpm.value = part;\n\t\t\t} else if (inst === \"timeSignature\"){\n\t\t\t\tTone.Transport.timeSignature = part[0] / (part[1] / 4);\n\t\t\t} else if (Array.isArray(part)){\n\t\t\t\tfor (var i = 0; i < part.length; i++){\n\t\t\t\t\tvar noteDescription = part[i];\n\t\t\t\t\tvar note;\n\t\t\t\t\tif (Array.isArray(noteDescription)){\n\t\t\t\t\t\tvar time = noteDescription[0];\n\t\t\t\t\t\tvar value = noteDescription.slice(1);\n\t\t\t\t\t\tnote = new Tone.Note(inst, time, value);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnote = new Tone.Note(inst, noteDescription);\n\t\t\t\t\t}\n\t\t\t\t\tnotes.push(note);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthrow new TypeError(\"score parts must be Arrays\");\n\t\t\t}\n\t\t}\n\t\treturn notes;\n\t};\n\n\t///////////////////////////////////////////////////////////////////////////\n\t//\tMUSIC NOTES\n\t//\t\n\t//\tAugments Tone.prototype to include note methods\n\t///////////////////////////////////////////////////////////////////////////\n\n\tvar noteToIndex = { \"c\" : 0, \"c#\" : 1, \"db\" : 1, \"d\" : 2, \"d#\" : 3, \"eb\" : 3, \n\t\t\"e\" : 4, \"f\" : 5, \"f#\" : 6, \"gb\" : 6, \"g\" : 7, \"g#\" : 8, \"ab\" : 8, \n\t\t\"a\" : 9, \"a#\" : 10, \"bb\" : 10, \"b\" : 11\n\t};\n\n\tvar noteIndexToNote = [\"C\", \"C#\", \"D\", \"D#\", \"E\", \"F\", \"F#\", \"G\", \"G#\", \"A\", \"A#\", \"B\"];\n\n\tvar middleC = 261.6255653005986;\n\n\t/**\n\t *  convert a note name to frequency (i.e. A4 to 440)\n\t *  defined in \"Tone/core/Note\"\n\t *  \n\t *  @param  {string} note\n\t *  @return {number}         \n\t */\n\tTone.prototype.noteToFrequency = function(note){\n\t\t//break apart the note by frequency and octave\n\t\tvar parts = note.split(/(\\d+)/);\n\t\tif (parts.length === 3){\n\t\t\tvar index = noteToIndex[parts[0].toLowerCase()];\n\t\t\tvar octave = parts[1];\n\t\t\tvar noteNumber = index + parseInt(octave, 10) * 12;\n\t\t\treturn Math.pow(2, (noteNumber - 48) / 12) * middleC;\n\t\t} else {\n\t\t\treturn 0;\n\t\t}\n\t};\n\n\t/**\n\t *  test if a string is in note format: i.e. \"C4\"\n\t *  @param  {string|number}  note the note to test\n\t *  @return {boolean}      true if it's in the form of a note\n\t *  @method isNotation\n\t *  @lends Tone.prototype.isNote\n\t *  @function\n\t */\n\tTone.prototype.isNote = ( function(){\n\t\tvar noteFormat = new RegExp(/[a-g]{1}([b#]{1}|[b#]{0})[0-9]+$/i);\n\t\treturn function(note){\n\t\t\tif (typeof note === \"string\"){\n\t\t\t\tnote = note.toLowerCase();\n\t\t\t} \n\t\t\treturn noteFormat.test(note);\n\t\t};\n\t})();\n\n\t/**\n\t *  a pointer to the previous toFrequency method\n\t *  @private\n\t *  @function\n\t */\n\tTone.prototype._overwrittenToFrequency = Tone.prototype.toFrequency;\n\n\t/**\n\t *  A method which accepts frequencies in the form\n\t *  of notes (`\"C#4\"`), frequencies as strings (\"49hz\"), frequency numbers,\n\t *  or Tone.Type.Time and converts them to their frequency as a number in hertz.\n\t *  @param  {Tone.Type.Frequency} note the note name or notation\n\t *  @param {number=} \tnow \tif passed in, this number will be \n\t *                        \t\tused for all 'now' relative timings\n\t *  @return {number}      the frequency as a number\n\t */\n\tTone.prototype.toFrequency = function(note, now){\n\t\tif (this.isNote(note)){\n\t\t\tnote = this.noteToFrequency(note);\n\t\t} \n\t\treturn this._overwrittenToFrequency(note, now);\n\t};\n\n\t/**\n\t *  Convert a note name (i.e. A4, C#5, etc to a frequency).\n\t *  Defined in \"Tone/core/Note\"\n\t *  @param  {number} freq\n\t *  @return {string}         \n\t */\n\tTone.prototype.frequencyToNote = function(freq){\n\t\tvar log = Math.log(freq / middleC) / Math.LN2;\n\t\tvar noteNumber = Math.round(12 * log) + 48;\n\t\tvar octave = Math.floor(noteNumber/12);\n\t\tvar noteName = noteIndexToNote[noteNumber % 12];\n\t\treturn noteName + octave.toString();\n\t};\n\n\t/**\n\t *  Convert an interval (in semitones) to a frequency ratio.\n\t *\n\t *  @param  {number} interval the number of semitones above the base note\n\t *  @return {number}          the frequency ratio\n\t *  @example\n\t *  tone.intervalToFrequencyRatio(0); // returns 1\n\t *  tone.intervalToFrequencyRatio(12); // returns 2\n\t */\n\tTone.prototype.intervalToFrequencyRatio = function(interval){\n\t\treturn Math.pow(2,(interval/12));\n\t};\n\n\t/**\n\t *  Convert a midi note number into a note name/\n\t *\n\t *  @param  {number} midiNumber the midi note number\n\t *  @return {string}            the note's name and octave\n\t *  @example\n\t *  tone.midiToNote(60); // returns \"C3\"\n\t */\n\tTone.prototype.midiToNote = function(midiNumber){\n\t\tvar octave = Math.floor(midiNumber / 12) - 2;\n\t\tvar note = midiNumber % 12;\n\t\treturn noteIndexToNote[note] + octave;\n\t};\n\n\t/**\n\t *  convert a note to it's midi value\n\t *  defined in \"Tone/core/Note\"\n\t *\n\t *  @param  {string} note the note name (i.e. \"C3\")\n\t *  @return {number} the midi value of that note\n\t *  @example\n\t *  tone.noteToMidi(\"C3\"); // returns 60\n\t */\n\tTone.prototype.noteToMidi = function(note){\n\t\t//break apart the note by frequency and octave\n\t\tvar parts = note.split(/(\\d+)/);\n\t\tif (parts.length === 3){\n\t\t\tvar index = noteToIndex[parts[0].toLowerCase()];\n\t\t\tvar octave = parts[1];\n\t\t\treturn index + (parseInt(octave, 10) + 2) * 12;\n\t\t} else {\n\t\t\treturn 0;\n\t\t}\n\t};\n\n\treturn Tone.Note;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/core/Note.js\n ** module id = 30\n ** module chunks = 1\n **/","(function (root, factory) {\n\t//can run with or without requirejs\n\tif (typeof define === \"function\" && define.amd) {\n\t\t// AMD. Register as module.\n\t\tdefine(function () {\n\t\t\tvar TERP = factory();\n\t\t\treturn TERP;\n\t\t});\n\t} else if (typeof exports === \"object\") {\n\t\t//so that it can be used within node without requirejs\n\t\tmodule.exports = factory(root);\n\t} else if (typeof root.TERP !== \"function\") {\n\t\t//make Tone public\n\t\troot.TERP = factory(root);\n\t}\n} (this, function () {\n\n\t/**\n\t *  applies a funct to each number in arr\n\t *  @param  {Array<number} arr   \n\t *  @param  {Array<number>} args  arguments to be applied to funct\n\t *  @param  {function} funct \n\t *  @return {Array<number>}       maps each of the values in ret to each of the outputs\n\t */\n\tfunction applyToArray(arr, args, funct){\n\t\tvar ret = new Array(arr.length);\n\t\tfor (var i = 0; i < arr.length; i++){\n\t\t\targs[0] = arr[i];\n\t\t\tret[i] = funct.apply(TERP, args);\n\t\t}\n\t\treturn ret;\t\n\t}\n\n\t/**\n\t *  interpolates a normalized number to between the outputMin and outputMax\n\t *  @param  {number} input   \n\t *  @param  {number} outputMin\n\t *  @param  {number} outputMax\n\t *  @return {number}           \n\t */\n\tfunction interpolate(input, outputMin, outputMax){\n\t\treturn input * (outputMax - outputMin) + outputMin;\n\t}\n\n\t/**\n\t *  clip the input value so that it is between the outputMin and outputMax\n\t *  @param  {number} input   \n\t *  @param  {number} outputMin\n\t *  @param  {number} outputMax\n\t *  @return {number}           \n\t */\n\tfunction clip(input, outputMin, outputMax){\n\t\tvar clipMin = Math.min(outputMin, outputMax);\n\t\tvar clipMax = Math.max(outputMin, outputMax);\n\t\tif (input > clipMax){\n\t\t\treturn clipMax;\n\t\t} else if (input < clipMin){\n\t\t\treturn clipMin;\n\t\t} else {\n\t\t\treturn input;\n\t\t}\n\t}\n\n\tvar TERP = {\n\t\t/**\n\t\t *  normalizes (0-1) a number between inputMin and inputMax\n\t\t *  @param \t{number} input \n\t\t *  @param  {number} inputMin \n\t\t *  @param  {number} inputMax \n\t\t *  @return {number} \n\t\t */\n\t\tnormalize : function(input, inputMin, inputMax){\n\t\t\treturn (input - inputMin) / (inputMax - inputMin);\n\t\t},\n\t\t/**\n\t\t *  if 3 or 4 inputs, assumes the input range is between 0-1\n\t\t *  \t\n\t \t *  @param {number} input\n \t\t *  @param {number} outputMin\t\n \t\t *\t@param {number} outputMax\n \t\t *  @param {number=} exponent (optional exponent which will change the interpolation curve)\n\t \t *  \t\n\t\t *  if 5 or 6 inputs:\n\t\t *  \n\t\t *  @param {number} input\n\t\t *\t@param {number} inputMin\n\t\t *\t@param {number} inputMax\n\t\t *  @param {number} outputMin\t\n\t\t *\t@param {number} outputMax\n\t\t *  @param {number=} exponent (optional exponent which will change the interpolation curve)\n\t\t *\n\t\t *  @return {number} \n\t\t */\n\t\tscale : function(){\n\t\t\tvar argLen = arguments.length;\n\t\t\tvar input = arguments[0];\n\t\t\tvar normalized, exped;\n\t\t\tif (argLen === 3) {\n\t\t\t\treturn interpolate(input, arguments[1], arguments[2]);\n\t\t\t} else if (argLen === 4){\n\t\t\t\texped = Math.pow(input, arguments[3]);\n\t\t\t\treturn interpolate(exped, arguments[1], arguments[2]);\n\t\t\t} else if (argLen === 5){\n\t\t\t\tnormalized = TERP.normalize(input, arguments[1], arguments[2]);\n\t\t\t\treturn interpolate(normalized, arguments[3], arguments[4]);\n\t\t\t} else if (argLen === 6){\n\t\t\t\tnormalized = TERP.normalize(input, arguments[1], arguments[2]);\n\t\t\t\texped = Math.pow(normalized, arguments[5]);\n\t\t\t\treturn interpolate(exped, arguments[3], arguments[4]);\n\t\t\t} else {\n\t\t\t\tconsole.error(\"scale accepts 3 - 6 arguments\");\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t *  like scale, but clips the output to the output range\n\t\t *  @return {number} \n\t\t */\n\t\tmap : function(){\n\t\t\tvar interped = TERP.scale.apply(TERP, arguments);\n\t\t\t//clip the output\n\t\t\tvar argLen = arguments.length;\n\t\t\tif (argLen === 3 || argLen === 4){\n\t\t\t\treturn clip(interped, arguments[1], arguments[2]);\n\t\t\t} else if (argLen === 5 || argLen === 6){\n\t\t\t\treturn clip(interped, arguments[3], arguments[4]);\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t *  like scale, but accepts an array\n\t\t *  @return {array<number>} an array of the same size \n\t\t */\n\t\tscaleArray : function(){\n\t\t\tvar input = arguments[0];\n\t\t\tvar args = Array.prototype.slice.call(arguments, 0);\n\t\t\treturn applyToArray(input, args, TERP.scale);\n\t\t},\n\t\t/**\n\t\t *  like map, but accepts an array\n\t\t *  @return {array<number>} an array of the same size \n\t\t */\n\t\tmapArray : function(){\n\t\t\tvar input = arguments[0];\n\t\t\tvar args = Array.prototype.slice.call(arguments, 0);\n\t\t\treturn applyToArray(input, args, TERP.map);\n\t\t},\n\t\t/**\n\t\t *  like normalize, but accepts an array\n\t\t *  if there is only one argument, the inputMin and inputMax \n\t\t *  \tare determined by the smallest and largest values of the array.\n\t\t *  @return {array<number>} an array of the same size \n\t\t */\n\t\tnormalizeArray : function(){\n\t\t\tvar input = arguments[0];\n\t\t\tvar args = Array.prototype.slice.call(arguments, 0);\n\t\t\tif (args.length === 1){\n\t\t\t\targs[1] = Math.min.apply(Math, input);\n\t\t\t\targs[2] = Math.max.apply(Math, input);\n\t\t\t}\n\t\t\treturn applyToArray(input, args, TERP.normalize);\n\t\t},\n\t\t/**\n\t\t *  interpolate over a timeline of numbers\n\t\t */\n\t\tscaleTimeline : function(){\n\t\t\tvar timeline;\n\t\t\tvar progress = arguments[0];\n\t\t\tif (arguments.length === 2){\n\t\t\t\ttimeline = arguments[1];\n\t\t\t} else if (arguments.length === 4){\n\t\t\t\t//normalize the progress\n\t\t\t\tprogress = TERP.normalize(progress, arguments[1], arguments[2]);\n\t\t\t\ttimeline = arguments[3];\n\t\t\t} else {\n\t\t\t\tconsole.error(\"scaleTimeline takes 2 or 4 arguments\");\n\t\t\t}\n\t\t\t//find the values to scale between\n\t\t\tvar timelineLen = timeline.length - 1;\n\t\t\tvar betweenMin = Math.floor(progress * timelineLen);\n\t\t\tvar betweenMax = betweenMin + 1;\n\t\t\treturn TERP.scale(progress, betweenMin / timelineLen, betweenMax / timelineLen, timeline[betweenMin], timeline[betweenMax]);\n\t\t}\n\t};\n\n\treturn TERP;\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./deps/TERP.js\n ** module id = 31\n ** module chunks = 1\n **/","define([\"controller/Mediator\", \"util/Config\", \"interface/Window\", \"TERP\", \"jquery.mousewheel\", \"interface/GUI\", \"jquery\", \"main.scss\"], \n\tfunction(Mediator, Config, Window, TERP, mousewheel, GUI, $, mainStyle){\n\n\t/**\n\t *  the total distance traveled by scrolling\n\t */\n\tvar scrollDistance = 0;\n\n\t/**\n\t *  the current scroll position\n\t *  @type {Number}\n\t */\n\tvar scrollPosition = 0.5;\n\n\t/**\n\t *  if the scroll value has changed\n\t *  @type {Boolean}\n\t */\n\tvar needsUpdate = false;\n\n\t/**\n\t *  the amount of time it should take of constant scrolling to hit\n\t *  the top or the bottom\n\t *  @type {Number}\n\t */\n\tvar scrollingSeconds = 5;\n\n\t/**\n\t *  the direction it's scrolling in. \n\t *  1 is up. -1 is down. \n\t */\n\tvar scrollDirection = 1;\n\n\t/**\n\t *  the switching point\n\t */\n\tvar switchCenterPosition = 0.5;\n\n\t/**\n\t *  indicates if scroll polling is started\n\t */\n\tvar started = false;\n\n\tvar scrollHeight = 10000;\n\n\tvar pageHeight = 0;\n\n\tvar scrollContainer = $(\"#ScrollContainer\");\n\n\tif (Config.MOBILE){\n\t\tvar innerScroll = $(\"<div>\").attr(\"id\", \"InnerScroll\").appendTo(scrollContainer);\n\t\tvar scroller = $(\"<div>\").attr(\"id\", \"Scroller\").appendTo(innerScroll);\n\t\tscrollHeight = 2500;\n\t\tscroller.height(scrollHeight);\n\t\tpageHeight = Window.height();\n\t\t$(function(){\t\n\t\t\tinnerScroll.scrollTop(scrollHeight * 0.5);\n\t\t});\n\t}\n\n\tvar lastPosition = scrollHeight * 0.5;\n\n\tvar scrollTop = lastPosition;\n\n\tvar directionSwitchDelta = scrollHeight * 0.05;\n\n\n\t$(window).mousewheel(function(e, x){\n\t\tvar thresh = 200;\n\t\tx = Math.min(x, thresh);\n\t\tx = Math.max(x, -thresh);\n\t\tif (started){\n\t\t\tscrollTop = lastPosition - x;\n\t\t}\n\t});\n\n\t$(window).on(\"keydown\", function(e){\n\t\tvar delta = 0;\n\t\tvar moveDist = 150;\n\t\tif (e.which === 40){ // DOWN\n\t\t\te.preventDefault();\n\t\t\tdelta = -moveDist;\t\t\t\t\n\t\t} else if (e.which === 38){ // UP\n\t\t\te.preventDefault();\n\t\t\tdelta = moveDist;\t\n\t\t}\n\n\t\tif (started && delta !== 0) {\n\t\t\tscrollTop = lastPosition - delta;\n\t\t}\n\t});\n\n\t//start it off at the right scroll position\n\t// innerScroll.scrollTop(scrollHeight * 0.5);\n\n\tMediator.route(\"slowUpdate\", function(updateRate){\n\t\tif (needsUpdate){\n\t\t\tneedsUpdate = false;\n\t\t\tMediator.send(\"scroll\", scrollPosition, updateRate);\n\t\t}\n\t});\n\n\tMediator.route(\"B\", function(updateRate){\n\t\tscrollContainer.addClass(\"B\");\n\t});\n\n\tMediator.route(\"C\", function(updateRate){\n\t\tscrollContainer.removeClass(\"B\");\n\t});\n\n\tMediator.route(\"update\", function(){\n\t\tif (Config.MOBILE){\n\t\t\tscrollTop = innerScroll.scrollTop();\n\t\t}\n\t\tif (started && scrollTop !== lastPosition){\n\t\t\tscrollDistance += Math.abs(lastPosition - scrollTop) / scrollHeight;\n\t\t\t//the loop position\n\t\t\tscrollPosition = 1 - scrollTop / (scrollHeight - pageHeight);\n\t\t\tvar loopOffset = 0.05;\n\t\t\tvar loopOffsetMult = 1.5;\n\t\t\tif (scrollTop < lastPosition && \n\t\t\t\t\tscrollDirection !== 1 && \n\t\t\t\t\tscrollPosition > loopOffset * loopOffsetMult){\n\t\t\t\tscrollDirection = 1;\n\t\t\t\tMediator.send(\"flip\", scrollDirection);\n\t\t\t\t// console.log(scrollDirection);\n\t\t\t\tswitchCenterPosition = scrollPosition;\n\t\t\t} else if (scrollTop > lastPosition && \n\t\t\t\t\tscrollDirection !== -1 && \n\t\t\t\t\tscrollPosition < 1 - loopOffset * loopOffsetMult){\n\t\t\t\tscrollDirection = -1;\n\t\t\t\tMediator.send(\"flip\", scrollDirection);\n\t\t\t\t// console.log(scrollDirection);\n\t\t\t\tswitchCenterPosition = scrollPosition;\n\t\t\t}\n\t\t\tlastPosition = scrollTop;\n\t\t\tif (scrollTop <= 1){\n\t\t\t\tscrollPosition = 1 - loopOffset;\n\t\t\t\tlastPosition = (1 - scrollPosition) * scrollHeight;\n\t\t\t\tMediator.send(\"scrollEnd\");\n\t\t\t\tif (Config.MOBILE){\n\t\t\t\t\tinnerScroll.scrollTop(lastPosition);\n\t\t\t\t}\n\t\t\t} else if (scrollTop >= scrollHeight - pageHeight - 1){\n\t\t\t\tscrollPosition = loopOffset;\n\t\t\t\tlastPosition = (1 - scrollPosition) * scrollHeight;\n\t\t\t\tMediator.send(\"scrollEnd\");\n\t\t\t\tif (Config.MOBILE){\n\t\t\t\t\tinnerScroll.scrollTop(lastPosition - pageHeight);\n\t\t\t\t}\n\t\t\t}\n\t\t\tneedsUpdate = true;\n\t\t\tMediator.send(\"rawscroll\", scrollPosition);\n\t\t} \n\t});\n\n\n\tMediator.route(\"start\", function(updateRate){\n\t\tsetTimeout(function(){\n\t\t\tstarted = true;\n\t\t}, 100);\n\t});\n\n\tMediator.route(\"replay\", function(){\n\t\tscrollTop = 0.5 * scrollHeight;\n\t\tlastPosition = scrollTop;\n\t\tscrollDistance = 0;\n\t\tscrollPosition = 0.5;\n\t\tMediator.send(\"rawscroll\", 0.5);\n\t\tMediator.send(\"scroll\", 0.5);\n\t});\n\n\treturn {\n\t\tsetPosition : function(pos) {\n\t\t\tscrollDistance = pos;\n\t\t},\n\t\t/**\n\t\t *  get the position of the scroll\n\t\t *  @return {number} a number 0 at the bottom and 1 at the top\n\t\t */\n\t\tgetPosition : function() {\n\t\t\treturn scrollPosition;\n\t\t},\n\t\tgetDistance : function(){\n\t\t\treturn scrollDistance;\n\t\t},\n\t\tgetDirection : function(){\n\t\t\treturn scrollDirection;\n\t\t},\n\t\tgetDirectionPosition : function(){\n\t\t\tif (scrollPosition >= switchCenterPosition){\n\t\t\t\treturn TERP.scale(scrollPosition, switchCenterPosition, 1, 0.5, 1);\n\t\t\t} else {\n\t\t\t\treturn TERP.scale(scrollPosition, 0, switchCenterPosition, 0, 0.5);\n\t\t\t}\n\t\t},\n\t\tscrollTop : function(top){\n\t\t\tif (top && started){\n\t\t\t\ttop *= scrollHeight;\n\t\t\t\tscrollTop = top;\n\t\t\t}\n\t\t\treturn scrollTop;\n\t\t},\n\t\tisStarted : function(){\n\t\t\treturn started;\n\t\t}\n\t};\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/interface/Scroll.js\n ** module id = 32\n ** module chunks = 1\n **/","/*! Copyright (c) 2013 Brandon Aaron (http://brandon.aaron.sh)\n * Licensed under the MIT License (LICENSE.txt).\n *\n * Version: 3.1.9\n *\n * Requires: jQuery 1.2.2+\n */\n\n(function (factory) {\n    if ( typeof define === 'function' && define.amd ) {\n        // AMD. Register as an anonymous module.\n        define(['jquery'], factory);\n    } else if (typeof exports === 'object') {\n        // Node/CommonJS style for Browserify\n        module.exports = factory;\n    } else {\n        // Browser globals\n        factory(jQuery);\n    }\n}(function ($) {\n\n    var toFix  = ['wheel', 'mousewheel', 'DOMMouseScroll', 'MozMousePixelScroll'],\n        toBind = ( 'onwheel' in document || document.documentMode >= 9 ) ?\n                    ['wheel'] : ['mousewheel', 'DomMouseScroll', 'MozMousePixelScroll'],\n        slice  = Array.prototype.slice,\n        nullLowestDeltaTimeout, lowestDelta;\n\n    if ( $.event.fixHooks ) {\n        for ( var i = toFix.length; i; ) {\n            $.event.fixHooks[ toFix[--i] ] = $.event.mouseHooks;\n        }\n    }\n\n    var special = $.event.special.mousewheel = {\n        version: '3.1.9',\n\n        setup: function() {\n            if ( this.addEventListener ) {\n                for ( var i = toBind.length; i; ) {\n                    this.addEventListener( toBind[--i], handler, false );\n                }\n            } else {\n                this.onmousewheel = handler;\n            }\n            // Store the line height and page height for this particular element\n            $.data(this, 'mousewheel-line-height', special.getLineHeight(this));\n            $.data(this, 'mousewheel-page-height', special.getPageHeight(this));\n        },\n\n        teardown: function() {\n            if ( this.removeEventListener ) {\n                for ( var i = toBind.length; i; ) {\n                    this.removeEventListener( toBind[--i], handler, false );\n                }\n            } else {\n                this.onmousewheel = null;\n            }\n        },\n\n        getLineHeight: function(elem) {\n            return parseInt($(elem)['offsetParent' in $.fn ? 'offsetParent' : 'parent']().css('fontSize'), 10);\n        },\n\n        getPageHeight: function(elem) {\n            return $(elem).height();\n        },\n\n        settings: {\n            adjustOldDeltas: true\n        }\n    };\n\n    $.fn.extend({\n        mousewheel: function(fn) {\n            return fn ? this.bind('mousewheel', fn) : this.trigger('mousewheel');\n        },\n\n        unmousewheel: function(fn) {\n            return this.unbind('mousewheel', fn);\n        }\n    });\n\n\n    function handler(event) {\n        var orgEvent   = event || window.event,\n            args       = slice.call(arguments, 1),\n            delta      = 0,\n            deltaX     = 0,\n            deltaY     = 0,\n            absDelta   = 0;\n        event = $.event.fix(orgEvent);\n        event.type = 'mousewheel';\n\n        // Old school scrollwheel delta\n        if ( 'detail'      in orgEvent ) { deltaY = orgEvent.detail * -1;      }\n        if ( 'wheelDelta'  in orgEvent ) { deltaY = orgEvent.wheelDelta;       }\n        if ( 'wheelDeltaY' in orgEvent ) { deltaY = orgEvent.wheelDeltaY;      }\n        if ( 'wheelDeltaX' in orgEvent ) { deltaX = orgEvent.wheelDeltaX * -1; }\n\n        // Firefox < 17 horizontal scrolling related to DOMMouseScroll event\n        if ( 'axis' in orgEvent && orgEvent.axis === orgEvent.HORIZONTAL_AXIS ) {\n            deltaX = deltaY * -1;\n            deltaY = 0;\n        }\n\n        // Set delta to be deltaY or deltaX if deltaY is 0 for backwards compatabilitiy\n        delta = deltaY === 0 ? deltaX : deltaY;\n\n        // New school wheel delta (wheel event)\n        if ( 'deltaY' in orgEvent ) {\n            deltaY = orgEvent.deltaY * -1;\n            delta  = deltaY;\n        }\n        if ( 'deltaX' in orgEvent ) {\n            deltaX = orgEvent.deltaX;\n            if ( deltaY === 0 ) { delta  = deltaX * -1; }\n        }\n\n        // No change actually happened, no reason to go any further\n        if ( deltaY === 0 && deltaX === 0 ) { return; }\n\n        // Need to convert lines and pages to pixels if we aren't already in pixels\n        // There are three delta modes:\n        //   * deltaMode 0 is by pixels, nothing to do\n        //   * deltaMode 1 is by lines\n        //   * deltaMode 2 is by pages\n        if ( orgEvent.deltaMode === 1 ) {\n            var lineHeight = $.data(this, 'mousewheel-line-height');\n            delta  *= lineHeight;\n            deltaY *= lineHeight;\n            deltaX *= lineHeight;\n        } else if ( orgEvent.deltaMode === 2 ) {\n            var pageHeight = $.data(this, 'mousewheel-page-height');\n            delta  *= pageHeight;\n            deltaY *= pageHeight;\n            deltaX *= pageHeight;\n        }\n\n        // Store lowest absolute delta to normalize the delta values\n        absDelta = Math.max( Math.abs(deltaY), Math.abs(deltaX) );\n\n        if ( !lowestDelta || absDelta < lowestDelta ) {\n            lowestDelta = absDelta;\n\n            // Adjust older deltas if necessary\n            if ( shouldAdjustOldDeltas(orgEvent, absDelta) ) {\n                lowestDelta /= 40;\n            }\n        }\n\n        // Adjust older deltas if necessary\n        if ( shouldAdjustOldDeltas(orgEvent, absDelta) ) {\n            // Divide all the things by 40!\n            delta  /= 40;\n            deltaX /= 40;\n            deltaY /= 40;\n        }\n\n        // Get a whole, normalized value for the deltas\n        delta  = Math[ delta  >= 1 ? 'floor' : 'ceil' ](delta  / lowestDelta);\n        deltaX = Math[ deltaX >= 1 ? 'floor' : 'ceil' ](deltaX / lowestDelta);\n        deltaY = Math[ deltaY >= 1 ? 'floor' : 'ceil' ](deltaY / lowestDelta);\n\n        // Add information to the event object\n        event.deltaX = deltaX;\n        event.deltaY = deltaY;\n        event.deltaFactor = lowestDelta;\n        // Go ahead and set deltaMode to 0 since we converted to pixels\n        // Although this is a little odd since we overwrite the deltaX/Y\n        // properties with normalized deltas.\n        event.deltaMode = 0;\n\n        // Add event and delta to the front of the arguments\n        args.unshift(event, delta, deltaX, deltaY);\n\n        // Clearout lowestDelta after sometime to better\n        // handle multiple device types that give different\n        // a different lowestDelta\n        // Ex: trackpad = 3 and mouse wheel = 120\n        if (nullLowestDeltaTimeout) { clearTimeout(nullLowestDeltaTimeout); }\n        nullLowestDeltaTimeout = setTimeout(nullLowestDelta, 200);\n\n        return ($.event.dispatch || $.event.handle).apply(this, args);\n    }\n\n    function nullLowestDelta() {\n        lowestDelta = null;\n    }\n\n    function shouldAdjustOldDeltas(orgEvent, absDelta) {\n        // If this is an older event and the delta is divisable by 120,\n        // then we are assuming that the browser is treating this as an\n        // older mouse wheel event and that we should divide the deltas\n        // by 40 to try and get a more usable deltaFactor.\n        // Side note, this actually impacts the reported scroll distance\n        // in older browsers and can cause scrolling to be slower than native.\n        // Turn this off by setting $.event.special.mousewheel.settings.adjustOldDeltas to false.\n        return special.settings.adjustOldDeltas && orgEvent.type === 'mousewheel' && absDelta % 120 === 0;\n    }\n\n}));\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./deps/jquery.mousewheel.js\n ** module id = 33\n ** module chunks = 1\n **/","define([\"dat\", \"Tone/signal/Signal\", \"Tone/core/Tone\", \"Tone/source/Oscillator\", \n\t\"Tone/source/OmniOscillator\", \"Tone/source/Noise\", \"Tone/component/Filter\", \n\t\"Tone/instrument/PolySynth\", \"util/Config\"], \n\tfunction(dat, Signal, Tone, Oscillator, OmniOscillator, Noise, Filter, PolySynth, Config){\n\n\tvar GUI;\n\tif (Config.GUI){\n\t\t GUI = new dat.GUI();\n\t}\n\n\tfunction getFolder(folder, parent){\n\t\tparent = parent || GUI;\n\t\tif (parent.__folders[folder]){\n\t\t\treturn parent.__folders[folder];\n\t\t} else {\t\t\n\t\t\treturn parent.addFolder(folder);\n\t\t}\n\t}\n\n\tfunction addTone2(folder, name, tone, attributes){\n\t\tvar topLevel = getFolder(name, folder);\n\t\tattributes = attributes || Object.keys(tone.get());\n\t\tvar controllers = [];\n\t\tfor (var i = 0; i < attributes.length; i++){\n\t\t\tvar attr = attributes[i];\n\t\t\tif (tone[attr] instanceof Signal || tone[attr] instanceof AudioParam) {\n\t\t\t\tcontrollers.push(topLevel.addSignal(tone, attr));\n\t\t\t} else if (tone[attr] instanceof Tone){\n\t\t\t\tcontrollers = controllers.concat(addTone2(topLevel, attr, tone[attr]).controllers);\n\t\t\t} else if (attr === \"type\"){\n\t\t\t\tcontrollers.push(addTypeDropDown(topLevel, tone));\n\t\t\t} else {\n\t\t\t\tcontrollers.push(topLevel.add(tone, attr));\n\t\t\t}\n\t\t}\n\t\treturn {\n\t\t\tlisten : function(){\n\t\t\t\tfor (var i = 0 ; i < controllers.length; i++){\n\t\t\t\t\tcontrollers[i].listen();\n\t\t\t\t}\n\t\t\t},\n\t\t\tcontrollers : controllers\n\t\t};\n\t}\n\n\tfunction addTypeDropDown(folder, tone){\n\t\tif (tone instanceof OmniOscillator){\n\t\t\treturn folder.add(tone, \"type\", [\"sine\", \"square\", \"triangle\", \"sawtooth\", \"pwm\", \"pulse\"]);\n\t\t} else if (tone instanceof Oscillator){\n\t\t\treturn folder.add(tone, \"type\", [\"sine\", \"square\", \"triangle\", \"sawtooth\"]);\n\t\t} else if (tone instanceof Filter){\n\t\t\treturn folder.add(tone, \"type\", [\"lowpass\", \"highpass\", \"bandpass\", \"lowshelf\", \"highshelf\", \"notch\", \"allpass\", \"peaking\"]);\n\t\t} else if (tone instanceof Noise){\n\t\t\treturn folder.add(tone, \"type\", [\"brown\", \"white\", \"pink\"]);\n\t\t}\n\t}\n\n\t// function addSlider(folder, node, attr, min, max, onchange){\n\t// \tvar guid = getFolder(folder, title);\n\t// \tif ()\n\t// }\n\n\tfunction addSignal(folderName, title, signal){\n\t\t/*var folder = getFolder(folderName, GUI);\n\t\tvar obj = {};\n\t\tobj[title] = current;\n\t\tfolder.add(obj, title)\n\t\t\t.onChange(function(val){\n\t\t\t\tsignal.setValue(val);\n\t\t\t});*/\n\t}\n\n\tfunction addCheckbox(folder, title, current, onchange){\n\t\tvar obj = {};\n\t\tobj[title] = current;\n\t\tfolder.add(obj, title)\n\t\t\t.onChange(onchange);\n\t}\n\n\tfunction addVolumeSlider(folder, title, vol, min, max){\n\t\tmin = min || -40;\n\t\tmax = max || 6;\n\t\tvar currentValue = vol.value;\n\t\tfolder.add(vol, \"value\", min, max).name(title);\n\t\taddCheckbox(folder, \"mute\", false, function(muted){\n\t\t\tif (muted){\n\t\t\t\tcurrentValue = vol.value;\n\t\t\t\tvol.value = -1000;\n\t\t\t} else {\n\t\t\t\tvol.value = currentValue;\n\t\t\t}\n\t\t});\n\t}\n\n\tfunction addDropDown(folderName, title, options, onchange){\n\n\t}\n\n\tfunction addTone(folderName, name, tone, initial){\n\t\t/*var topLevel = getFolder(folderName, GUI);\n\t\taddSubTone(name, topLevel, tone, initial);\n\t\t//add an print button\n\t\tvar folder = getFolder(name, topLevel);\n\t\tfolder.add({\n\t\t\t\"print\" : function(){\n\t\t\t\tconsole.log(JSON.stringify(initial, undefined, \"\\t\"));\n\t\t\t}\n\t\t}, \"print\");\n\t\t//set the values initially\n\t\ttone.set(initial);*/\n\t}\n\n\n\tfunction addObject(folder, name, obj){\n\t\tvar topLevel = getFolder(name, folder);\n\t\tfor (var param in obj){\n\t\t\tvar gui = topLevel.add(obj, param);\n\t\t}\n\t}\n\n\t/*function addSubTone(folderName, parent, tone, obj){\n\t\tvar folder = getFolder(folderName, parent);\n\t\tfor (var param in obj){\n\t\t\tvar val = obj[param];\n\t\t\tif (typeof val === \"object\"){\n\t\t\t\tvar childTone = tone[param];\n\t\t\t\taddSubTone(param, folder, childTone, val);\n\t\t\t} else {\n\t\t\t\tvar changeFunction = \"onChange\";\n\t\t\t\tif (typeof val === \"string\"){\n\t\t\t\t\tchangeFunction = \"onFinishChange\";\n\t\t\t\t}\n\t\t\t\tfolder.add(obj, param)[changeFunction](function(){\n\t\t\t\t\t\tvar attr = param;\n\t\t\t\t\t\tvar attrObj = {};\n\t\t\t\t\t\tattrObj[attr] = obj[attr];\n\t\t\t\t\t\treturn function(newVal){\n\t\t\t\t\t\t\tobj[attr] = newVal;\n\t\t\t\t\t\t\tattrObj[attr] = newVal;\n\t\t\t\t\t\t\ttone.set(attrObj);\n\t\t\t\t\t\t};\n\t\t\t\t\t}());\n\t\t\t}\n\t\t}\n\t}*/\n\n\treturn {\n\t\tGUI : GUI,\n\t\tgetFolder : getFolder,\n\t\taddSlider : function(){},\n\t\taddDropDown : addDropDown,\n\t\taddTone : addTone,\n\t\taddTone2 : addTone2,\n\t\taddVolumeSlider : addVolumeSlider,\n\t\taddCheckbox : addCheckbox,\n\t\taddObject : addObject,\n\t\taddSignal : addSignal\n\t};\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/interface/GUI.js\n ** module id = 34\n ** module chunks = 1\n **/","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\n/** @namespace */\nvar dat = dat || {};\n\n/** @namespace */\ndat.gui = dat.gui || {};\n\n/** @namespace */\ndat.utils = dat.utils || {};\n\n/** @namespace */\ndat.controllers = dat.controllers || {};\n\n/** @namespace */\ndat.dom = dat.dom || {};\n\n/** @namespace */\ndat.color = dat.color || {};\n\ndat.utils.css = (function () {\n  return {\n    load: function (url, doc) {\n      doc = doc || document;\n      var link = doc.createElement('link');\n      link.type = 'text/css';\n      link.rel = 'stylesheet';\n      link.href = url;\n      doc.getElementsByTagName('head')[0].appendChild(link);\n    },\n    inject: function(css, doc) {\n      doc = doc || document;\n      var injected = document.createElement('style');\n      injected.type = 'text/css';\n      injected.innerHTML = css;\n      doc.getElementsByTagName('head')[0].appendChild(injected);\n    }\n  }\n})();\n\n\ndat.utils.common = (function () {\n  \n  var ARR_EACH = Array.prototype.forEach;\n  var ARR_SLICE = Array.prototype.slice;\n\n  /**\n   * Band-aid methods for things that should be a lot easier in JavaScript.\n   * Implementation and structure inspired by underscore.js\n   * http://documentcloud.github.com/underscore/\n   */\n\n  return { \n    \n    BREAK: {},\n  \n    extend: function(target) {\n      \n      this.each(ARR_SLICE.call(arguments, 1), function(obj) {\n        \n        for (var key in obj)\n          if (!this.isUndefined(obj[key])) \n            target[key] = obj[key];\n        \n      }, this);\n      \n      return target;\n      \n    },\n    \n    defaults: function(target) {\n      \n      this.each(ARR_SLICE.call(arguments, 1), function(obj) {\n        \n        for (var key in obj)\n          if (this.isUndefined(target[key])) \n            target[key] = obj[key];\n        \n      }, this);\n      \n      return target;\n    \n    },\n    \n    compose: function() {\n      var toCall = ARR_SLICE.call(arguments);\n            return function() {\n              var args = ARR_SLICE.call(arguments);\n              for (var i = toCall.length -1; i >= 0; i--) {\n                args = [toCall[i].apply(this, args)];\n              }\n              return args[0];\n            }\n    },\n    \n    each: function(obj, itr, scope) {\n\n      if (!obj) return;\n\n      if (ARR_EACH && obj.forEach && obj.forEach === ARR_EACH) { \n        \n        obj.forEach(itr, scope);\n        \n      } else if (obj.length === obj.length + 0) { // Is number but not NaN\n        \n        for (var key = 0, l = obj.length; key < l; key++)\n          if (key in obj && itr.call(scope, obj[key], key) === this.BREAK) \n            return;\n            \n      } else {\n\n        for (var key in obj) \n          if (itr.call(scope, obj[key], key) === this.BREAK)\n            return;\n            \n      }\n            \n    },\n    \n    defer: function(fnc) {\n      setTimeout(fnc, 0);\n    },\n    \n    toArray: function(obj) {\n      if (obj.toArray) return obj.toArray();\n      return ARR_SLICE.call(obj);\n    },\n\n    isUndefined: function(obj) {\n      return obj === undefined;\n    },\n    \n    isNull: function(obj) {\n      return obj === null;\n    },\n    \n    isNaN: function(obj) {\n      return obj !== obj;\n    },\n    \n    isArray: Array.isArray || function(obj) {\n      return obj.constructor === Array;\n    },\n    \n    isObject: function(obj) {\n      return obj === Object(obj);\n    },\n    \n    isNumber: function(obj) {\n      return obj === obj+0;\n    },\n    \n    isString: function(obj) {\n      return obj === obj+'';\n    },\n    \n    isBoolean: function(obj) {\n      return obj === false || obj === true;\n    },\n    \n    isFunction: function(obj) {\n      return Object.prototype.toString.call(obj) === '[object Function]';\n    }\n  \n  };\n    \n})();\n\n\ndat.controllers.Controller = (function (common) {\n\n  /**\n   * @class An \"abstract\" class that represents a given property of an object.\n   *\n   * @param {Object} object The object to be manipulated\n   * @param {string} property The name of the property to be manipulated\n   *\n   * @member dat.controllers\n   */\n  var Controller = function(object, property) {\n\n    this.initialValue = object[property];\n\n    /**\n     * Those who extend this class will put their DOM elements in here.\n     * @type {DOMElement}\n     */\n    this.domElement = document.createElement('div');\n\n    /**\n     * The object to manipulate\n     * @type {Object}\n     */\n    this.object = object;\n\n    /**\n     * The name of the property to manipulate\n     * @type {String}\n     */\n    this.property = property;\n\n    /**\n     * The function to be called on change.\n     * @type {Function}\n     * @ignore\n     */\n    this.__onChange = undefined;\n\n    /**\n     * The function to be called on finishing change.\n     * @type {Function}\n     * @ignore\n     */\n    this.__onFinishChange = undefined;\n\n  };\n\n  common.extend(\n\n      Controller.prototype,\n\n      /** @lends dat.controllers.Controller.prototype */\n      {\n\n        /**\n         * Specify that a function fire every time someone changes the value with\n         * this Controller.\n         *\n         * @param {Function} fnc This function will be called whenever the value\n         * is modified via this Controller.\n         * @returns {dat.controllers.Controller} this\n         */\n        onChange: function(fnc) {\n          this.__onChange = fnc;\n          return this;\n        },\n\n        /**\n         * Specify that a function fire every time someone \"finishes\" changing\n         * the value wih this Controller. Useful for values that change\n         * incrementally like numbers or strings.\n         *\n         * @param {Function} fnc This function will be called whenever\n         * someone \"finishes\" changing the value via this Controller.\n         * @returns {dat.controllers.Controller} this\n         */\n        onFinishChange: function(fnc) {\n          this.__onFinishChange = fnc;\n          return this;\n        },\n\n        /**\n         * Change the value of <code>object[property]</code>\n         *\n         * @param {Object} newValue The new value of <code>object[property]</code>\n         */\n        setValue: function(newValue) {\n          this.object[this.property] = newValue;\n          if (this.__onChange) {\n            this.__onChange.call(this, newValue);\n          }\n          this.updateDisplay();\n          return this;\n        },\n\n        /**\n         * Gets the value of <code>object[property]</code>\n         *\n         * @returns {Object} The current value of <code>object[property]</code>\n         */\n        getValue: function() {\n          return this.object[this.property];\n        },\n\n        /**\n         * Refreshes the visual display of a Controller in order to keep sync\n         * with the object's current value.\n         * @returns {dat.controllers.Controller} this\n         */\n        updateDisplay: function() {\n          return this;\n        },\n\n        /**\n         * @returns {Boolean} true if the value has deviated from initialValue\n         */\n        isModified: function() {\n          return this.initialValue !== this.getValue()\n        }\n\n      }\n\n  );\n\n  return Controller;\n\n\n})(dat.utils.common);\n\n\ndat.dom.dom = (function (common) {\n\n  var EVENT_MAP = {\n    'HTMLEvents': ['change'],\n    'MouseEvents': ['click','mousemove','mousedown','mouseup', 'mouseover'],\n    'KeyboardEvents': ['keydown']\n  };\n\n  var EVENT_MAP_INV = {};\n  common.each(EVENT_MAP, function(v, k) {\n    common.each(v, function(e) {\n      EVENT_MAP_INV[e] = k;\n    });\n  });\n\n  var CSS_VALUE_PIXELS = /(\\d+(\\.\\d+)?)px/;\n\n  function cssValueToPixels(val) {\n\n    if (val === '0' || common.isUndefined(val)) return 0;\n\n    var match = val.match(CSS_VALUE_PIXELS);\n\n    if (!common.isNull(match)) {\n      return parseFloat(match[1]);\n    }\n\n    // TODO ...ems? %?\n\n    return 0;\n\n  }\n\n  /**\n   * @namespace\n   * @member dat.dom\n   */\n  var dom = {\n\n    /**\n     * \n     * @param elem\n     * @param selectable\n     */\n    makeSelectable: function(elem, selectable) {\n\n      if (elem === undefined || elem.style === undefined) return;\n\n      elem.onselectstart = selectable ? function() {\n        return false;\n      } : function() {\n      };\n\n      elem.style.MozUserSelect = selectable ? 'auto' : 'none';\n      elem.style.KhtmlUserSelect = selectable ? 'auto' : 'none';\n      elem.unselectable = selectable ? 'on' : 'off';\n\n    },\n\n    /**\n     *\n     * @param elem\n     * @param horizontal\n     * @param vertical\n     */\n    makeFullscreen: function(elem, horizontal, vertical) {\n\n      if (common.isUndefined(horizontal)) horizontal = true;\n      if (common.isUndefined(vertical)) vertical = true;\n\n      elem.style.position = 'absolute';\n\n      if (horizontal) {\n        elem.style.left = 0;\n        elem.style.right = 0;\n      }\n      if (vertical) {\n        elem.style.top = 0;\n        elem.style.bottom = 0;\n      }\n\n    },\n\n    /**\n     *\n     * @param elem\n     * @param eventType\n     * @param params\n     */\n    fakeEvent: function(elem, eventType, params, aux) {\n      params = params || {};\n      var className = EVENT_MAP_INV[eventType];\n      if (!className) {\n        throw new Error('Event type ' + eventType + ' not supported.');\n      }\n      var evt = document.createEvent(className);\n      switch (className) {\n        case 'MouseEvents':\n          var clientX = params.x || params.clientX || 0;\n          var clientY = params.y || params.clientY || 0;\n          evt.initMouseEvent(eventType, params.bubbles || false,\n              params.cancelable || true, window, params.clickCount || 1,\n              0, //screen X\n              0, //screen Y\n              clientX, //client X\n              clientY, //client Y\n              false, false, false, false, 0, null);\n          break;\n        case 'KeyboardEvents':\n          var init = evt.initKeyboardEvent || evt.initKeyEvent; // webkit || moz\n          common.defaults(params, {\n            cancelable: true,\n            ctrlKey: false,\n            altKey: false,\n            shiftKey: false,\n            metaKey: false,\n            keyCode: undefined,\n            charCode: undefined\n          });\n          init(eventType, params.bubbles || false,\n              params.cancelable, window,\n              params.ctrlKey, params.altKey,\n              params.shiftKey, params.metaKey,\n              params.keyCode, params.charCode);\n          break;\n        default:\n          evt.initEvent(eventType, params.bubbles || false,\n              params.cancelable || true);\n          break;\n      }\n      common.defaults(evt, aux);\n      elem.dispatchEvent(evt);\n    },\n\n    /**\n     *\n     * @param elem\n     * @param event\n     * @param func\n     * @param bool\n     */\n    bind: function(elem, event, func, bool) {\n      bool = bool || false;\n      if (elem.addEventListener)\n        elem.addEventListener(event, func, bool);\n      else if (elem.attachEvent)\n        elem.attachEvent('on' + event, func);\n      return dom;\n    },\n\n    /**\n     *\n     * @param elem\n     * @param event\n     * @param func\n     * @param bool\n     */\n    unbind: function(elem, event, func, bool) {\n      bool = bool || false;\n      if (elem.removeEventListener)\n        elem.removeEventListener(event, func, bool);\n      else if (elem.detachEvent)\n        elem.detachEvent('on' + event, func);\n      return dom;\n    },\n\n    /**\n     *\n     * @param elem\n     * @param className\n     */\n    addClass: function(elem, className) {\n      if (elem.className === undefined) {\n        elem.className = className;\n      } else if (elem.className !== className) {\n        var classes = elem.className.split(/ +/);\n        if (classes.indexOf(className) == -1) {\n          classes.push(className);\n          elem.className = classes.join(' ').replace(/^\\s+/, '').replace(/\\s+$/, '');\n        }\n      }\n      return dom;\n    },\n\n    /**\n     *\n     * @param elem\n     * @param className\n     */\n    removeClass: function(elem, className) {\n      if (className) {\n        if (elem.className === undefined) {\n          // elem.className = className;\n        } else if (elem.className === className) {\n          elem.removeAttribute('class');\n        } else {\n          var classes = elem.className.split(/ +/);\n          var index = classes.indexOf(className);\n          if (index != -1) {\n            classes.splice(index, 1);\n            elem.className = classes.join(' ');\n          }\n        }\n      } else {\n        elem.className = undefined;\n      }\n      return dom;\n    },\n\n    hasClass: function(elem, className) {\n      return new RegExp('(?:^|\\\\s+)' + className + '(?:\\\\s+|$)').test(elem.className) || false;\n    },\n\n    /**\n     *\n     * @param elem\n     */\n    getWidth: function(elem) {\n\n      var style = getComputedStyle(elem);\n\n      return cssValueToPixels(style['border-left-width']) +\n          cssValueToPixels(style['border-right-width']) +\n          cssValueToPixels(style['padding-left']) +\n          cssValueToPixels(style['padding-right']) +\n          cssValueToPixels(style['width']);\n    },\n\n    /**\n     *\n     * @param elem\n     */\n    getHeight: function(elem) {\n\n      var style = getComputedStyle(elem);\n\n      return cssValueToPixels(style['border-top-width']) +\n          cssValueToPixels(style['border-bottom-width']) +\n          cssValueToPixels(style['padding-top']) +\n          cssValueToPixels(style['padding-bottom']) +\n          cssValueToPixels(style['height']);\n    },\n\n    /**\n     *\n     * @param elem\n     */\n    getOffset: function(elem) {\n      var offset = {left: 0, top:0};\n      if (elem.offsetParent) {\n        do {\n          offset.left += elem.offsetLeft;\n          offset.top += elem.offsetTop;\n        } while (elem = elem.offsetParent);\n      }\n      return offset;\n    },\n\n    // http://stackoverflow.com/posts/2684561/revisions\n    /**\n     * \n     * @param elem\n     */\n    isActive: function(elem) {\n      return elem === document.activeElement && ( elem.type || elem.href );\n    }\n\n  };\n\n  return dom;\n\n})(dat.utils.common);\n\n\ndat.controllers.OptionController = (function (Controller, dom, common) {\n\n  /**\n   * @class Provides a select input to alter the property of an object, using a\n   * list of accepted values.\n   *\n   * @extends dat.controllers.Controller\n   *\n   * @param {Object} object The object to be manipulated\n   * @param {string} property The name of the property to be manipulated\n   * @param {Object|string[]} options A map of labels to acceptable values, or\n   * a list of acceptable string values.\n   *\n   * @member dat.controllers\n   */\n  var OptionController = function(object, property, options) {\n\n    OptionController.superclass.call(this, object, property);\n\n    var _this = this;\n\n    /**\n     * The drop down menu\n     * @ignore\n     */\n    this.__select = document.createElement('select');\n\n    if (common.isArray(options)) {\n      var map = {};\n      common.each(options, function(element) {\n        map[element] = element;\n      });\n      options = map;\n    }\n\n    common.each(options, function(value, key) {\n\n      var opt = document.createElement('option');\n      opt.innerHTML = key;\n      opt.setAttribute('value', value);\n      _this.__select.appendChild(opt);\n\n    });\n\n    // Acknowledge original value\n    this.updateDisplay();\n\n    dom.bind(this.__select, 'change', function() {\n      var desiredValue = this.options[this.selectedIndex].value;\n      _this.setValue(desiredValue);\n    });\n\n    this.domElement.appendChild(this.__select);\n\n  };\n\n  OptionController.superclass = Controller;\n\n  common.extend(\n\n      OptionController.prototype,\n      Controller.prototype,\n\n      {\n\n        setValue: function(v) {\n          var toReturn = OptionController.superclass.prototype.setValue.call(this, v);\n          if (this.__onFinishChange) {\n            this.__onFinishChange.call(this, this.getValue());\n          }\n          return toReturn;\n        },\n\n        updateDisplay: function() {\n          this.__select.value = this.getValue();\n          return OptionController.superclass.prototype.updateDisplay.call(this);\n        }\n\n      }\n\n  );\n\n  return OptionController;\n\n})(dat.controllers.Controller,\ndat.dom.dom,\ndat.utils.common);\n\n\ndat.controllers.NumberController = (function (Controller, common) {\n\n  /**\n   * @class Represents a given property of an object that is a number.\n   *\n   * @extends dat.controllers.Controller\n   *\n   * @param {Object} object The object to be manipulated\n   * @param {string} property The name of the property to be manipulated\n   * @param {Object} [params] Optional parameters\n   * @param {Number} [params.min] Minimum allowed value\n   * @param {Number} [params.max] Maximum allowed value\n   * @param {Number} [params.step] Increment by which to change value\n   *\n   * @member dat.controllers\n   */\n  var NumberController = function(object, property, params) {\n\n    NumberController.superclass.call(this, object, property);\n\n    params = params || {};\n\n    this.__min = params.min;\n    this.__max = params.max;\n    this.__step = params.step;\n\n    if (common.isUndefined(this.__step)) {\n\n      if (this.initialValue == 0) {\n        this.__impliedStep = 1; // What are we, psychics?\n      } else {\n        // Hey Doug, check this out.\n        this.__impliedStep = Math.pow(10, Math.floor(Math.log(this.initialValue)/Math.LN10))/10;\n      }\n\n    } else {\n\n    \tthis.__impliedStep = this.__step;\n\n    }\n\n    this.__precision = numDecimals(this.__impliedStep);\n\n\n  };\n\n  NumberController.superclass = Controller;\n\n  common.extend(\n\n      NumberController.prototype,\n      Controller.prototype,\n\n      /** @lends dat.controllers.NumberController.prototype */\n      {\n\n        setValue: function(v) {\n\n          if (this.__min !== undefined && v < this.__min) {\n            v = this.__min;\n          } else if (this.__max !== undefined && v > this.__max) {\n            v = this.__max;\n          }\n\n          if (this.__step !== undefined && v % this.__step != 0) {\n            v = Math.round(v / this.__step) * this.__step;\n          }\n\n          return NumberController.superclass.prototype.setValue.call(this, v);\n\n        },\n\n        /**\n         * Specify a minimum value for <code>object[property]</code>.\n         *\n         * @param {Number} minValue The minimum value for\n         * <code>object[property]</code>\n         * @returns {dat.controllers.NumberController} this\n         */\n        min: function(v) {\n          this.__min = v;\n          return this;\n        },\n\n        /**\n         * Specify a maximum value for <code>object[property]</code>.\n         *\n         * @param {Number} maxValue The maximum value for\n         * <code>object[property]</code>\n         * @returns {dat.controllers.NumberController} this\n         */\n        max: function(v) {\n          this.__max = v;\n          return this;\n        },\n\n        /**\n         * Specify a step value that dat.controllers.NumberController\n         * increments by.\n         *\n         * @param {Number} stepValue The step value for\n         * dat.controllers.NumberController\n         * @default if minimum and maximum specified increment is 1% of the\n         * difference otherwise stepValue is 1\n         * @returns {dat.controllers.NumberController} this\n         */\n        step: function(v) {\n          this.__step = v;\n          this.__impliedStep = v;\n          this.__precision = numDecimals(v);\n          return this;\n        }\n\n      }\n\n  );\n\n  function numDecimals(x) {\n    x = x.toString();\n    if (x.indexOf('.') > -1) {\n      return x.length - x.indexOf('.') - 1;\n    } else {\n      return 0;\n    }\n  }\n\n  return NumberController;\n\n})(dat.controllers.Controller,\ndat.utils.common);\n\n\ndat.controllers.NumberControllerBox = (function (NumberController, dom, common) {\n\n  /**\n   * @class Represents a given property of an object that is a number and\n   * provides an input element with which to manipulate it.\n   *\n   * @extends dat.controllers.Controller\n   * @extends dat.controllers.NumberController\n   *\n   * @param {Object} object The object to be manipulated\n   * @param {string} property The name of the property to be manipulated\n   * @param {Object} [params] Optional parameters\n   * @param {Number} [params.min] Minimum allowed value\n   * @param {Number} [params.max] Maximum allowed value\n   * @param {Number} [params.step] Increment by which to change value\n   *\n   * @member dat.controllers\n   */\n  var NumberControllerBox = function(object, property, params) {\n\n    this.__truncationSuspended = false;\n\n    NumberControllerBox.superclass.call(this, object, property, params);\n\n    var _this = this;\n\n    /**\n     * {Number} Previous mouse y position\n     * @ignore\n     */\n    var prev_y;\n\n    this.__input = document.createElement('input');\n    this.__input.setAttribute('type', 'text');\n\n    // Makes it so manually specified values are not truncated.\n\n    dom.bind(this.__input, 'change', onChange);\n    dom.bind(this.__input, 'blur', onBlur);\n    dom.bind(this.__input, 'mousedown', onMouseDown);\n    dom.bind(this.__input, 'keydown', function(e) {\n\n      // When pressing entire, you can be as precise as you want.\n      if (e.keyCode === 13) {\n        _this.__truncationSuspended = true;\n        this.blur();\n        _this.__truncationSuspended = false;\n      }\n\n    });\n\n    function onChange() {\n      var attempted = parseFloat(_this.__input.value);\n      if (!common.isNaN(attempted)) _this.setValue(attempted);\n    }\n\n    function onBlur() {\n      onChange();\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.getValue());\n      }\n    }\n\n    function onMouseDown(e) {\n      dom.bind(window, 'mousemove', onMouseDrag);\n      dom.bind(window, 'mouseup', onMouseUp);\n      prev_y = e.clientY;\n    }\n\n    function onMouseDrag(e) {\n\n      var diff = prev_y - e.clientY;\n      _this.setValue(_this.getValue() + diff * _this.__impliedStep);\n\n      prev_y = e.clientY;\n\n    }\n\n    function onMouseUp() {\n      dom.unbind(window, 'mousemove', onMouseDrag);\n      dom.unbind(window, 'mouseup', onMouseUp);\n    }\n\n    this.updateDisplay();\n\n    this.domElement.appendChild(this.__input);\n\n  };\n\n  NumberControllerBox.superclass = NumberController;\n\n  common.extend(\n\n      NumberControllerBox.prototype,\n      NumberController.prototype,\n\n      {\n\n        updateDisplay: function() {\n\n          this.__input.value = this.__truncationSuspended ? this.getValue() : roundToDecimal(this.getValue(), this.__precision);\n          return NumberControllerBox.superclass.prototype.updateDisplay.call(this);\n        }\n\n      }\n\n  );\n\n  function roundToDecimal(value, decimals) {\n    var tenTo = Math.pow(10, decimals);\n    return Math.round(value * tenTo) / tenTo;\n  }\n\n  return NumberControllerBox;\n\n})(dat.controllers.NumberController,\ndat.dom.dom,\ndat.utils.common);\n\n\ndat.controllers.NumberControllerSlider = (function (NumberController, dom, css, common, styleSheet) {\n\n  /**\n   * @class Represents a given property of an object that is a number, contains\n   * a minimum and maximum, and provides a slider element with which to\n   * manipulate it. It should be noted that the slider element is made up of\n   * <code>&lt;div&gt;</code> tags, <strong>not</strong> the html5\n   * <code>&lt;slider&gt;</code> element.\n   *\n   * @extends dat.controllers.Controller\n   * @extends dat.controllers.NumberController\n   * \n   * @param {Object} object The object to be manipulated\n   * @param {string} property The name of the property to be manipulated\n   * @param {Number} minValue Minimum allowed value\n   * @param {Number} maxValue Maximum allowed value\n   * @param {Number} stepValue Increment by which to change value\n   *\n   * @member dat.controllers\n   */\n  var NumberControllerSlider = function(object, property, min, max, step) {\n\n    NumberControllerSlider.superclass.call(this, object, property, { min: min, max: max, step: step });\n\n    var _this = this;\n\n    this.__background = document.createElement('div');\n    this.__foreground = document.createElement('div');\n    this.__expScale = 1;\n\n\n    dom.bind(this.__background, 'mousedown', onMouseDown);\n    \n    dom.addClass(this.__background, 'slider');\n    dom.addClass(this.__foreground, 'slider-fg');\n\n    function onMouseDown(e) {\n\n      dom.bind(window, 'mousemove', onMouseDrag);\n      dom.bind(window, 'mouseup', onMouseUp);\n\n      onMouseDrag(e);\n    }\n\n    function onMouseDrag(e) {\n\n      e.preventDefault();\n\n      var offset = dom.getOffset(_this.__background);\n      var width = dom.getWidth(_this.__background);\n      \n      _this.setValue(\n      \tmap(e.clientX, offset.left, offset.left + width, _this.__min, _this.__max, _this.__expScale)\n      );\n\n      return false;\n\n    }\n\n    function onMouseUp() {\n      dom.unbind(window, 'mousemove', onMouseDrag);\n      dom.unbind(window, 'mouseup', onMouseUp);\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.getValue());\n      }\n    }\n\n    this.updateDisplay();\n\n    this.__background.appendChild(this.__foreground);\n    this.domElement.appendChild(this.__background);\n\n  };\n\n  NumberControllerSlider.superclass = NumberController;\n\n  /**\n   * Injects default stylesheet for slider elements.\n   */\n  NumberControllerSlider.useDefaultStyles = function() {\n    css.inject(styleSheet);\n  };\n\n  common.extend(\n\n      NumberControllerSlider.prototype,\n      NumberController.prototype,\n\n      {\n\n        updateDisplay: function() {\n          var pct = (this.getValue() - this.__min)/(this.__max - this.__min);\n          pct = Math.pow(pct, 1 / this.__expScale);\n          this.__foreground.style.width = pct*100+'%';\n          return NumberControllerSlider.superclass.prototype.updateDisplay.call(this);\n        },\n        /**\n         * make the values scale exponentially\n         *\n         * @returns {dat.controllers.NumberController} this\n         */\n        log : function(scaling) {\n          this.__expScale = scaling || 2;\n          return this;\n        }\n      }\n\n\n\n  );\n\n\tfunction map(v, i1, i2, o1, o2, e) {\n    var norm = (v - i1) / (i2 - i1);\n    norm = Math.max(norm, 0);\n    norm = Math.min(norm, 1);\n    norm = Math.pow(norm, e);\n\t\treturn o1 + (o2 - o1) * norm;\n\t}\n\n  return NumberControllerSlider;\n  \n})(dat.controllers.NumberController,\ndat.dom.dom,\ndat.utils.css,\ndat.utils.common,\n\"/**\\n * dat-gui JavaScript Controller Library\\n * http://code.google.com/p/dat-gui\\n *\\n * Copyright 2011 Data Arts Team, Google Creative Lab\\n *\\n * Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\n * you may not use this file except in compliance with the License.\\n * You may obtain a copy of the License at\\n *\\n * http://www.apache.org/licenses/LICENSE-2.0\\n */\\n\\n.slider {\\n  box-shadow: inset 0 2px 4px rgba(0,0,0,0.15);\\n  height: 1em;\\n  border-radius: 1em;\\n  background-color: #eee;\\n  padding: 0 0.5em;\\n  overflow: hidden;\\n}\\n\\n.slider-fg {\\n  padding: 1px 0 2px 0;\\n  background-color: #aaa;\\n  height: 1em;\\n  margin-left: -0.5em;\\n  padding-right: 0.5em;\\n  border-radius: 1em 0 0 1em;\\n}\\n\\n.slider-fg:after {\\n  display: inline-block;\\n  border-radius: 1em;\\n  background-color: #fff;\\n  border:  1px solid #aaa;\\n  content: '';\\n  float: right;\\n  margin-right: -1em;\\n  margin-top: -1px;\\n  height: 0.9em;\\n  width: 0.9em;\\n}\");\n\n\ndat.controllers.FunctionController = (function (Controller, dom, common) {\n\n  /**\n   * @class Provides a GUI interface to fire a specified method, a property of an object.\n   *\n   * @extends dat.controllers.Controller\n   *\n   * @param {Object} object The object to be manipulated\n   * @param {string} property The name of the property to be manipulated\n   *\n   * @member dat.controllers\n   */\n  var FunctionController = function(object, property, text) {\n\n    FunctionController.superclass.call(this, object, property);\n\n    var _this = this;\n\n    this.__button = document.createElement('div');\n    this.__button.innerHTML = text === undefined ? 'Fire' : text;\n    dom.bind(this.__button, 'click', function(e) {\n      e.preventDefault();\n      _this.fire();\n      return false;\n    });\n\n    dom.addClass(this.__button, 'button');\n\n    this.domElement.appendChild(this.__button);\n\n\n  };\n\n  FunctionController.superclass = Controller;\n\n  common.extend(\n\n      FunctionController.prototype,\n      Controller.prototype,\n      {\n        \n        fire: function() {\n          if (this.__onChange) {\n            this.__onChange.call(this);\n          }\n          this.getValue().call(this.object);\n          if (this.__onFinishChange) {\n            this.__onFinishChange.call(this, this.getValue());\n          }\n        }\n      }\n\n  );\n\n  return FunctionController;\n\n})(dat.controllers.Controller,\ndat.dom.dom,\ndat.utils.common);\n\n\ndat.controllers.BooleanController = (function (Controller, dom, common) {\n\n  /**\n   * @class Provides a checkbox input to alter the boolean property of an object.\n   * @extends dat.controllers.Controller\n   *\n   * @param {Object} object The object to be manipulated\n   * @param {string} property The name of the property to be manipulated\n   *\n   * @member dat.controllers\n   */\n  var BooleanController = function(object, property) {\n\n    BooleanController.superclass.call(this, object, property);\n\n    var _this = this;\n    this.__prev = this.getValue();\n\n    this.__checkbox = document.createElement('input');\n    this.__checkbox.setAttribute('type', 'checkbox');\n\n\n    dom.bind(this.__checkbox, 'change', onChange, false);\n\n    this.domElement.appendChild(this.__checkbox);\n\n    // Match original value\n    this.updateDisplay();\n\n    function onChange() {\n      _this.setValue(!_this.__prev);\n    }\n\n  };\n\n  BooleanController.superclass = Controller;\n\n  common.extend(\n\n      BooleanController.prototype,\n      Controller.prototype,\n\n      {\n\n        setValue: function(v) {\n          var toReturn = BooleanController.superclass.prototype.setValue.call(this, v);\n          if (this.__onFinishChange) {\n            this.__onFinishChange.call(this, this.getValue());\n          }\n          this.__prev = this.getValue();\n          return toReturn;\n        },\n\n        updateDisplay: function() {\n          \n          if (this.getValue() === true) {\n            this.__checkbox.setAttribute('checked', 'checked');\n            this.__checkbox.checked = true;    \n          } else {\n              this.__checkbox.checked = false;\n          }\n\n          return BooleanController.superclass.prototype.updateDisplay.call(this);\n\n        }\n\n\n      }\n\n  );\n\n  return BooleanController;\n\n})(dat.controllers.Controller,\ndat.dom.dom,\ndat.utils.common);\n\n\ndat.color.toString = (function (common) {\n\n  return function(color) {\n\n    if (color.a == 1 || common.isUndefined(color.a)) {\n\n      var s = color.hex.toString(16);\n      while (s.length < 6) {\n        s = '0' + s;\n      }\n\n      return '#' + s;\n\n    } else {\n\n      return 'rgba(' + Math.round(color.r) + ',' + Math.round(color.g) + ',' + Math.round(color.b) + ',' + color.a + ')';\n\n    }\n\n  }\n\n})(dat.utils.common);\n\n\ndat.color.interpret = (function (toString, common) {\n\n  var result, toReturn;\n\n  var interpret = function() {\n\n    toReturn = false;\n\n    var original = arguments.length > 1 ? common.toArray(arguments) : arguments[0];\n\n    common.each(INTERPRETATIONS, function(family) {\n\n      if (family.litmus(original)) {\n\n        common.each(family.conversions, function(conversion, conversionName) {\n\n          result = conversion.read(original);\n\n          if (toReturn === false && result !== false) {\n            toReturn = result;\n            result.conversionName = conversionName;\n            result.conversion = conversion;\n            return common.BREAK;\n\n          }\n\n        });\n\n        return common.BREAK;\n\n      }\n\n    });\n\n    return toReturn;\n\n  };\n\n  var INTERPRETATIONS = [\n\n    // Strings\n    {\n\n      litmus: common.isString,\n\n      conversions: {\n\n        THREE_CHAR_HEX: {\n\n          read: function(original) {\n\n            var test = original.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);\n            if (test === null) return false;\n\n            return {\n              space: 'HEX',\n              hex: parseInt(\n                  '0x' +\n                      test[1].toString() + test[1].toString() +\n                      test[2].toString() + test[2].toString() +\n                      test[3].toString() + test[3].toString())\n            };\n\n          },\n\n          write: toString\n\n        },\n\n        SIX_CHAR_HEX: {\n\n          read: function(original) {\n\n            var test = original.match(/^#([A-F0-9]{6})$/i);\n            if (test === null) return false;\n\n            return {\n              space: 'HEX',\n              hex: parseInt('0x' + test[1].toString())\n            };\n\n          },\n\n          write: toString\n\n        },\n\n        CSS_RGB: {\n\n          read: function(original) {\n\n            var test = original.match(/^rgb\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/);\n            if (test === null) return false;\n\n            return {\n              space: 'RGB',\n              r: parseFloat(test[1]),\n              g: parseFloat(test[2]),\n              b: parseFloat(test[3])\n            };\n\n          },\n\n          write: toString\n\n        },\n\n        CSS_RGBA: {\n\n          read: function(original) {\n\n            var test = original.match(/^rgba\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\,\\s*(.+)\\s*\\)/);\n            if (test === null) return false;\n\n            return {\n              space: 'RGB',\n              r: parseFloat(test[1]),\n              g: parseFloat(test[2]),\n              b: parseFloat(test[3]),\n              a: parseFloat(test[4])\n            };\n\n          },\n\n          write: toString\n\n        }\n\n      }\n\n    },\n\n    // Numbers\n    {\n\n      litmus: common.isNumber,\n\n      conversions: {\n\n        HEX: {\n          read: function(original) {\n            return {\n              space: 'HEX',\n              hex: original,\n              conversionName: 'HEX'\n            }\n          },\n\n          write: function(color) {\n            return color.hex;\n          }\n        }\n\n      }\n\n    },\n\n    // Arrays\n    {\n\n      litmus: common.isArray,\n\n      conversions: {\n\n        RGB_ARRAY: {\n          read: function(original) {\n            if (original.length != 3) return false;\n            return {\n              space: 'RGB',\n              r: original[0],\n              g: original[1],\n              b: original[2]\n            };\n          },\n\n          write: function(color) {\n            return [color.r, color.g, color.b];\n          }\n\n        },\n\n        RGBA_ARRAY: {\n          read: function(original) {\n            if (original.length != 4) return false;\n            return {\n              space: 'RGB',\n              r: original[0],\n              g: original[1],\n              b: original[2],\n              a: original[3]\n            };\n          },\n\n          write: function(color) {\n            return [color.r, color.g, color.b, color.a];\n          }\n\n        }\n\n      }\n\n    },\n\n    // Objects\n    {\n\n      litmus: common.isObject,\n\n      conversions: {\n\n        RGBA_OBJ: {\n          read: function(original) {\n            if (common.isNumber(original.r) &&\n                common.isNumber(original.g) &&\n                common.isNumber(original.b) &&\n                common.isNumber(original.a)) {\n              return {\n                space: 'RGB',\n                r: original.r,\n                g: original.g,\n                b: original.b,\n                a: original.a\n              }\n            }\n            return false;\n          },\n\n          write: function(color) {\n            return {\n              r: color.r,\n              g: color.g,\n              b: color.b,\n              a: color.a\n            }\n          }\n        },\n\n        RGB_OBJ: {\n          read: function(original) {\n            if (common.isNumber(original.r) &&\n                common.isNumber(original.g) &&\n                common.isNumber(original.b)) {\n              return {\n                space: 'RGB',\n                r: original.r,\n                g: original.g,\n                b: original.b\n              }\n            }\n            return false;\n          },\n\n          write: function(color) {\n            return {\n              r: color.r,\n              g: color.g,\n              b: color.b\n            }\n          }\n        },\n\n        HSVA_OBJ: {\n          read: function(original) {\n            if (common.isNumber(original.h) &&\n                common.isNumber(original.s) &&\n                common.isNumber(original.v) &&\n                common.isNumber(original.a)) {\n              return {\n                space: 'HSV',\n                h: original.h,\n                s: original.s,\n                v: original.v,\n                a: original.a\n              }\n            }\n            return false;\n          },\n\n          write: function(color) {\n            return {\n              h: color.h,\n              s: color.s,\n              v: color.v,\n              a: color.a\n            }\n          }\n        },\n\n        HSV_OBJ: {\n          read: function(original) {\n            if (common.isNumber(original.h) &&\n                common.isNumber(original.s) &&\n                common.isNumber(original.v)) {\n              return {\n                space: 'HSV',\n                h: original.h,\n                s: original.s,\n                v: original.v\n              }\n            }\n            return false;\n          },\n\n          write: function(color) {\n            return {\n              h: color.h,\n              s: color.s,\n              v: color.v\n            }\n          }\n\n        }\n\n      }\n\n    }\n\n\n  ];\n\n  return interpret;\n\n\n})(dat.color.toString,\ndat.utils.common);\n\n\ndat.GUI = dat.gui.GUI = (function (css, saveDialogueContents, styleSheet, controllerFactory, Controller, BooleanController, FunctionController, NumberControllerBox, NumberControllerSlider, OptionController, ColorController, requestAnimationFrame, CenteredDiv, dom, common) {\n\n  css.inject(styleSheet);\n\n  /** Outer-most className for GUI's */\n  var CSS_NAMESPACE = 'dg';\n\n  var HIDE_KEY_CODE = 72;\n\n  /** The only value shared between the JS and SCSS. Use caution. */\n  var CLOSE_BUTTON_HEIGHT = 20;\n\n  var DEFAULT_DEFAULT_PRESET_NAME = 'Default';\n\n  var SUPPORTS_LOCAL_STORAGE = (function() {\n    try {\n      return 'localStorage' in window && window['localStorage'] !== null;\n    } catch (e) {\n      return false;\n    }\n  })();\n\n  var SAVE_DIALOGUE;\n\n  /** Have we yet to create an autoPlace GUI? */\n  var auto_place_virgin = true;\n\n  /** Fixed position div that auto place GUI's go inside */\n  var auto_place_container;\n\n  /** Are we hiding the GUI's ? */\n  var hide = false;\n\n  /** GUI's which should be hidden */\n  var hideable_guis = [];\n\n  /**\n   * A lightweight controller library for JavaScript. It allows you to easily\n   * manipulate variables and fire functions on the fly.\n   * @class\n   *\n   * @member dat.gui\n   *\n   * @param {Object} [params]\n   * @param {String} [params.name] The name of this GUI.\n   * @param {Object} [params.load] JSON object representing the saved state of\n   * this GUI.\n   * @param {Boolean} [params.auto=true]\n   * @param {dat.gui.GUI} [params.parent] The GUI I'm nested in.\n   * @param {Boolean} [params.closed] If true, starts closed\n   */\n  var GUI = function(params) {\n\n    var _this = this;\n\n    /**\n     * Outermost DOM Element\n     * @type DOMElement\n     */\n    this.domElement = document.createElement('div');\n    this.__ul = document.createElement('ul');\n    this.domElement.appendChild(this.__ul);\n\n    dom.addClass(this.domElement, CSS_NAMESPACE);\n\n    /**\n     * Nested GUI's by name\n     * @ignore\n     */\n    this.__folders = {};\n\n    this.__controllers = [];\n\n    /**\n     * List of objects I'm remembering for save, only used in top level GUI\n     * @ignore\n     */\n    this.__rememberedObjects = [];\n\n    /**\n     * Maps the index of remembered objects to a map of controllers, only used\n     * in top level GUI.\n     *\n     * @private\n     * @ignore\n     *\n     * @example\n     * [\n     *  {\n     *    propertyName: Controller,\n     *    anotherPropertyName: Controller\n     *  },\n     *  {\n     *    propertyName: Controller\n     *  }\n     * ]\n     */\n    this.__rememberedObjectIndecesToControllers = [];\n\n    this.__listening = [];\n\n    params = params || {};\n\n    // Default parameters\n    params = common.defaults(params, {\n      autoPlace: true,\n      width: GUI.DEFAULT_WIDTH\n    });\n\n    params = common.defaults(params, {\n      resizable: params.autoPlace,\n      hideable: params.autoPlace\n    });\n\n\n    if (!common.isUndefined(params.load)) {\n\n      // Explicit preset\n      if (params.preset) params.load.preset = params.preset;\n\n    } else {\n\n      params.load = { preset: DEFAULT_DEFAULT_PRESET_NAME };\n\n    }\n\n    if (common.isUndefined(params.parent) && params.hideable) {\n      hideable_guis.push(this);\n    }\n\n    // Only root level GUI's are resizable.\n    params.resizable = common.isUndefined(params.parent) && params.resizable;\n\n\n    if (params.autoPlace && common.isUndefined(params.scrollable)) {\n      params.scrollable = true;\n    }\n//    params.scrollable = common.isUndefined(params.parent) && params.scrollable === true;\n\n    // Not part of params because I don't want people passing this in via\n    // constructor. Should be a 'remembered' value.\n    var use_local_storage =\n        SUPPORTS_LOCAL_STORAGE &&\n            localStorage.getItem(getLocalStorageHash(this, 'isLocal')) === 'true';\n\n    var saveToLocalStorage;\n\n    Object.defineProperties(this,\n\n        /** @lends dat.gui.GUI.prototype */\n        {\n\n          /**\n           * The parent <code>GUI</code>\n           * @type dat.gui.GUI\n           */\n          parent: {\n            get: function() {\n              return params.parent;\n            }\n          },\n\n          scrollable: {\n            get: function() {\n              return params.scrollable;\n            }\n          },\n\n          /**\n           * Handles <code>GUI</code>'s element placement for you\n           * @type Boolean\n           */\n          autoPlace: {\n            get: function() {\n              return params.autoPlace;\n            }\n          },\n\n          /**\n           * The identifier for a set of saved values\n           * @type String\n           */\n          preset: {\n\n            get: function() {\n              if (_this.parent) {\n                return _this.getRoot().preset;\n              } else {\n                return params.load.preset;\n              }\n            },\n\n            set: function(v) {\n              if (_this.parent) {\n                _this.getRoot().preset = v;\n              } else {\n                params.load.preset = v;\n              }\n              setPresetSelectIndex(this);\n              _this.revert();\n            }\n\n          },\n\n          /**\n           * The width of <code>GUI</code> element\n           * @type Number\n           */\n          width: {\n            get: function() {\n              return params.width;\n            },\n            set: function(v) {\n              params.width = v;\n              setWidth(_this, v);\n            }\n          },\n\n          /**\n           * The name of <code>GUI</code>. Used for folders. i.e\n           * a folder's name\n           * @type String\n           */\n          name: {\n            get: function() {\n              return params.name;\n            },\n            set: function(v) {\n              // TODO Check for collisions among sibling folders\n              params.name = v;\n              if (title_row_name) {\n                title_row_name.innerHTML = params.name;\n              }\n            }\n          },\n\n          /**\n           * Whether the <code>GUI</code> is collapsed or not\n           * @type Boolean\n           */\n          closed: {\n            get: function() {\n              return params.closed;\n            },\n            set: function(v) {\n              params.closed = v;\n              if (params.closed) {\n                dom.addClass(_this.__ul, GUI.CLASS_CLOSED);\n              } else {\n                dom.removeClass(_this.__ul, GUI.CLASS_CLOSED);\n              }\n              // For browsers that aren't going to respect the CSS transition,\n              // Lets just check our height against the window height right off\n              // the bat.\n              this.onResize();\n\n              if (_this.__closeButton) {\n                _this.__closeButton.innerHTML = v ? GUI.TEXT_OPEN : GUI.TEXT_CLOSED;\n              }\n            }\n          },\n\n          /**\n           * Contains all presets\n           * @type Object\n           */\n          load: {\n            get: function() {\n              return params.load;\n            }\n          },\n\n          /**\n           * Determines whether or not to use <a href=\"https://developer.mozilla.org/en/DOM/Storage#localStorage\">localStorage</a> as the means for\n           * <code>remember</code>ing\n           * @type Boolean\n           */\n          useLocalStorage: {\n\n            get: function() {\n              return use_local_storage;\n            },\n            set: function(bool) {\n              if (SUPPORTS_LOCAL_STORAGE) {\n                use_local_storage = bool;\n                if (bool) {\n                  dom.bind(window, 'unload', saveToLocalStorage);\n                } else {\n                  dom.unbind(window, 'unload', saveToLocalStorage);\n                }\n                localStorage.setItem(getLocalStorageHash(_this, 'isLocal'), bool);\n              }\n            }\n\n          }\n\n        });\n\n    // Are we a root level GUI?\n    if (common.isUndefined(params.parent)) {\n\n      params.closed = false;\n\n      dom.addClass(this.domElement, GUI.CLASS_MAIN);\n      dom.makeSelectable(this.domElement, false);\n\n      // Are we supposed to be loading locally?\n      if (SUPPORTS_LOCAL_STORAGE) {\n\n        if (use_local_storage) {\n\n          _this.useLocalStorage = true;\n\n          var saved_gui = localStorage.getItem(getLocalStorageHash(this, 'gui'));\n\n          if (saved_gui) {\n            params.load = JSON.parse(saved_gui);\n          }\n\n        }\n\n      }\n\n      this.__closeButton = document.createElement('div');\n      this.__closeButton.innerHTML = GUI.TEXT_CLOSED;\n      dom.addClass(this.__closeButton, GUI.CLASS_CLOSE_BUTTON);\n      this.domElement.appendChild(this.__closeButton);\n\n      dom.bind(this.__closeButton, 'click', function() {\n\n        _this.closed = !_this.closed;\n\n\n      });\n\n\n      // Oh, you're a nested GUI!\n    } else {\n\n      if (params.closed === undefined) {\n        params.closed = true;\n      }\n\n      var title_row_name = document.createTextNode(params.name);\n      dom.addClass(title_row_name, 'controller-name');\n\n      var title_row = addRow(_this, title_row_name);\n\n      var on_click_title = function(e) {\n        e.preventDefault();\n        _this.closed = !_this.closed;\n        return false;\n      };\n\n      dom.addClass(this.__ul, GUI.CLASS_CLOSED);\n\n      dom.addClass(title_row, 'title');\n      dom.bind(title_row, 'click', on_click_title);\n\n      if (!params.closed) {\n        this.closed = false;\n      }\n\n    }\n\n    if (params.autoPlace) {\n\n      if (common.isUndefined(params.parent)) {\n\n        if (auto_place_virgin) {\n          auto_place_container = document.createElement('div');\n          dom.addClass(auto_place_container, CSS_NAMESPACE);\n          dom.addClass(auto_place_container, GUI.CLASS_AUTO_PLACE_CONTAINER);\n          document.body.appendChild(auto_place_container);\n          auto_place_virgin = false;\n        }\n\n        // Put it in the dom for you.\n        auto_place_container.appendChild(this.domElement);\n\n        // Apply the auto styles\n        dom.addClass(this.domElement, GUI.CLASS_AUTO_PLACE);\n\n      }\n\n\n      // Make it not elastic.\n      if (!this.parent) setWidth(_this, params.width);\n\n    }\n\n    dom.bind(window, 'resize', function() { _this.onResize() });\n    dom.bind(this.__ul, 'webkitTransitionEnd', function() { _this.onResize(); });\n    dom.bind(this.__ul, 'transitionend', function() { _this.onResize() });\n    dom.bind(this.__ul, 'oTransitionEnd', function() { _this.onResize() });\n    this.onResize();\n\n\n    if (params.resizable) {\n      addResizeHandle(this);\n    }\n\n    saveToLocalStorage = function () {\n      if (SUPPORTS_LOCAL_STORAGE && localStorage.getItem(getLocalStorageHash(_this, 'isLocal')) === 'true') {\n        localStorage.setItem(getLocalStorageHash(_this, 'gui'), JSON.stringify(_this.getSaveObject()));\n      }\n    }\n\n    // expose this method publicly\n    this.saveToLocalStorageIfPossible = saveToLocalStorage;\n\n    var root = _this.getRoot();\n    function resetWidth() {\n\t      var root = _this.getRoot();\n\t      root.width += 1;\n\t      common.defer(function() {\n\t        root.width -= 1;\n\t      });\n\t    }\n\n\t    if (!params.parent) {\n\t      resetWidth();\n\t    }\n\n  };\n\n  GUI.toggleHide = function() {\n\n    hide = !hide;\n    common.each(hideable_guis, function(gui) {\n      gui.domElement.style.zIndex = hide ? -999 : 999;\n      gui.domElement.style.opacity = hide ? 0 : 1;\n    });\n  };\n\n  GUI.CLASS_AUTO_PLACE = 'a';\n  GUI.CLASS_AUTO_PLACE_CONTAINER = 'ac';\n  GUI.CLASS_MAIN = 'main';\n  GUI.CLASS_CONTROLLER_ROW = 'cr';\n  GUI.CLASS_TOO_TALL = 'taller-than-window';\n  GUI.CLASS_CLOSED = 'closed';\n  GUI.CLASS_CLOSE_BUTTON = 'close-button';\n  GUI.CLASS_DRAG = 'drag';\n\n  GUI.DEFAULT_WIDTH = 245;\n  GUI.TEXT_CLOSED = 'Close Controls';\n  GUI.TEXT_OPEN = 'Open Controls';\n\n  dom.bind(window, 'keydown', function(e) {\n\n    if (document.activeElement.type !== 'text' &&\n        (e.which === HIDE_KEY_CODE || e.keyCode == HIDE_KEY_CODE)) {\n      GUI.toggleHide();\n    }\n\n  }, false);\n\n  common.extend(\n\n      GUI.prototype,\n\n      /** @lends dat.gui.GUI */\n      {\n\n        /**\n         * @param object\n         * @param property\n         * @returns {dat.controllers.Controller} The new controller that was added.\n         * @instance\n         */\n        add: function(object, property) {\n\n          return add(\n              this,\n              object,\n              property,\n              {\n                factoryArgs: Array.prototype.slice.call(arguments, 2)\n              }\n          );\n\n        },\n\n        /**\n         * @param object\n         * @param property\n         * @returns {dat.controllers.ColorController} The new controller that was added.\n         * @instance\n         */\n        addColor: function(object, property) {\n\n          return add(\n              this,\n              object,\n              property,\n              {\n                color: true\n              }\n          );\n\n        },\n\n         /**\n         * @param object\n         * @param property\n         * @returns {dat.controllers.ColorController} The new controller that was added.\n         * @instance\n         */\n        addSignal: function(object, property, min, max) {\n\n          return add(\n              this,\n              object,\n              property,\n              {\n                signal: true,\n                factoryArgs: Array.prototype.slice.call(arguments, 2)\n              }\n          );\n\n        },\n\n        /**\n         * @param object\n         * @param property\n         * @returns {dat.controllers.FunctionController} The new controller that was added.\n         * @instance\n         */\n        addButton: function(name, callback) {\n\n          var object = {};\n          object[name] = callback;\n\n          return add(\n              this,\n              object,\n              name,\n              {\n                factoryArgs: Array.prototype.slice.call(arguments, 2)\n              }\n          );\n\n        },\n\n        /**\n         * @param controller\n         * @instance\n         */\n        remove: function(controller) {\n\n          // TODO listening?\n          this.__ul.removeChild(controller.__li);\n          this.__controllers.splice(this.__controllers.indexOf(controller), 1);\n          var _this = this;\n          common.defer(function() {\n            _this.onResize();\n          });\n\n        },\n\n        destroy: function() {\n\n          if (this.autoPlace) {\n            auto_place_container.removeChild(this.domElement);\n          }\n\n        },\n\n        /**\n         * @param name\n         * @returns {dat.gui.GUI} The new folder.\n         * @throws {Error} if this GUI already has a folder by the specified\n         * name\n         * @instance\n         */\n        addFolder: function(name) {\n\n          // We have to prevent collisions on names in order to have a key\n          // by which to remember saved values\n          if (this.__folders[name] !== undefined) {\n            throw new Error('You already have a folder in this GUI by the' +\n                ' name \"' + name + '\"');\n          }\n\n          var new_gui_params = { name: name, parent: this };\n\n          // We need to pass down the autoPlace trait so that we can\n          // attach event listeners to open/close folder actions to\n          // ensure that a scrollbar appears if the window is too short.\n          new_gui_params.autoPlace = this.autoPlace;\n\n          // Do we have saved appearance data for this folder?\n\n          if (this.load && // Anything loaded?\n              this.load.folders && // Was my parent a dead-end?\n              this.load.folders[name]) { // Did daddy remember me?\n\n            // Start me closed if I was closed\n            new_gui_params.closed = this.load.folders[name].closed;\n\n            // Pass down the loaded data\n            new_gui_params.load = this.load.folders[name];\n\n          }\n\n          var gui = new GUI(new_gui_params);\n          this.__folders[name] = gui;\n\n          var li = addRow(this, gui.domElement);\n          dom.addClass(li, 'folder');\n          return gui;\n\n        },\n\n        open: function() {\n          this.closed = false;\n        },\n\n        close: function() {\n          this.closed = true;\n        },\n\n        onResize: function() {\n\n          var root = this.getRoot();\n\n          if (root.scrollable) {\n\n            var top = dom.getOffset(root.__ul).top;\n            var h = 0;\n\n            common.each(root.__ul.childNodes, function(node) {\n              if (! (root.autoPlace && node === root.__save_row))\n                h += dom.getHeight(node);\n            });\n\n            if (window.innerHeight - top - CLOSE_BUTTON_HEIGHT < h) {\n              dom.addClass(root.domElement, GUI.CLASS_TOO_TALL);\n              root.__ul.style.height = window.innerHeight - top - CLOSE_BUTTON_HEIGHT + 'px';\n            } else {\n              dom.removeClass(root.domElement, GUI.CLASS_TOO_TALL);\n              root.__ul.style.height = 'auto';\n            }\n\n          }\n\n          if (root.__resize_handle) {\n            common.defer(function() {\n              root.__resize_handle.style.height = root.__ul.offsetHeight + 'px';\n            });\n          }\n\n          if (root.__closeButton) {\n            root.__closeButton.style.width = root.width + 'px';\n          }\n\n        },\n\n        /**\n         * Mark objects for saving. The order of these objects cannot change as\n         * the GUI grows. When remembering new objects, append them to the end\n         * of the list.\n         *\n         * @param {Object...} objects\n         * @throws {Error} if not called on a top level GUI.\n         * @instance\n         */\n        remember: function() {\n\n          if (common.isUndefined(SAVE_DIALOGUE)) {\n            SAVE_DIALOGUE = new CenteredDiv();\n            SAVE_DIALOGUE.domElement.innerHTML = saveDialogueContents;\n          }\n\n          if (this.parent) {\n            throw new Error(\"You can only call remember on a top level GUI.\");\n          }\n\n          var _this = this;\n\n          common.each(Array.prototype.slice.call(arguments), function(object) {\n            if (_this.__rememberedObjects.length == 0) {\n              addSaveMenu(_this);\n            }\n            if (_this.__rememberedObjects.indexOf(object) == -1) {\n              _this.__rememberedObjects.push(object);\n            }\n          });\n\n          if (this.autoPlace) {\n            // Set save row width\n            setWidth(this, this.width);\n          }\n\n        },\n\n        /**\n         * @returns {dat.gui.GUI} the topmost parent GUI of a nested GUI.\n         * @instance\n         */\n        getRoot: function() {\n          var gui = this;\n          while (gui.parent) {\n            gui = gui.parent;\n          }\n          return gui;\n        },\n\n        /**\n         * @returns {Object} a JSON object representing the current state of\n         * this GUI as well as its remembered properties.\n         * @instance\n         */\n        getSaveObject: function() {\n\n          var toReturn = this.load;\n\n          toReturn.closed = this.closed;\n\n          // Am I remembering any values?\n          if (this.__rememberedObjects.length > 0) {\n\n            toReturn.preset = this.preset;\n\n            if (!toReturn.remembered) {\n              toReturn.remembered = {};\n            }\n\n            toReturn.remembered[this.preset] = getCurrentPreset(this);\n\n          }\n\n          toReturn.folders = {};\n          common.each(this.__folders, function(element, key) {\n            toReturn.folders[key] = element.getSaveObject();\n          });\n\n          return toReturn;\n\n        },\n\n        save: function() {\n\n          if (!this.load.remembered) {\n            this.load.remembered = {};\n          }\n\n          this.load.remembered[this.preset] = getCurrentPreset(this);\n          markPresetModified(this, false);\n          this.saveToLocalStorageIfPossible();\n\n        },\n\n        saveAs: function(presetName) {\n\n          if (!this.load.remembered) {\n\n            // Retain default values upon first save\n            this.load.remembered = {};\n            this.load.remembered[DEFAULT_DEFAULT_PRESET_NAME] = getCurrentPreset(this, true);\n\n          }\n\n          this.load.remembered[presetName] = getCurrentPreset(this);\n          this.preset = presetName;\n          addPresetOption(this, presetName, true);\n          this.saveToLocalStorageIfPossible();\n\n        },\n\n        revert: function(gui) {\n\n          common.each(this.__controllers, function(controller) {\n            // Make revert work on Default.\n            if (!this.getRoot().load.remembered) {\n              controller.setValue(controller.initialValue);\n            } else {\n              recallSavedValue(gui || this.getRoot(), controller);\n            }\n          }, this);\n\n          common.each(this.__folders, function(folder) {\n            folder.revert(folder);\n          });\n\n          if (!gui) {\n            markPresetModified(this.getRoot(), false);\n          }\n\n\n        },\n\n        listen: function(controller) {\n\n          var init = this.__listening.length == 0;\n          this.__listening.push(controller);\n          if (init) updateDisplays(this.__listening);\n\n        }\n\n      }\n\n  );\n\n  function add(gui, object, property, params) {\n\n    if (object[property] === undefined) {\n      throw new Error(\"Object \" + object + \" has no property \\\"\" + property + \"\\\"\");\n    }\n\n    var controller, factoryArgs;\n\n    if (params.color) {\n\n      controller = new ColorController(object, property);\n\n    } else if (params.signal){\n\n      factoryArgs = [object[property],\"value\"].concat(params.factoryArgs);\n      controller = controllerFactory.apply(gui, factoryArgs);\n\n    } else {\n\n      factoryArgs = [object,property].concat(params.factoryArgs);\n      controller = controllerFactory.apply(gui, factoryArgs);\n\n    }\n\n    if (params.before instanceof Controller) {\n      params.before = params.before.__li;\n    }\n\n    recallSavedValue(gui, controller);\n\n    dom.addClass(controller.domElement, 'c');\n\n    var name = document.createElement('span');\n    dom.addClass(name, 'property-name');\n    if (params.signal){\n      name.innerHTML = property;\n    } else {\n      name.innerHTML = controller.property;\n    }\n\n    var container = document.createElement('div');\n    container.appendChild(name);\n    container.appendChild(controller.domElement);\n\n    var li = addRow(gui, container, params.before);\n\n    dom.addClass(li, GUI.CLASS_CONTROLLER_ROW);\n    dom.addClass(li, typeof controller.getValue());\n\n    augmentController(gui, li, controller);\n\n    gui.__controllers.push(controller);\n\n    return controller;\n\n  }\n\n  /**\n   * Add a row to the end of the GUI or before another row.\n   *\n   * @param gui\n   * @param [dom] If specified, inserts the dom content in the new row\n   * @param [liBefore] If specified, places the new row before another row\n   */\n  function addRow(gui, dom, liBefore) {\n    var li = document.createElement('li');\n    if (dom) li.appendChild(dom);\n    if (liBefore) {\n      gui.__ul.insertBefore(li, params.before);\n    } else {\n      gui.__ul.appendChild(li);\n    }\n    gui.onResize();\n    return li;\n  }\n\n  function augmentController(gui, li, controller) {\n\n    controller.__li = li;\n    controller.__gui = gui;\n\n    common.extend(controller, {\n\n      options: function(options) {\n\n        if (arguments.length > 1) {\n          controller.remove();\n\n          return add(\n              gui,\n              controller.object,\n              controller.property,\n              {\n                before: controller.__li.nextElementSibling,\n                factoryArgs: [common.toArray(arguments)]\n              }\n          );\n\n        }\n\n        if (common.isArray(options) || common.isObject(options)) {\n          controller.remove();\n\n          return add(\n              gui,\n              controller.object,\n              controller.property,\n              {\n                before: controller.__li.nextElementSibling,\n                factoryArgs: [options]\n              }\n          );\n\n        }\n\n      },\n\n      name: function(v) {\n        controller.__li.firstElementChild.firstElementChild.innerHTML = v;\n        return controller;\n      },\n\n      listen: function() {\n        controller.__gui.listen(controller);\n        return controller;\n      },\n\n      remove: function() {\n        controller.__gui.remove(controller);\n        return controller;\n      }\n\n    });\n\n    // All sliders should be accompanied by a box.\n    if (controller instanceof NumberControllerSlider) {\n\n      var box = new NumberControllerBox(controller.object, controller.property,\n          { min: controller.__min, max: controller.__max, step: controller.__step });\n\n      common.each(['updateDisplay', 'onChange', 'onFinishChange'], function(method) {\n        var pc = controller[method];\n        var pb = box[method];\n        controller[method] = box[method] = function() {\n          var args = Array.prototype.slice.call(arguments);\n          pc.apply(controller, args);\n          return pb.apply(box, args);\n        }\n      });\n\n      dom.addClass(li, 'has-slider');\n      controller.domElement.insertBefore(box.domElement, controller.domElement.firstElementChild);\n\n    }\n    else if (controller instanceof NumberControllerBox) {\n\n      var r = function(returned) {\n\n        // Have we defined both boundaries?\n        if (common.isNumber(controller.__min) && common.isNumber(controller.__max)) {\n\n          // Well, then lets just replace this with a slider.\n          controller.remove();\n          return add(\n              gui,\n              controller.object,\n              controller.property,\n              {\n                before: controller.__li.nextElementSibling,\n                factoryArgs: [controller.__min, controller.__max, controller.__step]\n              });\n\n        }\n\n        return returned;\n\n      };\n\n      controller.min = common.compose(r, controller.min);\n      controller.max = common.compose(r, controller.max);\n\n    }\n    else if (controller instanceof BooleanController) {\n\n      dom.bind(li, 'click', function() {\n        dom.fakeEvent(controller.__checkbox, 'click');\n      });\n\n      dom.bind(controller.__checkbox, 'click', function(e) {\n        e.stopPropagation(); // Prevents double-toggle\n      })\n\n    }\n    else if (controller instanceof FunctionController) {\n\n      dom.bind(li, 'click', function() {\n        dom.fakeEvent(controller.__button, 'click');\n      });\n\n      dom.bind(li, 'mouseover', function() {\n        dom.addClass(controller.__button, 'hover');\n      });\n\n      dom.bind(li, 'mouseout', function() {\n        dom.removeClass(controller.__button, 'hover');\n      });\n\n    }\n    else if (controller instanceof ColorController) {\n\n      dom.addClass(li, 'color');\n      controller.updateDisplay = common.compose(function(r) {\n        li.style.borderLeftColor = controller.__color.toString();\n        return r;\n      }, controller.updateDisplay);\n\n      controller.updateDisplay();\n\n    }\n\n    controller.setValue = common.compose(function(r) {\n      if (gui.getRoot().__preset_select && controller.isModified()) {\n        markPresetModified(gui.getRoot(), true);\n      }\n      return r;\n    }, controller.setValue);\n\n  }\n\n  function recallSavedValue(gui, controller) {\n\n    // Find the topmost GUI, that's where remembered objects live.\n    var root = gui.getRoot();\n\n    // Does the object we're controlling match anything we've been told to\n    // remember?\n    var matched_index = root.__rememberedObjects.indexOf(controller.object);\n\n    // Why yes, it does!\n    if (matched_index != -1) {\n\n      // Let me fetch a map of controllers for thcommon.isObject.\n      var controller_map =\n          root.__rememberedObjectIndecesToControllers[matched_index];\n\n      // Ohp, I believe this is the first controller we've created for this\n      // object. Lets make the map fresh.\n      if (controller_map === undefined) {\n        controller_map = {};\n        root.__rememberedObjectIndecesToControllers[matched_index] =\n            controller_map;\n      }\n\n      // Keep track of this controller\n      controller_map[controller.property] = controller;\n\n      // Okay, now have we saved any values for this controller?\n      if (root.load && root.load.remembered) {\n\n        var preset_map = root.load.remembered;\n\n        // Which preset are we trying to load?\n        var preset;\n\n        if (preset_map[gui.preset]) {\n\n          preset = preset_map[gui.preset];\n\n        } else if (preset_map[DEFAULT_DEFAULT_PRESET_NAME]) {\n\n          // Uhh, you can have the default instead?\n          preset = preset_map[DEFAULT_DEFAULT_PRESET_NAME];\n\n        } else {\n\n          // Nada.\n\n          return;\n\n        }\n\n\n        // Did the loaded object remember thcommon.isObject?\n        if (preset[matched_index] &&\n\n          // Did we remember this particular property?\n            preset[matched_index][controller.property] !== undefined) {\n\n          // We did remember something for this guy ...\n          var value = preset[matched_index][controller.property];\n\n          // And that's what it is.\n          controller.initialValue = value;\n          controller.setValue(value);\n\n        }\n\n      }\n\n    }\n\n  }\n\n  function getLocalStorageHash(gui, key) {\n    // TODO how does this deal with multiple GUI's?\n    return document.location.href + '.' + key;\n\n  }\n\n  function addSaveMenu(gui) {\n\n    var div = gui.__save_row = document.createElement('li');\n\n    dom.addClass(gui.domElement, 'has-save');\n\n    gui.__ul.insertBefore(div, gui.__ul.firstChild);\n\n    dom.addClass(div, 'save-row');\n\n    var gears = document.createElement('span');\n    gears.innerHTML = '&nbsp;';\n    dom.addClass(gears, 'button gears');\n\n    // TODO replace with FunctionController\n    var button = document.createElement('span');\n    button.innerHTML = 'Save';\n    dom.addClass(button, 'button');\n    dom.addClass(button, 'save');\n\n    var button2 = document.createElement('span');\n    button2.innerHTML = 'New';\n    dom.addClass(button2, 'button');\n    dom.addClass(button2, 'save-as');\n\n    var button3 = document.createElement('span');\n    button3.innerHTML = 'Revert';\n    dom.addClass(button3, 'button');\n    dom.addClass(button3, 'revert');\n\n    var select = gui.__preset_select = document.createElement('select');\n\n    if (gui.load && gui.load.remembered) {\n\n      common.each(gui.load.remembered, function(value, key) {\n        addPresetOption(gui, key, key == gui.preset);\n      });\n\n    } else {\n      addPresetOption(gui, DEFAULT_DEFAULT_PRESET_NAME, false);\n    }\n\n    dom.bind(select, 'change', function() {\n\n\n      for (var index = 0; index < gui.__preset_select.length; index++) {\n        gui.__preset_select[index].innerHTML = gui.__preset_select[index].value;\n      }\n\n      gui.preset = this.value;\n\n    });\n\n    div.appendChild(select);\n    div.appendChild(gears);\n    div.appendChild(button);\n    div.appendChild(button2);\n    div.appendChild(button3);\n\n    if (SUPPORTS_LOCAL_STORAGE) {\n\n      var saveLocally = document.getElementById('dg-save-locally');\n      var explain = document.getElementById('dg-local-explain');\n\n      saveLocally.style.display = 'block';\n\n      var localStorageCheckBox = document.getElementById('dg-local-storage');\n\n      if (localStorage.getItem(getLocalStorageHash(gui, 'isLocal')) === 'true') {\n        localStorageCheckBox.setAttribute('checked', 'checked');\n      }\n\n      function showHideExplain() {\n        explain.style.display = gui.useLocalStorage ? 'block' : 'none';\n      }\n\n      showHideExplain();\n\n      // TODO: Use a boolean controller, fool!\n      dom.bind(localStorageCheckBox, 'change', function() {\n        gui.useLocalStorage = !gui.useLocalStorage;\n        showHideExplain();\n      });\n\n    }\n\n    var newConstructorTextArea = document.getElementById('dg-new-constructor');\n\n    dom.bind(newConstructorTextArea, 'keydown', function(e) {\n      if (e.metaKey && (e.which === 67 || e.keyCode == 67)) {\n        SAVE_DIALOGUE.hide();\n      }\n    });\n\n    dom.bind(gears, 'click', function() {\n      newConstructorTextArea.innerHTML = JSON.stringify(gui.getSaveObject(), undefined, 2);\n      SAVE_DIALOGUE.show();\n      newConstructorTextArea.focus();\n      newConstructorTextArea.select();\n    });\n\n    dom.bind(button, 'click', function() {\n      gui.save();\n    });\n\n    dom.bind(button2, 'click', function() {\n      var presetName = prompt('Enter a new preset name.');\n      if (presetName) gui.saveAs(presetName);\n    });\n\n    dom.bind(button3, 'click', function() {\n      gui.revert();\n    });\n\n//    div.appendChild(button2);\n\n  }\n\n  function addResizeHandle(gui) {\n\n    gui.__resize_handle = document.createElement('div');\n\n    common.extend(gui.__resize_handle.style, {\n\n      width: '6px',\n      marginLeft: '-3px',\n      height: '200px',\n      cursor: 'ew-resize',\n      position: 'absolute'\n//      border: '1px solid blue'\n\n    });\n\n    var pmouseX;\n\n    dom.bind(gui.__resize_handle, 'mousedown', dragStart);\n    dom.bind(gui.__closeButton, 'mousedown', dragStart);\n\n    gui.domElement.insertBefore(gui.__resize_handle, gui.domElement.firstElementChild);\n\n    function dragStart(e) {\n\n      e.preventDefault();\n\n      pmouseX = e.clientX;\n\n      dom.addClass(gui.__closeButton, GUI.CLASS_DRAG);\n      dom.bind(window, 'mousemove', drag);\n      dom.bind(window, 'mouseup', dragStop);\n\n      return false;\n\n    }\n\n    function drag(e) {\n\n      e.preventDefault();\n\n      gui.width += pmouseX - e.clientX;\n      gui.onResize();\n      pmouseX = e.clientX;\n\n      return false;\n\n    }\n\n    function dragStop() {\n\n      dom.removeClass(gui.__closeButton, GUI.CLASS_DRAG);\n      dom.unbind(window, 'mousemove', drag);\n      dom.unbind(window, 'mouseup', dragStop);\n\n    }\n\n  }\n\n  function setWidth(gui, w) {\n    gui.domElement.style.width = w + 'px';\n    // Auto placed save-rows are position fixed, so we have to\n    // set the width manually if we want it to bleed to the edge\n    if (gui.__save_row && gui.autoPlace) {\n      gui.__save_row.style.width = w + 'px';\n    }if (gui.__closeButton) {\n      gui.__closeButton.style.width = w + 'px';\n    }\n  }\n\n  function getCurrentPreset(gui, useInitialValues) {\n\n    var toReturn = {};\n\n    // For each object I'm remembering\n    common.each(gui.__rememberedObjects, function(val, index) {\n\n      var saved_values = {};\n\n      // The controllers I've made for thcommon.isObject by property\n      var controller_map =\n          gui.__rememberedObjectIndecesToControllers[index];\n\n      // Remember each value for each property\n      common.each(controller_map, function(controller, property) {\n        saved_values[property] = useInitialValues ? controller.initialValue : controller.getValue();\n      });\n\n      // Save the values for thcommon.isObject\n      toReturn[index] = saved_values;\n\n    });\n\n    return toReturn;\n\n  }\n\n  function addPresetOption(gui, name, setSelected) {\n    var opt = document.createElement('option');\n    opt.innerHTML = name;\n    opt.value = name;\n    gui.__preset_select.appendChild(opt);\n    if (setSelected) {\n      gui.__preset_select.selectedIndex = gui.__preset_select.length - 1;\n    }\n  }\n\n  function setPresetSelectIndex(gui) {\n    for (var index = 0; index < gui.__preset_select.length; index++) {\n      if (gui.__preset_select[index].value == gui.preset) {\n        gui.__preset_select.selectedIndex = index;\n      }\n    }\n  }\n\n  function markPresetModified(gui, modified) {\n    var opt = gui.__preset_select[gui.__preset_select.selectedIndex];\n//    console.log('mark', modified, opt);\n    if (modified) {\n      opt.innerHTML = opt.value + \"*\";\n    } else {\n      opt.innerHTML = opt.value;\n    }\n  }\n\n  function updateDisplays(controllerArray) {\n\n\n    if (controllerArray.length != 0) {\n\n      requestAnimationFrame(function() {\n        updateDisplays(controllerArray);\n      });\n\n    }\n\n    common.each(controllerArray, function(c) {\n      c.updateDisplay();\n    });\n\n  }\n\n  return GUI;\n\n})(dat.utils.css,\n\"<div id=\\\"dg-save\\\" class=\\\"dg dialogue\\\">\\n\\n  Here's the new load parameter for your <code>GUI</code>'s constructor:\\n\\n  <textarea id=\\\"dg-new-constructor\\\"></textarea>\\n\\n  <div id=\\\"dg-save-locally\\\">\\n\\n    <input id=\\\"dg-local-storage\\\" type=\\\"checkbox\\\"/> Automatically save\\n    values to <code>localStorage</code> on exit.\\n\\n    <div id=\\\"dg-local-explain\\\">The values saved to <code>localStorage</code> will\\n      override those passed to <code>dat.GUI</code>'s constructor. This makes it\\n      easier to work incrementally, but <code>localStorage</code> is fragile,\\n      and your friends may not see the same values you do.\\n      \\n    </div>\\n    \\n  </div>\\n\\n</div>\",\n\".dg {\\n  /** Clear list styles */\\n  /* Auto-place container */\\n  /* Auto-placed GUI's */\\n  /* Line items that don't contain folders. */\\n  /** Folder names */\\n  /** Hides closed items */\\n  /** Controller row */\\n  /** Name-half (left) */\\n  /** Controller-half (right) */\\n  /** Controller placement */\\n  /** Shorter number boxes when slider is present. */\\n  /** Ensure the entire boolean and function row shows a hand */ }\\n  .dg ul {\\n    list-style: none;\\n    margin: 0;\\n    padding: 0;\\n    width: 100%;\\n    clear: both; }\\n  .dg.ac {\\n    position: fixed;\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n    height: 0;\\n    z-index: 0; }\\n  .dg:not(.ac) .main {\\n    /** Exclude mains in ac so that we don't hide close button */\\n    overflow: hidden; }\\n  .dg.main {\\n    -webkit-transition: opacity 0.1s linear;\\n    -o-transition: opacity 0.1s linear;\\n    -moz-transition: opacity 0.1s linear;\\n    transition: opacity 0.1s linear; }\\n    .dg.main.taller-than-window {\\n      overflow-y: auto; }\\n      .dg.main.taller-than-window .close-button {\\n        opacity: 1;\\n        /* TODO, these are style notes */\\n        margin-top: -1px;\\n        border-top: 1px solid #2c2c2c; }\\n    .dg.main ul.closed .close-button {\\n      opacity: 1 !important; }\\n    .dg.main:hover .close-button,\\n    .dg.main .close-button.drag {\\n      opacity: 1; }\\n    .dg.main .close-button {\\n      /*opacity: 0;*/\\n      -webkit-transition: opacity 0.1s linear;\\n      -o-transition: opacity 0.1s linear;\\n      -moz-transition: opacity 0.1s linear;\\n      transition: opacity 0.1s linear;\\n      border: 0;\\n      position: absolute;\\n      line-height: 19px;\\n      height: 20px;\\n      /* TODO, these are style notes */\\n      cursor: pointer;\\n      text-align: center;\\n      background-color: #000; }\\n      .dg.main .close-button:hover {\\n        background-color: #111; }\\n  .dg.a {\\n    float: right;\\n    margin-right: 15px;\\n    overflow-x: hidden; }\\n    .dg.a.has-save > ul {\\n      margin-top: 27px; }\\n      .dg.a.has-save > ul.closed {\\n        margin-top: 0; }\\n    .dg.a .save-row {\\n      position: fixed;\\n      top: 0;\\n      z-index: 1002; }\\n  .dg li {\\n    -webkit-transition: height 0.1s ease-out;\\n    -o-transition: height 0.1s ease-out;\\n    -moz-transition: height 0.1s ease-out;\\n    transition: height 0.1s ease-out; }\\n  .dg li:not(.folder) {\\n    cursor: auto;\\n    height: 27px;\\n    line-height: 27px;\\n    overflow: hidden;\\n    padding: 0 4px 0 5px; }\\n  .dg li.folder {\\n    padding: 0;\\n    border-left: 4px solid rgba(0, 0, 0, 0); }\\n  .dg li.title {\\n    cursor: pointer;\\n    margin-left: -4px; }\\n  .dg .closed li:not(.title),\\n  .dg .closed ul li,\\n  .dg .closed ul li > * {\\n    height: 0;\\n    overflow: hidden;\\n    border: 0; }\\n  .dg .cr {\\n    clear: both;\\n    padding-left: 3px;\\n    height: 27px; }\\n  .dg .property-name {\\n    cursor: default;\\n    float: left;\\n    clear: left;\\n    width: 40%;\\n    overflow: hidden;\\n    text-overflow: ellipsis; }\\n  .dg .c {\\n    float: left;\\n    width: 60%; }\\n  .dg .c input[type=text] {\\n    border: 0;\\n    margin-top: 4px;\\n    padding: 3px;\\n    width: 100%;\\n    float: right; }\\n  .dg .has-slider input[type=text] {\\n    width: 30%;\\n    /*display: none;*/\\n    margin-left: 0; }\\n  .dg .slider {\\n    float: left;\\n    width: 66%;\\n    margin-left: -5px;\\n    margin-right: 0;\\n    height: 19px;\\n    margin-top: 4px; }\\n  .dg .slider-fg {\\n    height: 100%; }\\n  .dg .c input[type=checkbox] {\\n    margin-top: 9px; }\\n  .dg .c select {\\n    margin-top: 5px; }\\n  .dg .cr.function,\\n  .dg .cr.function .property-name,\\n  .dg .cr.function *,\\n  .dg .cr.boolean,\\n  .dg .cr.boolean * {\\n    cursor: pointer; }\\n  .dg .selector {\\n    display: none;\\n    position: absolute;\\n    margin-left: -9px;\\n    margin-top: 23px;\\n    z-index: 10; }\\n  .dg .c:hover .selector,\\n  .dg .selector.drag {\\n    display: block; }\\n  .dg li.save-row {\\n    padding: 0; }\\n    .dg li.save-row .button {\\n      display: inline-block;\\n      padding: 0px 6px; }\\n  .dg.dialogue {\\n    background-color: #222;\\n    width: 460px;\\n    padding: 15px;\\n    font-size: 13px;\\n    line-height: 15px; }\\n\\n/* TODO Separate style and structure */\\n#dg-new-constructor {\\n  padding: 10px;\\n  color: #222;\\n  font-family: Monaco, monospace;\\n  font-size: 10px;\\n  border: 0;\\n  resize: none;\\n  box-shadow: inset 1px 1px 1px #888;\\n  word-wrap: break-word;\\n  margin: 12px 0;\\n  display: block;\\n  width: 440px;\\n  overflow-y: scroll;\\n  height: 100px;\\n  position: relative; }\\n\\n#dg-local-explain {\\n  display: none;\\n  font-size: 11px;\\n  line-height: 17px;\\n  border-radius: 3px;\\n  background-color: #333;\\n  padding: 8px;\\n  margin-top: 10px; }\\n  #dg-local-explain code {\\n    font-size: 10px; }\\n\\n#dat-gui-save-locally {\\n  display: none; }\\n\\n/** Main type */\\n.dg {\\n  color: #eee;\\n  font: 11px 'Lucida Grande', sans-serif;\\n  text-shadow: 0 -1px 0 #111;\\n  /** Auto place */\\n  /* Controller row, <li> */\\n  /** Controllers */ }\\n  .dg.main {\\n    /** Scrollbar */ }\\n    .dg.main::-webkit-scrollbar {\\n      width: 5px;\\n      background: #1a1a1a; }\\n    .dg.main::-webkit-scrollbar-corner {\\n      height: 0;\\n      display: none; }\\n    .dg.main::-webkit-scrollbar-thumb {\\n      border-radius: 5px;\\n      background: #676767; }\\n  .dg li:not(.folder) {\\n    background: #1a1a1a;\\n    border-bottom: 1px solid #2c2c2c; }\\n  .dg li.save-row {\\n    line-height: 25px;\\n    background: #dad5cb;\\n    border: 0; }\\n    .dg li.save-row select {\\n      margin-left: 5px;\\n      width: 108px; }\\n    .dg li.save-row .button {\\n      margin-left: 5px;\\n      margin-top: 1px;\\n      border-radius: 2px;\\n      font-size: 9px;\\n      line-height: 7px;\\n      padding: 4px 4px 5px 4px;\\n      background: #c5bdad;\\n      color: #fff;\\n      text-shadow: 0 1px 0 #b0a58f;\\n      box-shadow: 0 -1px 0 #b0a58f;\\n      cursor: pointer; }\\n      .dg li.save-row .button.gears {\\n        background: #c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;\\n        height: 7px;\\n        width: 8px; }\\n      .dg li.save-row .button:hover {\\n        background-color: #bab19e;\\n        box-shadow: 0 -1px 0 #b0a58f; }\\n  .dg li.folder {\\n    border-bottom: 0; }\\n  .dg li.title {\\n    padding-left: 16px;\\n    background: black url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;\\n    cursor: pointer;\\n    border-bottom: 1px solid rgba(255, 255, 255, 0.2); }\\n  .dg .closed li.title {\\n    background-image: url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==); }\\n  .dg .cr.boolean {\\n    border-left: 3px solid #806787; }\\n  .dg .cr.function {\\n    border-left: 3px solid #e61d5f; }\\n  .dg .cr.number {\\n    border-left: 3px solid #2fa1d6; }\\n    .dg .cr.number input[type=text] {\\n      color: #2fa1d6; }\\n  .dg .cr.string {\\n    border-left: 3px solid #1ed36f; }\\n    .dg .cr.string input[type=text] {\\n      color: #1ed36f; }\\n  .dg .cr.function:hover, .dg .cr.boolean:hover {\\n    background: #111; }\\n  .dg .c input[type=text] {\\n    background: #303030;\\n    outline: none; }\\n    .dg .c input[type=text]:hover {\\n      background: #3c3c3c; }\\n    .dg .c input[type=text]:focus {\\n      background: #494949;\\n      color: #fff; }\\n  .dg .c .slider {\\n    background: #303030;\\n    cursor: ew-resize; }\\n  .dg .c .slider-fg {\\n    background: #2fa1d6; }\\n  .dg .c .slider:hover {\\n    background: #3c3c3c; }\\n    .dg .c .slider:hover .slider-fg {\\n      background: #44abda; }\\n\",\ndat.controllers.factory = (function (OptionController, NumberControllerBox, NumberControllerSlider, StringController, FunctionController, BooleanController, common) {\n\n      return function(object, property) {\n\n        var initialValue = object[property];\n\n        // Providing options?\n        if (common.isArray(arguments[2]) || common.isObject(arguments[2])) {\n          return new OptionController(object, property, arguments[2]);\n        }\n\n        // Providing a map?\n\n        if (common.isNumber(initialValue)) {\n\n          if (common.isNumber(arguments[2]) && common.isNumber(arguments[3])) {\n\n            // Has min and max.\n            return new NumberControllerSlider(object, property, arguments[2], arguments[3]);\n\n          } else {\n\n            return new NumberControllerBox(object, property, { min: arguments[2], max: arguments[3] });\n\n          }\n\n        }\n\n        if (common.isString(initialValue)) {\n          return new StringController(object, property);\n        }\n\n        if (common.isFunction(initialValue)) {\n          return new FunctionController(object, property, '');\n        }\n\n        if (common.isBoolean(initialValue)) {\n          return new BooleanController(object, property);\n        }\n\n      }\n\n    })(dat.controllers.OptionController,\ndat.controllers.NumberControllerBox,\ndat.controllers.NumberControllerSlider,\ndat.controllers.StringController = (function (Controller, dom, common) {\n\n  /**\n   * @class Provides a text input to alter the string property of an object.\n   *\n   * @extends dat.controllers.Controller\n   *\n   * @param {Object} object The object to be manipulated\n   * @param {string} property The name of the property to be manipulated\n   *\n   * @member dat.controllers\n   */\n  var StringController = function(object, property) {\n\n    StringController.superclass.call(this, object, property);\n\n    var _this = this;\n\n    this.__input = document.createElement('input');\n    this.__input.setAttribute('type', 'text');\n\n    dom.bind(this.__input, 'keyup', onChange);\n    dom.bind(this.__input, 'change', onChange);\n    dom.bind(this.__input, 'blur', onBlur);\n    dom.bind(this.__input, 'keydown', function(e) {\n      if (e.keyCode === 13) {\n        this.blur();\n      }\n    });\n    \n\n    function onChange() {\n      // _this.setValue(_this.__input.value);\n    }\n\n    function onBlur() {\n      _this.setValue(_this.__input.value);\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.getValue());\n      }\n    }\n\n    this.updateDisplay();\n\n    this.domElement.appendChild(this.__input);\n\n  };\n\n  StringController.superclass = Controller;\n\n  common.extend(\n\n      StringController.prototype,\n      Controller.prototype,\n\n      {\n\n        updateDisplay: function() {\n          // Stops the caret from moving on account of:\n          // keyup -> setValue -> updateDisplay\n          if (!dom.isActive(this.__input)) {\n            this.__input.value = this.getValue();\n          }\n          return StringController.superclass.prototype.updateDisplay.call(this);\n        }\n\n      }\n\n  );\n\n  return StringController;\n\n})(dat.controllers.Controller,\ndat.dom.dom,\ndat.utils.common),\ndat.controllers.FunctionController,\ndat.controllers.BooleanController,\ndat.utils.common),\ndat.controllers.Controller,\ndat.controllers.BooleanController,\ndat.controllers.FunctionController,\ndat.controllers.NumberControllerBox,\ndat.controllers.NumberControllerSlider,\ndat.controllers.OptionController,\ndat.controllers.ColorController = (function (Controller, dom, Color, interpret, common) {\n\n  var ColorController = function(object, property) {\n\n    ColorController.superclass.call(this, object, property);\n\n    this.__color = new Color(this.getValue());\n    this.__temp = new Color(0);\n\n    var _this = this;\n\n    this.domElement = document.createElement('div');\n\n    dom.makeSelectable(this.domElement, false);\n\n    this.__selector = document.createElement('div');\n    this.__selector.className = 'selector';\n\n    this.__saturation_field = document.createElement('div');\n    this.__saturation_field.className = 'saturation-field';\n\n    this.__field_knob = document.createElement('div');\n    this.__field_knob.className = 'field-knob';\n    this.__field_knob_border = '2px solid ';\n\n    this.__hue_knob = document.createElement('div');\n    this.__hue_knob.className = 'hue-knob';\n\n    this.__hue_field = document.createElement('div');\n    this.__hue_field.className = 'hue-field';\n\n    this.__input = document.createElement('input');\n    this.__input.type = 'text';\n    this.__input_textShadow = '0 1px 1px ';\n\n    dom.bind(this.__input, 'keydown', function(e) {\n      if (e.keyCode === 13) { // on enter\n        onBlur.call(this);\n      }\n    });\n\n    dom.bind(this.__input, 'blur', onBlur);\n\n    dom.bind(this.__selector, 'mousedown', function(e) {\n\n      dom\n        .addClass(this, 'drag')\n        .bind(window, 'mouseup', function(e) {\n          dom.removeClass(_this.__selector, 'drag');\n        });\n\n    });\n\n    var value_field = document.createElement('div');\n\n    common.extend(this.__selector.style, {\n      width: '122px',\n      height: '102px',\n      padding: '3px',\n      backgroundColor: '#222',\n      boxShadow: '0px 1px 3px rgba(0,0,0,0.3)'\n    });\n\n    common.extend(this.__field_knob.style, {\n      position: 'absolute',\n      width: '12px',\n      height: '12px',\n      border: this.__field_knob_border + (this.__color.v < .5 ? '#fff' : '#000'),\n      boxShadow: '0px 1px 3px rgba(0,0,0,0.5)',\n      borderRadius: '12px',\n      zIndex: 1\n    });\n    \n    common.extend(this.__hue_knob.style, {\n      position: 'absolute',\n      width: '15px',\n      height: '2px',\n      borderRight: '4px solid #fff',\n      zIndex: 1\n    });\n\n    common.extend(this.__saturation_field.style, {\n      width: '100px',\n      height: '100px',\n      border: '1px solid #555',\n      marginRight: '3px',\n      display: 'inline-block',\n      cursor: 'pointer'\n    });\n\n    common.extend(value_field.style, {\n      width: '100%',\n      height: '100%',\n      background: 'none'\n    });\n    \n    linearGradient(value_field, 'top', 'rgba(0,0,0,0)', '#000');\n\n    common.extend(this.__hue_field.style, {\n      width: '15px',\n      height: '100px',\n      display: 'inline-block',\n      border: '1px solid #555',\n      cursor: 'ns-resize'\n    });\n\n    hueGradient(this.__hue_field);\n\n    common.extend(this.__input.style, {\n      outline: 'none',\n//      width: '120px',\n      textAlign: 'center',\n//      padding: '4px',\n//      marginBottom: '6px',\n      color: '#fff',\n      border: 0,\n      fontWeight: 'bold',\n      textShadow: this.__input_textShadow + 'rgba(0,0,0,0.7)'\n    });\n\n    dom.bind(this.__saturation_field, 'mousedown', fieldDown);\n    dom.bind(this.__field_knob, 'mousedown', fieldDown);\n\n    dom.bind(this.__hue_field, 'mousedown', function(e) {\n      setH(e);\n      dom.bind(window, 'mousemove', setH);\n      dom.bind(window, 'mouseup', unbindH);\n    });\n\n    function fieldDown(e) {\n      setSV(e);\n      // document.body.style.cursor = 'none';\n      dom.bind(window, 'mousemove', setSV);\n      dom.bind(window, 'mouseup', unbindSV);\n    }\n\n    function unbindSV() {\n      dom.unbind(window, 'mousemove', setSV);\n      dom.unbind(window, 'mouseup', unbindSV);\n      // document.body.style.cursor = 'default';\n    }\n\n    function onBlur() {\n      var i = interpret(this.value);\n      if (i !== false) {\n        _this.__color.__state = i;\n        _this.setValue(_this.__color.toOriginal());\n      } else {\n        this.value = _this.__color.toString();\n      }\n    }\n\n    function unbindH() {\n      dom.unbind(window, 'mousemove', setH);\n      dom.unbind(window, 'mouseup', unbindH);\n    }\n\n    this.__saturation_field.appendChild(value_field);\n    this.__selector.appendChild(this.__field_knob);\n    this.__selector.appendChild(this.__saturation_field);\n    this.__selector.appendChild(this.__hue_field);\n    this.__hue_field.appendChild(this.__hue_knob);\n\n    this.domElement.appendChild(this.__input);\n    this.domElement.appendChild(this.__selector);\n\n    this.updateDisplay();\n\n    function setSV(e) {\n\n      e.preventDefault();\n\n      var w = dom.getWidth(_this.__saturation_field);\n      var o = dom.getOffset(_this.__saturation_field);\n      var s = (e.clientX - o.left + document.body.scrollLeft) / w;\n      var v = 1 - (e.clientY - o.top + document.body.scrollTop) / w;\n\n      if (v > 1) v = 1;\n      else if (v < 0) v = 0;\n\n      if (s > 1) s = 1;\n      else if (s < 0) s = 0;\n\n      _this.__color.v = v;\n      _this.__color.s = s;\n\n      _this.setValue(_this.__color.toOriginal());\n\n\n      return false;\n\n    }\n\n    function setH(e) {\n\n      e.preventDefault();\n\n      var s = dom.getHeight(_this.__hue_field);\n      var o = dom.getOffset(_this.__hue_field);\n      var h = 1 - (e.clientY - o.top + document.body.scrollTop) / s;\n\n      if (h > 1) h = 1;\n      else if (h < 0) h = 0;\n\n      _this.__color.h = h * 360;\n\n      _this.setValue(_this.__color.toOriginal());\n\n      return false;\n\n    }\n\n  };\n\n  ColorController.superclass = Controller;\n\n  common.extend(\n\n      ColorController.prototype,\n      Controller.prototype,\n\n      {\n\n        updateDisplay: function() {\n\n          var i = interpret(this.getValue());\n\n          if (i !== false) {\n\n            var mismatch = false;\n\n            // Check for mismatch on the interpreted value.\n\n            common.each(Color.COMPONENTS, function(component) {\n              if (!common.isUndefined(i[component]) &&\n                  !common.isUndefined(this.__color.__state[component]) &&\n                  i[component] !== this.__color.__state[component]) {\n                mismatch = true;\n                return {}; // break\n              }\n            }, this);\n\n            // If nothing diverges, we keep our previous values\n            // for statefulness, otherwise we recalculate fresh\n            if (mismatch) {\n              common.extend(this.__color.__state, i);\n            }\n\n          }\n\n          common.extend(this.__temp.__state, this.__color.__state);\n\n          this.__temp.a = 1;\n\n          var flip = (this.__color.v < .5 || this.__color.s > .5) ? 255 : 0;\n          var _flip = 255 - flip;\n\n          common.extend(this.__field_knob.style, {\n            marginLeft: 100 * this.__color.s - 7 + 'px',\n            marginTop: 100 * (1 - this.__color.v) - 7 + 'px',\n            backgroundColor: this.__temp.toString(),\n            border: this.__field_knob_border + 'rgb(' + flip + ',' + flip + ',' + flip +')'\n          });\n\n          this.__hue_knob.style.marginTop = (1 - this.__color.h / 360) * 100 + 'px'\n\n          this.__temp.s = 1;\n          this.__temp.v = 1;\n\n          linearGradient(this.__saturation_field, 'left', '#fff', this.__temp.toString());\n\n          common.extend(this.__input.style, {\n            backgroundColor: this.__input.value = this.__color.toString(),\n            color: 'rgb(' + flip + ',' + flip + ',' + flip +')',\n            textShadow: this.__input_textShadow + 'rgba(' + _flip + ',' + _flip + ',' + _flip +',.7)'\n          });\n\n        }\n\n      }\n\n  );\n  \n  var vendors = ['-moz-','-o-','-webkit-','-ms-',''];\n  \n  function linearGradient(elem, x, a, b) {\n    elem.style.background = '';\n    common.each(vendors, function(vendor) {\n      elem.style.cssText += 'background: ' + vendor + 'linear-gradient('+x+', '+a+' 0%, ' + b + ' 100%); ';\n    });\n  }\n  \n  function hueGradient(elem) {\n    elem.style.background = '';\n    elem.style.cssText += 'background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);'\n    elem.style.cssText += 'background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);'\n    elem.style.cssText += 'background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);'\n    elem.style.cssText += 'background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);'\n    elem.style.cssText += 'background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);'\n  }\n\n\n  return ColorController;\n\n})(dat.controllers.Controller,\ndat.dom.dom,\ndat.color.Color = (function (interpret, math, toString, common) {\n\n  var Color = function() {\n\n    this.__state = interpret.apply(this, arguments);\n\n    if (this.__state === false) {\n      throw 'Failed to interpret color arguments';\n    }\n\n    this.__state.a = this.__state.a || 1;\n\n\n  };\n\n  Color.COMPONENTS = ['r','g','b','h','s','v','hex','a'];\n\n  common.extend(Color.prototype, {\n\n    toString: function() {\n      return toString(this);\n    },\n\n    toOriginal: function() {\n      return this.__state.conversion.write(this);\n    }\n\n  });\n\n  defineRGBComponent(Color.prototype, 'r', 2);\n  defineRGBComponent(Color.prototype, 'g', 1);\n  defineRGBComponent(Color.prototype, 'b', 0);\n\n  defineHSVComponent(Color.prototype, 'h');\n  defineHSVComponent(Color.prototype, 's');\n  defineHSVComponent(Color.prototype, 'v');\n\n  Object.defineProperty(Color.prototype, 'a', {\n\n    get: function() {\n      return this.__state.a;\n    },\n\n    set: function(v) {\n      this.__state.a = v;\n    }\n\n  });\n\n  Object.defineProperty(Color.prototype, 'hex', {\n\n    get: function() {\n\n      if (!this.__state.space !== 'HEX') {\n        this.__state.hex = math.rgb_to_hex(this.r, this.g, this.b);\n      }\n\n      return this.__state.hex;\n\n    },\n\n    set: function(v) {\n\n      this.__state.space = 'HEX';\n      this.__state.hex = v;\n\n    }\n\n  });\n\n  function defineRGBComponent(target, component, componentHexIndex) {\n\n    Object.defineProperty(target, component, {\n\n      get: function() {\n\n        if (this.__state.space === 'RGB') {\n          return this.__state[component];\n        }\n\n        recalculateRGB(this, component, componentHexIndex);\n\n        return this.__state[component];\n\n      },\n\n      set: function(v) {\n\n        if (this.__state.space !== 'RGB') {\n          recalculateRGB(this, component, componentHexIndex);\n          this.__state.space = 'RGB';\n        }\n\n        this.__state[component] = v;\n\n      }\n\n    });\n\n  }\n\n  function defineHSVComponent(target, component) {\n\n    Object.defineProperty(target, component, {\n\n      get: function() {\n\n        if (this.__state.space === 'HSV')\n          return this.__state[component];\n\n        recalculateHSV(this);\n\n        return this.__state[component];\n\n      },\n\n      set: function(v) {\n\n        if (this.__state.space !== 'HSV') {\n          recalculateHSV(this);\n          this.__state.space = 'HSV';\n        }\n\n        this.__state[component] = v;\n\n      }\n\n    });\n\n  }\n\n  function recalculateRGB(color, component, componentHexIndex) {\n\n    if (color.__state.space === 'HEX') {\n\n      color.__state[component] = math.component_from_hex(color.__state.hex, componentHexIndex);\n\n    } else if (color.__state.space === 'HSV') {\n\n      common.extend(color.__state, math.hsv_to_rgb(color.__state.h, color.__state.s, color.__state.v));\n\n    } else {\n\n      throw 'Corrupted color state';\n\n    }\n\n  }\n\n  function recalculateHSV(color) {\n\n    var result = math.rgb_to_hsv(color.r, color.g, color.b);\n\n    common.extend(color.__state,\n        {\n          s: result.s,\n          v: result.v\n        }\n    );\n\n    if (!common.isNaN(result.h)) {\n      color.__state.h = result.h;\n    } else if (common.isUndefined(color.__state.h)) {\n      color.__state.h = 0;\n    }\n\n  }\n\n  return Color;\n\n})(dat.color.interpret,\ndat.color.math = (function () {\n\n  var tmpComponent;\n\n  return {\n\n    hsv_to_rgb: function(h, s, v) {\n\n      var hi = Math.floor(h / 60) % 6;\n\n      var f = h / 60 - Math.floor(h / 60);\n      var p = v * (1.0 - s);\n      var q = v * (1.0 - (f * s));\n      var t = v * (1.0 - ((1.0 - f) * s));\n      var c = [\n        [v, t, p],\n        [q, v, p],\n        [p, v, t],\n        [p, q, v],\n        [t, p, v],\n        [v, p, q]\n      ][hi];\n\n      return {\n        r: c[0] * 255,\n        g: c[1] * 255,\n        b: c[2] * 255\n      };\n\n    },\n\n    rgb_to_hsv: function(r, g, b) {\n\n      var min = Math.min(r, g, b),\n          max = Math.max(r, g, b),\n          delta = max - min,\n          h, s;\n\n      if (max != 0) {\n        s = delta / max;\n      } else {\n        return {\n          h: NaN,\n          s: 0,\n          v: 0\n        };\n      }\n\n      if (r == max) {\n        h = (g - b) / delta;\n      } else if (g == max) {\n        h = 2 + (b - r) / delta;\n      } else {\n        h = 4 + (r - g) / delta;\n      }\n      h /= 6;\n      if (h < 0) {\n        h += 1;\n      }\n\n      return {\n        h: h * 360,\n        s: s,\n        v: max / 255\n      };\n    },\n\n    rgb_to_hex: function(r, g, b) {\n      var hex = this.hex_with_component(0, 2, r);\n      hex = this.hex_with_component(hex, 1, g);\n      hex = this.hex_with_component(hex, 0, b);\n      return hex;\n    },\n\n    component_from_hex: function(hex, componentIndex) {\n      return (hex >> (componentIndex * 8)) & 0xFF;\n    },\n\n    hex_with_component: function(hex, componentIndex, value) {\n      return value << (tmpComponent = componentIndex * 8) | (hex & ~ (0xFF << tmpComponent));\n    }\n\n  }\n\n})(),\ndat.color.toString,\ndat.utils.common),\ndat.color.interpret,\ndat.utils.common),\ndat.utils.requestAnimationFrame = (function () {\n\n  /**\n   * requirejs version of Paul Irish's RequestAnimationFrame\n   * http://paulirish.com/2011/requestanimationframe-for-smart-animating/\n   */\n\n  return window.requestAnimationFrame ||\n      window.webkitRequestAnimationFrame ||\n      window.mozRequestAnimationFrame ||\n      window.oRequestAnimationFrame ||\n      window.msRequestAnimationFrame ||\n      function(callback, element) {\n\n        window.setTimeout(callback, 1000 / 60);\n\n      };\n})(),\ndat.dom.CenteredDiv = (function (dom, common) {\n\n\n  var CenteredDiv = function() {\n\n    this.backgroundElement = document.createElement('div');\n    common.extend(this.backgroundElement.style, {\n      backgroundColor: 'rgba(0,0,0,0.8)',\n      top: 0,\n      left: 0,\n      display: 'none',\n      zIndex: '1000',\n      opacity: 0,\n      WebkitTransition: 'opacity 0.2s linear',\n      transition: 'opacity 0.2s linear'\n    });\n\n    dom.makeFullscreen(this.backgroundElement);\n    this.backgroundElement.style.position = 'fixed';\n\n    this.domElement = document.createElement('div');\n    common.extend(this.domElement.style, {\n      position: 'fixed',\n      display: 'none',\n      zIndex: '1001',\n      opacity: 0,\n      WebkitTransition: '-webkit-transform 0.2s ease-out, opacity 0.2s linear',\n      transition: 'transform 0.2s ease-out, opacity 0.2s linear'\n    });\n\n\n    document.body.appendChild(this.backgroundElement);\n    document.body.appendChild(this.domElement);\n\n    var _this = this;\n    dom.bind(this.backgroundElement, 'click', function() {\n      _this.hide();\n    });\n\n\n  };\n\n  CenteredDiv.prototype.show = function() {\n\n    var _this = this;\n\n    this.backgroundElement.style.display = 'block';\n\n    this.domElement.style.display = 'block';\n    this.domElement.style.opacity = 0;\n//    this.domElement.style.top = '52%';\n    this.domElement.style.webkitTransform = 'scale(1.1)';\n\n    this.layout();\n\n    common.defer(function() {\n      _this.backgroundElement.style.opacity = 1;\n      _this.domElement.style.opacity = 1;\n      _this.domElement.style.webkitTransform = 'scale(1)';\n    });\n\n  };\n\n  CenteredDiv.prototype.hide = function() {\n\n    var _this = this;\n\n    var hide = function() {\n\n      _this.domElement.style.display = 'none';\n      _this.backgroundElement.style.display = 'none';\n\n      dom.unbind(_this.domElement, 'webkitTransitionEnd', hide);\n      dom.unbind(_this.domElement, 'transitionend', hide);\n      dom.unbind(_this.domElement, 'oTransitionEnd', hide);\n\n    };\n\n    dom.bind(this.domElement, 'webkitTransitionEnd', hide);\n    dom.bind(this.domElement, 'transitionend', hide);\n    dom.bind(this.domElement, 'oTransitionEnd', hide);\n\n    this.backgroundElement.style.opacity = 0;\n//    this.domElement.style.top = '48%';\n    this.domElement.style.opacity = 0;\n    this.domElement.style.webkitTransform = 'scale(1.1)';\n\n  };\n\n  CenteredDiv.prototype.layout = function() {\n    this.domElement.style.left = window.innerWidth/2 - dom.getWidth(this.domElement) / 2 + 'px';\n    this.domElement.style.top = window.innerHeight/2 - dom.getHeight(this.domElement) / 2 + 'px';\n  };\n  \n  function lockScroll(e) {\n    console.log(e);\n  }\n\n  return CenteredDiv;\n\n})(dat.dom.dom,\ndat.utils.common),\ndat.dom.dom,\ndat.utils.common);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./deps/dat.gui.js\n ** module id = 35\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/signal/Signal\", \"Tone/source/Source\", \"Tone/core/Transport\"], \nfunction(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t *  @class Oscilator with start, pause, stop and sync to Transport methods\n\t *\n\t *  @constructor\n\t *  @extends {Tone.Source}\n\t *  @param {Tone.Type.Frequency} [frequency=440] starting frequency\n\t *  @param {string} [type=\"sine\"] type of oscillator (sine|square|triangle|sawtooth)\n\t *  @example\n\t *  var osc = new Tone.Oscillator(440, \"sine\");\n\t */\n\tTone.Oscillator = function(){\n\t\t\n\t\tvar options = this.optionsObject(arguments, [\"frequency\", \"type\"], Tone.Oscillator.defaults);\n\t\tTone.Source.call(this, options);\n\n\t\t/**\n\t\t *  the main oscillator\n\t\t *  @type {OscillatorNode}\n\t\t *  @private\n\t\t */\n\t\tthis._oscillator = null;\n\t\t\n\t\t/**\n\t\t *  The frequency control signal in hertz.\n\t\t *  @type {Tone.Signal}\n\t\t */\n\t\tthis.frequency = new Tone.Signal(options.frequency, Tone.Type.Frequency);\n\n\t\t/**\n\t\t *  The detune control signal in cents. \n\t\t *  @type {Tone.Signal}\n\t\t */\n\t\tthis.detune = new Tone.Signal(options.detune, Tone.Type.Cents);\n\n\t\t/**\n\t\t *  the periodic wave\n\t\t *  @type {PeriodicWave}\n\t\t *  @private\n\t\t */\n\t\tthis._wave = null;\n\n\t\t/**\n\t\t *  the phase of the oscillator\n\t\t *  between 0 - 360\n\t\t *  @type {number}\n\t\t *  @private\n\t\t */\n\t\tthis._phase = options.phase;\n\n\t\t/**\n\t\t *  the type of the oscillator\n\t\t *  @type {string}\n\t\t *  @private\n\t\t */\n\t\tthis._type = null;\n\t\t\n\t\t//setup\n\t\tthis.type = options.type;\n\t\tthis.phase = this._phase;\n\t\tthis._readOnly([\"frequency\", \"detune\"]);\n\t};\n\n\tTone.extend(Tone.Oscillator, Tone.Source);\n\n\t/**\n\t *  the default parameters\n\t *  @static\n\t *  @const\n\t *  @type {Object}\n\t */\n\tTone.Oscillator.defaults = {\n\t\t/** @type {string} */\n\t\t\"type\" : \"sine\",\n\t\t/** @type {Tone.Type.Frequency} */\n\t\t\"frequency\" : 440,\n\t\t/** @type {number} */\n\t\t\"detune\" : 0,\n\t\t/** @type {number} */\n\t\t\"phase\" : 0\n\t};\n\n\t/**\n\t *  start the oscillator\n\t *  @param  {Tone.Type.Time} [time=now] \n\t *  @private\n\t */\n\tTone.Oscillator.prototype._start = function(time){\n\t\t//new oscillator with previous values\n\t\tthis._oscillator = this.context.createOscillator();\n\t\tthis._oscillator.setPeriodicWave(this._wave);\n\t\t//connect the control signal to the oscillator frequency & detune\n\t\tthis._oscillator.connect(this.output);\n\t\tthis.frequency.connect(this._oscillator.frequency);\n\t\tthis.detune.connect(this._oscillator.detune);\n\t\t//start the oscillator\n\t\tthis._oscillator.start(this.toSeconds(time));\n\t};\n\n\t/**\n\t *  stop the oscillator\n\t *  @private\n\t *  @param  {Tone.Type.Time} [time=now] (optional) timing parameter\n\t *  @returns {Tone.Oscillator} `this`\n\t */\n\tTone.Oscillator.prototype._stop = function(time){\n\t\tif (this._oscillator){\n\t\t\tthis._oscillator.stop(this.toSeconds(time));\n\t\t\tthis._oscillator = null;\n\t\t}\n\t\treturn this;\n\t};\n\n\t/**\n\t *  Sync the signal to the Transport's bpm. Any changes to the transports bpm,\n\t *  will also affect the oscillators frequency. \n\t *  @returns {Tone.Oscillator} `this`\n\t *  @example\n\t *  Tone.Transport.bpm.value = 120;\n\t *  osc.frequency.value = 440;\n\t *  osc.syncFrequency();\n\t *  Tone.Transport.bpm.value = 240; \n\t *  // the frequency of the oscillator is doubled to 880\n\t */\n\tTone.Oscillator.prototype.syncFrequency = function(){\n\t\tTone.Transport.syncSignal(this.frequency);\n\t\treturn this;\n\t};\n\n\t/**\n\t *  Unsync the oscillator's frequency from the Transport. \n\t *  See {@link Tone.Oscillator#syncFrequency}.\n\t *  @returns {Tone.Oscillator} `this`\n\t */\n\tTone.Oscillator.prototype.unsyncFrequency = function(){\n\t\tTone.Transport.unsyncSignal(this.frequency);\n\t\treturn this;\n\t};\n\n\t/**\n\t * The type of the oscillator: either sine, square, triangle, or sawtooth.\n\t *\n\t * Uses PeriodicWave internally even for native types so that it can set the phase.\n\t *\n\t * PeriodicWave equations are from the Web Audio Source code:\n\t * https://code.google.com/p/chromium/codesearch#chromium/src/third_party/WebKit/Source/modules/webaudio/PeriodicWave.cpp&sq=package:chromium\n\t *  \n\t * @memberOf Tone.Oscillator#\n\t * @type {string}\n\t * @name type\n\t * @example\n\t * osc.type = \"square\";\n\t */\n\tObject.defineProperty(Tone.Oscillator.prototype, \"type\", {\n\t\tget : function(){\n\t\t\treturn this._type;\n\t\t},\n\t\tset : function(type){\n\n\t\t\tvar originalType = type;\n\n\t\t\tvar fftSize = 4096;\n\t\t\tvar periodicWaveSize = fftSize / 2;\n\n\t\t\tvar real = new Float32Array(periodicWaveSize);\n\t\t\tvar imag = new Float32Array(periodicWaveSize);\n\t\t\t\n\t\t\tvar partialCount = 1;\n\t\t\tvar partial = /(sine|triangle|square|sawtooth)(\\d+)$/.exec(type);\n\t\t\tif (partial){\n\t\t\t\tpartialCount = parseInt(partial[2]);\n\t\t\t\ttype = partial[1];\n\t\t\t\tpartialCount = Math.max(partialCount, 2);\n\t\t\t\tperiodicWaveSize = partialCount;\n\t\t\t}\n\n\t\t\tvar shift = this._phase;\t\n\t\t\tfor (var n = 1; n < periodicWaveSize; ++n) {\n\t\t\t\tvar piFactor = 2 / (n * Math.PI);\n\t\t\t\tvar b; \n\t\t\t\tswitch (type) {\n\t\t\t\t\tcase \"sine\": \n\t\t\t\t\t\tb = (n <= partialCount) ? 1 : 0;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"square\":\n\t\t\t\t\t\tb = (n & 1) ? 2 * piFactor : 0;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"sawtooth\":\n\t\t\t\t\t\tb = piFactor * ((n & 1) ? 1 : -1);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"triangle\":\n\t\t\t\t\t\tif (n & 1) {\n\t\t\t\t\t\t\tb = 2 * (piFactor * piFactor) * ((((n - 1) >> 1) & 1) ? -1 : 1);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tb = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tthrow new TypeError(\"invalid oscillator type: \"+type);\n\t\t\t\t}\n\t\t\t\tif (b !== 0){\n\t\t\t\t\treal[n] = -b * Math.sin(shift * n);\n\t\t\t\t\timag[n] = b * Math.cos(shift * n);\n\t\t\t\t} else {\n\t\t\t\t\treal[n] = 0;\n\t\t\t\t\timag[n] = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar periodicWave = this.context.createPeriodicWave(real, imag);\n\t\t\tthis._wave = periodicWave;\n\t\t\tif (this._oscillator !== null){\n\t\t\t\tthis._oscillator.setPeriodicWave(this._wave);\n\t\t\t}\n\t\t\tthis._type = originalType;\n\t\t}\n\t});\n\n\t/**\n\t * The phase of the oscillator in degrees. \n\t * @memberOf Tone.Oscillator#\n\t * @type {Tone.Type.Degrees}\n\t * @name phase\n\t * @example\n\t * osc.phase = 180; //flips the phase of the oscillator\n\t */\n\tObject.defineProperty(Tone.Oscillator.prototype, \"phase\", {\n\t\tget : function(){\n\t\t\treturn this._phase * (180 / Math.PI);\n\t\t}, \n\t\tset : function(phase){\n\t\t\tthis._phase = phase * Math.PI / 180;\n\t\t\t//reset the type\n\t\t\tthis.type = this._type;\n\t\t}\n\t});\n\n\t/**\n\t *  dispose and disconnect\n\t *  @return {Tone.Oscillator} `this`\n\t */\n\tTone.Oscillator.prototype.dispose = function(){\n\t\tTone.Source.prototype.dispose.call(this);\n\t\tif (this._oscillator !== null){\n\t\t\tthis._oscillator.disconnect();\n\t\t\tthis._oscillator = null;\n\t\t}\n\t\tthis._wave = null;\n\t\tthis._writable([\"frequency\", \"detune\"]);\n\t\tthis.frequency.dispose();\n\t\tthis.frequency = null;\n\t\tthis.detune.dispose();\n\t\tthis.detune = null;\n\t\treturn this;\n\t};\n\n\treturn Tone.Oscillator;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/source/Oscillator.js\n ** module id = 36\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/core/Transport\", \"Tone/core/Master\"], function(Tone){\n\n\t\"use strict\";\n\t\n\t/**\n\t *  @class  Base class for sources.\n\t *          Sources have start/stop/pause and \n\t *          the ability to be synced to the \n\t *          start/stop/pause of Tone.Transport.\n\t *\n\t *  @constructor\n\t *  @extends {Tone}\n\t */\t\n\tTone.Source = function(options){\n\t\t//unlike most ToneNodes, Sources only have an output and no input\n\t\tTone.call(this, 0, 1);\n\t\toptions = this.defaultArg(options, Tone.Source.defaults);\n\n\t\t/**\n\t\t * Callback is invoked when the source is done playing.\n\t\t * @type {function}\n\t\t * @example\n\t\t *  source.onended = function(){\n\t\t *  \tconsole.log(\"the source is done playing\");\n\t\t *  }\n\t\t */\n\t\tthis.onended = options.onended;\n\n\t\t/**\n\t\t *  the next time the source is started\n\t\t *  @type {number}\n\t\t *  @private\n\t\t */\n\t\tthis._nextStart = Infinity;\n\n\t\t/**\n\t\t *  the next time the source is stopped\n\t\t *  @type {number}\n\t\t *  @private\n\t\t */\n\t\tthis._nextStop = Infinity;\n\n\t\t/**\n\t\t * The volume of the output in decibels.\n\t\t * @type {Tone.Signal}\n\t\t * @example\n\t\t * source.volume.value = -6;\n\t\t */\n\t\tthis.volume = new Tone.Signal(this.output.gain, Tone.Type.Decibels);\n\t\tthis._readOnly(\"volume\");\n\n\t\t/**\n\t\t * \tkeeps track of the timeout for chaning the state\n\t\t * \tand calling the onended\n\t\t *  @type {number}\n\t\t *  @private\n\t\t */\n\t\tthis._timeout = -1;\n\n\t\t//make the output explicitly stereo\n\t\tthis.output.channelCount = 2;\n\t\tthis.output.channelCountMode = \"explicit\";\n\t};\n\n\tTone.extend(Tone.Source);\n\n\t/**\n\t *  The default parameters\n\t *  @static\n\t *  @const\n\t *  @type {Object}\n\t */\n\tTone.Source.defaults = {\n\t\t\"onended\" : function(){},\n\t\t\"volume\" : 0,\n\t};\n\n\t/**\n\t *  Returns the playback state of the source, either \"started\" or \"stopped\".\n\t *  @type {Tone.State}\n\t *  @readOnly\n\t *  @memberOf Tone.Source#\n\t *  @name state\n\t */\n\tObject.defineProperty(Tone.Source.prototype, \"state\", {\n\t\tget : function(){\n\t\t\treturn this._stateAtTime(this.now());\n\t\t}\n\t});\n\n\t/**\n\t *  Get the state of the source at the specified time.\n\t *  @param  {Tone.Type.Time}  time\n\t *  @return  {Tone.State} \n\t *  @private\n\t */\n\tTone.Source.prototype._stateAtTime = function(time){\n\t\ttime = this.toSeconds(time);\n\t\tif (this._nextStart <= time && this._nextStop > time){\n\t\t\treturn Tone.State.Started;\n\t\t} else if (this._nextStop <= time){\n\t\t\treturn Tone.State.Stopped;\n\t\t} else {\n\t\t\treturn Tone.State.Stopped;\n\t\t}\n\t};\n\n\t/**\n\t *  Start the source at the time.\n\t *  @param  {Tone.Type.Time} [time=now]\n\t *  @returns {Tone.Source} `this`\n\t *  @example\n\t *  source.start(\"+0.5\"); //starts the source 0.5 seconds from now\n\t */\n\tTone.Source.prototype.start = function(time){\n\t\ttime = this.toSeconds(time);\n\t\tif (this._stateAtTime(time) !== Tone.State.Started || this.retrigger){\n\t\t\tthis._nextStart = time;\n\t\t\tthis._nextStop = Infinity;\n\t\t\tthis._start.apply(this, arguments);\n\t\t}\n\t\treturn this;\n\t};\n\n\t/**\n\t * \tstop the source\n\t *  @param  {Tone.Type.Time} [time=now]\n\t *  @returns {Tone.Source} `this`\n\t *  @example\n\t *  source.stop(); // stops the source immediately\n\t */\n\tTone.Source.prototype.stop = function(time){\n\t\tvar now = this.now();\n\t\ttime = this.toSeconds(time, now);\n\t\tif (this._stateAtTime(time) === Tone.State.Started){\n\t\t\tthis._nextStop = this.toSeconds(time);\n\t\t\tclearTimeout(this._timeout);\n\t\t\tvar diff = time - now;\n\t\t\tif (diff > 0){\n\t\t\t\t//add a small buffer before invoking the callback\n\t\t\t\tthis._timeout = setTimeout(this.onended, diff * 1000 + 20);\n\t\t\t} else {\n\t\t\t\tthis.onended();\n\t\t\t}\n\t\t\tthis._stop.apply(this, arguments);\n\t\t}\n\t\treturn this;\n\t};\n\n\t/**\n\t *  Not ready yet. \n \t *  @private\n \t *  @abstract\n\t *  @param  {Tone.Type.Time} time \n\t *  @returns {Tone.Source} `this`\n\t */\n\tTone.Source.prototype.pause = function(time){\n\t\t//if there is no pause, just stop it\n\t\tthis.stop(time);\n\t\treturn this;\n\t};\n\n\t/**\n\t *  Sync the source to the Transport so that when the transport\n\t *  is started, this source is started and when the transport is stopped\n\t *  or paused, so is the source. \n\t *\n\t *  @param {Tone.Type.Time} [delay=0] Delay time before starting the source after the\n\t *                               Transport has started. \n\t *  @returns {Tone.Source} `this`\n\t */\n\tTone.Source.prototype.sync = function(delay){\n\t\tTone.Transport.syncSource(this, delay);\n\t\treturn this;\n\t};\n\n\t/**\n\t *  Unsync the source to the Transport. See {@link Tone.Source#sync}\n\t *  @returns {Tone.Source} `this`\n\t */\n\tTone.Source.prototype.unsync = function(){\n\t\tTone.Transport.unsyncSource(this);\n\t\treturn this;\n\t};\n\n\t/**\n\t *\tclean up\n\t *  @return {Tone.Source} `this`\n\t */\n\tTone.Source.prototype.dispose = function(){\n\t\tTone.prototype.dispose.call(this);\n\t\tthis.stop();\n\t\tclearTimeout(this._timeout);\n\t\tthis.onended = function(){};\n\t\tthis._writable(\"volume\");\n\t\tthis.volume.dispose();\n\t\tthis.volume = null;\n\t};\n\n\treturn Tone.Source;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/source/Source.js\n ** module id = 37\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/signal/Signal\"], function(Tone){\n\n\t\"use strict\";\n\t\n\t/**\n\t *  @class  A single master output which is connected to the\n\t *          AudioDestinationNode. It provides useful conveniences\n\t *          such as the ability to set the global volume and mute\n\t *          the entire application. Additionally, it accepts\n\t *          a master send/receive for adding final compression, \n\t *          limiting or effects to your application. <br><br>\n\t *          Like the Transport, the Master output is created for you\n\t *          on initialization. It does not need to be created.\n\t *\n\t *  @constructor\n\t *  @extends {Tone}\n\t */\n\tTone.Master = function(){\n\t\tTone.call(this);\n\n\t\t/**\n\t\t * the unmuted volume\n\t\t * @type {number}\n\t\t * @private\n\t\t */\n\t\tthis._unmutedVolume = 1;\n\n\t\t/**\n\t\t *  if the master is muted\n\t\t *  @type {boolean}\n\t\t *  @private\n\t\t */\n\t\tthis._muted = false;\n\n\t\t/**\n\t\t * the volume of the output in decibels\n\t\t * @type {Tone.Signal}\n\t\t */\n\t\tthis.volume = new Tone.Signal(this.output.gain, Tone.Type.Decibels);\n\t\t\n\t\t//connections\n\t\tthis.input.chain(this.output, this.context.destination);\n\t};\n\n\tTone.extend(Tone.Master);\n\n\t/**\n\t *  @type {Object}\n\t *  @const\n\t */\n\tTone.Master.defaults = {\n\t\t\"volume\" : 0,\n\t\t\"mute\" : false\n\t};\n\n\t/**\n\t * Set `mute` to true to stop all output\n\t * @memberOf Tone.Master#\n\t * @type {boolean}\n\t * @name mute\n\t * @example\n\t * //mute the output\n\t * Tone.Master.mute = true;\n\t */\n\tObject.defineProperty(Tone.Master.prototype, \"mute\", {\n\t\tget : function(){\n\t\t\treturn this._muted;\n\t\t}, \n\t\tset : function(mute){\n\t\t\tthis._muted = mute;\n\t\t\tif (!this._muted && mute){\n\t\t\t\tthis._unmutedVolume = this.volume.value;\n\t\t\t\t//maybe it should ramp here?\n\t\t\t\tthis.volume.value = -Infinity;\n\t\t\t} else if (this._muted && !mute){\n\t\t\t\tthis.volume.value = this._unmutedVolume;\n\t\t\t}\n\t\t}\n\t});\n\n\t/**\n\t *  Add a master effects chain. This will disconnect any nodes which were previously \n\t *  chained. \n\t *  @param {AudioNode|Tone...} args All arguments will be connected in a row\n\t *                                  and the Master will be routed through it\n\t *  @return  {Tone.Master}  `this`\n\t *  @example\n\t * //some overall compression to keep the levels in check\n\t * var masterCompressor = new Tone.Compressor({\n\t * \t\"threshold\" : -6,\n\t * \t\"ratio\" : 3,\n\t * \t\"attack\" : 0.5,\n\t * \t\"release\" : 0.1\n\t * });\n\t * //give a little boost to the lows\n\t * var lowBump = new Tone.Filter(200, \"lowshelf\");\n\t * //route everything through the filter \n\t * //and compressor before going to the speakers\n\t * Tone.Master.chain(lowBump, masterCompressor);\n\t */\n\tTone.Master.prototype.chain = function(){\n\t\tthis.input.disconnect();\n\t\tthis.input.chain.apply(this.input, arguments);\n\t\targuments[arguments.length - 1].connect(this.output);\n\t};\n\n\t///////////////////////////////////////////////////////////////////////////\n\t//\tAUGMENT TONE's PROTOTYPE\n\t///////////////////////////////////////////////////////////////////////////\n\n\t/**\n\t *  connect 'this' to the master output\n\t *  defined in \"Tone/core/Master\"\n\t *  @returns {Tone} `this`\n\t */\n\tTone.prototype.toMaster = function(){\n\t\tthis.connect(Tone.Master);\n\t\treturn this;\n\t};\n\n\t/**\n\t *  Also augment AudioNode's prototype to include toMaster\n\t *  as a convenience\n\t *  @returns {AudioNode} `this`\n\t */\n\tAudioNode.prototype.toMaster = function(){\n\t\tthis.connect(Tone.Master);\n\t\treturn this;\n\t};\n\n\tvar MasterConstructor = Tone.Master;\n\n\t/**\n\t *  initialize the module and listen for new audio contexts\n\t */\n\tTone._initAudioContext(function(){\n\t\t//a single master output\n\t\tif (!Tone.prototype.isUndef(Tone.Master)){\n\t\t\tTone.Master = new MasterConstructor();\n\t\t} else {\n\t\t\tMasterConstructor.prototype.dispose.call(Tone.Master);\n\t\t\tMasterConstructor.call(Tone.Master);\n\t\t}\n\t});\n\n\treturn Tone.Master;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/core/Master.js\n ** module id = 38\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/source/Source\", \"Tone/source/Oscillator\", \n\t\"Tone/source/PulseOscillator\", \"Tone/source/PWMOscillator\"], \nfunction(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t *  @class OmniOscillator aggregates Tone.Oscillator, Tone.PulseOscillator,\n\t *         and Tone.PWMOscillator which allows it to have the types: \n\t *         sine, square, triangle, sawtooth, pulse or pwm. \n\t *\n\t *  @extends {Tone.Oscillator}\n\t *  @constructor\n\t *  @param {Tone.Type.Frequency} frequency of the oscillator (meaningless for noise types)\n\t *  @param {string} type the type of the oscillator\n\t *  @example\n\t *  var omniOsc = new Tone.OmniOscillator(\"C#4\", \"pwm\");\n\t */\n\tTone.OmniOscillator = function(){\n\t\tvar options = this.optionsObject(arguments, [\"frequency\", \"type\"], Tone.OmniOscillator.defaults);\n\t\tTone.Source.call(this, options);\n\n\t\t/**\n\t\t *  the frequency control\n\t\t *  @type {Tone.Signal}\n\t\t */\n\t\tthis.frequency = new Tone.Signal(options.frequency, Tone.Type.Frequency);\n\n\t\t/**\n\t\t *  the detune control\n\t\t *  @type {Tone.Signal}\n\t\t */\n\t\tthis.detune = new Tone.Signal(options.detune, Tone.Type.Cents);\n\n\t\t/**\n\t\t *  the type of the oscillator source\n\t\t *  @type {string}\n\t\t *  @private\n\t\t */\n\t\tthis._sourceType = undefined;\n\n\t\t/**\n\t\t *  the oscillator\n\t\t *  @type {Tone.Oscillator|Tone.PWMOscillator|Tone.PulseOscillator}\n\t\t *  @private\n\t\t */\n\t\tthis._oscillator = null;\n\n\t\t//set the oscillator\n\t\tthis.type = options.type;\n\t\tthis._readOnly([\"frequency\", \"detune\"]);\n\t};\n\n\tTone.extend(Tone.OmniOscillator, Tone.Oscillator);\n\n\t/**\n\t *  default values\n\t *  @static\n\t *  @type {Object}\n\t *  @const\n\t */\n\tTone.OmniOscillator.defaults = {\n\t\t\"frequency\" : 440,\n\t\t\"detune\" : 0,\n\t\t\"type\" : \"sine\",\n\t\t\"width\" : 0.4, //only applies if the oscillator is set to \"pulse\",\n\t\t\"modulationFrequency\" : 0.4, //only applies if the oscillator is set to \"pwm\",\n\t};\n\n\t/**\n\t *  @enum {string}\n\t *  @private\n\t */\n\tvar OmniOscType = {\n\t\tPulseOscillator : \"PulseOscillator\",\n\t\tPWMOscillator : \"PWMOscillator\",\n\t\tOscillator : \"Oscillator\"\n\t};\n\n\t/**\n\t *  start the oscillator\n\t *  @param {Tone.Type.Time} [time=now] the time to start the oscillator\n\t *  @private\n\t */\n\tTone.OmniOscillator.prototype._start = function(time){\n\t\tthis._oscillator.start(time);\n\t};\n\n\t/**\n\t *  start the oscillator\n\t *  @param {Tone.Type.Time} [time=now] the time to start the oscillator\n\t *  @private\n\t */\n\tTone.OmniOscillator.prototype._stop = function(time){\n\t\tthis._oscillator.stop(time);\n\t};\n\n\t/**\n\t * The type of the oscillator. sine, square, triangle, sawtooth, pwm, or pulse. \n\t *  \n\t * @memberOf Tone.OmniOscillator#\n\t * @type {string}\n\t * @name type\n\t */\n\tObject.defineProperty(Tone.OmniOscillator.prototype, \"type\", {\n\t\tget : function(){\n\t\t\treturn this._oscillator.type;\n\t\t}, \n\t\tset : function(type){\n\t\t\tif (type.indexOf(\"sine\") === 0 || type.indexOf(\"square\") === 0 || \n\t\t\t\ttype.indexOf(\"triangle\") === 0 || type.indexOf(\"sawtooth\") === 0){\n\t\t\t\tif (this._sourceType !== OmniOscType.Oscillator){\n\t\t\t\t\tthis._sourceType = OmniOscType.Oscillator;\n\t\t\t\t\tthis._createNewOscillator(Tone.Oscillator);\n\t\t\t\t}\n\t\t\t\tthis._oscillator.type = type;\n\t\t\t} else if (type === \"pwm\"){\n\t\t\t\tif (this._sourceType !== OmniOscType.PWMOscillator){\n\t\t\t\t\tthis._sourceType = OmniOscType.PWMOscillator;\n\t\t\t\t\tthis._createNewOscillator(Tone.PWMOscillator);\n\t\t\t\t}\n\t\t\t} else if (type === \"pulse\"){\n\t\t\t\tif (this._sourceType !== OmniOscType.PulseOscillator){\n\t\t\t\t\tthis._sourceType = OmniOscType.PulseOscillator;\n\t\t\t\t\tthis._createNewOscillator(Tone.PulseOscillator);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthrow new TypeError(\"Tone.OmniOscillator does not support type \"+type);\n\t\t\t}\n\t\t}\n\t});\n\n\t/**\n\t *  connect the oscillator to the frequency and detune signals\n\t *  @private\n\t */\n\tTone.OmniOscillator.prototype._createNewOscillator = function(OscillatorConstructor){\n\t\t//short delay to avoid clicks on the change\n\t\tvar now = this.now() + this.bufferTime;\n\t\tif (this._oscillator !== null){\n\t\t\tvar oldOsc = this._oscillator;\n\t\t\toldOsc.stop(now);\n\t\t\toldOsc.onended = function(){\n\t\t\t\toldOsc.dispose();\n\t\t\t\toldOsc = null;\n\t\t\t};\n\t\t}\n\t\tthis._oscillator = new OscillatorConstructor();\n\t\tthis.frequency.connect(this._oscillator.frequency);\n\t\tthis.detune.connect(this._oscillator.detune);\n\t\tthis._oscillator.connect(this.output);\n\t\tif (this.state === Tone.State.Started){\n\t\t\tthis._oscillator.start(now);\n\t\t}\n\t};\n\n\t/**\n\t * The phase of the oscillator in degrees\n\t * @memberOf Tone.OmniOscillator#\n\t * @type {Tone.Type.Degrees}\n\t * @name phase\n\t */\n\tObject.defineProperty(Tone.OmniOscillator.prototype, \"phase\", {\n\t\tget : function(){\n\t\t\treturn this._oscillator.phase;\n\t\t}, \n\t\tset : function(phase){\n\t\t\tthis._oscillator.phase = phase;\n\t\t}\n\t});\n\n\t/**\n\t * The width of the oscillator (only if the oscillator is set to pulse)\n\t * @memberOf Tone.OmniOscillator#\n\t * @type {Tone.Signal}\n\t * @name width\n\t * @example\n\t * var omniOsc = new Tone.OmniOscillator(440, \"pulse\");\n\t * //can access the width attribute only if type === \"pulse\"\n\t * omniOsc.width.value = 0.2; \n\t */\n\tObject.defineProperty(Tone.OmniOscillator.prototype, \"width\", {\n\t\tget : function(){\n\t\t\tif (this._sourceType === OmniOscType.PulseOscillator){\n\t\t\t\treturn this._oscillator.width;\n\t\t\t} \n\t\t}\n\t});\n\n\t/**\n\t * The modulationFrequency Signal of the oscillator \n\t * (only if the oscillator type is set to pwm).\n\t * @memberOf Tone.OmniOscillator#\n\t * @type {Tone.Signal}\n\t * @name modulationFrequency\n\t * @example\n\t * var omniOsc = new Tone.OmniOscillator(440, \"pwm\");\n\t * //can access the modulationFrequency attribute only if type === \"pwm\"\n\t * omniOsc.modulationFrequency.value = 0.2; \n\t */\n\tObject.defineProperty(Tone.OmniOscillator.prototype, \"modulationFrequency\", {\n\t\tget : function(){\n\t\t\tif (this._sourceType === OmniOscType.PWMOscillator){\n\t\t\t\treturn this._oscillator.modulationFrequency;\n\t\t\t} \n\t\t}\n\t});\n\n\t/**\n\t *  clean up\n\t *  @return {Tone.OmniOscillator} `this`\n\t */\n\tTone.OmniOscillator.prototype.dispose = function(){\n\t\tTone.Source.prototype.dispose.call(this);\n\t\tthis._writable([\"frequency\", \"detune\"]);\n\t\tthis.detune.dispose();\n\t\tthis.detune = null;\n\t\tthis.frequency.dispose();\n\t\tthis.frequency = null;\n\t\tthis._oscillator.dispose();\n\t\tthis._oscillator = null;\n\t\tthis._sourceType = null;\n\t\treturn this;\n\t};\n\n\treturn Tone.OmniOscillator;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/source/OmniOscillator.js\n ** module id = 39\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/source/Source\", \"Tone/source/Oscillator\", \"Tone/signal/Signal\", \"Tone/signal/WaveShaper\"],\nfunction(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t *  @class Pulse Oscillator with control over width\n\t *\n\t *  @constructor\n\t *  @extends {Tone.Oscillator}\n\t *  @param {number} [frequency=440] the frequency of the oscillator\n\t *  @param {number} [width = 0.2] the width of the pulse\n\t *  @example\n\t *  var pulse = new Tone.PulseOscillator(\"E5\", 0.4);\n\t */\n\tTone.PulseOscillator = function(){\n\n\t\tvar options = this.optionsObject(arguments, [\"frequency\", \"width\"], Tone.Oscillator.defaults);\n\t\tTone.Source.call(this, options);\n\n\t\t/**\n\t\t *  the width of the pulse\n\t\t *  @type {Tone.Signal}\n\t\t */\n\t\tthis.width = new Tone.Signal(options.width, Tone.Type.NormalRange);\n\n\t\t/**\n\t\t *  gate the width amount\n\t\t *  @type {GainNode}\n\t\t *  @private\n\t\t */\n\t\tthis._widthGate = this.context.createGain();\n\n\t\t/**\n\t\t *  the sawtooth oscillator\n\t\t *  @type {Tone.Oscillator}\n\t\t *  @private\n\t\t */\n\t\tthis._sawtooth = new Tone.Oscillator({\n\t\t\tfrequency : options.frequency,\n\t\t\tdetune : options.detune,\n\t\t\ttype : \"sawtooth\",\n\t\t\tphase : options.phase\n\t\t});\n\n\t\t/**\n\t\t *  The frequency in hertz\n\t\t *  @type {Tone.Signal}\n\t\t */\n\t\tthis.frequency = this._sawtooth.frequency;\n\n\t\t/**\n\t\t *  The detune in cents. \n\t\t *  @type {Tone.Signal}\n\t\t */\n\t\tthis.detune = this._sawtooth.detune;\n\n\t\t/**\n\t\t *  Threshold the signal to turn it into a square\n\t\t *  @type {Tone.WaveShaper}\n\t\t *  @private\n\t\t */\n\t\tthis._thresh = new Tone.WaveShaper(function(val){\n\t\t\tif (val < 0){\n\t\t\t\treturn -1;\n\t\t\t} else {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t});\n\n\t\t//connections\n\t\tthis._sawtooth.chain(this._thresh, this.output);\n\t\tthis.width.chain(this._widthGate, this._thresh);\n\t\tthis._readOnly([\"width\", \"frequency\", \"detune\"]);\n\t};\n\n\tTone.extend(Tone.PulseOscillator, Tone.Oscillator);\n\n\t/**\n\t *  The default parameters.\n\t *  @static\n\t *  @const\n\t *  @type {Object}\n\t */\n\tTone.PulseOscillator.defaults = {\n\t\t\"frequency\" : 440,\n\t\t\"detune\" : 0,\n\t\t\"phase\" : 0,\n\t\t\"width\" : 0.2,\n\t};\n\n\t/**\n\t *  start the oscillator\n\t *  @param  {Tone.Type.Time} time \n\t *  @private\n\t */\n\tTone.PulseOscillator.prototype._start = function(time){\n\t\ttime = this.toSeconds(time);\n\t\tthis._sawtooth.start(time);\n\t\tthis._widthGate.gain.setValueAtTime(1, time);\n\t};\n\n\t/**\n\t *  stop the oscillator\n\t *  @param  {Tone.Type.Time} time \n\t *  @private\n\t */\n\tTone.PulseOscillator.prototype._stop = function(time){\n\t\ttime = this.toSeconds(time);\n\t\tthis._sawtooth.stop(time);\n\t\t//the width is still connected to the output. \n\t\t//that needs to be stopped also\n\t\tthis._widthGate.gain.setValueAtTime(0, time);\n\t};\n\n\t/**\n\t * The phase of the oscillator in degrees.\n\t * @memberOf Tone.PulseOscillator#\n\t * @type {number}\n\t * @name phase\n\t */\n\tObject.defineProperty(Tone.PulseOscillator.prototype, \"phase\", {\n\t\tget : function(){\n\t\t\treturn this._sawtooth.phase;\n\t\t}, \n\t\tset : function(phase){\n\t\t\tthis._sawtooth.phase = phase;\n\t\t}\n\t});\n\n\t/**\n\t * The type of the oscillator. Always returns \"pulse\".\n\t * @readOnly\n\t * @memberOf Tone.PulseOscillator#\n\t * @type {string}\n\t * @name type\n\t */\n\tObject.defineProperty(Tone.PulseOscillator.prototype, \"type\", {\n\t\tget : function(){\n\t\t\treturn \"pulse\";\n\t\t}\n\t});\n\n\t/**\n\t *  Clean up method\n\t *  @return {Tone.PulseOscillator} `this`\n\t */\n\tTone.PulseOscillator.prototype.dispose = function(){\n\t\tTone.Source.prototype.dispose.call(this);\n\t\tthis._sawtooth.dispose();\n\t\tthis._sawtooth = null;\n\t\tthis._writable([\"width\", \"frequency\", \"detune\"]);\n\t\tthis.width.dispose();\n\t\tthis.width = null;\n\t\tthis._widthGate.disconnect();\n\t\tthis._widthGate = null;\n\t\tthis._widthGate = null;\n\t\tthis._thresh.disconnect();\n\t\tthis._thresh = null;\n\t\tthis.frequency = null;\n\t\tthis.detune = null;\n\t\treturn this;\n\t};\n\n\treturn Tone.PulseOscillator;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/source/PulseOscillator.js\n ** module id = 40\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/source/Source\", \"Tone/source/PulseOscillator\", \"Tone/source/Oscillator\", \"Tone/signal/Multiply\"], \nfunction(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t *  @class takes an array of Oscillator descriptions and mixes them together\n\t *         with the same detune and frequency controls. \n\t *\n\t *  @extends {Tone.Oscillator}\n\t *  @constructor\n\t *  @param {Tone.Type.Frequency} frequency of the oscillator (meaningless for noise types)\n\t *  @param {Tone.Type.Frequency} modulationFrequency the modulation frequency of the oscillator\n\t *  @example\n\t *  var pwm = new Tone.PWMOscillator(\"Ab3\", 0.3);\n\t */\n\tTone.PWMOscillator = function(){\n\t\tvar options = this.optionsObject(arguments, [\"frequency\", \"modulationFrequency\"], Tone.PWMOscillator.defaults);\n\t\tTone.Source.call(this, options);\n\n\t\t/**\n\t\t *  the pulse oscillator\n\t\t *  @type {Tone.PulseOscillator}\n\t\t *  @private\n\t\t */\n\t\tthis._pulse = new Tone.PulseOscillator(options.modulationFrequency);\n\t\t//change the pulse oscillator type\n\t\tthis._pulse._sawtooth.type = \"sine\";\n\n\t\t/**\n\t\t *  the modulator\n\t\t *  @type {Tone.Oscillator}\n\t\t *  @private\n\t\t */\n\t\tthis._modulator = new Tone.Oscillator({\n\t\t\t\"frequency\" : options.frequency,\n\t\t\t\"detune\" : options.detune\n\t\t});\n\n\t\t/**\n\t\t *  Scale the oscillator so it doesn't go silent \n\t\t *  at the extreme values.\n\t\t *  @type {Tone.Multiply}\n\t\t *  @private\n\t\t */\n\t\tthis._scale = new Tone.Multiply(1.01);\n\n\t\t/**\n\t\t *  the frequency control\n\t\t *  @type {Tone.Signal}\n\t\t */\n\t\tthis.frequency = this._modulator.frequency;\n\n\t\t/**\n\t\t *  the detune control\n\t\t *  @type {Tone.Signal}\n\t\t */\n\t\tthis.detune = this._modulator.detune;\n\n\t\t/**\n\t\t *  the modulation rate of the oscillator\n\t\t *  @type {Tone.Signal}\n\t\t */\n\t\tthis.modulationFrequency = this._pulse.frequency;\t\n\n\t\t//connections\n\t\tthis._modulator.chain(this._scale, this._pulse.width);\n\t\tthis._pulse.connect(this.output);\n\t\tthis._readOnly([\"modulationFrequency\", \"frequency\", \"detune\"]);\n\t};\n\n\tTone.extend(Tone.PWMOscillator, Tone.Oscillator);\n\n\t/**\n\t *  default values\n\t *  @static\n\t *  @type {Object}\n\t *  @const\n\t */\n\tTone.PWMOscillator.defaults = {\n\t\t\"frequency\" : 440,\n\t\t\"detune\" : 0,\n\t\t\"modulationFrequency\" : 0.4,\n\t};\n\n\t/**\n\t *  start the oscillator\n\t *  @param  {Tone.Type.Time} [time=now]\n\t *  @private\n\t */\n\tTone.PWMOscillator.prototype._start = function(time){\n\t\ttime = this.toSeconds(time);\n\t\tthis._modulator.start(time);\n\t\tthis._pulse.start(time);\n\t};\n\n\t/**\n\t *  stop the oscillator\n\t *  @param  {Tone.Type.Time} time (optional) timing parameter\n\t *  @private\n\t */\n\tTone.PWMOscillator.prototype._stop = function(time){\n\t\ttime = this.toSeconds(time);\n\t\tthis._modulator.stop(time);\n\t\tthis._pulse.stop(time);\n\t};\n\n\t/**\n\t * The type of the oscillator. Always returns \"pwm\".\n\t * @readOnly\n\t * @memberOf Tone.PWMOscillator#\n\t * @type {string}\n\t * @name type\n\t */\n\tObject.defineProperty(Tone.PWMOscillator.prototype, \"type\", {\n\t\tget : function(){\n\t\t\treturn \"pwm\";\n\t\t}\n\t});\n\n\t/**\n\t * The phase of the oscillator in degrees.\n\t * @memberOf Tone.PWMOscillator#\n\t * @type {number}\n\t * @name phase\n\t */\n\tObject.defineProperty(Tone.PWMOscillator.prototype, \"phase\", {\n\t\tget : function(){\n\t\t\treturn this._modulator.phase;\n\t\t}, \n\t\tset : function(phase){\n\t\t\tthis._modulator.phase = phase;\n\t\t}\n\t});\n\n\t/**\n\t *  clean up\n\t *  @return {Tone.PWMOscillator} `this`\n\t */\n\tTone.PWMOscillator.prototype.dispose = function(){\n\t\tTone.Source.prototype.dispose.call(this);\n\t\tthis._pulse.dispose();\n\t\tthis._pulse = null;\n\t\tthis._scale.dispose();\n\t\tthis._scale = null;\n\t\tthis._modulator.dispose();\n\t\tthis._modulator = null;\n\t\tthis._writable([\"modulationFrequency\", \"frequency\", \"detune\"]);\n\t\tthis.frequency = null;\n\t\tthis.detune = null;\n\t\tthis.modulationFrequency = null;\n\t\treturn this;\n\t};\n\n\treturn Tone.PWMOscillator;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/source/PWMOscillator.js\n ** module id = 41\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/source/Source\"], function(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t *  @class  Noise generator.\n\t *          Uses looped noise buffers to save on performance.\n\t *\n\t *  @constructor\n\t *  @extends {Tone.Source}\n\t *  @param {string} type the noise type (white|pink|brown)\n\t *  @example\n\t *  var noise = new Tone.Noise(\"pink\");\n\t */\n\tTone.Noise = function(){\n\n\t\tvar options = this.optionsObject(arguments, [\"type\"], Tone.Noise.defaults);\n\t\tTone.Source.call(this, options);\n\n\t\t/**\n\t\t *  @private\n\t\t *  @type {AudioBufferSourceNode}\n\t\t */\n\t\tthis._source = null;\n\n\t\t/**\n\t\t *  the buffer\n\t\t *  @private\n\t\t *  @type {AudioBuffer}\n\t\t */\n\t\tthis._buffer = null;\n\n\t\tthis.type = options.type;\n\t};\n\n\tTone.extend(Tone.Noise, Tone.Source);\n\n\t/**\n\t *  the default parameters\n\t *\n\t *  @static\n\t *  @const\n\t *  @type {Object}\n\t */\n\tTone.Noise.defaults = {\n\t\t\"type\" : \"white\",\n\t};\n\n\t/**\n\t * The type of the noise. Can be \"white\", \"brown\", or \"pink\". \n\t * @memberOf Tone.Noise#\n\t * @type {string}\n\t * @name type\n\t * @options [\"white\", \"brown\", \"pink\"]\n\t * @example\n\t * noise.type = \"white\";\n\t */\n\tObject.defineProperty(Tone.Noise.prototype, \"type\", {\n\t\tget : function(){\n\t\t\tif (this._buffer === _whiteNoise){\n\t\t\t\treturn \"white\";\n\t\t\t} else if (this._buffer === _brownNoise){\n\t\t\t\treturn \"brown\";\n\t\t\t} else if (this._buffer === _pinkNoise){\n\t\t\t\treturn \"pink\";\n\t\t\t}\n\t\t}, \n\t\tset : function(type){\n\t\t\tif (this.type !== type){\n\t\t\t\tswitch (type){\n\t\t\t\t\tcase \"white\" : \n\t\t\t\t\t\tthis._buffer = _whiteNoise;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"pink\" : \n\t\t\t\t\t\tthis._buffer = _pinkNoise;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"brown\" : \n\t\t\t\t\t\tthis._buffer = _brownNoise;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault : \n\t\t\t\t\t\tthis._buffer = _whiteNoise;\n\t\t\t\t}\n\t\t\t\t//if it's playing, stop and restart it\n\t\t\t\tif (this.state === Tone.State.Started){\n\t\t\t\t\tvar now = this.now() + this.bufferTime;\n\t\t\t\t\t//remove the listener\n\t\t\t\t\tthis._source.onended = undefined;\n\t\t\t\t\tthis._stop(now);\n\t\t\t\t\tthis._start(now);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\t/**\n\t *  internal start method\n\t *\n\t *  @param {Tone.Type.Time} time\n\t *  @private\n\t */\n\tTone.Noise.prototype._start = function(time){\n\t\tthis._source = this.context.createBufferSource();\n\t\tthis._source.buffer = this._buffer;\n\t\tthis._source.loop = true;\n\t\tthis.connectSeries(this._source, this.output);\n\t\tthis._source.start(this.toSeconds(time));\n\t\tthis._source.onended = this.onended;\n\t};\n\n\t/**\n\t *  internal stop method\n\t *\n\t *  @param {Tone.Type.Time} time\n\t *  @private\n\t */\n\tTone.Noise.prototype._stop = function(time){\n\t\tif (this._source){\n\t\t\tthis._source.stop(this.toSeconds(time));\n\t\t}\n\t};\n\n\t/**\n\t *  dispose all the components\n\t *  @returns {Tone.Noise} `this`\n\t */\n\tTone.Noise.prototype.dispose = function(){\n\t\tTone.Source.prototype.dispose.call(this);\n\t\tif (this._source !== null){\n\t\t\tthis._source.disconnect();\n\t\t\tthis._source = null;\n\t\t}\n\t\tthis._buffer = null;\n\t\treturn this;\n\t};\n\n\n\t///////////////////////////////////////////////////////////////////////////\n\t// THE BUFFERS\n\t// borrowed heavily from http://noisehack.com/generate-noise-web-audio-api/\n\t///////////////////////////////////////////////////////////////////////////\n\n\t/**\n\t *\tstatic noise buffers\n\t *\n\t *  @static\n\t *  @private\n\t *  @type {AudioBuffer}\n\t */\n\tvar _pinkNoise = null, _brownNoise = null, _whiteNoise = null;\n\n\tTone._initAudioContext(function(audioContext){\n\n\t\tvar sampleRate = audioContext.sampleRate;\n\n\t\t//four seconds per buffer\n\t\tvar bufferLength = sampleRate * 4;\n\n\t\t//fill the buffers\n\t\t_pinkNoise = (function() {\n\t\t\tvar buffer = audioContext.createBuffer(2, bufferLength, sampleRate);\n\t\t\tfor (var channelNum = 0; channelNum < buffer.numberOfChannels; channelNum++){\n\t\t\t\tvar channel = buffer.getChannelData(channelNum);\n\t\t\t\tvar b0, b1, b2, b3, b4, b5, b6;\n\t\t\t\tb0 = b1 = b2 = b3 = b4 = b5 = b6 = 0.0;\n\t\t\t\tfor (var i = 0; i < bufferLength; i++) {\n\t\t\t\t\tvar white = Math.random() * 2 - 1;\n\t\t\t\t\tb0 = 0.99886 * b0 + white * 0.0555179;\n\t\t\t\t\tb1 = 0.99332 * b1 + white * 0.0750759;\n\t\t\t\t\tb2 = 0.96900 * b2 + white * 0.1538520;\n\t\t\t\t\tb3 = 0.86650 * b3 + white * 0.3104856;\n\t\t\t\t\tb4 = 0.55000 * b4 + white * 0.5329522;\n\t\t\t\t\tb5 = -0.7616 * b5 - white * 0.0168980;\n\t\t\t\t\tchannel[i] = b0 + b1 + b2 + b3 + b4 + b5 + b6 + white * 0.5362;\n\t\t\t\t\tchannel[i] *= 0.11; // (roughly) compensate for gain\n\t\t\t\t\tb6 = white * 0.115926;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn buffer;\n\t\t}());\n\n\t\t_brownNoise = (function() {\n\t\t\tvar buffer = audioContext.createBuffer(2, bufferLength, sampleRate);\n\t\t\tfor (var channelNum = 0; channelNum < buffer.numberOfChannels; channelNum++){\n\t\t\t\tvar channel = buffer.getChannelData(channelNum);\n\t\t\t\tvar lastOut = 0.0;\n\t\t\t\tfor (var i = 0; i < bufferLength; i++) {\n\t\t\t\t\tvar white = Math.random() * 2 - 1;\n\t\t\t\t\tchannel[i] = (lastOut + (0.02 * white)) / 1.02;\n\t\t\t\t\tlastOut = channel[i];\n\t\t\t\t\tchannel[i] *= 3.5; // (roughly) compensate for gain\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn buffer;\n\t\t})();\n\n\t\t_whiteNoise = (function(){\n\t\t\tvar buffer = audioContext.createBuffer(2, bufferLength, sampleRate);\n\t\t\tfor (var channelNum = 0; channelNum < buffer.numberOfChannels; channelNum++){\n\t\t\t\tvar channel = buffer.getChannelData(channelNum);\n\t\t\t\tfor (var i = 0; i < bufferLength; i++){\n\t\t\t\t\tchannel[i] =  Math.random() * 2 - 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn buffer;\n\t\t}());\n\t});\n\n\treturn Tone.Noise;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/source/Noise.js\n ** module id = 42\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/signal/Signal\"], function(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t *  @class  Filter object which allows for all of the same native methods\n\t *          as the BiquadFilter (with AudioParams implemented as Tone.Signals)\n\t *          but adds the ability to set the filter rolloff at -12 (default), \n\t *          -24 and -48. \n\t *\n\t *  @constructor\n\t *  @extends {Tone}\n\t *  @param {number|Object} [freq=350] the frequency\n\t *  @param {string} [type=lowpass] the type of filter\n\t *  @param {number} [rolloff=-12] the rolloff which is the drop per octave. \n\t *                                 3 choices: -12, -24, and -48\n\t *  @example\n\t *  var filter = new Tone.Filter(200, \"highpass\");\n\t */\n\tTone.Filter = function(){\n\t\tTone.call(this);\n\n\t\tvar options = this.optionsObject(arguments, [\"frequency\", \"type\", \"rolloff\"], Tone.Filter.defaults);\n\n\t\t/**\n\t\t *  the filter(s)\n\t\t *  @type {Array.<BiquadFilterNode>}\n\t\t *  @private\n\t\t */\n\t\tthis._filters = [];\n\n\t\t/**\n\t\t *  the frequency of the filter\n\t\t *  @type {Tone.Signal}\n\t\t */\n\t\tthis.frequency = new Tone.Signal(options.frequency, Tone.Type.Frequency);\n\n\t\t/**\n\t\t *  the detune parameter\n\t\t *  @type {Tone.Signal}\n\t\t */\n\t\tthis.detune = new Tone.Signal(0);\n\n\t\t/**\n\t\t *  the gain of the filter, only used in certain filter types\n\t\t *  @type {Tone.Signal}\n\t\t */\n\t\tthis.gain = new Tone.Signal({\n\t\t\t\"value\" : options.gain, \n\t\t\t\"units\" : Tone.Type.Decibels,\n\t\t\t\"convert\" : false\n\t\t});\n\n\t\t/**\n\t\t *  the Q or Quality of the filter\n\t\t *  @type {Tone.Signal}\n\t\t */\n\t\tthis.Q = new Tone.Signal(options.Q);\n\n\t\t/**\n\t\t *  the type of the filter\n\t\t *  @type {string}\n\t\t *  @private\n\t\t */\n\t\tthis._type = options.type;\n\n\t\t/**\n\t\t *  the rolloff value of the filter\n\t\t *  @type {number}\n\t\t *  @private\n\t\t */\n\t\tthis._rolloff = options.rolloff;\n\n\t\t//set the rolloff;\n\t\tthis.rolloff = options.rolloff;\n\t\tthis._readOnly([\"detune\", \"frequency\", \"gain\", \"Q\"]);\n\t};\n\n\tTone.extend(Tone.Filter);\n\n\t/**\n\t *  the default parameters\n\t *\n\t *  @static\n\t *  @type {Object}\n\t */\n\tTone.Filter.defaults = {\n\t\t\"type\" : \"lowpass\",\n\t\t\"frequency\" : 350,\n\t\t\"rolloff\" : -12,\n\t\t\"Q\" : 1,\n\t\t\"gain\" : 0,\n\t};\n\n\t/**\n\t * The type of the filter. Types: \"lowpass\", \"highpass\", \n\t * \"bandpass\", \"lowshelf\", \"highshelf\", \"notch\", \"allpass\", or \"peaking\". \n\t * @memberOf Tone.Filter#\n\t * @type {string}\n\t * @name type\n\t */\n\n\tObject.defineProperty(Tone.Filter.prototype, \"type\", {\n\t\tget : function(){\n\t\t\treturn this._type;\n\t\t},\n\t\tset : function(type){\n\t\t\tvar types = [\"lowpass\", \"highpass\", \"bandpass\", \"lowshelf\", \"highshelf\", \"notch\", \"allpass\", \"peaking\"];\n\t\t\tif (types.indexOf(type)=== -1){\n\t\t\t\tthrow new TypeError(\"Tone.Filter does not have filter type \"+type);\n\t\t\t}\n\t\t\tthis._type = type;\n\t\t\tfor (var i = 0; i < this._filters.length; i++){\n\t\t\t\tthis._filters[i].type = type;\n\t\t\t}\n\t\t}\n\t});\n\n\t/**\n\t * The rolloff of the filter which is the drop in db\n\t * per octave. Implemented internally by cascading filters.\n\t * Only accepts the values -12, -24, and -48.\n\t * @memberOf Tone.Filter#\n\t * @type {number}\n\t * @name rolloff\n\t */\n\n\tObject.defineProperty(Tone.Filter.prototype, \"rolloff\", {\n\t\tget : function(){\n\t\t\treturn this._rolloff;\n\t\t},\n\t\tset : function(rolloff){\n\t\t\tvar cascadingCount = Math.log(rolloff / -12) / Math.LN2 + 1;\n\t\t\t//check the rolloff is valid\n\t\t\tif (cascadingCount % 1 !== 0){\n\t\t\t\tthrow new RangeError(\"Filter rolloff can only be -12, -24, or -48\");\n\t\t\t}\n\t\t\tthis._rolloff = rolloff;\n\t\t\t//first disconnect the filters and throw them away\n\t\t\tthis.input.disconnect();\n\t\t\tfor (var i = 0; i < this._filters.length; i++) {\n\t\t\t\tthis._filters[i].disconnect();\n\t\t\t\tthis._filters[i] = null;\n\t\t\t}\n\t\t\tthis._filters = new Array(cascadingCount);\n\t\t\tfor (var count = 0; count < cascadingCount; count++){\n\t\t\t\tvar filter = this.context.createBiquadFilter();\n\t\t\t\tfilter.type = this._type;\n\t\t\t\tthis.frequency.connect(filter.frequency);\n\t\t\t\tthis.detune.connect(filter.detune);\n\t\t\t\tthis.Q.connect(filter.Q);\n\t\t\t\tthis.gain.connect(filter.gain);\n\t\t\t\tthis._filters[count] = filter;\n\t\t\t}\n\t\t\t//connect them up\n\t\t\tvar connectionChain = [this.input].concat(this._filters).concat([this.output]);\n\t\t\tthis.connectSeries.apply(this, connectionChain);\n\t\t}\n\t});\n\n\t/**\n\t *  clean up\n\t *  @return {Tone.Filter} `this`\n\t */\n\tTone.Filter.prototype.dispose = function(){\n\t\tTone.prototype.dispose.call(this);\n\t\tfor (var i = 0; i < this._filters.length; i++) {\n\t\t\tthis._filters[i].disconnect();\n\t\t\tthis._filters[i] = null;\n\t\t}\n\t\tthis._filters = null;\n\t\tthis._writable([\"detune\", \"frequency\", \"gain\", \"Q\"]);\n\t\tthis.frequency.dispose();\n\t\tthis.Q.dispose();\n\t\tthis.frequency = null;\n\t\tthis.Q = null;\n\t\tthis.detune.dispose();\n\t\tthis.detune = null;\n\t\tthis.gain.dispose();\n\t\tthis.gain = null;\n\t\treturn this;\n\t};\n\n\treturn Tone.Filter;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/component/Filter.js\n ** module id = 43\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/instrument/MonoSynth\", \"Tone/source/Source\"], \nfunction(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t *  @class  Creates a polyphonic synthesizer out of \n\t *          the monophonic voice which is passed in. \n\t *\n\t *  @constructor\n\t *  @extends {Tone.Instrument}\n\t *  @param {number|Object} [polyphony=4] the number of voices to create\n\t *  @param {function} [voice=Tone.MonoSynth] the constructor of the voices\n\t *                                            uses Tone.MonoSynth by default\n\t *  @example\n\t *  //a polysynth composed of 6 Voices of MonoSynth\n\t *  var synth = new Tone.PolySynth(6, Tone.MonoSynth);\n\t *  //set a MonoSynth preset\n\t *  synth.setPreset(\"Pianoetta\");\n\t */\n\tTone.PolySynth = function(){\n\n\t\tTone.Instrument.call(this);\n\n\t\tvar options = this.optionsObject(arguments, [\"polyphony\", \"voice\"], Tone.PolySynth.defaults);\n\n\t\t/**\n\t\t *  the array of voices\n\t\t *  @type {Array}\n\t\t */\n\t\tthis.voices = new Array(options.polyphony);\n\n\t\t/**\n\t\t *  the queue of free voices\n\t\t *  @private\n\t\t *  @type {Array}\n\t\t */\n\t\tthis._freeVoices = [];\n\n\t\t/**\n\t\t *  keeps track of which notes are down\n\t\t *  @private\n\t\t *  @type {Object}\n\t\t */\n\t\tthis._activeVoices = {};\n\n\t\t//create the voices\n\t\tfor (var i = 0; i < options.polyphony; i++){\n\t\t\tvar v = new options.voice(arguments[2], arguments[3]);\n\t\t\tthis.voices[i] = v;\n\t\t\tv.connect(this.output);\n\t\t}\n\n\t\t//make a copy of the voices\n\t\tthis._freeVoices = this.voices.slice(0);\n\t\t//get the prototypes and properties\n\t};\n\n\tTone.extend(Tone.PolySynth, Tone.Instrument);\n\n\t/**\n\t *  the defaults\n\t *  @const\n\t *  @static\n\t *  @type {Object}\n\t */\n\tTone.PolySynth.defaults = {\n\t\t\"polyphony\" : 4,\n\t\t\"voice\" : Tone.MonoSynth\n\t};\n\n\t/**\n\t * Pull properties from the \n\t */\n\n\t/**\n\t *  trigger the attack\n\t *  @param  {string|number|Object|Array} value the value of the note(s) to start.\n\t *                                             if the value is an array, it will iterate\n\t *                                             over the array to play each of the notes\n\t *  @param  {Tone.Type.Time} [time=now]  the start time of the note\n\t *  @param {number} [velocity=1] the velocity of the note\n\t *  @returns {Tone.PolySynth} `this`\n\t */\n\tTone.PolySynth.prototype.triggerAttack = function(value, time, velocity){\n\t\tif (!Array.isArray(value)){\n\t\t\tvalue = [value];\n\t\t}\n\t\tfor (var i = 0; i < value.length; i++){\n\t\t\tvar val = value[i];\n\t\t\tvar stringified = JSON.stringify(val);\n\t\t\tif (this._activeVoices[stringified]){\n\t\t\t\tthis._activeVoices[stringified].triggerAttack(val, time, velocity);\n\t\t\t} else if (this._freeVoices.length > 0){\n\t\t\t\tvar voice = this._freeVoices.shift();\n\t\t\t\tvoice.triggerAttack(val, time, velocity);\n\t\t\t\tthis._activeVoices[stringified] = voice;\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t};\n\n\t/**\n\t *  trigger the attack and release after the specified duration\n\t *  \n\t *  @param  {string|number|Object|Array} value the note(s).\n\t *                                             if the value is an array, it will iterate\n\t *                                             over the array to play each of the notes\n\t *  @param  {Tone.Type.Time} duration the duration of the note\n\t *  @param  {Tone.Type.Time} [time=now]     if no time is given, defaults to now\n\t *  @param  {number} [velocity=1] the velocity of the attack (0-1)\n\t *  @returns {Tone.PolySynth} `this`\n\t */\n\tTone.PolySynth.prototype.triggerAttackRelease = function(value, duration, time, velocity){\n\t\ttime = this.toSeconds(time);\n\t\tthis.triggerAttack(value, time, velocity);\n\t\tthis.triggerRelease(value, time + this.toSeconds(duration));\n\t\treturn this;\n\t};\n\n\t/**\n\t *  trigger the release of a note\n\t *  @param  {string|number|Object|Array} value the value of the note(s) to release.\n\t *                                             if the value is an array, it will iterate\n\t *                                             over the array to play each of the notes\n\t *  @param  {Tone.Type.Time} [time=now]  the release time of the note\n\t *  @returns {Tone.PolySynth} `this`\n\t */\n\tTone.PolySynth.prototype.triggerRelease = function(value, time){\n\t\tif (!Array.isArray(value)){\n\t\t\tvalue = [value];\n\t\t}\n\t\tfor (var i = 0; i < value.length; i++){\n\t\t\t//get the voice\n\t\t\tvar stringified = JSON.stringify(value[i]);\n\t\t\tvar voice = this._activeVoices[stringified];\n\t\t\tif (voice){\n\t\t\t\tvoice.triggerRelease(time);\n\t\t\t\tthis._freeVoices.push(voice);\n\t\t\t\tdelete this._activeVoices[stringified];\n\t\t\t\tvoice = null;\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t};\n\n\t/**\n\t *  set the options on all of the voices\n\t *  @param {Object|string} params\n\t *  @param {number=} value\n\t *  @param {Tone.Type.Time=} rampTime\n\t *  @returns {Tone.PolySynth} `this`\n\t */\n\tTone.PolySynth.prototype.set = function(params, value, rampTime){\n\t\tfor (var i = 0; i < this.voices.length; i++){\n\t\t\tthis.voices[i].set(params, value, rampTime);\n\t\t}\n\t\treturn this;\n\t};\n\n\t/**\n\t *  get a group of parameters\n\t *  @param {Array=} params the parameters to get, otherwise will return \n\t *  \t\t\t\t\t   all available.\n\t */\n\tTone.PolySynth.prototype.get = function(params){\n\t\treturn this.voices[0].get(params);\n\t};\n\n\t/**\n\t *  @param {string} presetName the preset name\n\t *  @returns {Tone.PolySynth} `this`\n\t */\n\tTone.PolySynth.prototype.setPreset = function(presetName){\n\t\tfor (var i = 0; i < this.voices.length; i++){\n\t\t\tthis.voices[i].setPreset(presetName);\n\t\t}\n\t\treturn this;\n\t};\n\n\t/**\n\t *  clean up\n\t *  @returns {Tone.PolySynth} `this`\n\t */\n\tTone.PolySynth.prototype.dispose = function(){\n\t\tTone.Instrument.prototype.dispose.call(this);\n\t\tfor (var i = 0; i < this.voices.length; i++){\n\t\t\tthis.voices[i].dispose();\n\t\t\tthis.voices[i] = null;\n\t\t}\n\t\tthis.voices = null;\n\t\tthis._activeVoices = null;\n\t\tthis._freeVoices = null;\n\t\treturn this;\n\t};\n\n\treturn Tone.PolySynth;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/instrument/PolySynth.js\n ** module id = 44\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/component/AmplitudeEnvelope\", \"Tone/component/ScaledEnvelope\", \n\t\"Tone/source/OmniOscillator\", \"Tone/signal/Signal\", \"Tone/component/Filter\", \"Tone/instrument/Monophonic\"], \nfunction(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t *  @class  the MonoSynth is a single oscillator, monophonic synthesizer\n\t *          with a filter, and two envelopes (on the filter and the amplitude). \n\t *\n\t * Flow: \n\t * \n\t * <pre>\n\t * OmniOscillator+-->AmplitudeEnvelope+-->Filter\n\t *               ^\n\t *               |\n\t *               ScaledEnvelope+--+\n\t * </pre>\n\t *  \n\t *\n\t *  @constructor\n\t *  @extends {Tone.Monophonic}\n\t *  @param {Object} options the options available for the synth \n\t *                          see defaults below\n\t */\n\tTone.MonoSynth = function(options){\n\n\t\t//get the defaults\n\t\toptions = this.defaultArg(options, Tone.MonoSynth.defaults);\n\t\tTone.Monophonic.call(this, options);\n\n\t\t/**\n\t\t *  the first oscillator\n\t\t *  @type {Tone.OmniOscillator}\n\t\t */\n\t\tthis.oscillator = new Tone.OmniOscillator(options.oscillator);\n\n\t\t/**\n\t\t *  the frequency control signal\n\t\t *  @type {Tone.Signal}\n\t\t */\n\t\tthis.frequency = this.oscillator.frequency;\n\n\t\t/**\n\t\t *  the detune control signal\n\t\t *  @type {Tone.Signal}\n\t\t */\n\t\tthis.detune = this.oscillator.detune;\n\n\t\t/**\n\t\t *  the filter\n\t\t *  @type {Tone.Filter}\n\t\t */\n\t\tthis.filter = new Tone.Filter(options.filter);\n\n\t\t/**\n\t\t *  the filter envelope\n\t\t *  @type {Tone.Envelope}\n\t\t */\n\t\tthis.filterEnvelope = new Tone.ScaledEnvelope(options.filterEnvelope);\n\n\t\t/**\n\t\t *  the amplitude envelope\n\t\t *  @type {Tone.Envelope}\n\t\t */\n\t\tthis.envelope = new Tone.AmplitudeEnvelope(options.envelope);\n\n\t\t//connect the oscillators to the output\n\t\tthis.oscillator.chain(this.filter, this.envelope, this.output);\n\t\t//start the oscillators\n\t\tthis.oscillator.start();\n\t\t//connect the filter envelope\n\t\tthis.filterEnvelope.connect(this.filter.frequency);\n\t\tthis._readOnly([\"oscillator\", \"frequency\", \"detune\", \"filter\", \"filterEnvelope\", \"envelope\"]);\n\t};\n\n\tTone.extend(Tone.MonoSynth, Tone.Monophonic);\n\n\t/**\n\t *  @const\n\t *  @static\n\t *  @type {Object}\n\t */\n\tTone.MonoSynth.defaults = {\n\t\t\"frequency\" : \"C4\",\n\t\t\"detune\" : 0,\n\t\t\"oscillator\" : {\n\t\t\t\"type\" : \"square\"\n\t\t},\n\t\t\"filter\" : {\n\t\t\t\"Q\" : 6,\n\t\t\t\"type\" : \"lowpass\",\n\t\t\t\"rolloff\" : -24\n\t\t},\n\t\t\"envelope\" : {\n\t\t\t\"attack\" : 0.005,\n\t\t\t\"decay\" : 0.1,\n\t\t\t\"sustain\" : 0.9,\n\t\t\t\"release\" : 1\n\t\t},\n\t\t\"filterEnvelope\" : {\n\t\t\t\"attack\" : 0.06,\n\t\t\t\"decay\" : 0.2,\n\t\t\t\"sustain\" : 0.5,\n\t\t\t\"release\" : 2,\n\t\t\t\"min\" : 20,\n\t\t\t\"max\" : 4000,\n\t\t\t\"exponent\" : 2\n\t\t}\n\t};\n\n\t/**\n\t *  start the attack portion of the envelope\n\t *  @param {Tone.Type.Time} [time=now] the time the attack should start\n\t *  @param {number} [velocity=1] the velocity of the note (0-1)\n\t *  @returns {Tone.MonoSynth} `this`\n\t */\n\tTone.MonoSynth.prototype.triggerEnvelopeAttack = function(time, velocity){\n\t\t//the envelopes\n\t\tthis.envelope.triggerAttack(time, velocity);\n\t\tthis.filterEnvelope.triggerAttack(time);\t\n\t\treturn this;\t\n\t};\n\n\t/**\n\t *  start the release portion of the envelope\n\t *  @param {Tone.Type.Time} [time=now] the time the release should start\n\t *  @returns {Tone.MonoSynth} `this`\n\t */\n\tTone.MonoSynth.prototype.triggerEnvelopeRelease = function(time){\n\t\tthis.envelope.triggerRelease(time);\n\t\tthis.filterEnvelope.triggerRelease(time);\n\t\treturn this;\n\t};\n\n\n\t/**\n\t *  clean up\n\t *  @returns {Tone.MonoSynth} `this`\n\t */\n\tTone.MonoSynth.prototype.dispose = function(){\n\t\tTone.Monophonic.prototype.dispose.call(this);\n\t\tthis._writable([\"oscillator\", \"frequency\", \"detune\", \"filter\", \"filterEnvelope\", \"envelope\"]);\n\t\tthis.oscillator.dispose();\n\t\tthis.oscillator = null;\n\t\tthis.envelope.dispose();\n\t\tthis.envelope = null;\n\t\tthis.filterEnvelope.dispose();\n\t\tthis.filterEnvelope = null;\n\t\tthis.filter.dispose();\n\t\tthis.filter = null;\n\t\tthis.frequency = null;\n\t\tthis.detune = null;\n\t\treturn this;\n\t};\n\n\treturn Tone.MonoSynth;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/instrument/MonoSynth.js\n ** module id = 45\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/component/Envelope\"], function(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t *  @class  An Envelope connected to a gain node which can be used as an amplitude envelope.\n\t *  \n\t *  @constructor\n\t *  @extends {Tone.Envelope}\n\t *  @param {Tone.Type.Time|Object} [attack=0.01]\tthe attack time in seconds\n\t *  @param {Tone.Type.Time} [decay=0.1]\tthe decay time in seconds\n\t *  @param {number} [sustain=0.5] \ta percentage (0-1) of the full amplitude\n\t *  @param {Tone.Type.Time} [release=1]\tthe release time in seconds\n\t *  @example\n\t *  \n\t *  var ampEnv = new Tone.AmplitudeEnvelope(0.1, 0.2, 1, 0.8);\n\t *  var osc = new Tone.Oscillator();\n\t *  //or with an object\n\t *  osc.chain(ampEnv, Tone.Master);\n\t */\n\tTone.AmplitudeEnvelope = function(){\n\n\t\tTone.Envelope.apply(this, arguments);\n\n\t\t/**\n\t\t *  the input node\n\t\t *  @type {GainNode}\n\t\t *  @private\n\t\t */\n\t\tthis.input = this.output = this.context.createGain();\n\n\t\tthis._sig.connect(this.output.gain);\n\t};\n\n\tTone.extend(Tone.AmplitudeEnvelope, Tone.Envelope);\n\n\treturn Tone.AmplitudeEnvelope;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/component/AmplitudeEnvelope.js\n ** module id = 46\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/signal/Signal\", \"Tone/signal/Pow\"], function(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t *  @class  ADSR envelope generator attaches to an AudioParam or Signal. \n\t *\n\t *  @constructor\n\t *  @extends {Tone}\n\t *  @param {Tone.Type.Time|Object} [attack=0.01]\tthe attack time in seconds\n\t *  @param {Tone.Type.Time} [decay=0.1]\tthe decay time in seconds\n\t *  @param {number} [sustain=0.5] \ta percentage (0-1) of the full amplitude\n\t *  @param {Tone.Type.Time} [release=1]\tthe release time in seconds\n\t *  @example\n\t *  var gainNode = Tone.context.createGain();\n\t *  var env = new Tone.Envelope({\n\t *  \t\"attack\" : 0.1,\n\t *  \t\"decay\" : 0.2,\n\t *  \t\"sustain\" : 1,\n\t *  \t\"release\" : 0.8,\n\t *  });\n\t *  env.connect(gainNode.gain);\n\t */\n\tTone.Envelope = function(){\n\n\t\t//get all of the defaults\n\t\tvar options = this.optionsObject(arguments, [\"attack\", \"decay\", \"sustain\", \"release\"], Tone.Envelope.defaults);\n\n\t\t/** \n\t\t *  The attack time\n\t\t *  @type {Tone.Type.Time}\n\t\t */\n\t\tthis.attack = options.attack;\n\n\t\t/**\n\t\t *  The decay time\n\t\t *  @type {Tone.Type.Time}\n\t\t */\n\t\tthis.decay = options.decay;\n\t\t\n\t\t/**\n\t\t *  the sustain is a value between 0-1\n\t\t *  @type {Tone.Type.NormalRange}\n\t\t */\n\t\tthis.sustain = options.sustain;\n\n\t\t/**\n\t\t *  The release time\n\t\t *  @type {Tone.Type.Time}\n\t\t */\n\t\tthis.release = options.release;\n\n\t\t/**\n\t\t *  the next time the envelope is attacked\n\t\t *  @type {number}\n\t\t *  @private\n\t\t */\n\t\tthis._nextAttack = Infinity;\n\n\t\t/**\n\t\t *  the next time the envelope is decayed\n\t\t *  @type {number}\n\t\t *  @private\n\t\t */\n\t\tthis._nextDecay = Infinity;\n\n\t\t/**\n\t\t *  the next time the envelope is sustain\n\t\t *  @type {number}\n\t\t *  @private\n\t\t */\n\t\tthis._nextSustain = Infinity;\n\n\t\t/**\n\t\t *  the next time the envelope is released\n\t\t *  @type {number}\n\t\t *  @private\n\t\t */\n\t\tthis._nextRelease = Infinity;\n\n\t\t/**\n\t\t *  the next time the envelope is at standby\n\t\t *  @type {number}\n\t\t *  @private\n\t\t */\n\t\tthis._nextStandby = Infinity;\n\n\t\t/**\n\t\t *  the next time the envelope is at standby\n\t\t *  @type {number}\n\t\t *  @private\n\t\t */\n\t\tthis._attackCurve = Tone.Envelope.Type.Linear;\n\n\t\t/** \n\t\t *  the last recorded velocity value\n\t\t *  @type {number}\n\t\t *  @private\n\t\t */\n\t\tthis._peakValue = 1;\n\n\t\t/**\n\t\t *  the minimum output value\n\t\t *  @type {number}\n\t\t *  @private\n\t\t */\n\t\tthis._minOutput = 0.0001;\n\n\t\t/**\n\t\t *  the signal\n\t\t *  @type {Tone.Signal}\n\t\t *  @private\n\t\t */\n\t\tthis._sig = this.output = new Tone.Signal(0);\n\n\t\t//set the attackCurve initially\n\t\tthis.attackCurve = options.attackCurve;\n\t};\n\n\tTone.extend(Tone.Envelope);\n\n\t/**\n\t *  the default parameters\n\t *  @static\n\t *  @const\n\t */\n\tTone.Envelope.defaults = {\n\t\t\"attack\" : 0.01,\n\t\t\"decay\" : 0.1,\n\t\t\"sustain\" : 0.5,\n\t\t\"release\" : 1,\n\t\t\"attackCurve\" : \"linear\"\n\t};\n\n\t/**\n\t *  the envelope time multipler\n\t *  @type {number}\n\t *  @private\n\t */\n\tTone.Envelope.prototype._timeMult = 0.25;\n\n\t/**\n\t * The slope of the attack. Either \"linear\" or \"exponential\". \n\t * @memberOf Tone.Envelope#\n\t * @type {string}\n\t * @name attackCurve\n\t * @example\n\t * env.attackCurve = \"linear\";\n\t */\n\tObject.defineProperty(Tone.Envelope.prototype, \"attackCurve\", {\n\t\tget : function(){\n\t\t\treturn this._attackCurve;\n\t\t}, \n\t\tset : function(type){\n\t\t\tif (type === Tone.Envelope.Type.Linear || \n\t\t\t\ttype === Tone.Envelope.Type.Exponential){\n\t\t\t\tthis._attackCurve = type;\n\t\t\t} else {\n\t\t\t\tthrow Error(\"attackCurve must be either \\\"linear\\\" or \\\"exponential\\\". Invalid type: \", type);\n\t\t\t}\n\t\t}\n\t});\n\n\t/**\n\t *  Get the phase of the envelope at the specified time.\n\t *  @param  {number}  time\n\t *  @return  {Tone.Envelope.Phase} \n\t *  @private\n\t */\n\tTone.Envelope.prototype._phaseAtTime = function(time){\n\t\tif (this._nextRelease > time){\n\t\t\tif (this._nextAttack <= time && this._nextDecay > time){\n\t\t\t\treturn Tone.Envelope.Phase.Attack;\n\t\t\t} else if (this._nextDecay <= time && this._nextSustain > time){\n\t\t\t\treturn Tone.Envelope.Phase.Decay;\n\t\t\t} else if (this._nextSustain <= time && this._nextRelease > time){\n\t\t\t\treturn Tone.Envelope.Phase.Sustain;\n\t\t\t} else {\n\t\t\t\treturn Tone.Envelope.Phase.Standby;\t\n\t\t\t}\n\t\t} else if (this._nextRelease < time && this._nextStandby > time){\n\t\t\treturn Tone.Envelope.Phase.Release;\n\t\t} else {\n\t\t\treturn Tone.Envelope.Phase.Standby;\n\t\t}\n\t};\n\n\t// https://github.com/jsantell/web-audio-automation-timeline\n\t// MIT License, copyright (c) 2014 Jordan Santell\n\tTone.Envelope.prototype._exponentialApproach = function (t0, v0, v1, timeConstant, t) {\n\t\treturn v1 + (v0 - v1) * Math.exp(-(t - t0) / timeConstant);\n\t};\n\n\tTone.Envelope.prototype._linearInterpolate = function (t0, v0, t1, v1, t) {\n\t\treturn v0 + (v1 - v0) * ((t - t0) / (t1 - t0));\n\t};\n\n\tTone.Envelope.prototype._exponentialInterpolate = function (t0, v0, t1, v1, t) {\n\t\treturn v0 * Math.pow(v1 / v0, (t - t0) / (t1 - t0));\n\t};\n\n\t/**\n\t *  Get the envelopes value at the given time\n\t *  @param  {number}  time\n\t *  @param  {number}  velocity\n\t *  @return  {number} \n\t *  @private\n\t */\n\tTone.Envelope.prototype._valueAtTime = function(time){\n\t\tvar attack = this.toSeconds(this.attack);\n\t\tvar decay = this.toSeconds(this.decay);\n\t\tvar release = this.toSeconds(this.release);\n\t\tswitch(this._phaseAtTime(time)){\n\t\t\tcase Tone.Envelope.Phase.Attack: \n\t\t\t\tif (this._attackCurve === Tone.Envelope.Type.Linear){\n\t\t\t\t\treturn this._linearInterpolate(this._nextAttack, this._minOutput, this._nextAttack + attack, this._peakValue, time);\n\t\t\t\t} else {\n\t\t\t\t\treturn this._exponentialInterpolate(this._nextAttack, this._minOutput, this._nextAttack + attack, this._peakValue, time);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase Tone.Envelope.Phase.Decay: \n\t\t\t\treturn this._exponentialApproach(this._nextDecay, this._peakValue, this.sustain * this._peakValue, decay * this._timeMult, time);\n\t\t\tcase Tone.Envelope.Phase.Release: \n\t\t\t\treturn this._exponentialApproach(this._nextRelease, this._peakValue, this._minOutput, release * this._timeMult, time);\n\t\t\tcase Tone.Envelope.Phase.Sustain: \n\t\t\t\treturn this.sustain * this._peakValue;\n\t\t\tcase Tone.Envelope.Phase.Standby: \n\t\t\t\treturn this._minOutput;\n\t\t}\n\t};\n\n\t/**\n\t *  Trigger the attack/decay portion of the ADSR envelope. \n\t *  @param  {Tone.Type.Time} [time=now]\n\t *  @param {number} [velocity=1] the velocity of the envelope scales the vales.\n\t *                               number between 0-1\n\t *  @returns {Tone.Envelope} `this`\n\t *  @example\n\t *  //trigger the attack 0.5 seconds from now with a velocity of 0.2\n\t *  env.triggerAttack(\"+0.5\", 0.2);\n\t */\n\tTone.Envelope.prototype.triggerAttack = function(time, velocity){\n\t\t//to seconds\n\t\ttime = this.toSeconds(time);\n\t\tvar attack = this.toSeconds(this.attack);\n\t\tvar decay = this.toSeconds(this.decay);\n\n\t\t//get the phase and position\n\t\tvar valueAtTime = this._valueAtTime(time);\n\t\tvar attackPast = valueAtTime * attack;\n\n\t\t//compute the timing\n\t\tthis._nextAttack = time - attackPast;\n\t\tthis._nextDecay = this._nextAttack + attack;\n\t\tthis._nextSustain = this._nextDecay + decay;\n\t\tthis._nextRelease = Infinity;\n\n\t\t//get the values\n\t\tthis._peakValue = this.defaultArg(velocity, 1);\n\t\tvar scaledMax = this._peakValue;\n\t\tvar sustainVal = this.sustain * scaledMax;\n\n\t\t//set the curve\t\t\n\t\tthis._sig.cancelScheduledValues(time);\n\t\tthis._sig.setValueAtTime(valueAtTime, time);\n\t\tif (this._attackCurve === Tone.Envelope.Type.Linear){\n\t\t\tthis._sig.linearRampToValueAtTime(scaledMax, this._nextDecay);\n\t\t} else {\n\t\t\tthis._sig.exponentialRampToValueAtTime(scaledMax, this._nextDecay);\n\t\t}\n\t\tthis._sig.setTargetAtTime(sustainVal, this._nextDecay, decay * this._timeMult);\t\n\t\treturn this;\n\t};\n\t\n\t/**\n\t *  Triggers the release of the envelope.\n\t *  @param  {Tone.Type.Time} [time=now]\n\t *  @returns {Tone.Envelope} `this`\n\t *  @example\n\t *  //trigger release immediately\n\t *  env.triggerRelease();\n\t */\n\tTone.Envelope.prototype.triggerRelease = function(time){\n\t\ttime = this.toSeconds(time);\n\t\tvar phase = this._phaseAtTime(time);\n\t\tvar release = this.toSeconds(this.release);\n\n\t\t//computer the value at the start of the next release\n\t\tvar valueAtTime = this._valueAtTime(time);\n\t\tthis._peakValue = valueAtTime;\n\n\t\tthis._nextRelease = time;\n\t\tthis._nextStandby = this._nextRelease + release;\n\t\t\n\t\t//set the values\n\t\tthis._sig.cancelScheduledValues(this._nextRelease);\n\n\t\t//if the phase is in the attack still, must reschedule the rest of the attack\n\t\tif (phase === Tone.Envelope.Phase.Attack){\n\t\t\tthis._sig.setCurrentValueNow();\n\t\t\tif (this.attackCurve === Tone.Envelope.Type.Linear){\n\t\t\t\tthis._sig.linearRampToValueAtTime(this._peakValue, this._nextRelease);\n\t\t\t} else {\n\t\t\t\tthis._sig.exponentialRampToValueAtTime(this._peakValue, this._nextRelease);\n\t\t\t}\n\t\t} else {\n\t\t\tthis._sig.setValueAtTime(this._peakValue, this._nextRelease);\n\t\t}\n\t\tthis._sig.setTargetAtTime(this._minOutput, this._nextRelease, release * this._timeMult);\n\t\treturn this;\n\t};\n\n\t/**\n\t *  Trigger the attack and release after a sustain time\n\t *  @param {Tone.Type.Time} duration the duration of the note\n\t *  @param {Tone.Type.Time} [time=now] the time of the attack\n\t *  @param {number} [velocity=1] the velocity of the note\n\t *  @returns {Tone.Envelope} `this`\n\t *  @example\n\t *  //trigger the attack and then the release after 0.6 seconds.\n\t *  env.triggerAttackRelease(0.6);\n\t */\n\tTone.Envelope.prototype.triggerAttackRelease = function(duration, time, velocity) {\n\t\ttime = this.toSeconds(time);\n\t\tthis.triggerAttack(time, velocity);\n\t\tthis.triggerRelease(time + this.toSeconds(duration));\n\t\treturn this;\n\t};\n\n\t/**\n\t *  Borrows the connect method from {@link Tone.Signal}\n\t *  @function\n\t */\n\tTone.Envelope.prototype.connect = Tone.Signal.prototype.connect;\n\n\t/**\n\t *  disconnect and dispose\n\t *  @returns {Tone.Envelope} `this`\n\t */\n\tTone.Envelope.prototype.dispose = function(){\n\t\tTone.prototype.dispose.call(this);\n\t\tthis._sig.dispose();\n\t\tthis._sig = null;\n\t\treturn this;\n\t};\n\n\t/**\n\t *  The phase of the envelope. \n\t *  @enum {string}\n\t */\n\tTone.Envelope.Phase = {\n\t\tAttack : \"attack\",\n\t\tDecay : \"decay\",\n\t\tSustain : \"sustain\",\n\t\tRelease : \"release\",\n\t\tStandby : \"standby\",\n \t};\n\n \t/**\n\t *  The phase of the envelope. \n\t *  @enum {string}\n\t */\n\tTone.Envelope.Type = {\n\t\tLinear : \"linear\",\n\t\tExponential : \"exponential\",\n \t};\n\n\treturn Tone.Envelope;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/component/Envelope.js\n ** module id = 47\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/signal/WaveShaper\"], function(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t *  @class Pow applies an exponent to the incoming signal. The incoming signal\n\t *         must be in the range -1,1\n\t *\n\t *  @extends {Tone.SignalBase}\n\t *  @constructor\n\t *  @param {number} exp the exponent to apply to the incoming signal, must be at least 2. \n\t *  @example\n\t *  var pow = new Tone.Pow(2);\n\t *  var sig = new Tone.Signal(0.5).connect(pow);\n\t *  //output of pow is 0.25. \n\t */\n\tTone.Pow = function(exp){\n\n\t\t/**\n\t\t * the exponent\n\t\t * @private\n\t\t * @type {number}\n\t\t */\n\t\tthis._exp = this.defaultArg(exp, 1);\n\n\t\t/**\n\t\t *  @type {WaveShaperNode}\n\t\t *  @private\n\t\t */\n\t\tthis._expScaler = this.input = this.output = new Tone.WaveShaper(this._expFunc(this._exp), 8192);\n\t};\n\n\tTone.extend(Tone.Pow, Tone.SignalBase);\n\n\t/**\n\t * The value of the exponent\n\t * @memberOf Tone.Pow#\n\t * @type {number}\n\t * @name value\n\t */\n\tObject.defineProperty(Tone.Pow.prototype, \"value\", {\n\t\tget : function(){\n\t\t\treturn this._exp;\n\t\t},\n\t\tset : function(exp){\n\t\t\tthis._exp = exp;\n\t\t\tthis._expScaler.setMap(this._expFunc(this._exp));\n\t\t}\n\t});\n\n\n\t/**\n\t *  the function which maps the waveshaper\n\t *  @param   {number} exp\n\t *  @return {function}\n\t *  @private\n\t */\n\tTone.Pow.prototype._expFunc = function(exp){\n\t\treturn function(val){\n\t\t\treturn Math.pow(Math.abs(val), exp);\n\t\t};\n\t};\n\n\t/**\n\t *  clean up\n\t *  @returns {Tone.Pow} `this`\n\t */\n\tTone.Pow.prototype.dispose = function(){\n\t\tTone.prototype.dispose.call(this);\n\t\tthis._expScaler.dispose();\n\t\tthis._expScaler = null;\n\t\treturn this;\n\t};\n\n\treturn Tone.Pow;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/signal/Pow.js\n ** module id = 48\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/component/Envelope\", \"Tone/signal/Scale\"], \n\tfunction(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t *  @class An envelope which can be scaled to any range. \n\t *         Useful for applying an envelope to a filter\n\t *\n\t *  @extends {Tone.Envelope}\n\t *  @constructor\n\t *  @param {Tone.Type.Time|Object} [attack=0.01]\tthe attack time in seconds\n\t *  @param {Tone.Type.Time} [decay=0.1]\tthe decay time in seconds\n\t *  @param {number} [sustain=0.5] \ta percentage (0-1) of the full amplitude\n\t *  @param {Tone.Type.Time} [release=1]\tthe release time in seconds\n\t *  @example\n\t *  var scaledEnv = new Tone.ScaledEnvelope({\n\t *  \t\"attack\" : 0.2,\n\t *  \t\"min\" : 200,\n\t *  \t\"max\" : 2000\n\t *  });\n\t *  scaledEnv.connect(oscillator.frequency);\n\t */\n\tTone.ScaledEnvelope = function(){\n\n\t\t//get all of the defaults\n\t\tvar options = this.optionsObject(arguments, [\"attack\", \"decay\", \"sustain\", \"release\"], Tone.Envelope.defaults);\n\t\tTone.Envelope.call(this, options);\n\t\toptions = this.defaultArg(options, Tone.ScaledEnvelope.defaults);\n\n\t\t/** \n\t\t *  scale the incoming signal by an exponent\n\t\t *  @type {Tone.Pow}\n\t\t *  @private\n\t\t */\n\t\tthis._exp = this.output = new Tone.Pow(options.exponent);\n\n\t\t/**\n\t\t *  scale the signal to the desired range\n\t\t *  @type {Tone.Multiply}\n\t\t *  @private\n\t\t */\n\t\tthis._scale = this.output = new Tone.Scale(options.min, options.max);\n\n\t\tthis._sig.chain(this._exp, this._scale);\n\t};\n\n\tTone.extend(Tone.ScaledEnvelope, Tone.Envelope);\n\n\t/**\n\t *  the default parameters\n\t *  @static\n\t */\n\tTone.ScaledEnvelope.defaults = {\n\t\t\"min\" : 0,\n\t\t\"max\" : 1,\n\t\t\"exponent\" : 1\n\t};\n\n\t/**\n\t * The envelope's min output value. This is the value which it\n\t * starts at. \n\t * @memberOf Tone.ScaledEnvelope#\n\t * @type {number}\n\t * @name min\n\t */\n\tObject.defineProperty(Tone.ScaledEnvelope.prototype, \"min\", {\n\t\tget : function(){\n\t\t\treturn this._scale.min;\n\t\t},\n\t\tset : function(min){\n\t\t\tthis._scale.min = min;\n\t\t}\n\t});\n\n\t/**\n\t * The envelope's max output value. In other words, the value\n\t * at the peak of the attack portion of the envelope. \n\t * @memberOf Tone.ScaledEnvelope#\n\t * @type {number}\n\t * @name max\n\t */\n\tObject.defineProperty(Tone.ScaledEnvelope.prototype, \"max\", {\n\t\tget : function(){\n\t\t\treturn this._scale.max;\n\t\t},\n\t\tset : function(max){\n\t\t\tthis._scale.max = max;\n\t\t}\n\t});\n\n\t/**\n\t * The envelope's exponent value. \n\t * @memberOf Tone.ScaledEnvelope#\n\t * @type {number}\n\t * @name exponent\n\t */\n\tObject.defineProperty(Tone.ScaledEnvelope.prototype, \"exponent\", {\n\t\tget : function(){\n\t\t\treturn this._exp.value;\n\t\t},\n\t\tset : function(exp){\n\t\t\tthis._exp.value = exp;\n\t\t}\n\t});\n\t\n\t/**\n\t *  clean up\n\t *  @returns {Tone.ScaledEnvelope} `this`\n\t */\n\tTone.ScaledEnvelope.prototype.dispose = function(){\n\t\tTone.Envelope.prototype.dispose.call(this);\n\t\tthis._scale.dispose();\n\t\tthis._scale = null;\n\t\tthis._exp.dispose();\n\t\tthis._exp = null;\n\t\treturn this;\n\t};\n\n\treturn Tone.ScaledEnvelope;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/component/ScaledEnvelope.js\n ** module id = 49\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/signal/Add\", \"Tone/signal/Multiply\", \"Tone/signal/Signal\"], function(Tone){\n\n\t\"use strict\";\n\t\n\t/**\n\t *  @class  Performs a linear scaling on an input signal.\n\t *          Scales a normal gain input range [0,1] to between\n\t *          outputMin and outputMax\n\t *\n\t *  @constructor\n\t *  @extends {Tone.SignalBase}\n\t *  @param {number} [outputMin=0]\n\t *  @param {number} [outputMax=1]\n\t *  @example\n\t *  var scale = new Tone.Scale(50, 100);\n\t *  var signal = new Tone.Signal(0.5).connect(scale);\n\t *  //the output of scale equals 75\n\t */\n\tTone.Scale = function(outputMin, outputMax){\n\n\t\t/** \n\t\t *  @private\n\t\t *  @type {number}\n\t\t */\n\t\tthis._outputMin = this.defaultArg(outputMin, 0);\n\n\t\t/** \n\t\t *  @private\n\t\t *  @type {number}\n\t\t */\n\t\tthis._outputMax = this.defaultArg(outputMax, 1);\n\n\n\t\t/** \n\t\t *  @private\n\t\t *  @type {Tone.Multiply}\n\t\t *  @private\n\t\t */\n\t\tthis._scale = this.input = new Tone.Multiply(1);\n\t\t\n\t\t/** \n\t\t *  @private\n\t\t *  @type {Tone.Add}\n\t\t *  @private\n\t\t */\n\t\tthis._add = this.output = new Tone.Add(0);\n\n\t\tthis._scale.connect(this._add);\n\t\tthis._setRange();\n\t};\n\n\tTone.extend(Tone.Scale, Tone.SignalBase);\n\n\t/**\n\t * The minimum output value.\n\t * @memberOf Tone.Scale#\n\t * @type {number}\n\t * @name min\n\t */\n\tObject.defineProperty(Tone.Scale.prototype, \"min\", {\n\t\tget : function(){\n\t\t\treturn this._outputMin;\n\t\t},\n\t\tset : function(min){\n\t\t\tthis._outputMin = min;\n\t\t\tthis._setRange();\n\t\t}\n\t});\n\n\t/**\n\t * The maximum output value.\n\t * @memberOf Tone.Scale#\n\t * @type {number}\n\t * @name max\n\t */\n\tObject.defineProperty(Tone.Scale.prototype, \"max\", {\n\t\tget : function(){\n\t\t\treturn this._outputMax;\n\t\t},\n\t\tset : function(max){\n\t\t\tthis._outputMax = max;\n\t\t\tthis._setRange();\n\t\t}\n\t});\n\n\t/**\n\t *  set the values\n\t *  @private\n\t */\n\tTone.Scale.prototype._setRange = function() {\n\t\tthis._add.value = this._outputMin;\n\t\tthis._scale.value = this._outputMax - this._outputMin;\n\t};\n\n\t/**\n\t *  clean up\n\t *  @returns {Tone.Scale} `this`\n\t */\n\tTone.Scale.prototype.dispose = function(){\n\t\tTone.prototype.dispose.call(this);\n\t\tthis._add.dispose();\n\t\tthis._add = null;\n\t\tthis._scale.dispose();\n\t\tthis._scale = null;\n\t\treturn this;\n\t}; \n\n\treturn Tone.Scale;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/signal/Scale.js\n ** module id = 50\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/signal/Signal\"], function(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t *  @class Add a signal and a number or two signals. <br><br>\n\t *         input 0: augend. input 1: addend. <br><br>\n\t *         Add can be used in two ways, either constructed with a value,\n\t *         or constructed with no initial value and with signals connected\n\t *         to each of its two inputs. \n\t *\n\t *  @constructor\n\t *  @extends {Tone.Signal}\n\t *  @param {number=} value if no value is provided, Tone.Add will sum the first\n\t *                         and second inputs. \n\t *  @example\n\t *  var signal = new Tone.Signal(2);\n\t *  var add = new Tone.Add(2);\n\t *  signal.connect(add);\n\t *  //the output of add equals 4\n\t *\n\t *  //if constructed with no arguments\n\t *  //it will add the first and second inputs\n\t *  var add = new Tone.Add();\n\t *  var sig0 = new Tone.Signal(3).connect(add, 0, 0);\n\t *  var sig1 = new Tone.Signal(4).connect(add, 0, 1);\n\t *  //the output of add equals 7. \n\t */\n\tTone.Add = function(value){\n\n\t\tTone.call(this, 2, 0);\n\n\t\t/**\n\t\t *  the summing node\n\t\t *  @type {GainNode}\n\t\t *  @private\n\t\t */\n\t\tthis._sum = this.input[0] = this.input[1] = this.output = this.context.createGain();\n\n\t\t/**\n\t\t *  @private\n\t\t *  @type {Tone.Signal}\n\t\t */\n\t\tthis._value = this.input[1] = new Tone.Signal(value);\n\n\t\tthis._value.connect(this._sum);\n\t};\n\n\tTone.extend(Tone.Add, Tone.Signal);\n\t\n\t/**\n\t *  dispose method\n\t *  @returns {Tone.Add} `this`\n\t */\n\tTone.Add.prototype.dispose = function(){\n\t\tTone.prototype.dispose.call(this);\n\t\tthis._sum.disconnect();\n\t\tthis._sum = null;\n\t\tthis._value.dispose();\n\t\tthis._value = null;\n\t\treturn this;\n\t}; \n\n\treturn Tone.Add;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/signal/Add.js\n ** module id = 51\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/instrument/Instrument\", \"Tone/signal/Signal\"], function(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t *  @class  this is a base class for monophonic instruments. \n\t *          it defines their interfaces\n\t *\n\t *  @constructor\n\t *  @abstract\n\t *  @extends {Tone.Instrument}\n\t */\n\tTone.Monophonic = function(options){\n\n\t\tTone.Instrument.call(this);\n\n\t\t//get the defaults\n\t\toptions = this.defaultArg(options, Tone.Monophonic.defaults);\n\n\t\t/**\n\t\t *  The glide time between notes. \n\t\t *  @type {Tone.Type.Time}\n\t\t */\n\t\tthis.portamento = options.portamento;\n\t};\n\n\tTone.extend(Tone.Monophonic, Tone.Instrument);\n\n\t/**\n\t *  @static\n\t *  @const\n\t *  @type {Object}\n\t */\n\tTone.Monophonic.defaults = {\n\t\t\"portamento\" : 0\n\t};\n\n\t/**\n\t *  trigger the attack. start the note, at the time with the velocity\n\t *  \n\t *  @param  {Tone.Type.Frequency} note     the note\n\t *  @param  {Tone.Type.Time} [time=now]     the time, if not given is now\n\t *  @param  {number} [velocity=1] velocity defaults to 1\n\t *  @returns {Tone.Monophonic} `this`\n\t */\n\tTone.Monophonic.prototype.triggerAttack = function(note, time, velocity) {\n\t\ttime = this.toSeconds(time);\n\t\tthis.triggerEnvelopeAttack(time, velocity);\n\t\tthis.setNote(note, time);\n\t\treturn this;\n\t};\n\n\t/**\n\t *  trigger the release portion of the envelope\n\t *  @param  {Tone.Type.Time} [time=now] if no time is given, the release happens immediatly\n\t *  @returns {Tone.Monophonic} `this`\n\t */\n\tTone.Monophonic.prototype.triggerRelease = function(time){\n\t\tthis.triggerEnvelopeRelease(time);\n\t\treturn this;\n\t};\n\n\t/**\n\t *  override this method with the actual method\n\t *  @abstract\n\t *  @param {Tone.Type.Time} [time=now] the time the attack should happen\n\t *  @param {number} [velocity=1] the velocity of the envelope\n\t *  @returns {Tone.Monophonic} `this`\n\t */\t\n\tTone.Monophonic.prototype.triggerEnvelopeAttack = function() {};\n\n\t/**\n\t *  override this method with the actual method\n\t *  @abstract\n\t *  @param {Tone.Type.Time} [time=now] the time the attack should happen\n\t *  @param {number} [velocity=1] the velocity of the envelope\n\t *  @returns {Tone.Monophonic} `this`\n\t */\t\n\tTone.Monophonic.prototype.triggerEnvelopeRelease = function() {};\n\n\t/**\n\t *  set the note to happen at a specific time\n\t *  @param {Tone.Type.Frequency} note if the note is a string, it will be \n\t *                              parsed as (NoteName)(Octave) i.e. A4, C#3, etc\n\t *                              otherwise it will be considered as the frequency\n\t *  @returns {Tone.Monophonic} `this`\n\t */\n\tTone.Monophonic.prototype.setNote = function(note, time){\n\t\ttime = this.toSeconds(time);\n\t\tif (this.portamento > 0){\n\t\t\tvar currentNote = this.frequency.value;\n\t\t\tthis.frequency.setValueAtTime(currentNote, time);\n\t\t\tvar portTime = this.toSeconds(this.portamento);\n\t\t\tthis.frequency.exponentialRampToValueAtTime(note, time + portTime);\n\t\t} else {\n\t\t\tthis.frequency.setValueAtTime(note, time);\n\t\t}\n\t\treturn this;\n\t};\n\n\treturn Tone.Monophonic;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/instrument/Monophonic.js\n ** module id = 52\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/core/Master\", \"Tone/core/Note\"], function(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t *  @class  Base-class for all instruments\n\t *  \n\t *  @constructor\n\t *  @extends {Tone}\n\t */\n\tTone.Instrument = function(){\n\n\t\t/**\n\t\t *  the output\n\t\t *  @type {GainNode}\n\t\t *  @private\n\t\t */\n\t\tthis.output = this.context.createGain();\n\n\t\t/**\n\t\t * the volume of the output in decibels\n\t\t * @type {Tone.Signal}\n\t\t */\n\t\tthis.volume = new Tone.Signal(this.output.gain, Tone.Type.Decibels);\n\t\tthis._readOnly([\"volume\"]);\n\t};\n\n\tTone.extend(Tone.Instrument);\n\n\t/**\n\t *  the default attributes\n\t *  @type {object}\n\t */\n\tTone.Instrument.defaults = {\n\t\t/** the volume of the output in decibels */\n\t\t\"volume\" : 0\n\t};\n\n\t/**\n\t *  @abstract\n\t *  @param {string|number} note the note to trigger\n\t *  @param {Tone.Type.Time} [time=now] the time to trigger the ntoe\n\t *  @param {number} [velocity=1] the velocity to trigger the note\n\t */\n\tTone.Instrument.prototype.triggerAttack = function(){};\n\n\t/**\n\t *  @abstract\n\t *  @param {Tone.Type.Time} [time=now] when to trigger the release\n\t */\n\tTone.Instrument.prototype.triggerRelease = function(){};\n\n\t/**\n\t *  trigger the attack and then the release\n\t *  @param  {string|number} note     the note to trigger\n\t *  @param  {Tone.Type.Time} duration the duration of the note\n\t *  @param {Tone.Type.Time} [time=now]     the time of the attack\n\t *  @param  {number} velocity the velocity\n\t *  @returns {Tone.Instrument} `this`\n\t */\n\tTone.Instrument.prototype.triggerAttackRelease = function(note, duration, time, velocity){\n\t\ttime = this.toSeconds(time);\n\t\tduration = this.toSeconds(duration);\n\t\tthis.triggerAttack(note, time, velocity);\n\t\tthis.triggerRelease(time + duration);\n\t\treturn this;\n\t};\n\n\t/**\n\t *  clean up\n\t *  @returns {Tone.Instrument} `this`\n\t */\n\tTone.Instrument.prototype.dispose = function(){\n\t\tTone.prototype.dispose.call(this);\n\t\tthis._writable([\"volume\"]);\n\t\tthis.volume.dispose();\n\t\tthis.volume = null;\n\t\treturn this;\n\t};\n\n\treturn Tone.Instrument;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/instrument/Instrument.js\n ** module id = 53\n ** module chunks = 1\n **/","// threejs.org/license\n'use strict';var THREE={REVISION:\"71\"};\"object\"===typeof module&&(module.exports=THREE);void 0===Math.sign&&(Math.sign=function(a){return 0>a?-1:0<a?1:+a});THREE.log=function(){console.log.apply(console,arguments)};THREE.warn=function(){console.warn.apply(console,arguments)};THREE.error=function(){console.error.apply(console,arguments)};THREE.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2};THREE.CullFaceNone=0;THREE.CullFaceBack=1;THREE.CullFaceFront=2;THREE.CullFaceFrontBack=3;THREE.FrontFaceDirectionCW=0;\nTHREE.FrontFaceDirectionCCW=1;THREE.BasicShadowMap=0;THREE.PCFShadowMap=1;THREE.PCFSoftShadowMap=2;THREE.FrontSide=0;THREE.BackSide=1;THREE.DoubleSide=2;THREE.NoShading=0;THREE.FlatShading=1;THREE.SmoothShading=2;THREE.NoColors=0;THREE.FaceColors=1;THREE.VertexColors=2;THREE.NoBlending=0;THREE.NormalBlending=1;THREE.AdditiveBlending=2;THREE.SubtractiveBlending=3;THREE.MultiplyBlending=4;THREE.CustomBlending=5;THREE.AddEquation=100;THREE.SubtractEquation=101;THREE.ReverseSubtractEquation=102;\nTHREE.MinEquation=103;THREE.MaxEquation=104;THREE.ZeroFactor=200;THREE.OneFactor=201;THREE.SrcColorFactor=202;THREE.OneMinusSrcColorFactor=203;THREE.SrcAlphaFactor=204;THREE.OneMinusSrcAlphaFactor=205;THREE.DstAlphaFactor=206;THREE.OneMinusDstAlphaFactor=207;THREE.DstColorFactor=208;THREE.OneMinusDstColorFactor=209;THREE.SrcAlphaSaturateFactor=210;THREE.MultiplyOperation=0;THREE.MixOperation=1;THREE.AddOperation=2;THREE.UVMapping=300;THREE.CubeReflectionMapping=301;THREE.CubeRefractionMapping=302;\nTHREE.EquirectangularReflectionMapping=303;THREE.EquirectangularRefractionMapping=304;THREE.SphericalReflectionMapping=305;THREE.RepeatWrapping=1E3;THREE.ClampToEdgeWrapping=1001;THREE.MirroredRepeatWrapping=1002;THREE.NearestFilter=1003;THREE.NearestMipMapNearestFilter=1004;THREE.NearestMipMapLinearFilter=1005;THREE.LinearFilter=1006;THREE.LinearMipMapNearestFilter=1007;THREE.LinearMipMapLinearFilter=1008;THREE.UnsignedByteType=1009;THREE.ByteType=1010;THREE.ShortType=1011;\nTHREE.UnsignedShortType=1012;THREE.IntType=1013;THREE.UnsignedIntType=1014;THREE.FloatType=1015;THREE.HalfFloatType=1025;THREE.UnsignedShort4444Type=1016;THREE.UnsignedShort5551Type=1017;THREE.UnsignedShort565Type=1018;THREE.AlphaFormat=1019;THREE.RGBFormat=1020;THREE.RGBAFormat=1021;THREE.LuminanceFormat=1022;THREE.LuminanceAlphaFormat=1023;THREE.RGBEFormat=THREE.RGBAFormat;THREE.RGB_S3TC_DXT1_Format=2001;THREE.RGBA_S3TC_DXT1_Format=2002;THREE.RGBA_S3TC_DXT3_Format=2003;\nTHREE.RGBA_S3TC_DXT5_Format=2004;THREE.RGB_PVRTC_4BPPV1_Format=2100;THREE.RGB_PVRTC_2BPPV1_Format=2101;THREE.RGBA_PVRTC_4BPPV1_Format=2102;THREE.RGBA_PVRTC_2BPPV1_Format=2103;\nTHREE.Projector=function(){THREE.error(\"THREE.Projector has been moved to /examples/js/renderers/Projector.js.\");this.projectVector=function(a,b){THREE.warn(\"THREE.Projector: .projectVector() is now vector.project().\");a.project(b)};this.unprojectVector=function(a,b){THREE.warn(\"THREE.Projector: .unprojectVector() is now vector.unproject().\");a.unproject(b)};this.pickingRay=function(a,b){THREE.error(\"THREE.Projector: .pickingRay() is now raycaster.setFromCamera().\")}};\nTHREE.CanvasRenderer=function(){THREE.error(\"THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js\");this.domElement=document.createElement(\"canvas\");this.clear=function(){};this.render=function(){};this.setClearColor=function(){};this.setSize=function(){}};THREE.Color=function(a){return 3===arguments.length?this.setRGB(arguments[0],arguments[1],arguments[2]):this.set(a)};\nTHREE.Color.prototype={constructor:THREE.Color,r:1,g:1,b:1,set:function(a){a instanceof THREE.Color?this.copy(a):\"number\"===typeof a?this.setHex(a):\"string\"===typeof a&&this.setStyle(a);return this},setHex:function(a){a=Math.floor(a);this.r=(a>>16&255)/255;this.g=(a>>8&255)/255;this.b=(a&255)/255;return this},setRGB:function(a,b,c){this.r=a;this.g=b;this.b=c;return this},setHSL:function(a,b,c){if(0===b)this.r=this.g=this.b=c;else{var d=function(a,b,c){0>c&&(c+=1);1<c&&(c-=1);return c<1/6?a+6*(b-a)*\nc:.5>c?b:c<2/3?a+6*(b-a)*(2/3-c):a};b=.5>=c?c*(1+b):c+b-c*b;c=2*c-b;this.r=d(c,b,a+1/3);this.g=d(c,b,a);this.b=d(c,b,a-1/3)}return this},setStyle:function(a){if(/^rgb\\((\\d+), ?(\\d+), ?(\\d+)\\)$/i.test(a))return a=/^rgb\\((\\d+), ?(\\d+), ?(\\d+)\\)$/i.exec(a),this.r=Math.min(255,parseInt(a[1],10))/255,this.g=Math.min(255,parseInt(a[2],10))/255,this.b=Math.min(255,parseInt(a[3],10))/255,this;if(/^rgb\\((\\d+)\\%, ?(\\d+)\\%, ?(\\d+)\\%\\)$/i.test(a))return a=/^rgb\\((\\d+)\\%, ?(\\d+)\\%, ?(\\d+)\\%\\)$/i.exec(a),this.r=\nMath.min(100,parseInt(a[1],10))/100,this.g=Math.min(100,parseInt(a[2],10))/100,this.b=Math.min(100,parseInt(a[3],10))/100,this;if(/^\\#([0-9a-f]{6})$/i.test(a))return a=/^\\#([0-9a-f]{6})$/i.exec(a),this.setHex(parseInt(a[1],16)),this;if(/^\\#([0-9a-f])([0-9a-f])([0-9a-f])$/i.test(a))return a=/^\\#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(a),this.setHex(parseInt(a[1]+a[1]+a[2]+a[2]+a[3]+a[3],16)),this;if(/^(\\w+)$/i.test(a))return this.setHex(THREE.ColorKeywords[a]),this},copy:function(a){this.r=a.r;this.g=\na.g;this.b=a.b;return this},copyGammaToLinear:function(a,b){void 0===b&&(b=2);this.r=Math.pow(a.r,b);this.g=Math.pow(a.g,b);this.b=Math.pow(a.b,b);return this},copyLinearToGamma:function(a,b){void 0===b&&(b=2);var c=0<b?1/b:1;this.r=Math.pow(a.r,c);this.g=Math.pow(a.g,c);this.b=Math.pow(a.b,c);return this},convertGammaToLinear:function(){var a=this.r,b=this.g,c=this.b;this.r=a*a;this.g=b*b;this.b=c*c;return this},convertLinearToGamma:function(){this.r=Math.sqrt(this.r);this.g=Math.sqrt(this.g);this.b=\nMath.sqrt(this.b);return this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return(\"000000\"+this.getHex().toString(16)).slice(-6)},getHSL:function(a){a=a||{h:0,s:0,l:0};var b=this.r,c=this.g,d=this.b,e=Math.max(b,c,d),f=Math.min(b,c,d),g,h=(f+e)/2;if(f===e)f=g=0;else{var k=e-f,f=.5>=h?k/(e+f):k/(2-e-f);switch(e){case b:g=(c-d)/k+(c<d?6:0);break;case c:g=(d-b)/k+2;break;case d:g=(b-c)/k+4}g/=6}a.h=g;a.s=f;a.l=h;return a},getStyle:function(){return\"rgb(\"+\n(255*this.r|0)+\",\"+(255*this.g|0)+\",\"+(255*this.b|0)+\")\"},offsetHSL:function(a,b,c){var d=this.getHSL();d.h+=a;d.s+=b;d.l+=c;this.setHSL(d.h,d.s,d.l);return this},add:function(a){this.r+=a.r;this.g+=a.g;this.b+=a.b;return this},addColors:function(a,b){this.r=a.r+b.r;this.g=a.g+b.g;this.b=a.b+b.b;return this},addScalar:function(a){this.r+=a;this.g+=a;this.b+=a;return this},multiply:function(a){this.r*=a.r;this.g*=a.g;this.b*=a.b;return this},multiplyScalar:function(a){this.r*=a;this.g*=a;this.b*=a;\nreturn this},lerp:function(a,b){this.r+=(a.r-this.r)*b;this.g+=(a.g-this.g)*b;this.b+=(a.b-this.b)*b;return this},equals:function(a){return a.r===this.r&&a.g===this.g&&a.b===this.b},fromArray:function(a){this.r=a[0];this.g=a[1];this.b=a[2];return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.r;a[b+1]=this.g;a[b+2]=this.b;return a},clone:function(){return(new THREE.Color).setRGB(this.r,this.g,this.b)}};\nTHREE.ColorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,\ndarkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,\ngrey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,\nlime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,\npalegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,\ntomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};THREE.Quaternion=function(a,b,c,d){this._x=a||0;this._y=b||0;this._z=c||0;this._w=void 0!==d?d:1};\nTHREE.Quaternion.prototype={constructor:THREE.Quaternion,_x:0,_y:0,_z:0,_w:0,get x(){return this._x},set x(a){this._x=a;this.onChangeCallback()},get y(){return this._y},set y(a){this._y=a;this.onChangeCallback()},get z(){return this._z},set z(a){this._z=a;this.onChangeCallback()},get w(){return this._w},set w(a){this._w=a;this.onChangeCallback()},set:function(a,b,c,d){this._x=a;this._y=b;this._z=c;this._w=d;this.onChangeCallback();return this},copy:function(a){this._x=a.x;this._y=a.y;this._z=a.z;\nthis._w=a.w;this.onChangeCallback();return this},setFromEuler:function(a,b){if(!1===a instanceof THREE.Euler)throw Error(\"THREE.Quaternion: .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.\");var c=Math.cos(a._x/2),d=Math.cos(a._y/2),e=Math.cos(a._z/2),f=Math.sin(a._x/2),g=Math.sin(a._y/2),h=Math.sin(a._z/2);\"XYZ\"===a.order?(this._x=f*d*e+c*g*h,this._y=c*g*e-f*d*h,this._z=c*d*h+f*g*e,this._w=c*d*e-f*g*h):\"YXZ\"===a.order?(this._x=f*d*e+c*g*h,this._y=c*g*e-f*d*h,this._z=\nc*d*h-f*g*e,this._w=c*d*e+f*g*h):\"ZXY\"===a.order?(this._x=f*d*e-c*g*h,this._y=c*g*e+f*d*h,this._z=c*d*h+f*g*e,this._w=c*d*e-f*g*h):\"ZYX\"===a.order?(this._x=f*d*e-c*g*h,this._y=c*g*e+f*d*h,this._z=c*d*h-f*g*e,this._w=c*d*e+f*g*h):\"YZX\"===a.order?(this._x=f*d*e+c*g*h,this._y=c*g*e+f*d*h,this._z=c*d*h-f*g*e,this._w=c*d*e-f*g*h):\"XZY\"===a.order&&(this._x=f*d*e-c*g*h,this._y=c*g*e-f*d*h,this._z=c*d*h+f*g*e,this._w=c*d*e+f*g*h);if(!1!==b)this.onChangeCallback();return this},setFromAxisAngle:function(a,\nb){var c=b/2,d=Math.sin(c);this._x=a.x*d;this._y=a.y*d;this._z=a.z*d;this._w=Math.cos(c);this.onChangeCallback();return this},setFromRotationMatrix:function(a){var b=a.elements,c=b[0];a=b[4];var d=b[8],e=b[1],f=b[5],g=b[9],h=b[2],k=b[6],b=b[10],l=c+f+b;0<l?(c=.5/Math.sqrt(l+1),this._w=.25/c,this._x=(k-g)*c,this._y=(d-h)*c,this._z=(e-a)*c):c>f&&c>b?(c=2*Math.sqrt(1+c-f-b),this._w=(k-g)/c,this._x=.25*c,this._y=(a+e)/c,this._z=(d+h)/c):f>b?(c=2*Math.sqrt(1+f-c-b),this._w=(d-h)/c,this._x=(a+e)/c,this._y=\n.25*c,this._z=(g+k)/c):(c=2*Math.sqrt(1+b-c-f),this._w=(e-a)/c,this._x=(d+h)/c,this._y=(g+k)/c,this._z=.25*c);this.onChangeCallback();return this},setFromUnitVectors:function(){var a,b;return function(c,d){void 0===a&&(a=new THREE.Vector3);b=c.dot(d)+1;1E-6>b?(b=0,Math.abs(c.x)>Math.abs(c.z)?a.set(-c.y,c.x,0):a.set(0,-c.z,c.y)):a.crossVectors(c,d);this._x=a.x;this._y=a.y;this._z=a.z;this._w=b;this.normalize();return this}}(),inverse:function(){this.conjugate().normalize();return this},conjugate:function(){this._x*=\n-1;this._y*=-1;this._z*=-1;this.onChangeCallback();return this},dot:function(a){return this._x*a._x+this._y*a._y+this._z*a._z+this._w*a._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var a=this.length();0===a?(this._z=this._y=this._x=0,this._w=1):(a=1/a,this._x*=a,this._y*=a,this._z*=a,this._w*=a);this.onChangeCallback();return this},\nmultiply:function(a,b){return void 0!==b?(THREE.warn(\"THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.\"),this.multiplyQuaternions(a,b)):this.multiplyQuaternions(this,a)},multiplyQuaternions:function(a,b){var c=a._x,d=a._y,e=a._z,f=a._w,g=b._x,h=b._y,k=b._z,l=b._w;this._x=c*l+f*g+d*k-e*h;this._y=d*l+f*h+e*g-c*k;this._z=e*l+f*k+c*h-d*g;this._w=f*l-c*g-d*h-e*k;this.onChangeCallback();return this},multiplyVector3:function(a){THREE.warn(\"THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.\");\nreturn a.applyQuaternion(this)},slerp:function(a,b){if(0===b)return this;if(1===b)return this.copy(a);var c=this._x,d=this._y,e=this._z,f=this._w,g=f*a._w+c*a._x+d*a._y+e*a._z;0>g?(this._w=-a._w,this._x=-a._x,this._y=-a._y,this._z=-a._z,g=-g):this.copy(a);if(1<=g)return this._w=f,this._x=c,this._y=d,this._z=e,this;var h=Math.acos(g),k=Math.sqrt(1-g*g);if(.001>Math.abs(k))return this._w=.5*(f+this._w),this._x=.5*(c+this._x),this._y=.5*(d+this._y),this._z=.5*(e+this._z),this;g=Math.sin((1-b)*h)/k;h=\nMath.sin(b*h)/k;this._w=f*g+this._w*h;this._x=c*g+this._x*h;this._y=d*g+this._y*h;this._z=e*g+this._z*h;this.onChangeCallback();return this},equals:function(a){return a._x===this._x&&a._y===this._y&&a._z===this._z&&a._w===this._w},fromArray:function(a,b){void 0===b&&(b=0);this._x=a[b];this._y=a[b+1];this._z=a[b+2];this._w=a[b+3];this.onChangeCallback();return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this._x;a[b+1]=this._y;a[b+2]=this._z;a[b+3]=this._w;return a},onChange:function(a){this.onChangeCallback=\na;return this},onChangeCallback:function(){},clone:function(){return new THREE.Quaternion(this._x,this._y,this._z,this._w)}};THREE.Quaternion.slerp=function(a,b,c,d){return c.copy(a).slerp(b,d)};THREE.Vector2=function(a,b){this.x=a||0;this.y=b||0};\nTHREE.Vector2.prototype={constructor:THREE.Vector2,set:function(a,b){this.x=a;this.y=b;return this},setX:function(a){this.x=a;return this},setY:function(a){this.y=a;return this},setComponent:function(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;default:throw Error(\"index is out of range: \"+a);}},getComponent:function(a){switch(a){case 0:return this.x;case 1:return this.y;default:throw Error(\"index is out of range: \"+a);}},copy:function(a){this.x=a.x;this.y=a.y;return this},add:function(a,\nb){if(void 0!==b)return THREE.warn(\"THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.\"),this.addVectors(a,b);this.x+=a.x;this.y+=a.y;return this},addScalar:function(a){this.x+=a;this.y+=a;return this},addVectors:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;return this},sub:function(a,b){if(void 0!==b)return THREE.warn(\"THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.\"),this.subVectors(a,b);this.x-=a.x;this.y-=a.y;return this},\nsubScalar:function(a){this.x-=a;this.y-=a;return this},subVectors:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;return this},multiply:function(a){this.x*=a.x;this.y*=a.y;return this},multiplyScalar:function(a){this.x*=a;this.y*=a;return this},divide:function(a){this.x/=a.x;this.y/=a.y;return this},divideScalar:function(a){0!==a?(a=1/a,this.x*=a,this.y*=a):this.y=this.x=0;return this},min:function(a){this.x>a.x&&(this.x=a.x);this.y>a.y&&(this.y=a.y);return this},max:function(a){this.x<a.x&&(this.x=a.x);\nthis.y<a.y&&(this.y=a.y);return this},clamp:function(a,b){this.x<a.x?this.x=a.x:this.x>b.x&&(this.x=b.x);this.y<a.y?this.y=a.y:this.y>b.y&&(this.y=b.y);return this},clampScalar:function(){var a,b;return function(c,d){void 0===a&&(a=new THREE.Vector2,b=new THREE.Vector2);a.set(c,c);b.set(d,d);return this.clamp(a,b)}}(),floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this},round:function(){this.x=\nMath.round(this.x);this.y=Math.round(this.y);return this},roundToZero:function(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);return this},negate:function(){this.x=-this.x;this.y=-this.y;return this},dot:function(a){return this.x*a.x+this.y*a.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},normalize:function(){return this.divideScalar(this.length())},distanceTo:function(a){return Math.sqrt(this.distanceToSquared(a))},\ndistanceToSquared:function(a){var b=this.x-a.x;a=this.y-a.y;return b*b+a*a},setLength:function(a){var b=this.length();0!==b&&a!==b&&this.multiplyScalar(a/b);return this},lerp:function(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;return this},lerpVectors:function(a,b,c){this.subVectors(b,a).multiplyScalar(c).add(a);return this},equals:function(a){return a.x===this.x&&a.y===this.y},fromArray:function(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];return this},toArray:function(a,b){void 0===\na&&(a=[]);void 0===b&&(b=0);a[b]=this.x;a[b+1]=this.y;return a},fromAttribute:function(a,b,c){void 0===c&&(c=0);b=b*a.itemSize+c;this.x=a.array[b];this.y=a.array[b+1];return this},clone:function(){return new THREE.Vector2(this.x,this.y)}};THREE.Vector3=function(a,b,c){this.x=a||0;this.y=b||0;this.z=c||0};\nTHREE.Vector3.prototype={constructor:THREE.Vector3,set:function(a,b,c){this.x=a;this.y=b;this.z=c;return this},setX:function(a){this.x=a;return this},setY:function(a){this.y=a;return this},setZ:function(a){this.z=a;return this},setComponent:function(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;case 2:this.z=b;break;default:throw Error(\"index is out of range: \"+a);}},getComponent:function(a){switch(a){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw Error(\"index is out of range: \"+\na);}},copy:function(a){this.x=a.x;this.y=a.y;this.z=a.z;return this},add:function(a,b){if(void 0!==b)return THREE.warn(\"THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.\"),this.addVectors(a,b);this.x+=a.x;this.y+=a.y;this.z+=a.z;return this},addScalar:function(a){this.x+=a;this.y+=a;this.z+=a;return this},addVectors:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;return this},sub:function(a,b){if(void 0!==b)return THREE.warn(\"THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.\"),\nthis.subVectors(a,b);this.x-=a.x;this.y-=a.y;this.z-=a.z;return this},subScalar:function(a){this.x-=a;this.y-=a;this.z-=a;return this},subVectors:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;return this},multiply:function(a,b){if(void 0!==b)return THREE.warn(\"THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.\"),this.multiplyVectors(a,b);this.x*=a.x;this.y*=a.y;this.z*=a.z;return this},multiplyScalar:function(a){this.x*=a;this.y*=a;this.z*=\na;return this},multiplyVectors:function(a,b){this.x=a.x*b.x;this.y=a.y*b.y;this.z=a.z*b.z;return this},applyEuler:function(){var a;return function(b){!1===b instanceof THREE.Euler&&THREE.error(\"THREE.Vector3: .applyEuler() now expects a Euler rotation rather than a Vector3 and order.\");void 0===a&&(a=new THREE.Quaternion);this.applyQuaternion(a.setFromEuler(b));return this}}(),applyAxisAngle:function(){var a;return function(b,c){void 0===a&&(a=new THREE.Quaternion);this.applyQuaternion(a.setFromAxisAngle(b,\nc));return this}}(),applyMatrix3:function(a){var b=this.x,c=this.y,d=this.z;a=a.elements;this.x=a[0]*b+a[3]*c+a[6]*d;this.y=a[1]*b+a[4]*c+a[7]*d;this.z=a[2]*b+a[5]*c+a[8]*d;return this},applyMatrix4:function(a){var b=this.x,c=this.y,d=this.z;a=a.elements;this.x=a[0]*b+a[4]*c+a[8]*d+a[12];this.y=a[1]*b+a[5]*c+a[9]*d+a[13];this.z=a[2]*b+a[6]*c+a[10]*d+a[14];return this},applyProjection:function(a){var b=this.x,c=this.y,d=this.z;a=a.elements;var e=1/(a[3]*b+a[7]*c+a[11]*d+a[15]);this.x=(a[0]*b+a[4]*\nc+a[8]*d+a[12])*e;this.y=(a[1]*b+a[5]*c+a[9]*d+a[13])*e;this.z=(a[2]*b+a[6]*c+a[10]*d+a[14])*e;return this},applyQuaternion:function(a){var b=this.x,c=this.y,d=this.z,e=a.x,f=a.y,g=a.z;a=a.w;var h=a*b+f*d-g*c,k=a*c+g*b-e*d,l=a*d+e*c-f*b,b=-e*b-f*c-g*d;this.x=h*a+b*-e+k*-g-l*-f;this.y=k*a+b*-f+l*-e-h*-g;this.z=l*a+b*-g+h*-f-k*-e;return this},project:function(){var a;return function(b){void 0===a&&(a=new THREE.Matrix4);a.multiplyMatrices(b.projectionMatrix,a.getInverse(b.matrixWorld));return this.applyProjection(a)}}(),\nunproject:function(){var a;return function(b){void 0===a&&(a=new THREE.Matrix4);a.multiplyMatrices(b.matrixWorld,a.getInverse(b.projectionMatrix));return this.applyProjection(a)}}(),transformDirection:function(a){var b=this.x,c=this.y,d=this.z;a=a.elements;this.x=a[0]*b+a[4]*c+a[8]*d;this.y=a[1]*b+a[5]*c+a[9]*d;this.z=a[2]*b+a[6]*c+a[10]*d;this.normalize();return this},divide:function(a){this.x/=a.x;this.y/=a.y;this.z/=a.z;return this},divideScalar:function(a){0!==a?(a=1/a,this.x*=a,this.y*=a,this.z*=\na):this.z=this.y=this.x=0;return this},min:function(a){this.x>a.x&&(this.x=a.x);this.y>a.y&&(this.y=a.y);this.z>a.z&&(this.z=a.z);return this},max:function(a){this.x<a.x&&(this.x=a.x);this.y<a.y&&(this.y=a.y);this.z<a.z&&(this.z=a.z);return this},clamp:function(a,b){this.x<a.x?this.x=a.x:this.x>b.x&&(this.x=b.x);this.y<a.y?this.y=a.y:this.y>b.y&&(this.y=b.y);this.z<a.z?this.z=a.z:this.z>b.z&&(this.z=b.z);return this},clampScalar:function(){var a,b;return function(c,d){void 0===a&&(a=new THREE.Vector3,\nb=new THREE.Vector3);a.set(c,c,c);b.set(d,d,d);return this.clamp(a,b)}}(),floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);return this},roundToZero:function(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):\nMath.floor(this.y);this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z);return this},negate:function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;return this},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},\nsetLength:function(a){var b=this.length();0!==b&&a!==b&&this.multiplyScalar(a/b);return this},lerp:function(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;this.z+=(a.z-this.z)*b;return this},lerpVectors:function(a,b,c){this.subVectors(b,a).multiplyScalar(c).add(a);return this},cross:function(a,b){if(void 0!==b)return THREE.warn(\"THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.\"),this.crossVectors(a,b);var c=this.x,d=this.y,e=this.z;this.x=d*a.z-e*a.y;this.y=\ne*a.x-c*a.z;this.z=c*a.y-d*a.x;return this},crossVectors:function(a,b){var c=a.x,d=a.y,e=a.z,f=b.x,g=b.y,h=b.z;this.x=d*h-e*g;this.y=e*f-c*h;this.z=c*g-d*f;return this},projectOnVector:function(){var a,b;return function(c){void 0===a&&(a=new THREE.Vector3);a.copy(c).normalize();b=this.dot(a);return this.copy(a).multiplyScalar(b)}}(),projectOnPlane:function(){var a;return function(b){void 0===a&&(a=new THREE.Vector3);a.copy(this).projectOnVector(b);return this.sub(a)}}(),reflect:function(){var a;return function(b){void 0===\na&&(a=new THREE.Vector3);return this.sub(a.copy(b).multiplyScalar(2*this.dot(b)))}}(),angleTo:function(a){a=this.dot(a)/(this.length()*a.length());return Math.acos(THREE.Math.clamp(a,-1,1))},distanceTo:function(a){return Math.sqrt(this.distanceToSquared(a))},distanceToSquared:function(a){var b=this.x-a.x,c=this.y-a.y;a=this.z-a.z;return b*b+c*c+a*a},setEulerFromRotationMatrix:function(a,b){THREE.error(\"THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.\")},\nsetEulerFromQuaternion:function(a,b){THREE.error(\"THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.\")},getPositionFromMatrix:function(a){THREE.warn(\"THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().\");return this.setFromMatrixPosition(a)},getScaleFromMatrix:function(a){THREE.warn(\"THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().\");return this.setFromMatrixScale(a)},getColumnFromMatrix:function(a,\nb){THREE.warn(\"THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().\");return this.setFromMatrixColumn(a,b)},setFromMatrixPosition:function(a){this.x=a.elements[12];this.y=a.elements[13];this.z=a.elements[14];return this},setFromMatrixScale:function(a){var b=this.set(a.elements[0],a.elements[1],a.elements[2]).length(),c=this.set(a.elements[4],a.elements[5],a.elements[6]).length();a=this.set(a.elements[8],a.elements[9],a.elements[10]).length();this.x=b;this.y=c;this.z=a;\nreturn this},setFromMatrixColumn:function(a,b){var c=4*a,d=b.elements;this.x=d[c];this.y=d[c+1];this.z=d[c+2];return this},equals:function(a){return a.x===this.x&&a.y===this.y&&a.z===this.z},fromArray:function(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];this.z=a[b+2];return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.x;a[b+1]=this.y;a[b+2]=this.z;return a},fromAttribute:function(a,b,c){void 0===c&&(c=0);b=b*a.itemSize+c;this.x=a.array[b];this.y=a.array[b+1];this.z=\na.array[b+2];return this},clone:function(){return new THREE.Vector3(this.x,this.y,this.z)}};THREE.Vector4=function(a,b,c,d){this.x=a||0;this.y=b||0;this.z=c||0;this.w=void 0!==d?d:1};\nTHREE.Vector4.prototype={constructor:THREE.Vector4,set:function(a,b,c,d){this.x=a;this.y=b;this.z=c;this.w=d;return this},setX:function(a){this.x=a;return this},setY:function(a){this.y=a;return this},setZ:function(a){this.z=a;return this},setW:function(a){this.w=a;return this},setComponent:function(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;case 2:this.z=b;break;case 3:this.w=b;break;default:throw Error(\"index is out of range: \"+a);}},getComponent:function(a){switch(a){case 0:return this.x;\ncase 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw Error(\"index is out of range: \"+a);}},copy:function(a){this.x=a.x;this.y=a.y;this.z=a.z;this.w=void 0!==a.w?a.w:1;return this},add:function(a,b){if(void 0!==b)return THREE.warn(\"THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.\"),this.addVectors(a,b);this.x+=a.x;this.y+=a.y;this.z+=a.z;this.w+=a.w;return this},addScalar:function(a){this.x+=a;this.y+=a;this.z+=a;this.w+=a;return this},addVectors:function(a,\nb){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;this.w=a.w+b.w;return this},sub:function(a,b){if(void 0!==b)return THREE.warn(\"THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.\"),this.subVectors(a,b);this.x-=a.x;this.y-=a.y;this.z-=a.z;this.w-=a.w;return this},subScalar:function(a){this.x-=a;this.y-=a;this.z-=a;this.w-=a;return this},subVectors:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;this.w=a.w-b.w;return this},multiplyScalar:function(a){this.x*=\na;this.y*=a;this.z*=a;this.w*=a;return this},applyMatrix4:function(a){var b=this.x,c=this.y,d=this.z,e=this.w;a=a.elements;this.x=a[0]*b+a[4]*c+a[8]*d+a[12]*e;this.y=a[1]*b+a[5]*c+a[9]*d+a[13]*e;this.z=a[2]*b+a[6]*c+a[10]*d+a[14]*e;this.w=a[3]*b+a[7]*c+a[11]*d+a[15]*e;return this},divideScalar:function(a){0!==a?(a=1/a,this.x*=a,this.y*=a,this.z*=a,this.w*=a):(this.z=this.y=this.x=0,this.w=1);return this},setAxisAngleFromQuaternion:function(a){this.w=2*Math.acos(a.w);var b=Math.sqrt(1-a.w*a.w);1E-4>\nb?(this.x=1,this.z=this.y=0):(this.x=a.x/b,this.y=a.y/b,this.z=a.z/b);return this},setAxisAngleFromRotationMatrix:function(a){var b,c,d;a=a.elements;var e=a[0];d=a[4];var f=a[8],g=a[1],h=a[5],k=a[9];c=a[2];b=a[6];var l=a[10];if(.01>Math.abs(d-g)&&.01>Math.abs(f-c)&&.01>Math.abs(k-b)){if(.1>Math.abs(d+g)&&.1>Math.abs(f+c)&&.1>Math.abs(k+b)&&.1>Math.abs(e+h+l-3))return this.set(1,0,0,0),this;a=Math.PI;e=(e+1)/2;h=(h+1)/2;l=(l+1)/2;d=(d+g)/4;f=(f+c)/4;k=(k+b)/4;e>h&&e>l?.01>e?(b=0,d=c=.707106781):(b=\nMath.sqrt(e),c=d/b,d=f/b):h>l?.01>h?(b=.707106781,c=0,d=.707106781):(c=Math.sqrt(h),b=d/c,d=k/c):.01>l?(c=b=.707106781,d=0):(d=Math.sqrt(l),b=f/d,c=k/d);this.set(b,c,d,a);return this}a=Math.sqrt((b-k)*(b-k)+(f-c)*(f-c)+(g-d)*(g-d));.001>Math.abs(a)&&(a=1);this.x=(b-k)/a;this.y=(f-c)/a;this.z=(g-d)/a;this.w=Math.acos((e+h+l-1)/2);return this},min:function(a){this.x>a.x&&(this.x=a.x);this.y>a.y&&(this.y=a.y);this.z>a.z&&(this.z=a.z);this.w>a.w&&(this.w=a.w);return this},max:function(a){this.x<a.x&&\n(this.x=a.x);this.y<a.y&&(this.y=a.y);this.z<a.z&&(this.z=a.z);this.w<a.w&&(this.w=a.w);return this},clamp:function(a,b){this.x<a.x?this.x=a.x:this.x>b.x&&(this.x=b.x);this.y<a.y?this.y=a.y:this.y>b.y&&(this.y=b.y);this.z<a.z?this.z=a.z:this.z>b.z&&(this.z=b.z);this.w<a.w?this.w=a.w:this.w>b.w&&(this.w=b.w);return this},clampScalar:function(){var a,b;return function(c,d){void 0===a&&(a=new THREE.Vector4,b=new THREE.Vector4);a.set(c,c,c,c);b.set(d,d,d,d);return this.clamp(a,b)}}(),floor:function(){this.x=\nMath.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);this.w=Math.floor(this.w);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);this.w=Math.ceil(this.w);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);this.w=Math.round(this.w);return this},roundToZero:function(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);\nthis.z=0>this.z?Math.ceil(this.z):Math.floor(this.z);this.w=0>this.w?Math.ceil(this.w):Math.floor(this.w);return this},negate:function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;this.w=-this.w;return this},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z+this.w*a.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+\nMath.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},setLength:function(a){var b=this.length();0!==b&&a!==b&&this.multiplyScalar(a/b);return this},lerp:function(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;this.z+=(a.z-this.z)*b;this.w+=(a.w-this.w)*b;return this},lerpVectors:function(a,b,c){this.subVectors(b,a).multiplyScalar(c).add(a);return this},equals:function(a){return a.x===this.x&&a.y===this.y&&a.z===this.z&&a.w===this.w},\nfromArray:function(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];this.z=a[b+2];this.w=a[b+3];return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.x;a[b+1]=this.y;a[b+2]=this.z;a[b+3]=this.w;return a},fromAttribute:function(a,b,c){void 0===c&&(c=0);b=b*a.itemSize+c;this.x=a.array[b];this.y=a.array[b+1];this.z=a.array[b+2];this.w=a.array[b+3];return this},clone:function(){return new THREE.Vector4(this.x,this.y,this.z,this.w)}};\nTHREE.Euler=function(a,b,c,d){this._x=a||0;this._y=b||0;this._z=c||0;this._order=d||THREE.Euler.DefaultOrder};THREE.Euler.RotationOrders=\"XYZ YZX ZXY XZY YXZ ZYX\".split(\" \");THREE.Euler.DefaultOrder=\"XYZ\";\nTHREE.Euler.prototype={constructor:THREE.Euler,_x:0,_y:0,_z:0,_order:THREE.Euler.DefaultOrder,get x(){return this._x},set x(a){this._x=a;this.onChangeCallback()},get y(){return this._y},set y(a){this._y=a;this.onChangeCallback()},get z(){return this._z},set z(a){this._z=a;this.onChangeCallback()},get order(){return this._order},set order(a){this._order=a;this.onChangeCallback()},set:function(a,b,c,d){this._x=a;this._y=b;this._z=c;this._order=d||this._order;this.onChangeCallback();return this},copy:function(a){this._x=\na._x;this._y=a._y;this._z=a._z;this._order=a._order;this.onChangeCallback();return this},setFromRotationMatrix:function(a,b,c){var d=THREE.Math.clamp,e=a.elements;a=e[0];var f=e[4],g=e[8],h=e[1],k=e[5],l=e[9],p=e[2],q=e[6],e=e[10];b=b||this._order;\"XYZ\"===b?(this._y=Math.asin(d(g,-1,1)),.99999>Math.abs(g)?(this._x=Math.atan2(-l,e),this._z=Math.atan2(-f,a)):(this._x=Math.atan2(q,k),this._z=0)):\"YXZ\"===b?(this._x=Math.asin(-d(l,-1,1)),.99999>Math.abs(l)?(this._y=Math.atan2(g,e),this._z=Math.atan2(h,\nk)):(this._y=Math.atan2(-p,a),this._z=0)):\"ZXY\"===b?(this._x=Math.asin(d(q,-1,1)),.99999>Math.abs(q)?(this._y=Math.atan2(-p,e),this._z=Math.atan2(-f,k)):(this._y=0,this._z=Math.atan2(h,a))):\"ZYX\"===b?(this._y=Math.asin(-d(p,-1,1)),.99999>Math.abs(p)?(this._x=Math.atan2(q,e),this._z=Math.atan2(h,a)):(this._x=0,this._z=Math.atan2(-f,k))):\"YZX\"===b?(this._z=Math.asin(d(h,-1,1)),.99999>Math.abs(h)?(this._x=Math.atan2(-l,k),this._y=Math.atan2(-p,a)):(this._x=0,this._y=Math.atan2(g,e))):\"XZY\"===b?(this._z=\nMath.asin(-d(f,-1,1)),.99999>Math.abs(f)?(this._x=Math.atan2(q,k),this._y=Math.atan2(g,a)):(this._x=Math.atan2(-l,e),this._y=0)):THREE.warn(\"THREE.Euler: .setFromRotationMatrix() given unsupported order: \"+b);this._order=b;if(!1!==c)this.onChangeCallback();return this},setFromQuaternion:function(){var a;return function(b,c,d){void 0===a&&(a=new THREE.Matrix4);a.makeRotationFromQuaternion(b);this.setFromRotationMatrix(a,c,d);return this}}(),setFromVector3:function(a,b){return this.set(a.x,a.y,a.z,\nb||this._order)},reorder:function(){var a=new THREE.Quaternion;return function(b){a.setFromEuler(this);this.setFromQuaternion(a,b)}}(),equals:function(a){return a._x===this._x&&a._y===this._y&&a._z===this._z&&a._order===this._order},fromArray:function(a){this._x=a[0];this._y=a[1];this._z=a[2];void 0!==a[3]&&(this._order=a[3]);this.onChangeCallback();return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this._x;a[b+1]=this._y;a[b+2]=this._z;a[b+3]=this._order;return a},toVector3:function(a){return a?\na.set(this._x,this._y,this._z):new THREE.Vector3(this._x,this._y,this._z)},onChange:function(a){this.onChangeCallback=a;return this},onChangeCallback:function(){},clone:function(){return new THREE.Euler(this._x,this._y,this._z,this._order)}};THREE.Line3=function(a,b){this.start=void 0!==a?a:new THREE.Vector3;this.end=void 0!==b?b:new THREE.Vector3};\nTHREE.Line3.prototype={constructor:THREE.Line3,set:function(a,b){this.start.copy(a);this.end.copy(b);return this},copy:function(a){this.start.copy(a.start);this.end.copy(a.end);return this},center:function(a){return(a||new THREE.Vector3).addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(a){return(a||new THREE.Vector3).subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(a,\nb){var c=b||new THREE.Vector3;return this.delta(c).multiplyScalar(a).add(this.start)},closestPointToPointParameter:function(){var a=new THREE.Vector3,b=new THREE.Vector3;return function(c,d){a.subVectors(c,this.start);b.subVectors(this.end,this.start);var e=b.dot(b),e=b.dot(a)/e;d&&(e=THREE.Math.clamp(e,0,1));return e}}(),closestPointToPoint:function(a,b,c){a=this.closestPointToPointParameter(a,b);c=c||new THREE.Vector3;return this.delta(c).multiplyScalar(a).add(this.start)},applyMatrix4:function(a){this.start.applyMatrix4(a);\nthis.end.applyMatrix4(a);return this},equals:function(a){return a.start.equals(this.start)&&a.end.equals(this.end)},clone:function(){return(new THREE.Line3).copy(this)}};THREE.Box2=function(a,b){this.min=void 0!==a?a:new THREE.Vector2(Infinity,Infinity);this.max=void 0!==b?b:new THREE.Vector2(-Infinity,-Infinity)};\nTHREE.Box2.prototype={constructor:THREE.Box2,set:function(a,b){this.min.copy(a);this.max.copy(b);return this},setFromPoints:function(a){this.makeEmpty();for(var b=0,c=a.length;b<c;b++)this.expandByPoint(a[b]);return this},setFromCenterAndSize:function(){var a=new THREE.Vector2;return function(b,c){var d=a.copy(c).multiplyScalar(.5);this.min.copy(b).sub(d);this.max.copy(b).add(d);return this}}(),copy:function(a){this.min.copy(a.min);this.max.copy(a.max);return this},makeEmpty:function(){this.min.x=\nthis.min.y=Infinity;this.max.x=this.max.y=-Infinity;return this},empty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},center:function(a){return(a||new THREE.Vector2).addVectors(this.min,this.max).multiplyScalar(.5)},size:function(a){return(a||new THREE.Vector2).subVectors(this.max,this.min)},expandByPoint:function(a){this.min.min(a);this.max.max(a);return this},expandByVector:function(a){this.min.sub(a);this.max.add(a);return this},expandByScalar:function(a){this.min.addScalar(-a);\nthis.max.addScalar(a);return this},containsPoint:function(a){return a.x<this.min.x||a.x>this.max.x||a.y<this.min.y||a.y>this.max.y?!1:!0},containsBox:function(a){return this.min.x<=a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=this.max.y?!0:!1},getParameter:function(a,b){return(b||new THREE.Vector2).set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y))},isIntersectionBox:function(a){return a.max.x<this.min.x||a.min.x>this.max.x||a.max.y<this.min.y||a.min.y>\nthis.max.y?!1:!0},clampPoint:function(a,b){return(b||new THREE.Vector2).copy(a).clamp(this.min,this.max)},distanceToPoint:function(){var a=new THREE.Vector2;return function(b){return a.copy(b).clamp(this.min,this.max).sub(b).length()}}(),intersect:function(a){this.min.max(a.min);this.max.min(a.max);return this},union:function(a){this.min.min(a.min);this.max.max(a.max);return this},translate:function(a){this.min.add(a);this.max.add(a);return this},equals:function(a){return a.min.equals(this.min)&&\na.max.equals(this.max)},clone:function(){return(new THREE.Box2).copy(this)}};THREE.Box3=function(a,b){this.min=void 0!==a?a:new THREE.Vector3(Infinity,Infinity,Infinity);this.max=void 0!==b?b:new THREE.Vector3(-Infinity,-Infinity,-Infinity)};\nTHREE.Box3.prototype={constructor:THREE.Box3,set:function(a,b){this.min.copy(a);this.max.copy(b);return this},setFromPoints:function(a){this.makeEmpty();for(var b=0,c=a.length;b<c;b++)this.expandByPoint(a[b]);return this},setFromCenterAndSize:function(){var a=new THREE.Vector3;return function(b,c){var d=a.copy(c).multiplyScalar(.5);this.min.copy(b).sub(d);this.max.copy(b).add(d);return this}}(),setFromObject:function(){var a=new THREE.Vector3;return function(b){var c=this;b.updateMatrixWorld(!0);\nthis.makeEmpty();b.traverse(function(b){var e=b.geometry;if(void 0!==e)if(e instanceof THREE.Geometry)for(var f=e.vertices,e=0,g=f.length;e<g;e++)a.copy(f[e]),a.applyMatrix4(b.matrixWorld),c.expandByPoint(a);else if(e instanceof THREE.BufferGeometry&&void 0!==e.attributes.position)for(f=e.attributes.position.array,e=0,g=f.length;e<g;e+=3)a.set(f[e],f[e+1],f[e+2]),a.applyMatrix4(b.matrixWorld),c.expandByPoint(a)});return this}}(),copy:function(a){this.min.copy(a.min);this.max.copy(a.max);return this},\nmakeEmpty:function(){this.min.x=this.min.y=this.min.z=Infinity;this.max.x=this.max.y=this.max.z=-Infinity;return this},empty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},center:function(a){return(a||new THREE.Vector3).addVectors(this.min,this.max).multiplyScalar(.5)},size:function(a){return(a||new THREE.Vector3).subVectors(this.max,this.min)},expandByPoint:function(a){this.min.min(a);this.max.max(a);return this},expandByVector:function(a){this.min.sub(a);\nthis.max.add(a);return this},expandByScalar:function(a){this.min.addScalar(-a);this.max.addScalar(a);return this},containsPoint:function(a){return a.x<this.min.x||a.x>this.max.x||a.y<this.min.y||a.y>this.max.y||a.z<this.min.z||a.z>this.max.z?!1:!0},containsBox:function(a){return this.min.x<=a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=this.max.y&&this.min.z<=a.min.z&&a.max.z<=this.max.z?!0:!1},getParameter:function(a,b){return(b||new THREE.Vector3).set((a.x-this.min.x)/(this.max.x-\nthis.min.x),(a.y-this.min.y)/(this.max.y-this.min.y),(a.z-this.min.z)/(this.max.z-this.min.z))},isIntersectionBox:function(a){return a.max.x<this.min.x||a.min.x>this.max.x||a.max.y<this.min.y||a.min.y>this.max.y||a.max.z<this.min.z||a.min.z>this.max.z?!1:!0},clampPoint:function(a,b){return(b||new THREE.Vector3).copy(a).clamp(this.min,this.max)},distanceToPoint:function(){var a=new THREE.Vector3;return function(b){return a.copy(b).clamp(this.min,this.max).sub(b).length()}}(),getBoundingSphere:function(){var a=\nnew THREE.Vector3;return function(b){b=b||new THREE.Sphere;b.center=this.center();b.radius=.5*this.size(a).length();return b}}(),intersect:function(a){this.min.max(a.min);this.max.min(a.max);return this},union:function(a){this.min.min(a.min);this.max.max(a.max);return this},applyMatrix4:function(){var a=[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3];return function(b){a[0].set(this.min.x,this.min.y,\nthis.min.z).applyMatrix4(b);a[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(b);a[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(b);a[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(b);a[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(b);a[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(b);a[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(b);a[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(b);this.makeEmpty();this.setFromPoints(a);return this}}(),translate:function(a){this.min.add(a);\nthis.max.add(a);return this},equals:function(a){return a.min.equals(this.min)&&a.max.equals(this.max)},clone:function(){return(new THREE.Box3).copy(this)}};THREE.Matrix3=function(){this.elements=new Float32Array([1,0,0,0,1,0,0,0,1]);0<arguments.length&&THREE.error(\"THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.\")};\nTHREE.Matrix3.prototype={constructor:THREE.Matrix3,set:function(a,b,c,d,e,f,g,h,k){var l=this.elements;l[0]=a;l[3]=b;l[6]=c;l[1]=d;l[4]=e;l[7]=f;l[2]=g;l[5]=h;l[8]=k;return this},identity:function(){this.set(1,0,0,0,1,0,0,0,1);return this},copy:function(a){a=a.elements;this.set(a[0],a[3],a[6],a[1],a[4],a[7],a[2],a[5],a[8]);return this},multiplyVector3:function(a){THREE.warn(\"THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.\");return a.applyMatrix3(this)},\nmultiplyVector3Array:function(a){THREE.warn(\"THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead.\");return this.applyToVector3Array(a)},applyToVector3Array:function(){var a=new THREE.Vector3;return function(b,c,d){void 0===c&&(c=0);void 0===d&&(d=b.length);for(var e=0;e<d;e+=3,c+=3)a.x=b[c],a.y=b[c+1],a.z=b[c+2],a.applyMatrix3(this),b[c]=a.x,b[c+1]=a.y,b[c+2]=a.z;return b}}(),multiplyScalar:function(a){var b=this.elements;b[0]*=a;b[3]*=a;b[6]*=\na;b[1]*=a;b[4]*=a;b[7]*=a;b[2]*=a;b[5]*=a;b[8]*=a;return this},determinant:function(){var a=this.elements,b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],h=a[6],k=a[7],a=a[8];return b*f*a-b*g*k-c*e*a+c*g*h+d*e*k-d*f*h},getInverse:function(a,b){var c=a.elements,d=this.elements;d[0]=c[10]*c[5]-c[6]*c[9];d[1]=-c[10]*c[1]+c[2]*c[9];d[2]=c[6]*c[1]-c[2]*c[5];d[3]=-c[10]*c[4]+c[6]*c[8];d[4]=c[10]*c[0]-c[2]*c[8];d[5]=-c[6]*c[0]+c[2]*c[4];d[6]=c[9]*c[4]-c[5]*c[8];d[7]=-c[9]*c[0]+c[1]*c[8];d[8]=c[5]*c[0]-c[1]*c[4];\nc=c[0]*d[0]+c[1]*d[3]+c[2]*d[6];if(0===c){if(b)throw Error(\"Matrix3.getInverse(): can't invert matrix, determinant is 0\");THREE.warn(\"Matrix3.getInverse(): can't invert matrix, determinant is 0\");this.identity();return this}this.multiplyScalar(1/c);return this},transpose:function(){var a,b=this.elements;a=b[1];b[1]=b[3];b[3]=a;a=b[2];b[2]=b[6];b[6]=a;a=b[5];b[5]=b[7];b[7]=a;return this},flattenToArrayOffset:function(a,b){var c=this.elements;a[b]=c[0];a[b+1]=c[1];a[b+2]=c[2];a[b+3]=c[3];a[b+4]=c[4];\na[b+5]=c[5];a[b+6]=c[6];a[b+7]=c[7];a[b+8]=c[8];return a},getNormalMatrix:function(a){this.getInverse(a).transpose();return this},transposeIntoArray:function(a){var b=this.elements;a[0]=b[0];a[1]=b[3];a[2]=b[6];a[3]=b[1];a[4]=b[4];a[5]=b[7];a[6]=b[2];a[7]=b[5];a[8]=b[8];return this},fromArray:function(a){this.elements.set(a);return this},toArray:function(){var a=this.elements;return[a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8]]},clone:function(){return(new THREE.Matrix3).fromArray(this.elements)}};\nTHREE.Matrix4=function(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);0<arguments.length&&THREE.error(\"THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.\")};\nTHREE.Matrix4.prototype={constructor:THREE.Matrix4,set:function(a,b,c,d,e,f,g,h,k,l,p,q,n,t,r,s){var u=this.elements;u[0]=a;u[4]=b;u[8]=c;u[12]=d;u[1]=e;u[5]=f;u[9]=g;u[13]=h;u[2]=k;u[6]=l;u[10]=p;u[14]=q;u[3]=n;u[7]=t;u[11]=r;u[15]=s;return this},identity:function(){this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return this},copy:function(a){this.elements.set(a.elements);return this},extractPosition:function(a){THREE.warn(\"THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().\");return this.copyPosition(a)},\ncopyPosition:function(a){var b=this.elements;a=a.elements;b[12]=a[12];b[13]=a[13];b[14]=a[14];return this},extractBasis:function(a,b,c){var d=this.elements;a.set(d[0],d[1],d[2]);b.set(d[4],d[5],d[6]);c.set(d[8],d[9],d[10]);return this},makeBasis:function(a,b,c){this.set(a.x,b.x,c.x,0,a.y,b.y,c.y,0,a.z,b.z,c.z,0,0,0,0,1);return this},extractRotation:function(){var a=new THREE.Vector3;return function(b){var c=this.elements;b=b.elements;var d=1/a.set(b[0],b[1],b[2]).length(),e=1/a.set(b[4],b[5],b[6]).length(),\nf=1/a.set(b[8],b[9],b[10]).length();c[0]=b[0]*d;c[1]=b[1]*d;c[2]=b[2]*d;c[4]=b[4]*e;c[5]=b[5]*e;c[6]=b[6]*e;c[8]=b[8]*f;c[9]=b[9]*f;c[10]=b[10]*f;return this}}(),makeRotationFromEuler:function(a){!1===a instanceof THREE.Euler&&THREE.error(\"THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.\");var b=this.elements,c=a.x,d=a.y,e=a.z,f=Math.cos(c),c=Math.sin(c),g=Math.cos(d),d=Math.sin(d),h=Math.cos(e),e=Math.sin(e);if(\"XYZ\"===a.order){a=f*h;var k=f*e,\nl=c*h,p=c*e;b[0]=g*h;b[4]=-g*e;b[8]=d;b[1]=k+l*d;b[5]=a-p*d;b[9]=-c*g;b[2]=p-a*d;b[6]=l+k*d;b[10]=f*g}else\"YXZ\"===a.order?(a=g*h,k=g*e,l=d*h,p=d*e,b[0]=a+p*c,b[4]=l*c-k,b[8]=f*d,b[1]=f*e,b[5]=f*h,b[9]=-c,b[2]=k*c-l,b[6]=p+a*c,b[10]=f*g):\"ZXY\"===a.order?(a=g*h,k=g*e,l=d*h,p=d*e,b[0]=a-p*c,b[4]=-f*e,b[8]=l+k*c,b[1]=k+l*c,b[5]=f*h,b[9]=p-a*c,b[2]=-f*d,b[6]=c,b[10]=f*g):\"ZYX\"===a.order?(a=f*h,k=f*e,l=c*h,p=c*e,b[0]=g*h,b[4]=l*d-k,b[8]=a*d+p,b[1]=g*e,b[5]=p*d+a,b[9]=k*d-l,b[2]=-d,b[6]=c*g,b[10]=f*g):\"YZX\"===\na.order?(a=f*g,k=f*d,l=c*g,p=c*d,b[0]=g*h,b[4]=p-a*e,b[8]=l*e+k,b[1]=e,b[5]=f*h,b[9]=-c*h,b[2]=-d*h,b[6]=k*e+l,b[10]=a-p*e):\"XZY\"===a.order&&(a=f*g,k=f*d,l=c*g,p=c*d,b[0]=g*h,b[4]=-e,b[8]=d*h,b[1]=a*e+p,b[5]=f*h,b[9]=k*e-l,b[2]=l*e-k,b[6]=c*h,b[10]=p*e+a);b[3]=0;b[7]=0;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return this},setRotationFromQuaternion:function(a){THREE.warn(\"THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().\");return this.makeRotationFromQuaternion(a)},\nmakeRotationFromQuaternion:function(a){var b=this.elements,c=a.x,d=a.y,e=a.z,f=a.w,g=c+c,h=d+d,k=e+e;a=c*g;var l=c*h,c=c*k,p=d*h,d=d*k,e=e*k,g=f*g,h=f*h,f=f*k;b[0]=1-(p+e);b[4]=l-f;b[8]=c+h;b[1]=l+f;b[5]=1-(a+e);b[9]=d-g;b[2]=c-h;b[6]=d+g;b[10]=1-(a+p);b[3]=0;b[7]=0;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return this},lookAt:function(){var a=new THREE.Vector3,b=new THREE.Vector3,c=new THREE.Vector3;return function(d,e,f){var g=this.elements;c.subVectors(d,e).normalize();0===c.length()&&(c.z=1);a.crossVectors(f,\nc).normalize();0===a.length()&&(c.x+=1E-4,a.crossVectors(f,c).normalize());b.crossVectors(c,a);g[0]=a.x;g[4]=b.x;g[8]=c.x;g[1]=a.y;g[5]=b.y;g[9]=c.y;g[2]=a.z;g[6]=b.z;g[10]=c.z;return this}}(),multiply:function(a,b){return void 0!==b?(THREE.warn(\"THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.\"),this.multiplyMatrices(a,b)):this.multiplyMatrices(this,a)},multiplyMatrices:function(a,b){var c=a.elements,d=b.elements,e=this.elements,f=c[0],g=c[4],h=c[8],\nk=c[12],l=c[1],p=c[5],q=c[9],n=c[13],t=c[2],r=c[6],s=c[10],u=c[14],v=c[3],x=c[7],D=c[11],c=c[15],w=d[0],y=d[4],A=d[8],E=d[12],G=d[1],F=d[5],z=d[9],I=d[13],U=d[2],M=d[6],H=d[10],L=d[14],P=d[3],N=d[7],R=d[11],d=d[15];e[0]=f*w+g*G+h*U+k*P;e[4]=f*y+g*F+h*M+k*N;e[8]=f*A+g*z+h*H+k*R;e[12]=f*E+g*I+h*L+k*d;e[1]=l*w+p*G+q*U+n*P;e[5]=l*y+p*F+q*M+n*N;e[9]=l*A+p*z+q*H+n*R;e[13]=l*E+p*I+q*L+n*d;e[2]=t*w+r*G+s*U+u*P;e[6]=t*y+r*F+s*M+u*N;e[10]=t*A+r*z+s*H+u*R;e[14]=t*E+r*I+s*L+u*d;e[3]=v*w+x*G+D*U+c*P;e[7]=v*y+\nx*F+D*M+c*N;e[11]=v*A+x*z+D*H+c*R;e[15]=v*E+x*I+D*L+c*d;return this},multiplyToArray:function(a,b,c){var d=this.elements;this.multiplyMatrices(a,b);c[0]=d[0];c[1]=d[1];c[2]=d[2];c[3]=d[3];c[4]=d[4];c[5]=d[5];c[6]=d[6];c[7]=d[7];c[8]=d[8];c[9]=d[9];c[10]=d[10];c[11]=d[11];c[12]=d[12];c[13]=d[13];c[14]=d[14];c[15]=d[15];return this},multiplyScalar:function(a){var b=this.elements;b[0]*=a;b[4]*=a;b[8]*=a;b[12]*=a;b[1]*=a;b[5]*=a;b[9]*=a;b[13]*=a;b[2]*=a;b[6]*=a;b[10]*=a;b[14]*=a;b[3]*=a;b[7]*=a;b[11]*=\na;b[15]*=a;return this},multiplyVector3:function(a){THREE.warn(\"THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead.\");return a.applyProjection(this)},multiplyVector4:function(a){THREE.warn(\"THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.\");return a.applyMatrix4(this)},multiplyVector3Array:function(a){THREE.warn(\"THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead.\");\nreturn this.applyToVector3Array(a)},applyToVector3Array:function(){var a=new THREE.Vector3;return function(b,c,d){void 0===c&&(c=0);void 0===d&&(d=b.length);for(var e=0;e<d;e+=3,c+=3)a.x=b[c],a.y=b[c+1],a.z=b[c+2],a.applyMatrix4(this),b[c]=a.x,b[c+1]=a.y,b[c+2]=a.z;return b}}(),rotateAxis:function(a){THREE.warn(\"THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.\");a.transformDirection(this)},crossVector:function(a){THREE.warn(\"THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.\");\nreturn a.applyMatrix4(this)},determinant:function(){var a=this.elements,b=a[0],c=a[4],d=a[8],e=a[12],f=a[1],g=a[5],h=a[9],k=a[13],l=a[2],p=a[6],q=a[10],n=a[14];return a[3]*(+e*h*p-d*k*p-e*g*q+c*k*q+d*g*n-c*h*n)+a[7]*(+b*h*n-b*k*q+e*f*q-d*f*n+d*k*l-e*h*l)+a[11]*(+b*k*p-b*g*n-e*f*p+c*f*n+e*g*l-c*k*l)+a[15]*(-d*g*l-b*h*p+b*g*q+d*f*p-c*f*q+c*h*l)},transpose:function(){var a=this.elements,b;b=a[1];a[1]=a[4];a[4]=b;b=a[2];a[2]=a[8];a[8]=b;b=a[6];a[6]=a[9];a[9]=b;b=a[3];a[3]=a[12];a[12]=b;b=a[7];a[7]=a[13];\na[13]=b;b=a[11];a[11]=a[14];a[14]=b;return this},flattenToArrayOffset:function(a,b){var c=this.elements;a[b]=c[0];a[b+1]=c[1];a[b+2]=c[2];a[b+3]=c[3];a[b+4]=c[4];a[b+5]=c[5];a[b+6]=c[6];a[b+7]=c[7];a[b+8]=c[8];a[b+9]=c[9];a[b+10]=c[10];a[b+11]=c[11];a[b+12]=c[12];a[b+13]=c[13];a[b+14]=c[14];a[b+15]=c[15];return a},getPosition:function(){var a=new THREE.Vector3;return function(){THREE.warn(\"THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.\");var b=\nthis.elements;return a.set(b[12],b[13],b[14])}}(),setPosition:function(a){var b=this.elements;b[12]=a.x;b[13]=a.y;b[14]=a.z;return this},getInverse:function(a,b){var c=this.elements,d=a.elements,e=d[0],f=d[4],g=d[8],h=d[12],k=d[1],l=d[5],p=d[9],q=d[13],n=d[2],t=d[6],r=d[10],s=d[14],u=d[3],v=d[7],x=d[11],d=d[15];c[0]=p*s*v-q*r*v+q*t*x-l*s*x-p*t*d+l*r*d;c[4]=h*r*v-g*s*v-h*t*x+f*s*x+g*t*d-f*r*d;c[8]=g*q*v-h*p*v+h*l*x-f*q*x-g*l*d+f*p*d;c[12]=h*p*t-g*q*t-h*l*r+f*q*r+g*l*s-f*p*s;c[1]=q*r*u-p*s*u-q*n*x+\nk*s*x+p*n*d-k*r*d;c[5]=g*s*u-h*r*u+h*n*x-e*s*x-g*n*d+e*r*d;c[9]=h*p*u-g*q*u-h*k*x+e*q*x+g*k*d-e*p*d;c[13]=g*q*n-h*p*n+h*k*r-e*q*r-g*k*s+e*p*s;c[2]=l*s*u-q*t*u+q*n*v-k*s*v-l*n*d+k*t*d;c[6]=h*t*u-f*s*u-h*n*v+e*s*v+f*n*d-e*t*d;c[10]=f*q*u-h*l*u+h*k*v-e*q*v-f*k*d+e*l*d;c[14]=h*l*n-f*q*n-h*k*t+e*q*t+f*k*s-e*l*s;c[3]=p*t*u-l*r*u-p*n*v+k*r*v+l*n*x-k*t*x;c[7]=f*r*u-g*t*u+g*n*v-e*r*v-f*n*x+e*t*x;c[11]=g*l*u-f*p*u-g*k*v+e*p*v+f*k*x-e*l*x;c[15]=f*p*n-g*l*n+g*k*t-e*p*t-f*k*r+e*l*r;c=e*c[0]+k*c[4]+n*c[8]+u*c[12];\nif(0==c){if(b)throw Error(\"THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0\");THREE.warn(\"THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0\");this.identity();return this}this.multiplyScalar(1/c);return this},translate:function(a){THREE.error(\"THREE.Matrix4: .translate() has been removed.\")},rotateX:function(a){THREE.error(\"THREE.Matrix4: .rotateX() has been removed.\")},rotateY:function(a){THREE.error(\"THREE.Matrix4: .rotateY() has been removed.\")},rotateZ:function(a){THREE.error(\"THREE.Matrix4: .rotateZ() has been removed.\")},\nrotateByAxis:function(a,b){THREE.error(\"THREE.Matrix4: .rotateByAxis() has been removed.\")},scale:function(a){var b=this.elements,c=a.x,d=a.y;a=a.z;b[0]*=c;b[4]*=d;b[8]*=a;b[1]*=c;b[5]*=d;b[9]*=a;b[2]*=c;b[6]*=d;b[10]*=a;b[3]*=c;b[7]*=d;b[11]*=a;return this},getMaxScaleOnAxis:function(){var a=this.elements;return Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1]+a[2]*a[2],Math.max(a[4]*a[4]+a[5]*a[5]+a[6]*a[6],a[8]*a[8]+a[9]*a[9]+a[10]*a[10])))},makeTranslation:function(a,b,c){this.set(1,0,0,a,0,1,0,b,0,0,1,\nc,0,0,0,1);return this},makeRotationX:function(a){var b=Math.cos(a);a=Math.sin(a);this.set(1,0,0,0,0,b,-a,0,0,a,b,0,0,0,0,1);return this},makeRotationY:function(a){var b=Math.cos(a);a=Math.sin(a);this.set(b,0,a,0,0,1,0,0,-a,0,b,0,0,0,0,1);return this},makeRotationZ:function(a){var b=Math.cos(a);a=Math.sin(a);this.set(b,-a,0,0,a,b,0,0,0,0,1,0,0,0,0,1);return this},makeRotationAxis:function(a,b){var c=Math.cos(b),d=Math.sin(b),e=1-c,f=a.x,g=a.y,h=a.z,k=e*f,l=e*g;this.set(k*f+c,k*g-d*h,k*h+d*g,0,k*g+\nd*h,l*g+c,l*h-d*f,0,k*h-d*g,l*h+d*f,e*h*h+c,0,0,0,0,1);return this},makeScale:function(a,b,c){this.set(a,0,0,0,0,b,0,0,0,0,c,0,0,0,0,1);return this},compose:function(a,b,c){this.makeRotationFromQuaternion(b);this.scale(c);this.setPosition(a);return this},decompose:function(){var a=new THREE.Vector3,b=new THREE.Matrix4;return function(c,d,e){var f=this.elements,g=a.set(f[0],f[1],f[2]).length(),h=a.set(f[4],f[5],f[6]).length(),k=a.set(f[8],f[9],f[10]).length();0>this.determinant()&&(g=-g);c.x=f[12];\nc.y=f[13];c.z=f[14];b.elements.set(this.elements);c=1/g;var f=1/h,l=1/k;b.elements[0]*=c;b.elements[1]*=c;b.elements[2]*=c;b.elements[4]*=f;b.elements[5]*=f;b.elements[6]*=f;b.elements[8]*=l;b.elements[9]*=l;b.elements[10]*=l;d.setFromRotationMatrix(b);e.x=g;e.y=h;e.z=k;return this}}(),makeFrustum:function(a,b,c,d,e,f){var g=this.elements;g[0]=2*e/(b-a);g[4]=0;g[8]=(b+a)/(b-a);g[12]=0;g[1]=0;g[5]=2*e/(d-c);g[9]=(d+c)/(d-c);g[13]=0;g[2]=0;g[6]=0;g[10]=-(f+e)/(f-e);g[14]=-2*f*e/(f-e);g[3]=0;g[7]=0;\ng[11]=-1;g[15]=0;return this},makePerspective:function(a,b,c,d){a=c*Math.tan(THREE.Math.degToRad(.5*a));var e=-a;return this.makeFrustum(e*b,a*b,e,a,c,d)},makeOrthographic:function(a,b,c,d,e,f){var g=this.elements,h=b-a,k=c-d,l=f-e;g[0]=2/h;g[4]=0;g[8]=0;g[12]=-((b+a)/h);g[1]=0;g[5]=2/k;g[9]=0;g[13]=-((c+d)/k);g[2]=0;g[6]=0;g[10]=-2/l;g[14]=-((f+e)/l);g[3]=0;g[7]=0;g[11]=0;g[15]=1;return this},fromArray:function(a){this.elements.set(a);return this},toArray:function(){var a=this.elements;return[a[0],\na[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15]]},clone:function(){return(new THREE.Matrix4).fromArray(this.elements)}};THREE.Ray=function(a,b){this.origin=void 0!==a?a:new THREE.Vector3;this.direction=void 0!==b?b:new THREE.Vector3};\nTHREE.Ray.prototype={constructor:THREE.Ray,set:function(a,b){this.origin.copy(a);this.direction.copy(b);return this},copy:function(a){this.origin.copy(a.origin);this.direction.copy(a.direction);return this},at:function(a,b){return(b||new THREE.Vector3).copy(this.direction).multiplyScalar(a).add(this.origin)},recast:function(){var a=new THREE.Vector3;return function(b){this.origin.copy(this.at(b,a));return this}}(),closestPointToPoint:function(a,b){var c=b||new THREE.Vector3;c.subVectors(a,this.origin);\nvar d=c.dot(this.direction);return 0>d?c.copy(this.origin):c.copy(this.direction).multiplyScalar(d).add(this.origin)},distanceToPoint:function(){var a=new THREE.Vector3;return function(b){var c=a.subVectors(b,this.origin).dot(this.direction);if(0>c)return this.origin.distanceTo(b);a.copy(this.direction).multiplyScalar(c).add(this.origin);return a.distanceTo(b)}}(),distanceSqToSegment:function(){var a=new THREE.Vector3,b=new THREE.Vector3,c=new THREE.Vector3;return function(d,e,f,g){a.copy(d).add(e).multiplyScalar(.5);\nb.copy(e).sub(d).normalize();c.copy(this.origin).sub(a);var h=.5*d.distanceTo(e),k=-this.direction.dot(b),l=c.dot(this.direction),p=-c.dot(b),q=c.lengthSq(),n=Math.abs(1-k*k),t;0<n?(d=k*p-l,e=k*l-p,t=h*n,0<=d?e>=-t?e<=t?(h=1/n,d*=h,e*=h,k=d*(d+k*e+2*l)+e*(k*d+e+2*p)+q):(e=h,d=Math.max(0,-(k*e+l)),k=-d*d+e*(e+2*p)+q):(e=-h,d=Math.max(0,-(k*e+l)),k=-d*d+e*(e+2*p)+q):e<=-t?(d=Math.max(0,-(-k*h+l)),e=0<d?-h:Math.min(Math.max(-h,-p),h),k=-d*d+e*(e+2*p)+q):e<=t?(d=0,e=Math.min(Math.max(-h,-p),h),k=e*(e+\n2*p)+q):(d=Math.max(0,-(k*h+l)),e=0<d?h:Math.min(Math.max(-h,-p),h),k=-d*d+e*(e+2*p)+q)):(e=0<k?-h:h,d=Math.max(0,-(k*e+l)),k=-d*d+e*(e+2*p)+q);f&&f.copy(this.direction).multiplyScalar(d).add(this.origin);g&&g.copy(b).multiplyScalar(e).add(a);return k}}(),isIntersectionSphere:function(a){return this.distanceToPoint(a.center)<=a.radius},intersectSphere:function(){var a=new THREE.Vector3;return function(b,c){a.subVectors(b.center,this.origin);var d=a.dot(this.direction),e=a.dot(a)-d*d,f=b.radius*b.radius;\nif(e>f)return null;f=Math.sqrt(f-e);e=d-f;d+=f;return 0>e&&0>d?null:0>e?this.at(d,c):this.at(e,c)}}(),isIntersectionPlane:function(a){var b=a.distanceToPoint(this.origin);return 0===b||0>a.normal.dot(this.direction)*b?!0:!1},distanceToPlane:function(a){var b=a.normal.dot(this.direction);if(0==b)return 0==a.distanceToPoint(this.origin)?0:null;a=-(this.origin.dot(a.normal)+a.constant)/b;return 0<=a?a:null},intersectPlane:function(a,b){var c=this.distanceToPlane(a);return null===c?null:this.at(c,b)},\nisIntersectionBox:function(){var a=new THREE.Vector3;return function(b){return null!==this.intersectBox(b,a)}}(),intersectBox:function(a,b){var c,d,e,f,g;d=1/this.direction.x;f=1/this.direction.y;g=1/this.direction.z;var h=this.origin;0<=d?(c=(a.min.x-h.x)*d,d*=a.max.x-h.x):(c=(a.max.x-h.x)*d,d*=a.min.x-h.x);0<=f?(e=(a.min.y-h.y)*f,f*=a.max.y-h.y):(e=(a.max.y-h.y)*f,f*=a.min.y-h.y);if(c>f||e>d)return null;if(e>c||c!==c)c=e;if(f<d||d!==d)d=f;0<=g?(e=(a.min.z-h.z)*g,g*=a.max.z-h.z):(e=(a.max.z-h.z)*\ng,g*=a.min.z-h.z);if(c>g||e>d)return null;if(e>c||c!==c)c=e;if(g<d||d!==d)d=g;return 0>d?null:this.at(0<=c?c:d,b)},intersectTriangle:function(){var a=new THREE.Vector3,b=new THREE.Vector3,c=new THREE.Vector3,d=new THREE.Vector3;return function(e,f,g,h,k){b.subVectors(f,e);c.subVectors(g,e);d.crossVectors(b,c);f=this.direction.dot(d);if(0<f){if(h)return null;h=1}else if(0>f)h=-1,f=-f;else return null;a.subVectors(this.origin,e);e=h*this.direction.dot(c.crossVectors(a,c));if(0>e)return null;g=h*this.direction.dot(b.cross(a));\nif(0>g||e+g>f)return null;e=-h*a.dot(d);return 0>e?null:this.at(e/f,k)}}(),applyMatrix4:function(a){this.direction.add(this.origin).applyMatrix4(a);this.origin.applyMatrix4(a);this.direction.sub(this.origin);this.direction.normalize();return this},equals:function(a){return a.origin.equals(this.origin)&&a.direction.equals(this.direction)},clone:function(){return(new THREE.Ray).copy(this)}};THREE.Sphere=function(a,b){this.center=void 0!==a?a:new THREE.Vector3;this.radius=void 0!==b?b:0};\nTHREE.Sphere.prototype={constructor:THREE.Sphere,set:function(a,b){this.center.copy(a);this.radius=b;return this},setFromPoints:function(){var a=new THREE.Box3;return function(b,c){var d=this.center;void 0!==c?d.copy(c):a.setFromPoints(b).center(d);for(var e=0,f=0,g=b.length;f<g;f++)e=Math.max(e,d.distanceToSquared(b[f]));this.radius=Math.sqrt(e);return this}}(),copy:function(a){this.center.copy(a.center);this.radius=a.radius;return this},empty:function(){return 0>=this.radius},containsPoint:function(a){return a.distanceToSquared(this.center)<=\nthis.radius*this.radius},distanceToPoint:function(a){return a.distanceTo(this.center)-this.radius},intersectsSphere:function(a){var b=this.radius+a.radius;return a.center.distanceToSquared(this.center)<=b*b},clampPoint:function(a,b){var c=this.center.distanceToSquared(a),d=b||new THREE.Vector3;d.copy(a);c>this.radius*this.radius&&(d.sub(this.center).normalize(),d.multiplyScalar(this.radius).add(this.center));return d},getBoundingBox:function(a){a=a||new THREE.Box3;a.set(this.center,this.center);a.expandByScalar(this.radius);\nreturn a},applyMatrix4:function(a){this.center.applyMatrix4(a);this.radius*=a.getMaxScaleOnAxis();return this},translate:function(a){this.center.add(a);return this},equals:function(a){return a.center.equals(this.center)&&a.radius===this.radius},clone:function(){return(new THREE.Sphere).copy(this)}};\nTHREE.Frustum=function(a,b,c,d,e,f){this.planes=[void 0!==a?a:new THREE.Plane,void 0!==b?b:new THREE.Plane,void 0!==c?c:new THREE.Plane,void 0!==d?d:new THREE.Plane,void 0!==e?e:new THREE.Plane,void 0!==f?f:new THREE.Plane]};\nTHREE.Frustum.prototype={constructor:THREE.Frustum,set:function(a,b,c,d,e,f){var g=this.planes;g[0].copy(a);g[1].copy(b);g[2].copy(c);g[3].copy(d);g[4].copy(e);g[5].copy(f);return this},copy:function(a){for(var b=this.planes,c=0;6>c;c++)b[c].copy(a.planes[c]);return this},setFromMatrix:function(a){var b=this.planes,c=a.elements;a=c[0];var d=c[1],e=c[2],f=c[3],g=c[4],h=c[5],k=c[6],l=c[7],p=c[8],q=c[9],n=c[10],t=c[11],r=c[12],s=c[13],u=c[14],c=c[15];b[0].setComponents(f-a,l-g,t-p,c-r).normalize();b[1].setComponents(f+\na,l+g,t+p,c+r).normalize();b[2].setComponents(f+d,l+h,t+q,c+s).normalize();b[3].setComponents(f-d,l-h,t-q,c-s).normalize();b[4].setComponents(f-e,l-k,t-n,c-u).normalize();b[5].setComponents(f+e,l+k,t+n,c+u).normalize();return this},intersectsObject:function(){var a=new THREE.Sphere;return function(b){var c=b.geometry;null===c.boundingSphere&&c.computeBoundingSphere();a.copy(c.boundingSphere);a.applyMatrix4(b.matrixWorld);return this.intersectsSphere(a)}}(),intersectsSphere:function(a){var b=this.planes,\nc=a.center;a=-a.radius;for(var d=0;6>d;d++)if(b[d].distanceToPoint(c)<a)return!1;return!0},intersectsBox:function(){var a=new THREE.Vector3,b=new THREE.Vector3;return function(c){for(var d=this.planes,e=0;6>e;e++){var f=d[e];a.x=0<f.normal.x?c.min.x:c.max.x;b.x=0<f.normal.x?c.max.x:c.min.x;a.y=0<f.normal.y?c.min.y:c.max.y;b.y=0<f.normal.y?c.max.y:c.min.y;a.z=0<f.normal.z?c.min.z:c.max.z;b.z=0<f.normal.z?c.max.z:c.min.z;var g=f.distanceToPoint(a),f=f.distanceToPoint(b);if(0>g&&0>f)return!1}return!0}}(),\ncontainsPoint:function(a){for(var b=this.planes,c=0;6>c;c++)if(0>b[c].distanceToPoint(a))return!1;return!0},clone:function(){return(new THREE.Frustum).copy(this)}};THREE.Plane=function(a,b){this.normal=void 0!==a?a:new THREE.Vector3(1,0,0);this.constant=void 0!==b?b:0};\nTHREE.Plane.prototype={constructor:THREE.Plane,set:function(a,b){this.normal.copy(a);this.constant=b;return this},setComponents:function(a,b,c,d){this.normal.set(a,b,c);this.constant=d;return this},setFromNormalAndCoplanarPoint:function(a,b){this.normal.copy(a);this.constant=-b.dot(this.normal);return this},setFromCoplanarPoints:function(){var a=new THREE.Vector3,b=new THREE.Vector3;return function(c,d,e){d=a.subVectors(e,d).cross(b.subVectors(c,d)).normalize();this.setFromNormalAndCoplanarPoint(d,\nc);return this}}(),copy:function(a){this.normal.copy(a.normal);this.constant=a.constant;return this},normalize:function(){var a=1/this.normal.length();this.normal.multiplyScalar(a);this.constant*=a;return this},negate:function(){this.constant*=-1;this.normal.negate();return this},distanceToPoint:function(a){return this.normal.dot(a)+this.constant},distanceToSphere:function(a){return this.distanceToPoint(a.center)-a.radius},projectPoint:function(a,b){return this.orthoPoint(a,b).sub(a).negate()},orthoPoint:function(a,\nb){var c=this.distanceToPoint(a);return(b||new THREE.Vector3).copy(this.normal).multiplyScalar(c)},isIntersectionLine:function(a){var b=this.distanceToPoint(a.start);a=this.distanceToPoint(a.end);return 0>b&&0<a||0>a&&0<b},intersectLine:function(){var a=new THREE.Vector3;return function(b,c){var d=c||new THREE.Vector3,e=b.delta(a),f=this.normal.dot(e);if(0==f){if(0==this.distanceToPoint(b.start))return d.copy(b.start)}else return f=-(b.start.dot(this.normal)+this.constant)/f,0>f||1<f?void 0:d.copy(e).multiplyScalar(f).add(b.start)}}(),\ncoplanarPoint:function(a){return(a||new THREE.Vector3).copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var a=new THREE.Vector3,b=new THREE.Vector3,c=new THREE.Matrix3;return function(d,e){var f=e||c.getNormalMatrix(d),f=a.copy(this.normal).applyMatrix3(f),g=this.coplanarPoint(b);g.applyMatrix4(d);this.setFromNormalAndCoplanarPoint(f,g);return this}}(),translate:function(a){this.constant-=a.dot(this.normal);return this},equals:function(a){return a.normal.equals(this.normal)&&\na.constant==this.constant},clone:function(){return(new THREE.Plane).copy(this)}};\nTHREE.Math={generateUUID:function(){var a=\"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\".split(\"\"),b=Array(36),c=0,d;return function(){for(var e=0;36>e;e++)8==e||13==e||18==e||23==e?b[e]=\"-\":14==e?b[e]=\"4\":(2>=c&&(c=33554432+16777216*Math.random()|0),d=c&15,c>>=4,b[e]=a[19==e?d&3|8:d]);return b.join(\"\")}}(),clamp:function(a,b,c){return a<b?b:a>c?c:a},clampBottom:function(a,b){return a<b?b:a},mapLinear:function(a,b,c,d,e){return d+(a-b)*(e-d)/(c-b)},smoothstep:function(a,b,c){if(a<=\nb)return 0;if(a>=c)return 1;a=(a-b)/(c-b);return a*a*(3-2*a)},smootherstep:function(a,b,c){if(a<=b)return 0;if(a>=c)return 1;a=(a-b)/(c-b);return a*a*a*(a*(6*a-15)+10)},random16:function(){return(65280*Math.random()+255*Math.random())/65535},randInt:function(a,b){return Math.floor(this.randFloat(a,b))},randFloat:function(a,b){return a+Math.random()*(b-a)},randFloatSpread:function(a){return a*(.5-Math.random())},degToRad:function(){var a=Math.PI/180;return function(b){return b*a}}(),radToDeg:function(){var a=\n180/Math.PI;return function(b){return b*a}}(),isPowerOfTwo:function(a){return 0===(a&a-1)&&0!==a},nextPowerOfTwo:function(a){a--;a|=a>>1;a|=a>>2;a|=a>>4;a|=a>>8;a|=a>>16;a++;return a}};\nTHREE.Spline=function(a){function b(a,b,c,d,e,f,g){a=.5*(c-a);d=.5*(d-b);return(2*(b-c)+a+d)*g+(-3*(b-c)-2*a-d)*f+a*e+b}this.points=a;var c=[],d={x:0,y:0,z:0},e,f,g,h,k,l,p,q,n;this.initFromArray=function(a){this.points=[];for(var b=0;b<a.length;b++)this.points[b]={x:a[b][0],y:a[b][1],z:a[b][2]}};this.getPoint=function(a){e=(this.points.length-1)*a;f=Math.floor(e);g=e-f;c[0]=0===f?f:f-1;c[1]=f;c[2]=f>this.points.length-2?this.points.length-1:f+1;c[3]=f>this.points.length-3?this.points.length-1:f+\n2;l=this.points[c[0]];p=this.points[c[1]];q=this.points[c[2]];n=this.points[c[3]];h=g*g;k=g*h;d.x=b(l.x,p.x,q.x,n.x,g,h,k);d.y=b(l.y,p.y,q.y,n.y,g,h,k);d.z=b(l.z,p.z,q.z,n.z,g,h,k);return d};this.getControlPointsArray=function(){var a,b,c=this.points.length,d=[];for(a=0;a<c;a++)b=this.points[a],d[a]=[b.x,b.y,b.z];return d};this.getLength=function(a){var b,c,d,e=b=b=0,f=new THREE.Vector3,g=new THREE.Vector3,h=[],k=0;h[0]=0;a||(a=100);c=this.points.length*a;f.copy(this.points[0]);for(a=1;a<c;a++)b=\na/c,d=this.getPoint(b),g.copy(d),k+=g.distanceTo(f),f.copy(d),b*=this.points.length-1,b=Math.floor(b),b!=e&&(h[b]=k,e=b);h[h.length]=k;return{chunks:h,total:k}};this.reparametrizeByArcLength=function(a){var b,c,d,e,f,g,h=[],k=new THREE.Vector3,n=this.getLength();h.push(k.copy(this.points[0]).clone());for(b=1;b<this.points.length;b++){c=n.chunks[b]-n.chunks[b-1];g=Math.ceil(a*c/n.total);e=(b-1)/(this.points.length-1);f=b/(this.points.length-1);for(c=1;c<g-1;c++)d=e+1/g*c*(f-e),d=this.getPoint(d),h.push(k.copy(d).clone());\nh.push(k.copy(this.points[b]).clone())}this.points=h}};THREE.Triangle=function(a,b,c){this.a=void 0!==a?a:new THREE.Vector3;this.b=void 0!==b?b:new THREE.Vector3;this.c=void 0!==c?c:new THREE.Vector3};THREE.Triangle.normal=function(){var a=new THREE.Vector3;return function(b,c,d,e){e=e||new THREE.Vector3;e.subVectors(d,c);a.subVectors(b,c);e.cross(a);b=e.lengthSq();return 0<b?e.multiplyScalar(1/Math.sqrt(b)):e.set(0,0,0)}}();\nTHREE.Triangle.barycoordFromPoint=function(){var a=new THREE.Vector3,b=new THREE.Vector3,c=new THREE.Vector3;return function(d,e,f,g,h){a.subVectors(g,e);b.subVectors(f,e);c.subVectors(d,e);d=a.dot(a);e=a.dot(b);f=a.dot(c);var k=b.dot(b);g=b.dot(c);var l=d*k-e*e;h=h||new THREE.Vector3;if(0==l)return h.set(-2,-1,-1);l=1/l;k=(k*f-e*g)*l;d=(d*g-e*f)*l;return h.set(1-k-d,d,k)}}();\nTHREE.Triangle.containsPoint=function(){var a=new THREE.Vector3;return function(b,c,d,e){b=THREE.Triangle.barycoordFromPoint(b,c,d,e,a);return 0<=b.x&&0<=b.y&&1>=b.x+b.y}}();\nTHREE.Triangle.prototype={constructor:THREE.Triangle,set:function(a,b,c){this.a.copy(a);this.b.copy(b);this.c.copy(c);return this},setFromPointsAndIndices:function(a,b,c,d){this.a.copy(a[b]);this.b.copy(a[c]);this.c.copy(a[d]);return this},copy:function(a){this.a.copy(a.a);this.b.copy(a.b);this.c.copy(a.c);return this},area:function(){var a=new THREE.Vector3,b=new THREE.Vector3;return function(){a.subVectors(this.c,this.b);b.subVectors(this.a,this.b);return.5*a.cross(b).length()}}(),midpoint:function(a){return(a||\nnew THREE.Vector3).addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(a){return THREE.Triangle.normal(this.a,this.b,this.c,a)},plane:function(a){return(a||new THREE.Plane).setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(a,b){return THREE.Triangle.barycoordFromPoint(a,this.a,this.b,this.c,b)},containsPoint:function(a){return THREE.Triangle.containsPoint(a,this.a,this.b,this.c)},equals:function(a){return a.a.equals(this.a)&&a.b.equals(this.b)&&a.c.equals(this.c)},\nclone:function(){return(new THREE.Triangle).copy(this)}};THREE.Clock=function(a){this.autoStart=void 0!==a?a:!0;this.elapsedTime=this.oldTime=this.startTime=0;this.running=!1};\nTHREE.Clock.prototype={constructor:THREE.Clock,start:function(){this.oldTime=this.startTime=void 0!==self.performance&&void 0!==self.performance.now?self.performance.now():Date.now();this.running=!0},stop:function(){this.getElapsedTime();this.running=!1},getElapsedTime:function(){this.getDelta();return this.elapsedTime},getDelta:function(){var a=0;this.autoStart&&!this.running&&this.start();if(this.running){var b=void 0!==self.performance&&void 0!==self.performance.now?self.performance.now():Date.now(),\na=.001*(b-this.oldTime);this.oldTime=b;this.elapsedTime+=a}return a}};THREE.EventDispatcher=function(){};\nTHREE.EventDispatcher.prototype={constructor:THREE.EventDispatcher,apply:function(a){a.addEventListener=THREE.EventDispatcher.prototype.addEventListener;a.hasEventListener=THREE.EventDispatcher.prototype.hasEventListener;a.removeEventListener=THREE.EventDispatcher.prototype.removeEventListener;a.dispatchEvent=THREE.EventDispatcher.prototype.dispatchEvent},addEventListener:function(a,b){void 0===this._listeners&&(this._listeners={});var c=this._listeners;void 0===c[a]&&(c[a]=[]);-1===c[a].indexOf(b)&&\nc[a].push(b)},hasEventListener:function(a,b){if(void 0===this._listeners)return!1;var c=this._listeners;return void 0!==c[a]&&-1!==c[a].indexOf(b)?!0:!1},removeEventListener:function(a,b){if(void 0!==this._listeners){var c=this._listeners[a];if(void 0!==c){var d=c.indexOf(b);-1!==d&&c.splice(d,1)}}},dispatchEvent:function(a){if(void 0!==this._listeners){var b=this._listeners[a.type];if(void 0!==b){a.target=this;for(var c=[],d=b.length,e=0;e<d;e++)c[e]=b[e];for(e=0;e<d;e++)c[e].call(this,a)}}}};\n(function(a){a.Raycaster=function(b,c,f,g){this.ray=new a.Ray(b,c);this.near=f||0;this.far=g||Infinity;this.params={Sprite:{},Mesh:{},PointCloud:{threshold:1},LOD:{},Line:{}}};var b=function(a,b){return a.distance-b.distance},c=function(a,b,f,g){a.raycast(b,f);if(!0===g){a=a.children;g=0;for(var h=a.length;g<h;g++)c(a[g],b,f,!0)}};a.Raycaster.prototype={constructor:a.Raycaster,precision:1E-4,linePrecision:1,set:function(a,b){this.ray.set(a,b)},setFromCamera:function(b,c){c instanceof a.PerspectiveCamera?\n(this.ray.origin.copy(c.position),this.ray.direction.set(b.x,b.y,.5).unproject(c).sub(c.position).normalize()):c instanceof a.OrthographicCamera?(this.ray.origin.set(b.x,b.y,-1).unproject(c),this.ray.direction.set(0,0,-1).transformDirection(c.matrixWorld)):a.error(\"THREE.Raycaster: Unsupported camera type.\")},intersectObject:function(a,e){var f=[];c(a,this,f,e);f.sort(b);return f},intersectObjects:function(d,e){var f=[];if(!1===d instanceof Array)return a.warn(\"THREE.Raycaster.intersectObjects: objects is not an Array.\"),\nf;for(var g=0,h=d.length;g<h;g++)c(d[g],this,f,e);f.sort(b);return f}}})(THREE);\nTHREE.Object3D=function(){Object.defineProperty(this,\"id\",{value:THREE.Object3DIdCount++});this.uuid=THREE.Math.generateUUID();this.name=\"\";this.type=\"Object3D\";this.parent=void 0;this.children=[];this.up=THREE.Object3D.DefaultUp.clone();var a=new THREE.Vector3,b=new THREE.Euler,c=new THREE.Quaternion,d=new THREE.Vector3(1,1,1);b.onChange(function(){c.setFromEuler(b,!1)});c.onChange(function(){b.setFromQuaternion(c,void 0,!1)});Object.defineProperties(this,{position:{enumerable:!0,value:a},rotation:{enumerable:!0,\nvalue:b},quaternion:{enumerable:!0,value:c},scale:{enumerable:!0,value:d}});this.rotationAutoUpdate=!0;this.matrix=new THREE.Matrix4;this.matrixWorld=new THREE.Matrix4;this.matrixAutoUpdate=!0;this.matrixWorldNeedsUpdate=!1;this.visible=!0;this.receiveShadow=this.castShadow=!1;this.frustumCulled=!0;this.renderOrder=0;this.userData={}};THREE.Object3D.DefaultUp=new THREE.Vector3(0,1,0);\nTHREE.Object3D.prototype={constructor:THREE.Object3D,get eulerOrder(){THREE.warn(\"THREE.Object3D: .eulerOrder has been moved to .rotation.order.\");return this.rotation.order},set eulerOrder(a){THREE.warn(\"THREE.Object3D: .eulerOrder has been moved to .rotation.order.\");this.rotation.order=a},get useQuaternion(){THREE.warn(\"THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.\")},set useQuaternion(a){THREE.warn(\"THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.\")},\napplyMatrix:function(a){this.matrix.multiplyMatrices(a,this.matrix);this.matrix.decompose(this.position,this.quaternion,this.scale)},setRotationFromAxisAngle:function(a,b){this.quaternion.setFromAxisAngle(a,b)},setRotationFromEuler:function(a){this.quaternion.setFromEuler(a,!0)},setRotationFromMatrix:function(a){this.quaternion.setFromRotationMatrix(a)},setRotationFromQuaternion:function(a){this.quaternion.copy(a)},rotateOnAxis:function(){var a=new THREE.Quaternion;return function(b,c){a.setFromAxisAngle(b,\nc);this.quaternion.multiply(a);return this}}(),rotateX:function(){var a=new THREE.Vector3(1,0,0);return function(b){return this.rotateOnAxis(a,b)}}(),rotateY:function(){var a=new THREE.Vector3(0,1,0);return function(b){return this.rotateOnAxis(a,b)}}(),rotateZ:function(){var a=new THREE.Vector3(0,0,1);return function(b){return this.rotateOnAxis(a,b)}}(),translateOnAxis:function(){var a=new THREE.Vector3;return function(b,c){a.copy(b).applyQuaternion(this.quaternion);this.position.add(a.multiplyScalar(c));\nreturn this}}(),translate:function(a,b){THREE.warn(\"THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.\");return this.translateOnAxis(b,a)},translateX:function(){var a=new THREE.Vector3(1,0,0);return function(b){return this.translateOnAxis(a,b)}}(),translateY:function(){var a=new THREE.Vector3(0,1,0);return function(b){return this.translateOnAxis(a,b)}}(),translateZ:function(){var a=new THREE.Vector3(0,0,1);return function(b){return this.translateOnAxis(a,\nb)}}(),localToWorld:function(a){return a.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var a=new THREE.Matrix4;return function(b){return b.applyMatrix4(a.getInverse(this.matrixWorld))}}(),lookAt:function(){var a=new THREE.Matrix4;return function(b){a.lookAt(b,this.position,this.up);this.quaternion.setFromRotationMatrix(a)}}(),add:function(a){if(1<arguments.length){for(var b=0;b<arguments.length;b++)this.add(arguments[b]);return this}if(a===this)return THREE.error(\"THREE.Object3D.add: object can't be added as a child of itself.\",\na),this;a instanceof THREE.Object3D?(void 0!==a.parent&&a.parent.remove(a),a.parent=this,a.dispatchEvent({type:\"added\"}),this.children.push(a)):THREE.error(\"THREE.Object3D.add: object not an instance of THREE.Object3D.\",a);return this},remove:function(a){if(1<arguments.length)for(var b=0;b<arguments.length;b++)this.remove(arguments[b]);b=this.children.indexOf(a);-1!==b&&(a.parent=void 0,a.dispatchEvent({type:\"removed\"}),this.children.splice(b,1))},getChildByName:function(a){THREE.warn(\"THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().\");\nreturn this.getObjectByName(a)},getObjectById:function(a){return this.getObjectByProperty(\"id\",a)},getObjectByName:function(a){return this.getObjectByProperty(\"name\",a)},getObjectByProperty:function(a,b){if(this[a]===b)return this;for(var c=0,d=this.children.length;c<d;c++){var e=this.children[c].getObjectByProperty(a,b);if(void 0!==e)return e}},getWorldPosition:function(a){a=a||new THREE.Vector3;this.updateMatrixWorld(!0);return a.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var a=\nnew THREE.Vector3,b=new THREE.Vector3;return function(c){c=c||new THREE.Quaternion;this.updateMatrixWorld(!0);this.matrixWorld.decompose(a,c,b);return c}}(),getWorldRotation:function(){var a=new THREE.Quaternion;return function(b){b=b||new THREE.Euler;this.getWorldQuaternion(a);return b.setFromQuaternion(a,this.rotation.order,!1)}}(),getWorldScale:function(){var a=new THREE.Vector3,b=new THREE.Quaternion;return function(c){c=c||new THREE.Vector3;this.updateMatrixWorld(!0);this.matrixWorld.decompose(a,\nb,c);return c}}(),getWorldDirection:function(){var a=new THREE.Quaternion;return function(b){b=b||new THREE.Vector3;this.getWorldQuaternion(a);return b.set(0,0,1).applyQuaternion(a)}}(),raycast:function(){},traverse:function(a){a(this);for(var b=0,c=this.children.length;b<c;b++)this.children[b].traverse(a)},traverseVisible:function(a){if(!1!==this.visible){a(this);for(var b=0,c=this.children.length;b<c;b++)this.children[b].traverseVisible(a)}},traverseAncestors:function(a){this.parent&&(a(this.parent),\nthis.parent.traverseAncestors(a))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale);this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(a){!0===this.matrixAutoUpdate&&this.updateMatrix();if(!0===this.matrixWorldNeedsUpdate||!0===a)void 0===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,a=!0;for(var b=0,c=this.children.length;b<c;b++)this.children[b].updateMatrixWorld(a)},\ntoJSON:function(){var a={metadata:{version:4.3,type:\"Object\",generator:\"ObjectExporter\"}},b={},c={},d=function(b){void 0===a.materials&&(a.materials=[]);if(void 0===c[b.uuid]){var d=b.toJSON();delete d.metadata;c[b.uuid]=d;a.materials.push(d)}return b.uuid},e=function(c){var g={};g.uuid=c.uuid;g.type=c.type;\"\"!==c.name&&(g.name=c.name);\"{}\"!==JSON.stringify(c.userData)&&(g.userData=c.userData);!0!==c.visible&&(g.visible=c.visible);if(c instanceof THREE.PerspectiveCamera)g.fov=c.fov,g.aspect=c.aspect,\ng.near=c.near,g.far=c.far;else if(c instanceof THREE.OrthographicCamera)g.left=c.left,g.right=c.right,g.top=c.top,g.bottom=c.bottom,g.near=c.near,g.far=c.far;else if(c instanceof THREE.AmbientLight)g.color=c.color.getHex();else if(c instanceof THREE.DirectionalLight)g.color=c.color.getHex(),g.intensity=c.intensity;else if(c instanceof THREE.PointLight)g.color=c.color.getHex(),g.intensity=c.intensity,g.distance=c.distance,g.decay=c.decay;else if(c instanceof THREE.SpotLight)g.color=c.color.getHex(),\ng.intensity=c.intensity,g.distance=c.distance,g.angle=c.angle,g.exponent=c.exponent,g.decay=c.decay;else if(c instanceof THREE.HemisphereLight)g.color=c.color.getHex(),g.groundColor=c.groundColor.getHex();else if(c instanceof THREE.Mesh||c instanceof THREE.Line||c instanceof THREE.PointCloud){var h=c.geometry;void 0===a.geometries&&(a.geometries=[]);if(void 0===b[h.uuid]){var k=h.toJSON();delete k.metadata;b[h.uuid]=k;a.geometries.push(k)}g.geometry=h.uuid;g.material=d(c.material);c instanceof THREE.Line&&\n(g.mode=c.mode)}else c instanceof THREE.Sprite&&(g.material=d(c.material));g.matrix=c.matrix.toArray();if(0<c.children.length)for(g.children=[],h=0;h<c.children.length;h++)g.children.push(e(c.children[h]));return g};a.object=e(this);return a},clone:function(a,b){void 0===a&&(a=new THREE.Object3D);void 0===b&&(b=!0);a.name=this.name;a.up.copy(this.up);a.position.copy(this.position);a.quaternion.copy(this.quaternion);a.scale.copy(this.scale);a.rotationAutoUpdate=this.rotationAutoUpdate;a.matrix.copy(this.matrix);\na.matrixWorld.copy(this.matrixWorld);a.matrixAutoUpdate=this.matrixAutoUpdate;a.matrixWorldNeedsUpdate=this.matrixWorldNeedsUpdate;a.visible=this.visible;a.castShadow=this.castShadow;a.receiveShadow=this.receiveShadow;a.frustumCulled=this.frustumCulled;a.userData=JSON.parse(JSON.stringify(this.userData));if(!0===b)for(var c=0;c<this.children.length;c++)a.add(this.children[c].clone());return a}};THREE.EventDispatcher.prototype.apply(THREE.Object3D.prototype);THREE.Object3DIdCount=0;\nTHREE.Face3=function(a,b,c,d,e,f){this.a=a;this.b=b;this.c=c;this.normal=d instanceof THREE.Vector3?d:new THREE.Vector3;this.vertexNormals=d instanceof Array?d:[];this.color=e instanceof THREE.Color?e:new THREE.Color;this.vertexColors=e instanceof Array?e:[];this.vertexTangents=[];this.materialIndex=void 0!==f?f:0};\nTHREE.Face3.prototype={constructor:THREE.Face3,clone:function(){var a=new THREE.Face3(this.a,this.b,this.c);a.normal.copy(this.normal);a.color.copy(this.color);a.materialIndex=this.materialIndex;for(var b=0,c=this.vertexNormals.length;b<c;b++)a.vertexNormals[b]=this.vertexNormals[b].clone();b=0;for(c=this.vertexColors.length;b<c;b++)a.vertexColors[b]=this.vertexColors[b].clone();b=0;for(c=this.vertexTangents.length;b<c;b++)a.vertexTangents[b]=this.vertexTangents[b].clone();return a}};\nTHREE.Face4=function(a,b,c,d,e,f,g){THREE.warn(\"THREE.Face4 has been removed. A THREE.Face3 will be created instead.\");return new THREE.Face3(a,b,c,e,f,g)};THREE.BufferAttribute=function(a,b){this.array=a;this.itemSize=b;this.needsUpdate=!1};\nTHREE.BufferAttribute.prototype={constructor:THREE.BufferAttribute,get length(){return this.array.length},copyAt:function(a,b,c){a*=this.itemSize;c*=b.itemSize;for(var d=0,e=this.itemSize;d<e;d++)this.array[a+d]=b.array[c+d];return this},set:function(a,b){void 0===b&&(b=0);this.array.set(a,b);return this},setX:function(a,b){this.array[a*this.itemSize]=b;return this},setY:function(a,b){this.array[a*this.itemSize+1]=b;return this},setZ:function(a,b){this.array[a*this.itemSize+2]=b;return this},setXY:function(a,\nb,c){a*=this.itemSize;this.array[a]=b;this.array[a+1]=c;return this},setXYZ:function(a,b,c,d){a*=this.itemSize;this.array[a]=b;this.array[a+1]=c;this.array[a+2]=d;return this},setXYZW:function(a,b,c,d,e){a*=this.itemSize;this.array[a]=b;this.array[a+1]=c;this.array[a+2]=d;this.array[a+3]=e;return this},clone:function(){return new THREE.BufferAttribute(new this.array.constructor(this.array),this.itemSize)}};\nTHREE.Int8Attribute=function(a,b){THREE.warn(\"THREE.Int8Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead.\");return new THREE.BufferAttribute(a,b)};THREE.Uint8Attribute=function(a,b){THREE.warn(\"THREE.Uint8Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead.\");return new THREE.BufferAttribute(a,b)};\nTHREE.Uint8ClampedAttribute=function(a,b){THREE.warn(\"THREE.Uint8ClampedAttribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead.\");return new THREE.BufferAttribute(a,b)};THREE.Int16Attribute=function(a,b){THREE.warn(\"THREE.Int16Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead.\");return new THREE.BufferAttribute(a,b)};\nTHREE.Uint16Attribute=function(a,b){THREE.warn(\"THREE.Uint16Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead.\");return new THREE.BufferAttribute(a,b)};THREE.Int32Attribute=function(a,b){THREE.warn(\"THREE.Int32Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead.\");return new THREE.BufferAttribute(a,b)};\nTHREE.Uint32Attribute=function(a,b){THREE.warn(\"THREE.Uint32Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead.\");return new THREE.BufferAttribute(a,b)};THREE.Float32Attribute=function(a,b){THREE.warn(\"THREE.Float32Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead.\");return new THREE.BufferAttribute(a,b)};\nTHREE.Float64Attribute=function(a,b){THREE.warn(\"THREE.Float64Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead.\");return new THREE.BufferAttribute(a,b)};THREE.DynamicBufferAttribute=function(a,b){THREE.BufferAttribute.call(this,a,b);this.updateRange={offset:0,count:-1}};THREE.DynamicBufferAttribute.prototype=Object.create(THREE.BufferAttribute.prototype);THREE.DynamicBufferAttribute.prototype.constructor=THREE.DynamicBufferAttribute;\nTHREE.DynamicBufferAttribute.prototype.clone=function(){return new THREE.DynamicBufferAttribute(new this.array.constructor(this.array),this.itemSize)};THREE.BufferGeometry=function(){Object.defineProperty(this,\"id\",{value:THREE.GeometryIdCount++});this.uuid=THREE.Math.generateUUID();this.name=\"\";this.type=\"BufferGeometry\";this.attributes={};this.attributesKeys=[];this.offsets=this.drawcalls=[];this.boundingSphere=this.boundingBox=null};\nTHREE.BufferGeometry.prototype={constructor:THREE.BufferGeometry,addAttribute:function(a,b,c){!1===b instanceof THREE.BufferAttribute?(THREE.warn(\"THREE.BufferGeometry: .addAttribute() now expects ( name, attribute ).\"),this.attributes[a]={array:b,itemSize:c}):(this.attributes[a]=b,this.attributesKeys=Object.keys(this.attributes))},getAttribute:function(a){return this.attributes[a]},addDrawCall:function(a,b,c){this.drawcalls.push({start:a,count:b,index:void 0!==c?c:0})},applyMatrix:function(a){var b=\nthis.attributes.position;void 0!==b&&(a.applyToVector3Array(b.array),b.needsUpdate=!0);b=this.attributes.normal;void 0!==b&&((new THREE.Matrix3).getNormalMatrix(a).applyToVector3Array(b.array),b.needsUpdate=!0);null!==this.boundingBox&&this.computeBoundingBox();null!==this.boundingSphere&&this.computeBoundingSphere()},center:function(){this.computeBoundingBox();var a=this.boundingBox.center().negate();this.applyMatrix((new THREE.Matrix4).setPosition(a));return a},fromGeometry:function(a,b){b=b||{vertexColors:THREE.NoColors};\nvar c=a.vertices,d=a.faces,e=a.faceVertexUvs,f=b.vertexColors,g=0<e[0].length,h=3==d[0].vertexNormals.length,k=new Float32Array(9*d.length);this.addAttribute(\"position\",new THREE.BufferAttribute(k,3));var l=new Float32Array(9*d.length);this.addAttribute(\"normal\",new THREE.BufferAttribute(l,3));if(f!==THREE.NoColors){var p=new Float32Array(9*d.length);this.addAttribute(\"color\",new THREE.BufferAttribute(p,3))}if(!0===g){var q=new Float32Array(6*d.length);this.addAttribute(\"uv\",new THREE.BufferAttribute(q,\n2))}for(var n=0,t=0,r=0;n<d.length;n++,t+=6,r+=9){var s=d[n],u=c[s.a],v=c[s.b],x=c[s.c];k[r]=u.x;k[r+1]=u.y;k[r+2]=u.z;k[r+3]=v.x;k[r+4]=v.y;k[r+5]=v.z;k[r+6]=x.x;k[r+7]=x.y;k[r+8]=x.z;!0===h?(u=s.vertexNormals[0],v=s.vertexNormals[1],x=s.vertexNormals[2],l[r]=u.x,l[r+1]=u.y,l[r+2]=u.z,l[r+3]=v.x,l[r+4]=v.y,l[r+5]=v.z,l[r+6]=x.x,l[r+7]=x.y,l[r+8]=x.z):(u=s.normal,l[r]=u.x,l[r+1]=u.y,l[r+2]=u.z,l[r+3]=u.x,l[r+4]=u.y,l[r+5]=u.z,l[r+6]=u.x,l[r+7]=u.y,l[r+8]=u.z);f===THREE.FaceColors?(s=s.color,p[r]=\ns.r,p[r+1]=s.g,p[r+2]=s.b,p[r+3]=s.r,p[r+4]=s.g,p[r+5]=s.b,p[r+6]=s.r,p[r+7]=s.g,p[r+8]=s.b):f===THREE.VertexColors&&(u=s.vertexColors[0],v=s.vertexColors[1],s=s.vertexColors[2],p[r]=u.r,p[r+1]=u.g,p[r+2]=u.b,p[r+3]=v.r,p[r+4]=v.g,p[r+5]=v.b,p[r+6]=s.r,p[r+7]=s.g,p[r+8]=s.b);!0===g&&(s=e[0][n][0],u=e[0][n][1],v=e[0][n][2],q[t]=s.x,q[t+1]=s.y,q[t+2]=u.x,q[t+3]=u.y,q[t+4]=v.x,q[t+5]=v.y)}this.computeBoundingSphere();return this},computeBoundingBox:function(){var a=new THREE.Vector3;return function(){null===\nthis.boundingBox&&(this.boundingBox=new THREE.Box3);var b=this.attributes.position.array;if(b){var c=this.boundingBox;c.makeEmpty();for(var d=0,e=b.length;d<e;d+=3)a.set(b[d],b[d+1],b[d+2]),c.expandByPoint(a)}if(void 0===b||0===b.length)this.boundingBox.min.set(0,0,0),this.boundingBox.max.set(0,0,0);(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&THREE.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The \"position\" attribute is likely to have NaN values.')}}(),\ncomputeBoundingSphere:function(){var a=new THREE.Box3,b=new THREE.Vector3;return function(){null===this.boundingSphere&&(this.boundingSphere=new THREE.Sphere);var c=this.attributes.position.array;if(c){a.makeEmpty();for(var d=this.boundingSphere.center,e=0,f=c.length;e<f;e+=3)b.set(c[e],c[e+1],c[e+2]),a.expandByPoint(b);a.center(d);for(var g=0,e=0,f=c.length;e<f;e+=3)b.set(c[e],c[e+1],c[e+2]),g=Math.max(g,d.distanceToSquared(b));this.boundingSphere.radius=Math.sqrt(g);isNaN(this.boundingSphere.radius)&&\nTHREE.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The \"position\" attribute is likely to have NaN values.')}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var a=this.attributes;if(a.position){var b=a.position.array;if(void 0===a.normal)this.addAttribute(\"normal\",new THREE.BufferAttribute(new Float32Array(b.length),3));else for(var c=a.normal.array,d=0,e=c.length;d<e;d++)c[d]=0;var c=a.normal.array,f,g,h,k=new THREE.Vector3,l=new THREE.Vector3,\np=new THREE.Vector3,q=new THREE.Vector3,n=new THREE.Vector3;if(a.index)for(var t=a.index.array,r=0<this.offsets.length?this.offsets:[{start:0,count:t.length,index:0}],s=0,u=r.length;s<u;++s){e=r[s].start;f=r[s].count;for(var v=r[s].index,d=e,e=e+f;d<e;d+=3)f=3*(v+t[d]),g=3*(v+t[d+1]),h=3*(v+t[d+2]),k.fromArray(b,f),l.fromArray(b,g),p.fromArray(b,h),q.subVectors(p,l),n.subVectors(k,l),q.cross(n),c[f]+=q.x,c[f+1]+=q.y,c[f+2]+=q.z,c[g]+=q.x,c[g+1]+=q.y,c[g+2]+=q.z,c[h]+=q.x,c[h+1]+=q.y,c[h+2]+=q.z}else for(d=\n0,e=b.length;d<e;d+=9)k.fromArray(b,d),l.fromArray(b,d+3),p.fromArray(b,d+6),q.subVectors(p,l),n.subVectors(k,l),q.cross(n),c[d]=q.x,c[d+1]=q.y,c[d+2]=q.z,c[d+3]=q.x,c[d+4]=q.y,c[d+5]=q.z,c[d+6]=q.x,c[d+7]=q.y,c[d+8]=q.z;this.normalizeNormals();a.normal.needsUpdate=!0}},computeTangents:function(){function a(a,b,c){q.fromArray(d,3*a);n.fromArray(d,3*b);t.fromArray(d,3*c);r.fromArray(f,2*a);s.fromArray(f,2*b);u.fromArray(f,2*c);v=n.x-q.x;x=t.x-q.x;D=n.y-q.y;w=t.y-q.y;y=n.z-q.z;A=t.z-q.z;E=s.x-r.x;G=\nu.x-r.x;F=s.y-r.y;z=u.y-r.y;I=1/(E*z-G*F);U.set((z*v-F*x)*I,(z*D-F*w)*I,(z*y-F*A)*I);M.set((E*x-G*v)*I,(E*w-G*D)*I,(E*A-G*y)*I);k[a].add(U);k[b].add(U);k[c].add(U);l[a].add(M);l[b].add(M);l[c].add(M)}function b(a){ha.fromArray(e,3*a);O.copy(ha);ba=k[a];oa.copy(ba);oa.sub(ha.multiplyScalar(ha.dot(ba))).normalize();ja.crossVectors(O,ba);qa=ja.dot(l[a]);ca=0>qa?-1:1;h[4*a]=oa.x;h[4*a+1]=oa.y;h[4*a+2]=oa.z;h[4*a+3]=ca}if(void 0===this.attributes.index||void 0===this.attributes.position||void 0===this.attributes.normal||\nvoid 0===this.attributes.uv)THREE.warn(\"THREE.BufferGeometry: Missing required attributes (index, position, normal or uv) in BufferGeometry.computeTangents()\");else{var c=this.attributes.index.array,d=this.attributes.position.array,e=this.attributes.normal.array,f=this.attributes.uv.array,g=d.length/3;void 0===this.attributes.tangent&&this.addAttribute(\"tangent\",new THREE.BufferAttribute(new Float32Array(4*g),4));for(var h=this.attributes.tangent.array,k=[],l=[],p=0;p<g;p++)k[p]=new THREE.Vector3,\nl[p]=new THREE.Vector3;var q=new THREE.Vector3,n=new THREE.Vector3,t=new THREE.Vector3,r=new THREE.Vector2,s=new THREE.Vector2,u=new THREE.Vector2,v,x,D,w,y,A,E,G,F,z,I,U=new THREE.Vector3,M=new THREE.Vector3,H,L,P,N,R;0===this.drawcalls.length&&this.addDrawCall(0,c.length,0);var V=this.drawcalls,p=0;for(L=V.length;p<L;++p){H=V[p].start;P=V[p].count;var J=V[p].index,g=H;for(H+=P;g<H;g+=3)P=J+c[g],N=J+c[g+1],R=J+c[g+2],a(P,N,R)}var oa=new THREE.Vector3,ja=new THREE.Vector3,ha=new THREE.Vector3,O=new THREE.Vector3,\nca,ba,qa,p=0;for(L=V.length;p<L;++p)for(H=V[p].start,P=V[p].count,J=V[p].index,g=H,H+=P;g<H;g+=3)P=J+c[g],N=J+c[g+1],R=J+c[g+2],b(P),b(N),b(R)}},computeOffsets:function(a){void 0===a&&(a=65535);for(var b=this.attributes.index.array,c=this.attributes.position.array,d=b.length/3,e=new Uint16Array(b.length),f=0,g=0,h=[{start:0,count:0,index:0}],k=h[0],l=0,p=0,q=new Int32Array(6),n=new Int32Array(c.length),t=new Int32Array(c.length),r=0;r<c.length;r++)n[r]=-1,t[r]=-1;for(c=0;c<d;c++){for(var s=p=0;3>\ns;s++)r=b[3*c+s],-1==n[r]?(q[2*s]=r,q[2*s+1]=-1,p++):n[r]<k.index?(q[2*s]=r,q[2*s+1]=-1,l++):(q[2*s]=r,q[2*s+1]=n[r]);if(g+p>k.index+a)for(k={start:f,count:0,index:g},h.push(k),p=0;6>p;p+=2)s=q[p+1],-1<s&&s<k.index&&(q[p+1]=-1);for(p=0;6>p;p+=2)r=q[p],s=q[p+1],-1===s&&(s=g++),n[r]=s,t[s]=r,e[f++]=s-k.index,k.count++}this.reorderBuffers(e,t,g);return this.drawcalls=this.offsets=h},merge:function(a,b){if(!1===a instanceof THREE.BufferGeometry)THREE.error(\"THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.\",\na);else{void 0===b&&(b=0);var c=this.attributes,d;for(d in c)if(void 0!==a.attributes[d])for(var e=c[d].array,f=a.attributes[d],g=f.array,h=0,f=f.itemSize*b;h<g.length;h++,f++)e[f]=g[h];return this}},normalizeNormals:function(){for(var a=this.attributes.normal.array,b,c,d,e=0,f=a.length;e<f;e+=3)b=a[e],c=a[e+1],d=a[e+2],b=1/Math.sqrt(b*b+c*c+d*d),a[e]*=b,a[e+1]*=b,a[e+2]*=b},reorderBuffers:function(a,b,c){var d={},e;for(e in this.attributes)\"index\"!=e&&(d[e]=new this.attributes[e].array.constructor(this.attributes[e].itemSize*\nc));for(var f=0;f<c;f++){var g=b[f];for(e in this.attributes)if(\"index\"!=e)for(var h=this.attributes[e].array,k=this.attributes[e].itemSize,l=d[e],p=0;p<k;p++)l[f*k+p]=h[g*k+p]}this.attributes.index.array=a;for(e in this.attributes)\"index\"!=e&&(this.attributes[e].array=d[e],this.attributes[e].numItems=this.attributes[e].itemSize*c)},toJSON:function(){var a={metadata:{version:4,type:\"BufferGeometry\",generator:\"BufferGeometryExporter\"},uuid:this.uuid,type:this.type,data:{attributes:{}}},b=this.attributes,\nc=this.offsets,d=this.boundingSphere,e;for(e in b){var f=b[e],g=Array.prototype.slice.call(f.array);a.data.attributes[e]={itemSize:f.itemSize,type:f.array.constructor.name,array:g}}0<c.length&&(a.data.offsets=JSON.parse(JSON.stringify(c)));null!==d&&(a.data.boundingSphere={center:d.center.toArray(),radius:d.radius});return a},clone:function(){var a=new THREE.BufferGeometry,b;for(b in this.attributes)a.addAttribute(b,this.attributes[b].clone());b=0;for(var c=this.offsets.length;b<c;b++){var d=this.offsets[b];\na.offsets.push({start:d.start,index:d.index,count:d.count})}return a},dispose:function(){this.dispatchEvent({type:\"dispose\"})}};THREE.EventDispatcher.prototype.apply(THREE.BufferGeometry.prototype);\nTHREE.Geometry=function(){Object.defineProperty(this,\"id\",{value:THREE.GeometryIdCount++});this.uuid=THREE.Math.generateUUID();this.name=\"\";this.type=\"Geometry\";this.vertices=[];this.colors=[];this.faces=[];this.faceVertexUvs=[[]];this.morphTargets=[];this.morphColors=[];this.morphNormals=[];this.skinWeights=[];this.skinIndices=[];this.lineDistances=[];this.boundingSphere=this.boundingBox=null;this.hasTangents=!1;this.dynamic=!0;this.groupsNeedUpdate=this.lineDistancesNeedUpdate=this.colorsNeedUpdate=\nthis.tangentsNeedUpdate=this.normalsNeedUpdate=this.uvsNeedUpdate=this.elementsNeedUpdate=this.verticesNeedUpdate=!1};\nTHREE.Geometry.prototype={constructor:THREE.Geometry,applyMatrix:function(a){for(var b=(new THREE.Matrix3).getNormalMatrix(a),c=0,d=this.vertices.length;c<d;c++)this.vertices[c].applyMatrix4(a);c=0;for(d=this.faces.length;c<d;c++){a=this.faces[c];a.normal.applyMatrix3(b).normalize();for(var e=0,f=a.vertexNormals.length;e<f;e++)a.vertexNormals[e].applyMatrix3(b).normalize()}null!==this.boundingBox&&this.computeBoundingBox();null!==this.boundingSphere&&this.computeBoundingSphere();this.normalsNeedUpdate=\nthis.verticesNeedUpdate=!0},fromBufferGeometry:function(a){for(var b=this,c=a.attributes,d=c.position.array,e=void 0!==c.index?c.index.array:void 0,f=void 0!==c.normal?c.normal.array:void 0,g=void 0!==c.color?c.color.array:void 0,h=void 0!==c.uv?c.uv.array:void 0,k=[],l=[],p=c=0;c<d.length;c+=3,p+=2)b.vertices.push(new THREE.Vector3(d[c],d[c+1],d[c+2])),void 0!==f&&k.push(new THREE.Vector3(f[c],f[c+1],f[c+2])),void 0!==g&&b.colors.push(new THREE.Color(g[c],g[c+1],g[c+2])),void 0!==h&&l.push(new THREE.Vector2(h[p],\nh[p+1]));var q=function(a,c,d){var e=void 0!==f?[k[a].clone(),k[c].clone(),k[d].clone()]:[],n=void 0!==g?[b.colors[a].clone(),b.colors[c].clone(),b.colors[d].clone()]:[];b.faces.push(new THREE.Face3(a,c,d,e,n));void 0!==h&&b.faceVertexUvs[0].push([l[a].clone(),l[c].clone(),l[d].clone()])};if(void 0!==e)if(d=a.drawcalls,0<d.length)for(c=0;c<d.length;c++)for(var p=d[c],n=p.start,t=p.count,r=p.index,p=n,n=n+t;p<n;p+=3)q(r+e[p],r+e[p+1],r+e[p+2]);else for(c=0;c<e.length;c+=3)q(e[c],e[c+1],e[c+2]);else for(c=\n0;c<d.length/3;c+=3)q(c,c+1,c+2);this.computeFaceNormals();null!==a.boundingBox&&(this.boundingBox=a.boundingBox.clone());null!==a.boundingSphere&&(this.boundingSphere=a.boundingSphere.clone());return this},center:function(){this.computeBoundingBox();var a=this.boundingBox.center().negate();this.applyMatrix((new THREE.Matrix4).setPosition(a));return a},computeFaceNormals:function(){for(var a=new THREE.Vector3,b=new THREE.Vector3,c=0,d=this.faces.length;c<d;c++){var e=this.faces[c],f=this.vertices[e.a],\ng=this.vertices[e.b];a.subVectors(this.vertices[e.c],g);b.subVectors(f,g);a.cross(b);a.normalize();e.normal.copy(a)}},computeVertexNormals:function(a){var b,c,d;d=Array(this.vertices.length);b=0;for(c=this.vertices.length;b<c;b++)d[b]=new THREE.Vector3;if(a){var e,f,g,h=new THREE.Vector3,k=new THREE.Vector3;a=0;for(b=this.faces.length;a<b;a++)c=this.faces[a],e=this.vertices[c.a],f=this.vertices[c.b],g=this.vertices[c.c],h.subVectors(g,f),k.subVectors(e,f),h.cross(k),d[c.a].add(h),d[c.b].add(h),d[c.c].add(h)}else for(a=\n0,b=this.faces.length;a<b;a++)c=this.faces[a],d[c.a].add(c.normal),d[c.b].add(c.normal),d[c.c].add(c.normal);b=0;for(c=this.vertices.length;b<c;b++)d[b].normalize();a=0;for(b=this.faces.length;a<b;a++)c=this.faces[a],c.vertexNormals[0]=d[c.a].clone(),c.vertexNormals[1]=d[c.b].clone(),c.vertexNormals[2]=d[c.c].clone()},computeMorphNormals:function(){var a,b,c,d,e;c=0;for(d=this.faces.length;c<d;c++)for(e=this.faces[c],e.__originalFaceNormal?e.__originalFaceNormal.copy(e.normal):e.__originalFaceNormal=\ne.normal.clone(),e.__originalVertexNormals||(e.__originalVertexNormals=[]),a=0,b=e.vertexNormals.length;a<b;a++)e.__originalVertexNormals[a]?e.__originalVertexNormals[a].copy(e.vertexNormals[a]):e.__originalVertexNormals[a]=e.vertexNormals[a].clone();var f=new THREE.Geometry;f.faces=this.faces;a=0;for(b=this.morphTargets.length;a<b;a++){if(!this.morphNormals[a]){this.morphNormals[a]={};this.morphNormals[a].faceNormals=[];this.morphNormals[a].vertexNormals=[];e=this.morphNormals[a].faceNormals;var g=\nthis.morphNormals[a].vertexNormals,h,k;c=0;for(d=this.faces.length;c<d;c++)h=new THREE.Vector3,k={a:new THREE.Vector3,b:new THREE.Vector3,c:new THREE.Vector3},e.push(h),g.push(k)}g=this.morphNormals[a];f.vertices=this.morphTargets[a].vertices;f.computeFaceNormals();f.computeVertexNormals();c=0;for(d=this.faces.length;c<d;c++)e=this.faces[c],h=g.faceNormals[c],k=g.vertexNormals[c],h.copy(e.normal),k.a.copy(e.vertexNormals[0]),k.b.copy(e.vertexNormals[1]),k.c.copy(e.vertexNormals[2])}c=0;for(d=this.faces.length;c<\nd;c++)e=this.faces[c],e.normal=e.__originalFaceNormal,e.vertexNormals=e.__originalVertexNormals},computeTangents:function(){var a,b,c,d,e,f,g,h,k,l,p,q,n,t,r,s,u,v=[],x=[];c=new THREE.Vector3;var D=new THREE.Vector3,w=new THREE.Vector3,y=new THREE.Vector3,A=new THREE.Vector3;a=0;for(b=this.vertices.length;a<b;a++)v[a]=new THREE.Vector3,x[a]=new THREE.Vector3;a=0;for(b=this.faces.length;a<b;a++)e=this.faces[a],f=this.faceVertexUvs[0][a],d=e.a,u=e.b,e=e.c,g=this.vertices[d],h=this.vertices[u],k=this.vertices[e],\nl=f[0],p=f[1],q=f[2],f=h.x-g.x,n=k.x-g.x,t=h.y-g.y,r=k.y-g.y,h=h.z-g.z,g=k.z-g.z,k=p.x-l.x,s=q.x-l.x,p=p.y-l.y,l=q.y-l.y,q=1/(k*l-s*p),c.set((l*f-p*n)*q,(l*t-p*r)*q,(l*h-p*g)*q),D.set((k*n-s*f)*q,(k*r-s*t)*q,(k*g-s*h)*q),v[d].add(c),v[u].add(c),v[e].add(c),x[d].add(D),x[u].add(D),x[e].add(D);D=[\"a\",\"b\",\"c\",\"d\"];a=0;for(b=this.faces.length;a<b;a++)for(e=this.faces[a],c=0;c<Math.min(e.vertexNormals.length,3);c++)A.copy(e.vertexNormals[c]),d=e[D[c]],u=v[d],w.copy(u),w.sub(A.multiplyScalar(A.dot(u))).normalize(),\ny.crossVectors(e.vertexNormals[c],u),d=y.dot(x[d]),d=0>d?-1:1,e.vertexTangents[c]=new THREE.Vector4(w.x,w.y,w.z,d);this.hasTangents=!0},computeLineDistances:function(){for(var a=0,b=this.vertices,c=0,d=b.length;c<d;c++)0<c&&(a+=b[c].distanceTo(b[c-1])),this.lineDistances[c]=a},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new THREE.Box3);this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new THREE.Sphere);\nthis.boundingSphere.setFromPoints(this.vertices)},merge:function(a,b,c){if(!1===a instanceof THREE.Geometry)THREE.error(\"THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.\",a);else{var d,e=this.vertices.length,f=this.vertices,g=a.vertices,h=this.faces,k=a.faces,l=this.faceVertexUvs[0];a=a.faceVertexUvs[0];void 0===c&&(c=0);void 0!==b&&(d=(new THREE.Matrix3).getNormalMatrix(b));for(var p=0,q=g.length;p<q;p++){var n=g[p].clone();void 0!==b&&n.applyMatrix4(b);f.push(n)}p=0;for(q=k.length;p<\nq;p++){var g=k[p],t,r=g.vertexNormals,s=g.vertexColors,n=new THREE.Face3(g.a+e,g.b+e,g.c+e);n.normal.copy(g.normal);void 0!==d&&n.normal.applyMatrix3(d).normalize();b=0;for(f=r.length;b<f;b++)t=r[b].clone(),void 0!==d&&t.applyMatrix3(d).normalize(),n.vertexNormals.push(t);n.color.copy(g.color);b=0;for(f=s.length;b<f;b++)t=s[b],n.vertexColors.push(t.clone());n.materialIndex=g.materialIndex+c;h.push(n)}p=0;for(q=a.length;p<q;p++)if(c=a[p],d=[],void 0!==c){b=0;for(f=c.length;b<f;b++)d.push(c[b].clone());\nl.push(d)}}},mergeMesh:function(a){!1===a instanceof THREE.Mesh?THREE.error(\"THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.\",a):(a.matrixAutoUpdate&&a.updateMatrix(),this.merge(a.geometry,a.matrix))},mergeVertices:function(){var a={},b=[],c=[],d,e=Math.pow(10,4),f,g;f=0;for(g=this.vertices.length;f<g;f++)d=this.vertices[f],d=Math.round(d.x*e)+\"_\"+Math.round(d.y*e)+\"_\"+Math.round(d.z*e),void 0===a[d]?(a[d]=f,b.push(this.vertices[f]),c[f]=b.length-1):c[f]=c[a[d]];a=[];f=0;for(g=this.faces.length;f<\ng;f++)for(e=this.faces[f],e.a=c[e.a],e.b=c[e.b],e.c=c[e.c],e=[e.a,e.b,e.c],d=0;3>d;d++)if(e[d]==e[(d+1)%3]){a.push(f);break}for(f=a.length-1;0<=f;f--)for(e=a[f],this.faces.splice(e,1),c=0,g=this.faceVertexUvs.length;c<g;c++)this.faceVertexUvs[c].splice(e,1);f=this.vertices.length-b.length;this.vertices=b;return f},toJSON:function(){function a(a,b,c){return c?a|1<<b:a&~(1<<b)}function b(a){var b=a.x.toString()+a.y.toString()+a.z.toString();if(void 0!==l[b])return l[b];l[b]=k.length/3;k.push(a.x,a.y,\na.z);return l[b]}function c(a){var b=a.r.toString()+a.g.toString()+a.b.toString();if(void 0!==q[b])return q[b];q[b]=p.length;p.push(a.getHex());return q[b]}function d(a){var b=a.x.toString()+a.y.toString();if(void 0!==t[b])return t[b];t[b]=n.length/2;n.push(a.x,a.y);return t[b]}var e={metadata:{version:4,type:\"BufferGeometry\",generator:\"BufferGeometryExporter\"},uuid:this.uuid,type:this.type};\"\"!==this.name&&(e.name=this.name);if(void 0!==this.parameters){var f=this.parameters,g;for(g in f)void 0!==\nf[g]&&(e[g]=f[g]);return e}f=[];for(g=0;g<this.vertices.length;g++){var h=this.vertices[g];f.push(h.x,h.y,h.z)}var h=[],k=[],l={},p=[],q={},n=[],t={};for(g=0;g<this.faces.length;g++){var r=this.faces[g],s=void 0!==this.faceVertexUvs[0][g],u=0<r.normal.length(),v=0<r.vertexNormals.length,x=1!==r.color.r||1!==r.color.g||1!==r.color.b,D=0<r.vertexColors.length,w=0,w=a(w,0,0),w=a(w,1,!1),w=a(w,2,!1),w=a(w,3,s),w=a(w,4,u),w=a(w,5,v),w=a(w,6,x),w=a(w,7,D);h.push(w);h.push(r.a,r.b,r.c);s&&(s=this.faceVertexUvs[0][g],\nh.push(d(s[0]),d(s[1]),d(s[2])));u&&h.push(b(r.normal));v&&(u=r.vertexNormals,h.push(b(u[0]),b(u[1]),b(u[2])));x&&h.push(c(r.color));D&&(r=r.vertexColors,h.push(c(r[0]),c(r[1]),c(r[2])))}e.data={};e.data.vertices=f;e.data.normals=k;0<p.length&&(e.data.colors=p);0<n.length&&(e.data.uvs=[n]);e.data.faces=h;return e},clone:function(){for(var a=new THREE.Geometry,b=this.vertices,c=0,d=b.length;c<d;c++)a.vertices.push(b[c].clone());b=this.faces;c=0;for(d=b.length;c<d;c++)a.faces.push(b[c].clone());c=0;\nfor(d=this.faceVertexUvs.length;c<d;c++){b=this.faceVertexUvs[c];void 0===a.faceVertexUvs[c]&&(a.faceVertexUvs[c]=[]);for(var e=0,f=b.length;e<f;e++){for(var g=b[e],h=[],k=0,l=g.length;k<l;k++)h.push(g[k].clone());a.faceVertexUvs[c].push(h)}}return a},dispose:function(){this.dispatchEvent({type:\"dispose\"})}};THREE.EventDispatcher.prototype.apply(THREE.Geometry.prototype);THREE.GeometryIdCount=0;\nTHREE.Camera=function(){THREE.Object3D.call(this);this.type=\"Camera\";this.matrixWorldInverse=new THREE.Matrix4;this.projectionMatrix=new THREE.Matrix4};THREE.Camera.prototype=Object.create(THREE.Object3D.prototype);THREE.Camera.prototype.constructor=THREE.Camera;THREE.Camera.prototype.getWorldDirection=function(){var a=new THREE.Quaternion;return function(b){b=b||new THREE.Vector3;this.getWorldQuaternion(a);return b.set(0,0,-1).applyQuaternion(a)}}();\nTHREE.Camera.prototype.lookAt=function(){var a=new THREE.Matrix4;return function(b){a.lookAt(this.position,b,this.up);this.quaternion.setFromRotationMatrix(a)}}();THREE.Camera.prototype.clone=function(a){void 0===a&&(a=new THREE.Camera);THREE.Object3D.prototype.clone.call(this,a);a.matrixWorldInverse.copy(this.matrixWorldInverse);a.projectionMatrix.copy(this.projectionMatrix);return a};\nTHREE.CubeCamera=function(a,b,c){THREE.Object3D.call(this);this.type=\"CubeCamera\";var d=new THREE.PerspectiveCamera(90,1,a,b);d.up.set(0,-1,0);d.lookAt(new THREE.Vector3(1,0,0));this.add(d);var e=new THREE.PerspectiveCamera(90,1,a,b);e.up.set(0,-1,0);e.lookAt(new THREE.Vector3(-1,0,0));this.add(e);var f=new THREE.PerspectiveCamera(90,1,a,b);f.up.set(0,0,1);f.lookAt(new THREE.Vector3(0,1,0));this.add(f);var g=new THREE.PerspectiveCamera(90,1,a,b);g.up.set(0,0,-1);g.lookAt(new THREE.Vector3(0,-1,0));\nthis.add(g);var h=new THREE.PerspectiveCamera(90,1,a,b);h.up.set(0,-1,0);h.lookAt(new THREE.Vector3(0,0,1));this.add(h);var k=new THREE.PerspectiveCamera(90,1,a,b);k.up.set(0,-1,0);k.lookAt(new THREE.Vector3(0,0,-1));this.add(k);this.renderTarget=new THREE.WebGLRenderTargetCube(c,c,{format:THREE.RGBFormat,magFilter:THREE.LinearFilter,minFilter:THREE.LinearFilter});this.updateCubeMap=function(a,b){var c=this.renderTarget,n=c.generateMipmaps;c.generateMipmaps=!1;c.activeCubeFace=0;a.render(b,d,c);c.activeCubeFace=\n1;a.render(b,e,c);c.activeCubeFace=2;a.render(b,f,c);c.activeCubeFace=3;a.render(b,g,c);c.activeCubeFace=4;a.render(b,h,c);c.generateMipmaps=n;c.activeCubeFace=5;a.render(b,k,c)}};THREE.CubeCamera.prototype=Object.create(THREE.Object3D.prototype);THREE.CubeCamera.prototype.constructor=THREE.CubeCamera;\nTHREE.OrthographicCamera=function(a,b,c,d,e,f){THREE.Camera.call(this);this.type=\"OrthographicCamera\";this.zoom=1;this.left=a;this.right=b;this.top=c;this.bottom=d;this.near=void 0!==e?e:.1;this.far=void 0!==f?f:2E3;this.updateProjectionMatrix()};THREE.OrthographicCamera.prototype=Object.create(THREE.Camera.prototype);THREE.OrthographicCamera.prototype.constructor=THREE.OrthographicCamera;\nTHREE.OrthographicCamera.prototype.updateProjectionMatrix=function(){var a=(this.right-this.left)/(2*this.zoom),b=(this.top-this.bottom)/(2*this.zoom),c=(this.right+this.left)/2,d=(this.top+this.bottom)/2;this.projectionMatrix.makeOrthographic(c-a,c+a,d+b,d-b,this.near,this.far)};\nTHREE.OrthographicCamera.prototype.clone=function(){var a=new THREE.OrthographicCamera;THREE.Camera.prototype.clone.call(this,a);a.zoom=this.zoom;a.left=this.left;a.right=this.right;a.top=this.top;a.bottom=this.bottom;a.near=this.near;a.far=this.far;a.projectionMatrix.copy(this.projectionMatrix);return a};\nTHREE.PerspectiveCamera=function(a,b,c,d){THREE.Camera.call(this);this.type=\"PerspectiveCamera\";this.zoom=1;this.fov=void 0!==a?a:50;this.aspect=void 0!==b?b:1;this.near=void 0!==c?c:.1;this.far=void 0!==d?d:2E3;this.updateProjectionMatrix()};THREE.PerspectiveCamera.prototype=Object.create(THREE.Camera.prototype);THREE.PerspectiveCamera.prototype.constructor=THREE.PerspectiveCamera;\nTHREE.PerspectiveCamera.prototype.setLens=function(a,b){void 0===b&&(b=24);this.fov=2*THREE.Math.radToDeg(Math.atan(b/(2*a)));this.updateProjectionMatrix()};THREE.PerspectiveCamera.prototype.setViewOffset=function(a,b,c,d,e,f){this.fullWidth=a;this.fullHeight=b;this.x=c;this.y=d;this.width=e;this.height=f;this.updateProjectionMatrix()};\nTHREE.PerspectiveCamera.prototype.updateProjectionMatrix=function(){var a=THREE.Math.radToDeg(2*Math.atan(Math.tan(.5*THREE.Math.degToRad(this.fov))/this.zoom));if(this.fullWidth){var b=this.fullWidth/this.fullHeight,a=Math.tan(THREE.Math.degToRad(.5*a))*this.near,c=-a,d=b*c,b=Math.abs(b*a-d),c=Math.abs(a-c);this.projectionMatrix.makeFrustum(d+this.x*b/this.fullWidth,d+(this.x+this.width)*b/this.fullWidth,a-(this.y+this.height)*c/this.fullHeight,a-this.y*c/this.fullHeight,this.near,this.far)}else this.projectionMatrix.makePerspective(a,\nthis.aspect,this.near,this.far)};THREE.PerspectiveCamera.prototype.clone=function(){var a=new THREE.PerspectiveCamera;THREE.Camera.prototype.clone.call(this,a);a.zoom=this.zoom;a.fov=this.fov;a.aspect=this.aspect;a.near=this.near;a.far=this.far;a.projectionMatrix.copy(this.projectionMatrix);return a};THREE.Light=function(a){THREE.Object3D.call(this);this.type=\"Light\";this.color=new THREE.Color(a)};THREE.Light.prototype=Object.create(THREE.Object3D.prototype);THREE.Light.prototype.constructor=THREE.Light;\nTHREE.Light.prototype.clone=function(a){void 0===a&&(a=new THREE.Light);THREE.Object3D.prototype.clone.call(this,a);a.color.copy(this.color);return a};THREE.AmbientLight=function(a){THREE.Light.call(this,a);this.type=\"AmbientLight\"};THREE.AmbientLight.prototype=Object.create(THREE.Light.prototype);THREE.AmbientLight.prototype.constructor=THREE.AmbientLight;THREE.AmbientLight.prototype.clone=function(){var a=new THREE.AmbientLight;THREE.Light.prototype.clone.call(this,a);return a};\nTHREE.AreaLight=function(a,b){THREE.Light.call(this,a);this.type=\"AreaLight\";this.normal=new THREE.Vector3(0,-1,0);this.right=new THREE.Vector3(1,0,0);this.intensity=void 0!==b?b:1;this.height=this.width=1;this.constantAttenuation=1.5;this.linearAttenuation=.5;this.quadraticAttenuation=.1};THREE.AreaLight.prototype=Object.create(THREE.Light.prototype);THREE.AreaLight.prototype.constructor=THREE.AreaLight;\nTHREE.DirectionalLight=function(a,b){THREE.Light.call(this,a);this.type=\"DirectionalLight\";this.position.set(0,1,0);this.target=new THREE.Object3D;this.intensity=void 0!==b?b:1;this.onlyShadow=this.castShadow=!1;this.shadowCameraNear=50;this.shadowCameraFar=5E3;this.shadowCameraLeft=-500;this.shadowCameraTop=this.shadowCameraRight=500;this.shadowCameraBottom=-500;this.shadowCameraVisible=!1;this.shadowBias=0;this.shadowDarkness=.5;this.shadowMapHeight=this.shadowMapWidth=512;this.shadowCascade=!1;\nthis.shadowCascadeOffset=new THREE.Vector3(0,0,-1E3);this.shadowCascadeCount=2;this.shadowCascadeBias=[0,0,0];this.shadowCascadeWidth=[512,512,512];this.shadowCascadeHeight=[512,512,512];this.shadowCascadeNearZ=[-1,.99,.998];this.shadowCascadeFarZ=[.99,.998,1];this.shadowCascadeArray=[];this.shadowMatrix=this.shadowCamera=this.shadowMapSize=this.shadowMap=null};THREE.DirectionalLight.prototype=Object.create(THREE.Light.prototype);THREE.DirectionalLight.prototype.constructor=THREE.DirectionalLight;\nTHREE.DirectionalLight.prototype.clone=function(){var a=new THREE.DirectionalLight;THREE.Light.prototype.clone.call(this,a);a.target=this.target.clone();a.intensity=this.intensity;a.castShadow=this.castShadow;a.onlyShadow=this.onlyShadow;a.shadowCameraNear=this.shadowCameraNear;a.shadowCameraFar=this.shadowCameraFar;a.shadowCameraLeft=this.shadowCameraLeft;a.shadowCameraRight=this.shadowCameraRight;a.shadowCameraTop=this.shadowCameraTop;a.shadowCameraBottom=this.shadowCameraBottom;a.shadowCameraVisible=\nthis.shadowCameraVisible;a.shadowBias=this.shadowBias;a.shadowDarkness=this.shadowDarkness;a.shadowMapWidth=this.shadowMapWidth;a.shadowMapHeight=this.shadowMapHeight;a.shadowCascade=this.shadowCascade;a.shadowCascadeOffset.copy(this.shadowCascadeOffset);a.shadowCascadeCount=this.shadowCascadeCount;a.shadowCascadeBias=this.shadowCascadeBias.slice(0);a.shadowCascadeWidth=this.shadowCascadeWidth.slice(0);a.shadowCascadeHeight=this.shadowCascadeHeight.slice(0);a.shadowCascadeNearZ=this.shadowCascadeNearZ.slice(0);\na.shadowCascadeFarZ=this.shadowCascadeFarZ.slice(0);return a};THREE.HemisphereLight=function(a,b,c){THREE.Light.call(this,a);this.type=\"HemisphereLight\";this.position.set(0,100,0);this.groundColor=new THREE.Color(b);this.intensity=void 0!==c?c:1};THREE.HemisphereLight.prototype=Object.create(THREE.Light.prototype);THREE.HemisphereLight.prototype.constructor=THREE.HemisphereLight;\nTHREE.HemisphereLight.prototype.clone=function(){var a=new THREE.HemisphereLight;THREE.Light.prototype.clone.call(this,a);a.groundColor.copy(this.groundColor);a.intensity=this.intensity;return a};THREE.PointLight=function(a,b,c,d){THREE.Light.call(this,a);this.type=\"PointLight\";this.intensity=void 0!==b?b:1;this.distance=void 0!==c?c:0;this.decay=void 0!==d?d:1};THREE.PointLight.prototype=Object.create(THREE.Light.prototype);THREE.PointLight.prototype.constructor=THREE.PointLight;\nTHREE.PointLight.prototype.clone=function(){var a=new THREE.PointLight;THREE.Light.prototype.clone.call(this,a);a.intensity=this.intensity;a.distance=this.distance;a.decay=this.decay;return a};\nTHREE.SpotLight=function(a,b,c,d,e,f){THREE.Light.call(this,a);this.type=\"SpotLight\";this.position.set(0,1,0);this.target=new THREE.Object3D;this.intensity=void 0!==b?b:1;this.distance=void 0!==c?c:0;this.angle=void 0!==d?d:Math.PI/3;this.exponent=void 0!==e?e:10;this.decay=void 0!==f?f:1;this.onlyShadow=this.castShadow=!1;this.shadowCameraNear=50;this.shadowCameraFar=5E3;this.shadowCameraFov=50;this.shadowCameraVisible=!1;this.shadowBias=0;this.shadowDarkness=.5;this.shadowMapHeight=this.shadowMapWidth=\n512;this.shadowMatrix=this.shadowCamera=this.shadowMapSize=this.shadowMap=null};THREE.SpotLight.prototype=Object.create(THREE.Light.prototype);THREE.SpotLight.prototype.constructor=THREE.SpotLight;\nTHREE.SpotLight.prototype.clone=function(){var a=new THREE.SpotLight;THREE.Light.prototype.clone.call(this,a);a.target=this.target.clone();a.intensity=this.intensity;a.distance=this.distance;a.angle=this.angle;a.exponent=this.exponent;a.decay=this.decay;a.castShadow=this.castShadow;a.onlyShadow=this.onlyShadow;a.shadowCameraNear=this.shadowCameraNear;a.shadowCameraFar=this.shadowCameraFar;a.shadowCameraFov=this.shadowCameraFov;a.shadowCameraVisible=this.shadowCameraVisible;a.shadowBias=this.shadowBias;\na.shadowDarkness=this.shadowDarkness;a.shadowMapWidth=this.shadowMapWidth;a.shadowMapHeight=this.shadowMapHeight;return a};THREE.Cache={files:{},add:function(a,b){this.files[a]=b},get:function(a){return this.files[a]},remove:function(a){delete this.files[a]},clear:function(){this.files={}}};\nTHREE.Loader=function(a){this.statusDomElement=(this.showStatus=a)?THREE.Loader.prototype.addStatusElement():null;this.imageLoader=new THREE.ImageLoader;this.onLoadStart=function(){};this.onLoadProgress=function(){};this.onLoadComplete=function(){}};\nTHREE.Loader.prototype={constructor:THREE.Loader,crossOrigin:void 0,addStatusElement:function(){var a=document.createElement(\"div\");a.style.position=\"absolute\";a.style.right=\"0px\";a.style.top=\"0px\";a.style.fontSize=\"0.8em\";a.style.textAlign=\"left\";a.style.background=\"rgba(0,0,0,0.25)\";a.style.color=\"#fff\";a.style.width=\"120px\";a.style.padding=\"0.5em 0.5em 0.5em 0.5em\";a.style.zIndex=1E3;a.innerHTML=\"Loading ...\";return a},updateProgress:function(a){var b=\"Loaded \",b=a.total?b+((100*a.loaded/a.total).toFixed(0)+\n\"%\"):b+((a.loaded/1024).toFixed(2)+\" KB\");this.statusDomElement.innerHTML=b},extractUrlBase:function(a){a=a.split(\"/\");if(1===a.length)return\"./\";a.pop();return a.join(\"/\")+\"/\"},initMaterials:function(a,b){for(var c=[],d=0;d<a.length;++d)c[d]=this.createMaterial(a[d],b);return c},needsTangents:function(a){for(var b=0,c=a.length;b<c;b++)if(a[b]instanceof THREE.ShaderMaterial)return!0;return!1},createMaterial:function(a,b){function c(a){a=Math.log(a)/Math.LN2;return Math.pow(2,Math.round(a))}function d(a,\nd,e,g,h,k,s){var u=b+e,v,x=THREE.Loader.Handlers.get(u);null!==x?v=x.load(u):(v=new THREE.Texture,x=f.imageLoader,x.crossOrigin=f.crossOrigin,x.load(u,function(a){if(!1===THREE.Math.isPowerOfTwo(a.width)||!1===THREE.Math.isPowerOfTwo(a.height)){var b=c(a.width),d=c(a.height),e=document.createElement(\"canvas\");e.width=b;e.height=d;e.getContext(\"2d\").drawImage(a,0,0,b,d);v.image=e}else v.image=a;v.needsUpdate=!0}));v.sourceFile=e;g&&(v.repeat.set(g[0],g[1]),1!==g[0]&&(v.wrapS=THREE.RepeatWrapping),\n1!==g[1]&&(v.wrapT=THREE.RepeatWrapping));h&&v.offset.set(h[0],h[1]);k&&(e={repeat:THREE.RepeatWrapping,mirror:THREE.MirroredRepeatWrapping},void 0!==e[k[0]]&&(v.wrapS=e[k[0]]),void 0!==e[k[1]]&&(v.wrapT=e[k[1]]));s&&(v.anisotropy=s);a[d]=v}function e(a){return(255*a[0]<<16)+(255*a[1]<<8)+255*a[2]}var f=this,g=\"MeshLambertMaterial\",h={color:15658734,opacity:1,map:null,lightMap:null,normalMap:null,bumpMap:null,wireframe:!1};if(a.shading){var k=a.shading.toLowerCase();\"phong\"===k?g=\"MeshPhongMaterial\":\n\"basic\"===k&&(g=\"MeshBasicMaterial\")}void 0!==a.blending&&void 0!==THREE[a.blending]&&(h.blending=THREE[a.blending]);void 0!==a.transparent&&(h.transparent=a.transparent);void 0!==a.opacity&&1>a.opacity&&(h.transparent=!0);void 0!==a.depthTest&&(h.depthTest=a.depthTest);void 0!==a.depthWrite&&(h.depthWrite=a.depthWrite);void 0!==a.visible&&(h.visible=a.visible);void 0!==a.flipSided&&(h.side=THREE.BackSide);void 0!==a.doubleSided&&(h.side=THREE.DoubleSide);void 0!==a.wireframe&&(h.wireframe=a.wireframe);\nvoid 0!==a.vertexColors&&(\"face\"===a.vertexColors?h.vertexColors=THREE.FaceColors:a.vertexColors&&(h.vertexColors=THREE.VertexColors));a.colorDiffuse?h.color=e(a.colorDiffuse):a.DbgColor&&(h.color=a.DbgColor);a.colorSpecular&&(h.specular=e(a.colorSpecular));a.colorEmissive&&(h.emissive=e(a.colorEmissive));void 0!==a.transparency&&(console.warn(\"THREE.Loader: transparency has been renamed to opacity\"),a.opacity=a.transparency);void 0!==a.opacity&&(h.opacity=a.opacity);a.specularCoef&&(h.shininess=\na.specularCoef);a.mapDiffuse&&b&&d(h,\"map\",a.mapDiffuse,a.mapDiffuseRepeat,a.mapDiffuseOffset,a.mapDiffuseWrap,a.mapDiffuseAnisotropy);a.mapLight&&b&&d(h,\"lightMap\",a.mapLight,a.mapLightRepeat,a.mapLightOffset,a.mapLightWrap,a.mapLightAnisotropy);a.mapBump&&b&&d(h,\"bumpMap\",a.mapBump,a.mapBumpRepeat,a.mapBumpOffset,a.mapBumpWrap,a.mapBumpAnisotropy);a.mapNormal&&b&&d(h,\"normalMap\",a.mapNormal,a.mapNormalRepeat,a.mapNormalOffset,a.mapNormalWrap,a.mapNormalAnisotropy);a.mapSpecular&&b&&d(h,\"specularMap\",\na.mapSpecular,a.mapSpecularRepeat,a.mapSpecularOffset,a.mapSpecularWrap,a.mapSpecularAnisotropy);a.mapAlpha&&b&&d(h,\"alphaMap\",a.mapAlpha,a.mapAlphaRepeat,a.mapAlphaOffset,a.mapAlphaWrap,a.mapAlphaAnisotropy);a.mapBumpScale&&(h.bumpScale=a.mapBumpScale);a.mapNormalFactor&&(h.normalScale=new THREE.Vector2(a.mapNormalFactor,a.mapNormalFactor));g=new THREE[g](h);void 0!==a.DbgName&&(g.name=a.DbgName);return g}};\nTHREE.Loader.Handlers={handlers:[],add:function(a,b){this.handlers.push(a,b)},get:function(a){for(var b=0,c=this.handlers.length;b<c;b+=2){var d=this.handlers[b+1];if(this.handlers[b].test(a))return d}return null}};THREE.XHRLoader=function(a){this.manager=void 0!==a?a:THREE.DefaultLoadingManager};\nTHREE.XHRLoader.prototype={constructor:THREE.XHRLoader,load:function(a,b,c,d){var e=this,f=THREE.Cache.get(a);void 0!==f?b&&b(f):(f=new XMLHttpRequest,f.open(\"GET\",a,!0),f.addEventListener(\"load\",function(c){THREE.Cache.add(a,this.response);b&&b(this.response);e.manager.itemEnd(a)},!1),void 0!==c&&f.addEventListener(\"progress\",function(a){c(a)},!1),void 0!==d&&f.addEventListener(\"error\",function(a){d(a)},!1),void 0!==this.crossOrigin&&(f.crossOrigin=this.crossOrigin),void 0!==this.responseType&&(f.responseType=\nthis.responseType),f.send(null),e.manager.itemStart(a))},setResponseType:function(a){this.responseType=a},setCrossOrigin:function(a){this.crossOrigin=a}};THREE.ImageLoader=function(a){this.manager=void 0!==a?a:THREE.DefaultLoadingManager};\nTHREE.ImageLoader.prototype={constructor:THREE.ImageLoader,load:function(a,b,c,d){var e=this,f=THREE.Cache.get(a);if(void 0!==f)b(f);else return f=document.createElement(\"img\"),f.addEventListener(\"load\",function(c){THREE.Cache.add(a,this);b&&b(this);e.manager.itemEnd(a)},!1),void 0!==c&&f.addEventListener(\"progress\",function(a){c(a)},!1),void 0!==d&&f.addEventListener(\"error\",function(a){d(a)},!1),void 0!==this.crossOrigin&&(f.crossOrigin=this.crossOrigin),f.src=a,e.manager.itemStart(a),f},setCrossOrigin:function(a){this.crossOrigin=\na}};THREE.JSONLoader=function(a){THREE.Loader.call(this,a);this.withCredentials=!1};THREE.JSONLoader.prototype=Object.create(THREE.Loader.prototype);THREE.JSONLoader.prototype.constructor=THREE.JSONLoader;THREE.JSONLoader.prototype.load=function(a,b,c){c=c&&\"string\"===typeof c?c:this.extractUrlBase(a);this.onLoadStart();this.loadAjaxJSON(this,a,b,c)};\nTHREE.JSONLoader.prototype.loadAjaxJSON=function(a,b,c,d,e){var f=new XMLHttpRequest,g=0;f.onreadystatechange=function(){if(f.readyState===f.DONE)if(200===f.status||0===f.status){if(f.responseText){var h=JSON.parse(f.responseText),k=h.metadata;if(void 0!==k){if(\"object\"===k.type){THREE.error(\"THREE.JSONLoader: \"+b+\" should be loaded with THREE.ObjectLoader instead.\");return}if(\"scene\"===k.type){THREE.error(\"THREE.JSONLoader: \"+b+\" seems to be a Scene. Use THREE.SceneLoader instead.\");return}}h=a.parse(h,\nd);c(h.geometry,h.materials)}else THREE.error(\"THREE.JSONLoader: \"+b+\" seems to be unreachable or the file is empty.\");a.onLoadComplete()}else THREE.error(\"THREE.JSONLoader: Couldn't load \"+b+\" (\"+f.status+\")\");else f.readyState===f.LOADING?e&&(0===g&&(g=f.getResponseHeader(\"Content-Length\")),e({total:g,loaded:f.responseText.length})):f.readyState===f.HEADERS_RECEIVED&&void 0!==e&&(g=f.getResponseHeader(\"Content-Length\"))};f.open(\"GET\",b,!0);f.withCredentials=this.withCredentials;f.send(null)};\nTHREE.JSONLoader.prototype.parse=function(a,b){var c=new THREE.Geometry,d=void 0!==a.scale?1/a.scale:1;(function(b){var d,g,h,k,l,p,q,n,t,r,s,u,v,x=a.faces;p=a.vertices;var D=a.normals,w=a.colors,y=0;if(void 0!==a.uvs){for(d=0;d<a.uvs.length;d++)a.uvs[d].length&&y++;for(d=0;d<y;d++)c.faceVertexUvs[d]=[]}k=0;for(l=p.length;k<l;)d=new THREE.Vector3,d.x=p[k++]*b,d.y=p[k++]*b,d.z=p[k++]*b,c.vertices.push(d);k=0;for(l=x.length;k<l;)if(b=x[k++],t=b&1,h=b&2,d=b&8,q=b&16,r=b&32,p=b&64,b&=128,t){t=new THREE.Face3;\nt.a=x[k];t.b=x[k+1];t.c=x[k+3];s=new THREE.Face3;s.a=x[k+1];s.b=x[k+2];s.c=x[k+3];k+=4;h&&(h=x[k++],t.materialIndex=h,s.materialIndex=h);h=c.faces.length;if(d)for(d=0;d<y;d++)for(u=a.uvs[d],c.faceVertexUvs[d][h]=[],c.faceVertexUvs[d][h+1]=[],g=0;4>g;g++)n=x[k++],v=u[2*n],n=u[2*n+1],v=new THREE.Vector2(v,n),2!==g&&c.faceVertexUvs[d][h].push(v),0!==g&&c.faceVertexUvs[d][h+1].push(v);q&&(q=3*x[k++],t.normal.set(D[q++],D[q++],D[q]),s.normal.copy(t.normal));if(r)for(d=0;4>d;d++)q=3*x[k++],r=new THREE.Vector3(D[q++],\nD[q++],D[q]),2!==d&&t.vertexNormals.push(r),0!==d&&s.vertexNormals.push(r);p&&(p=x[k++],p=w[p],t.color.setHex(p),s.color.setHex(p));if(b)for(d=0;4>d;d++)p=x[k++],p=w[p],2!==d&&t.vertexColors.push(new THREE.Color(p)),0!==d&&s.vertexColors.push(new THREE.Color(p));c.faces.push(t);c.faces.push(s)}else{t=new THREE.Face3;t.a=x[k++];t.b=x[k++];t.c=x[k++];h&&(h=x[k++],t.materialIndex=h);h=c.faces.length;if(d)for(d=0;d<y;d++)for(u=a.uvs[d],c.faceVertexUvs[d][h]=[],g=0;3>g;g++)n=x[k++],v=u[2*n],n=u[2*n+1],\nv=new THREE.Vector2(v,n),c.faceVertexUvs[d][h].push(v);q&&(q=3*x[k++],t.normal.set(D[q++],D[q++],D[q]));if(r)for(d=0;3>d;d++)q=3*x[k++],r=new THREE.Vector3(D[q++],D[q++],D[q]),t.vertexNormals.push(r);p&&(p=x[k++],t.color.setHex(w[p]));if(b)for(d=0;3>d;d++)p=x[k++],t.vertexColors.push(new THREE.Color(w[p]));c.faces.push(t)}})(d);(function(){var b=void 0!==a.influencesPerVertex?a.influencesPerVertex:2;if(a.skinWeights)for(var d=0,g=a.skinWeights.length;d<g;d+=b)c.skinWeights.push(new THREE.Vector4(a.skinWeights[d],\n1<b?a.skinWeights[d+1]:0,2<b?a.skinWeights[d+2]:0,3<b?a.skinWeights[d+3]:0));if(a.skinIndices)for(d=0,g=a.skinIndices.length;d<g;d+=b)c.skinIndices.push(new THREE.Vector4(a.skinIndices[d],1<b?a.skinIndices[d+1]:0,2<b?a.skinIndices[d+2]:0,3<b?a.skinIndices[d+3]:0));c.bones=a.bones;c.bones&&0<c.bones.length&&(c.skinWeights.length!==c.skinIndices.length||c.skinIndices.length!==c.vertices.length)&&THREE.warn(\"THREE.JSONLoader: When skinning, number of vertices (\"+c.vertices.length+\"), skinIndices (\"+\nc.skinIndices.length+\"), and skinWeights (\"+c.skinWeights.length+\") should match.\");c.animation=a.animation;c.animations=a.animations})();(function(b){if(void 0!==a.morphTargets){var d,g,h,k,l,p;d=0;for(g=a.morphTargets.length;d<g;d++)for(c.morphTargets[d]={},c.morphTargets[d].name=a.morphTargets[d].name,c.morphTargets[d].vertices=[],l=c.morphTargets[d].vertices,p=a.morphTargets[d].vertices,h=0,k=p.length;h<k;h+=3){var q=new THREE.Vector3;q.x=p[h]*b;q.y=p[h+1]*b;q.z=p[h+2]*b;l.push(q)}}if(void 0!==\na.morphColors)for(d=0,g=a.morphColors.length;d<g;d++)for(c.morphColors[d]={},c.morphColors[d].name=a.morphColors[d].name,c.morphColors[d].colors=[],k=c.morphColors[d].colors,l=a.morphColors[d].colors,b=0,h=l.length;b<h;b+=3)p=new THREE.Color(16755200),p.setRGB(l[b],l[b+1],l[b+2]),k.push(p)})(d);c.computeFaceNormals();c.computeBoundingSphere();if(void 0===a.materials||0===a.materials.length)return{geometry:c};d=this.initMaterials(a.materials,b);this.needsTangents(d)&&c.computeTangents();return{geometry:c,\nmaterials:d}};THREE.LoadingManager=function(a,b,c){var d=this,e=0,f=0;this.onLoad=a;this.onProgress=b;this.onError=c;this.itemStart=function(a){f++};this.itemEnd=function(a){e++;if(void 0!==d.onProgress)d.onProgress(a,e,f);if(e===f&&void 0!==d.onLoad)d.onLoad()}};THREE.DefaultLoadingManager=new THREE.LoadingManager;THREE.BufferGeometryLoader=function(a){this.manager=void 0!==a?a:THREE.DefaultLoadingManager};\nTHREE.BufferGeometryLoader.prototype={constructor:THREE.BufferGeometryLoader,load:function(a,b,c,d){var e=this,f=new THREE.XHRLoader(e.manager);f.setCrossOrigin(this.crossOrigin);f.load(a,function(a){b(e.parse(JSON.parse(a)))},c,d)},setCrossOrigin:function(a){this.crossOrigin=a},parse:function(a){var b=new THREE.BufferGeometry,c=a.data.attributes,d;for(d in c){var e=c[d],f=new self[e.type](e.array);b.addAttribute(d,new THREE.BufferAttribute(f,e.itemSize))}c=a.data.offsets;void 0!==c&&(b.offsets=JSON.parse(JSON.stringify(c)));\na=a.data.boundingSphere;void 0!==a&&(c=new THREE.Vector3,void 0!==a.center&&c.fromArray(a.center),b.boundingSphere=new THREE.Sphere(c,a.radius));return b}};THREE.MaterialLoader=function(a){this.manager=void 0!==a?a:THREE.DefaultLoadingManager};\nTHREE.MaterialLoader.prototype={constructor:THREE.MaterialLoader,load:function(a,b,c,d){var e=this,f=new THREE.XHRLoader(e.manager);f.setCrossOrigin(this.crossOrigin);f.load(a,function(a){b(e.parse(JSON.parse(a)))},c,d)},setCrossOrigin:function(a){this.crossOrigin=a},parse:function(a){var b=new THREE[a.type];void 0!==a.color&&b.color.setHex(a.color);void 0!==a.emissive&&b.emissive.setHex(a.emissive);void 0!==a.specular&&b.specular.setHex(a.specular);void 0!==a.shininess&&(b.shininess=a.shininess);\nvoid 0!==a.uniforms&&(b.uniforms=a.uniforms);void 0!==a.vertexShader&&(b.vertexShader=a.vertexShader);void 0!==a.fragmentShader&&(b.fragmentShader=a.fragmentShader);void 0!==a.vertexColors&&(b.vertexColors=a.vertexColors);void 0!==a.shading&&(b.shading=a.shading);void 0!==a.blending&&(b.blending=a.blending);void 0!==a.side&&(b.side=a.side);void 0!==a.opacity&&(b.opacity=a.opacity);void 0!==a.transparent&&(b.transparent=a.transparent);void 0!==a.wireframe&&(b.wireframe=a.wireframe);void 0!==a.size&&\n(b.size=a.size);void 0!==a.sizeAttenuation&&(b.sizeAttenuation=a.sizeAttenuation);if(void 0!==a.materials)for(var c=0,d=a.materials.length;c<d;c++)b.materials.push(this.parse(a.materials[c]));return b}};THREE.ObjectLoader=function(a){this.manager=void 0!==a?a:THREE.DefaultLoadingManager;this.texturePath=\"\"};\nTHREE.ObjectLoader.prototype={constructor:THREE.ObjectLoader,load:function(a,b,c,d){\"\"===this.texturePath&&(this.texturePath=a.substring(0,a.lastIndexOf(\"/\")+1));var e=this,f=new THREE.XHRLoader(e.manager);f.setCrossOrigin(this.crossOrigin);f.load(a,function(a){e.parse(JSON.parse(a),b)},c,d)},setTexturePath:function(a){this.texturePath=a},setCrossOrigin:function(a){this.crossOrigin=a},parse:function(a,b){var c=this.parseGeometries(a.geometries),d=this.parseImages(a.images,function(){void 0!==b&&b(e)}),\nd=this.parseTextures(a.textures,d),d=this.parseMaterials(a.materials,d),e=this.parseObject(a.object,c,d);void 0!==a.images&&0!==a.images.length||void 0===b||b(e);return e},parseGeometries:function(a){var b={};if(void 0!==a)for(var c=new THREE.JSONLoader,d=new THREE.BufferGeometryLoader,e=0,f=a.length;e<f;e++){var g,h=a[e];switch(h.type){case \"PlaneGeometry\":case \"PlaneBufferGeometry\":g=new THREE[h.type](h.width,h.height,h.widthSegments,h.heightSegments);break;case \"BoxGeometry\":case \"CubeGeometry\":g=\nnew THREE.BoxGeometry(h.width,h.height,h.depth,h.widthSegments,h.heightSegments,h.depthSegments);break;case \"CircleGeometry\":g=new THREE.CircleGeometry(h.radius,h.segments);break;case \"CylinderGeometry\":g=new THREE.CylinderGeometry(h.radiusTop,h.radiusBottom,h.height,h.radialSegments,h.heightSegments,h.openEnded);break;case \"SphereGeometry\":g=new THREE.SphereGeometry(h.radius,h.widthSegments,h.heightSegments,h.phiStart,h.phiLength,h.thetaStart,h.thetaLength);break;case \"IcosahedronGeometry\":g=new THREE.IcosahedronGeometry(h.radius,\nh.detail);break;case \"TorusGeometry\":g=new THREE.TorusGeometry(h.radius,h.tube,h.radialSegments,h.tubularSegments,h.arc);break;case \"TorusKnotGeometry\":g=new THREE.TorusKnotGeometry(h.radius,h.tube,h.radialSegments,h.tubularSegments,h.p,h.q,h.heightScale);break;case \"BufferGeometry\":g=d.parse(h);break;case \"Geometry\":g=c.parse(h.data).geometry}g.uuid=h.uuid;void 0!==h.name&&(g.name=h.name);b[h.uuid]=g}return b},parseMaterials:function(a,b){var c={};if(void 0!==a)for(var d=function(a){void 0===b[a]&&\nTHREE.warn(\"THREE.ObjectLoader: Undefined texture\",a);return b[a]},e=new THREE.MaterialLoader,f=0,g=a.length;f<g;f++){var h=a[f],k=e.parse(h);k.uuid=h.uuid;void 0!==h.name&&(k.name=h.name);void 0!==h.map&&(k.map=d(h.map));void 0!==h.bumpMap&&(k.bumpMap=d(h.bumpMap),h.bumpScale&&(k.bumpScale=new THREE.Vector2(h.bumpScale,h.bumpScale)));void 0!==h.alphaMap&&(k.alphaMap=d(h.alphaMap));void 0!==h.envMap&&(k.envMap=d(h.envMap));void 0!==h.normalMap&&(k.normalMap=d(h.normalMap),h.normalScale&&(k.normalScale=\nnew THREE.Vector2(h.normalScale,h.normalScale)));void 0!==h.lightMap&&(k.lightMap=d(h.lightMap));void 0!==h.specularMap&&(k.specularMap=d(h.specularMap));c[h.uuid]=k}return c},parseImages:function(a,b){var c=this,d={};if(void 0!==a&&0<a.length){var e=new THREE.LoadingManager(b),f=new THREE.ImageLoader(e);f.setCrossOrigin(this.crossOrigin);for(var e=function(a){c.manager.itemStart(a);return f.load(a,function(){c.manager.itemEnd(a)})},g=0,h=a.length;g<h;g++){var k=a[g],l=/^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test(k.url)?\nk.url:c.texturePath+k.url;d[k.uuid]=e(l)}}return d},parseTextures:function(a,b){var c={};if(void 0!==a)for(var d=0,e=a.length;d<e;d++){var f=a[d];void 0===f.image&&THREE.warn('THREE.ObjectLoader: No \"image\" speficied for',f.uuid);void 0===b[f.image]&&THREE.warn(\"THREE.ObjectLoader: Undefined image\",f.image);var g=new THREE.Texture(b[f.image]);g.needsUpdate=!0;g.uuid=f.uuid;void 0!==f.name&&(g.name=f.name);void 0!==f.repeat&&(g.repeat=new THREE.Vector2(f.repeat[0],f.repeat[1]));void 0!==f.minFilter&&\n(g.minFilter=THREE[f.minFilter]);void 0!==f.magFilter&&(g.magFilter=THREE[f.magFilter]);void 0!==f.anisotropy&&(g.anisotropy=f.anisotropy);f.wrap instanceof Array&&(g.wrapS=THREE[f.wrap[0]],g.wrapT=THREE[f.wrap[1]]);c[f.uuid]=g}return c},parseObject:function(){var a=new THREE.Matrix4;return function(b,c,d){var e;e=function(a){void 0===c[a]&&THREE.warn(\"THREE.ObjectLoader: Undefined geometry\",a);return c[a]};var f=function(a){void 0===d[a]&&THREE.warn(\"THREE.ObjectLoader: Undefined material\",a);return d[a]};\nswitch(b.type){case \"Scene\":e=new THREE.Scene;break;case \"PerspectiveCamera\":e=new THREE.PerspectiveCamera(b.fov,b.aspect,b.near,b.far);break;case \"OrthographicCamera\":e=new THREE.OrthographicCamera(b.left,b.right,b.top,b.bottom,b.near,b.far);break;case \"AmbientLight\":e=new THREE.AmbientLight(b.color);break;case \"DirectionalLight\":e=new THREE.DirectionalLight(b.color,b.intensity);break;case \"PointLight\":e=new THREE.PointLight(b.color,b.intensity,b.distance,b.decay);break;case \"SpotLight\":e=new THREE.SpotLight(b.color,\nb.intensity,b.distance,b.angle,b.exponent,b.decay);break;case \"HemisphereLight\":e=new THREE.HemisphereLight(b.color,b.groundColor,b.intensity);break;case \"Mesh\":e=new THREE.Mesh(e(b.geometry),f(b.material));break;case \"Line\":e=new THREE.Line(e(b.geometry),f(b.material),b.mode);break;case \"PointCloud\":e=new THREE.PointCloud(e(b.geometry),f(b.material));break;case \"Sprite\":e=new THREE.Sprite(f(b.material));break;case \"Group\":e=new THREE.Group;break;default:e=new THREE.Object3D}e.uuid=b.uuid;void 0!==\nb.name&&(e.name=b.name);void 0!==b.matrix?(a.fromArray(b.matrix),a.decompose(e.position,e.quaternion,e.scale)):(void 0!==b.position&&e.position.fromArray(b.position),void 0!==b.rotation&&e.rotation.fromArray(b.rotation),void 0!==b.scale&&e.scale.fromArray(b.scale));void 0!==b.visible&&(e.visible=b.visible);void 0!==b.userData&&(e.userData=b.userData);if(void 0!==b.children)for(var g in b.children)e.add(this.parseObject(b.children[g],c,d));return e}}()};\nTHREE.TextureLoader=function(a){this.manager=void 0!==a?a:THREE.DefaultLoadingManager};THREE.TextureLoader.prototype={constructor:THREE.TextureLoader,load:function(a,b,c,d){var e=new THREE.ImageLoader(this.manager);e.setCrossOrigin(this.crossOrigin);e.load(a,function(a){a=new THREE.Texture(a);a.needsUpdate=!0;void 0!==b&&b(a)},c,d)},setCrossOrigin:function(a){this.crossOrigin=a}};THREE.DataTextureLoader=THREE.BinaryTextureLoader=function(){this._parser=null};\nTHREE.BinaryTextureLoader.prototype={constructor:THREE.BinaryTextureLoader,load:function(a,b,c,d){var e=this,f=new THREE.DataTexture,g=new THREE.XHRLoader;g.setResponseType(\"arraybuffer\");g.load(a,function(a){if(a=e._parser(a))void 0!==a.image?f.image=a.image:void 0!==a.data&&(f.image.width=a.width,f.image.height=a.height,f.image.data=a.data),f.wrapS=void 0!==a.wrapS?a.wrapS:THREE.ClampToEdgeWrapping,f.wrapT=void 0!==a.wrapT?a.wrapT:THREE.ClampToEdgeWrapping,f.magFilter=void 0!==a.magFilter?a.magFilter:\nTHREE.LinearFilter,f.minFilter=void 0!==a.minFilter?a.minFilter:THREE.LinearMipMapLinearFilter,f.anisotropy=void 0!==a.anisotropy?a.anisotropy:1,void 0!==a.format&&(f.format=a.format),void 0!==a.type&&(f.type=a.type),void 0!==a.mipmaps&&(f.mipmaps=a.mipmaps),1===a.mipmapCount&&(f.minFilter=THREE.LinearFilter),f.needsUpdate=!0,b&&b(f,a)},c,d);return f}};THREE.CompressedTextureLoader=function(){this._parser=null};\nTHREE.CompressedTextureLoader.prototype={constructor:THREE.CompressedTextureLoader,load:function(a,b,c){var d=this,e=[],f=new THREE.CompressedTexture;f.image=e;var g=new THREE.XHRLoader;g.setResponseType(\"arraybuffer\");if(a instanceof Array){var h=0;c=function(c){g.load(a[c],function(a){a=d._parser(a,!0);e[c]={width:a.width,height:a.height,format:a.format,mipmaps:a.mipmaps};h+=1;6===h&&(1==a.mipmapCount&&(f.minFilter=THREE.LinearFilter),f.format=a.format,f.needsUpdate=!0,b&&b(f))})};for(var k=0,l=\na.length;k<l;++k)c(k)}else g.load(a,function(a){a=d._parser(a,!0);if(a.isCubemap)for(var c=a.mipmaps.length/a.mipmapCount,g=0;g<c;g++){e[g]={mipmaps:[]};for(var h=0;h<a.mipmapCount;h++)e[g].mipmaps.push(a.mipmaps[g*a.mipmapCount+h]),e[g].format=a.format,e[g].width=a.width,e[g].height=a.height}else f.image.width=a.width,f.image.height=a.height,f.mipmaps=a.mipmaps;1===a.mipmapCount&&(f.minFilter=THREE.LinearFilter);f.format=a.format;f.needsUpdate=!0;b&&b(f)});return f}};\nTHREE.Material=function(){Object.defineProperty(this,\"id\",{value:THREE.MaterialIdCount++});this.uuid=THREE.Math.generateUUID();this.name=\"\";this.type=\"Material\";this.side=THREE.FrontSide;this.opacity=1;this.transparent=!1;this.blending=THREE.NormalBlending;this.blendSrc=THREE.SrcAlphaFactor;this.blendDst=THREE.OneMinusSrcAlphaFactor;this.blendEquation=THREE.AddEquation;this.blendEquationAlpha=this.blendDstAlpha=this.blendSrcAlpha=null;this.colorWrite=this.depthWrite=this.depthTest=!0;this.polygonOffset=\n!1;this.overdraw=this.alphaTest=this.polygonOffsetUnits=this.polygonOffsetFactor=0;this._needsUpdate=this.visible=!0};\nTHREE.Material.prototype={constructor:THREE.Material,get needsUpdate(){return this._needsUpdate},set needsUpdate(a){!0===a&&this.update();this._needsUpdate=a},setValues:function(a){if(void 0!==a)for(var b in a){var c=a[b];if(void 0===c)THREE.warn(\"THREE.Material: '\"+b+\"' parameter is undefined.\");else if(b in this){var d=this[b];d instanceof THREE.Color?d.set(c):d instanceof THREE.Vector3&&c instanceof THREE.Vector3?d.copy(c):this[b]=\"overdraw\"==b?Number(c):c}}},toJSON:function(){var a={metadata:{version:4.2,\ntype:\"material\",generator:\"MaterialExporter\"},uuid:this.uuid,type:this.type};\"\"!==this.name&&(a.name=this.name);this instanceof THREE.MeshBasicMaterial?(a.color=this.color.getHex(),this.vertexColors!==THREE.NoColors&&(a.vertexColors=this.vertexColors),this.blending!==THREE.NormalBlending&&(a.blending=this.blending),this.side!==THREE.FrontSide&&(a.side=this.side)):this instanceof THREE.MeshLambertMaterial?(a.color=this.color.getHex(),a.emissive=this.emissive.getHex(),this.vertexColors!==THREE.NoColors&&\n(a.vertexColors=this.vertexColors),this.shading!==THREE.SmoothShading&&(a.shading=this.shading),this.blending!==THREE.NormalBlending&&(a.blending=this.blending),this.side!==THREE.FrontSide&&(a.side=this.side)):this instanceof THREE.MeshPhongMaterial?(a.color=this.color.getHex(),a.emissive=this.emissive.getHex(),a.specular=this.specular.getHex(),a.shininess=this.shininess,this.vertexColors!==THREE.NoColors&&(a.vertexColors=this.vertexColors),this.shading!==THREE.SmoothShading&&(a.shading=this.shading),\nthis.blending!==THREE.NormalBlending&&(a.blending=this.blending),this.side!==THREE.FrontSide&&(a.side=this.side)):this instanceof THREE.MeshNormalMaterial?(this.blending!==THREE.NormalBlending&&(a.blending=this.blending),this.side!==THREE.FrontSide&&(a.side=this.side)):this instanceof THREE.MeshDepthMaterial?(this.blending!==THREE.NormalBlending&&(a.blending=this.blending),this.side!==THREE.FrontSide&&(a.side=this.side)):this instanceof THREE.PointCloudMaterial?(a.size=this.size,a.sizeAttenuation=\nthis.sizeAttenuation,a.color=this.color.getHex(),this.vertexColors!==THREE.NoColors&&(a.vertexColors=this.vertexColors),this.blending!==THREE.NormalBlending&&(a.blending=this.blending)):this instanceof THREE.ShaderMaterial?(a.uniforms=this.uniforms,a.vertexShader=this.vertexShader,a.fragmentShader=this.fragmentShader):this instanceof THREE.SpriteMaterial&&(a.color=this.color.getHex());1>this.opacity&&(a.opacity=this.opacity);!1!==this.transparent&&(a.transparent=this.transparent);!1!==this.wireframe&&\n(a.wireframe=this.wireframe);return a},clone:function(a){void 0===a&&(a=new THREE.Material);a.name=this.name;a.side=this.side;a.opacity=this.opacity;a.transparent=this.transparent;a.blending=this.blending;a.blendSrc=this.blendSrc;a.blendDst=this.blendDst;a.blendEquation=this.blendEquation;a.blendSrcAlpha=this.blendSrcAlpha;a.blendDstAlpha=this.blendDstAlpha;a.blendEquationAlpha=this.blendEquationAlpha;a.depthTest=this.depthTest;a.depthWrite=this.depthWrite;a.polygonOffset=this.polygonOffset;a.polygonOffsetFactor=\nthis.polygonOffsetFactor;a.polygonOffsetUnits=this.polygonOffsetUnits;a.alphaTest=this.alphaTest;a.overdraw=this.overdraw;a.visible=this.visible;return a},update:function(){this.dispatchEvent({type:\"update\"})},dispose:function(){this.dispatchEvent({type:\"dispose\"})}};THREE.EventDispatcher.prototype.apply(THREE.Material.prototype);THREE.MaterialIdCount=0;\nTHREE.LineBasicMaterial=function(a){THREE.Material.call(this);this.type=\"LineBasicMaterial\";this.color=new THREE.Color(16777215);this.linewidth=1;this.linejoin=this.linecap=\"round\";this.vertexColors=THREE.NoColors;this.fog=!0;this.setValues(a)};THREE.LineBasicMaterial.prototype=Object.create(THREE.Material.prototype);THREE.LineBasicMaterial.prototype.constructor=THREE.LineBasicMaterial;\nTHREE.LineBasicMaterial.prototype.clone=function(){var a=new THREE.LineBasicMaterial;THREE.Material.prototype.clone.call(this,a);a.color.copy(this.color);a.linewidth=this.linewidth;a.linecap=this.linecap;a.linejoin=this.linejoin;a.vertexColors=this.vertexColors;a.fog=this.fog;return a};\nTHREE.LineDashedMaterial=function(a){THREE.Material.call(this);this.type=\"LineDashedMaterial\";this.color=new THREE.Color(16777215);this.scale=this.linewidth=1;this.dashSize=3;this.gapSize=1;this.vertexColors=!1;this.fog=!0;this.setValues(a)};THREE.LineDashedMaterial.prototype=Object.create(THREE.Material.prototype);THREE.LineDashedMaterial.prototype.constructor=THREE.LineDashedMaterial;\nTHREE.LineDashedMaterial.prototype.clone=function(){var a=new THREE.LineDashedMaterial;THREE.Material.prototype.clone.call(this,a);a.color.copy(this.color);a.linewidth=this.linewidth;a.scale=this.scale;a.dashSize=this.dashSize;a.gapSize=this.gapSize;a.vertexColors=this.vertexColors;a.fog=this.fog;return a};\nTHREE.MeshBasicMaterial=function(a){THREE.Material.call(this);this.type=\"MeshBasicMaterial\";this.color=new THREE.Color(16777215);this.envMap=this.alphaMap=this.specularMap=this.lightMap=this.map=null;this.combine=THREE.MultiplyOperation;this.reflectivity=1;this.refractionRatio=.98;this.fog=!0;this.shading=THREE.SmoothShading;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap=\"round\";this.vertexColors=THREE.NoColors;this.morphTargets=this.skinning=!1;this.setValues(a)};\nTHREE.MeshBasicMaterial.prototype=Object.create(THREE.Material.prototype);THREE.MeshBasicMaterial.prototype.constructor=THREE.MeshBasicMaterial;\nTHREE.MeshBasicMaterial.prototype.clone=function(){var a=new THREE.MeshBasicMaterial;THREE.Material.prototype.clone.call(this,a);a.color.copy(this.color);a.map=this.map;a.lightMap=this.lightMap;a.specularMap=this.specularMap;a.alphaMap=this.alphaMap;a.envMap=this.envMap;a.combine=this.combine;a.reflectivity=this.reflectivity;a.refractionRatio=this.refractionRatio;a.fog=this.fog;a.shading=this.shading;a.wireframe=this.wireframe;a.wireframeLinewidth=this.wireframeLinewidth;a.wireframeLinecap=this.wireframeLinecap;\na.wireframeLinejoin=this.wireframeLinejoin;a.vertexColors=this.vertexColors;a.skinning=this.skinning;a.morphTargets=this.morphTargets;return a};\nTHREE.MeshLambertMaterial=function(a){THREE.Material.call(this);this.type=\"MeshLambertMaterial\";this.color=new THREE.Color(16777215);this.emissive=new THREE.Color(0);this.wrapAround=!1;this.wrapRGB=new THREE.Vector3(1,1,1);this.envMap=this.alphaMap=this.specularMap=this.lightMap=this.map=null;this.combine=THREE.MultiplyOperation;this.reflectivity=1;this.refractionRatio=.98;this.fog=!0;this.shading=THREE.SmoothShading;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap=\n\"round\";this.vertexColors=THREE.NoColors;this.morphNormals=this.morphTargets=this.skinning=!1;this.setValues(a)};THREE.MeshLambertMaterial.prototype=Object.create(THREE.Material.prototype);THREE.MeshLambertMaterial.prototype.constructor=THREE.MeshLambertMaterial;\nTHREE.MeshLambertMaterial.prototype.clone=function(){var a=new THREE.MeshLambertMaterial;THREE.Material.prototype.clone.call(this,a);a.color.copy(this.color);a.emissive.copy(this.emissive);a.wrapAround=this.wrapAround;a.wrapRGB.copy(this.wrapRGB);a.map=this.map;a.lightMap=this.lightMap;a.specularMap=this.specularMap;a.alphaMap=this.alphaMap;a.envMap=this.envMap;a.combine=this.combine;a.reflectivity=this.reflectivity;a.refractionRatio=this.refractionRatio;a.fog=this.fog;a.shading=this.shading;a.wireframe=\nthis.wireframe;a.wireframeLinewidth=this.wireframeLinewidth;a.wireframeLinecap=this.wireframeLinecap;a.wireframeLinejoin=this.wireframeLinejoin;a.vertexColors=this.vertexColors;a.skinning=this.skinning;a.morphTargets=this.morphTargets;a.morphNormals=this.morphNormals;return a};\nTHREE.MeshPhongMaterial=function(a){THREE.Material.call(this);this.type=\"MeshPhongMaterial\";this.color=new THREE.Color(16777215);this.emissive=new THREE.Color(0);this.specular=new THREE.Color(1118481);this.shininess=30;this.wrapAround=this.metal=!1;this.wrapRGB=new THREE.Vector3(1,1,1);this.bumpMap=this.lightMap=this.map=null;this.bumpScale=1;this.normalMap=null;this.normalScale=new THREE.Vector2(1,1);this.envMap=this.alphaMap=this.specularMap=null;this.combine=THREE.MultiplyOperation;this.reflectivity=\n1;this.refractionRatio=.98;this.fog=!0;this.shading=THREE.SmoothShading;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap=\"round\";this.vertexColors=THREE.NoColors;this.morphNormals=this.morphTargets=this.skinning=!1;this.setValues(a)};THREE.MeshPhongMaterial.prototype=Object.create(THREE.Material.prototype);THREE.MeshPhongMaterial.prototype.constructor=THREE.MeshPhongMaterial;\nTHREE.MeshPhongMaterial.prototype.clone=function(){var a=new THREE.MeshPhongMaterial;THREE.Material.prototype.clone.call(this,a);a.color.copy(this.color);a.emissive.copy(this.emissive);a.specular.copy(this.specular);a.shininess=this.shininess;a.metal=this.metal;a.wrapAround=this.wrapAround;a.wrapRGB.copy(this.wrapRGB);a.map=this.map;a.lightMap=this.lightMap;a.bumpMap=this.bumpMap;a.bumpScale=this.bumpScale;a.normalMap=this.normalMap;a.normalScale.copy(this.normalScale);a.specularMap=this.specularMap;\na.alphaMap=this.alphaMap;a.envMap=this.envMap;a.combine=this.combine;a.reflectivity=this.reflectivity;a.refractionRatio=this.refractionRatio;a.fog=this.fog;a.shading=this.shading;a.wireframe=this.wireframe;a.wireframeLinewidth=this.wireframeLinewidth;a.wireframeLinecap=this.wireframeLinecap;a.wireframeLinejoin=this.wireframeLinejoin;a.vertexColors=this.vertexColors;a.skinning=this.skinning;a.morphTargets=this.morphTargets;a.morphNormals=this.morphNormals;return a};\nTHREE.MeshDepthMaterial=function(a){THREE.Material.call(this);this.type=\"MeshDepthMaterial\";this.wireframe=this.morphTargets=!1;this.wireframeLinewidth=1;this.setValues(a)};THREE.MeshDepthMaterial.prototype=Object.create(THREE.Material.prototype);THREE.MeshDepthMaterial.prototype.constructor=THREE.MeshDepthMaterial;\nTHREE.MeshDepthMaterial.prototype.clone=function(){var a=new THREE.MeshDepthMaterial;THREE.Material.prototype.clone.call(this,a);a.wireframe=this.wireframe;a.wireframeLinewidth=this.wireframeLinewidth;return a};THREE.MeshNormalMaterial=function(a){THREE.Material.call(this,a);this.type=\"MeshNormalMaterial\";this.wireframe=!1;this.wireframeLinewidth=1;this.morphTargets=!1;this.setValues(a)};THREE.MeshNormalMaterial.prototype=Object.create(THREE.Material.prototype);\nTHREE.MeshNormalMaterial.prototype.constructor=THREE.MeshNormalMaterial;THREE.MeshNormalMaterial.prototype.clone=function(){var a=new THREE.MeshNormalMaterial;THREE.Material.prototype.clone.call(this,a);a.wireframe=this.wireframe;a.wireframeLinewidth=this.wireframeLinewidth;return a};THREE.MeshFaceMaterial=function(a){this.uuid=THREE.Math.generateUUID();this.type=\"MeshFaceMaterial\";this.materials=a instanceof Array?a:[]};\nTHREE.MeshFaceMaterial.prototype={constructor:THREE.MeshFaceMaterial,toJSON:function(){for(var a={metadata:{version:4.2,type:\"material\",generator:\"MaterialExporter\"},uuid:this.uuid,type:this.type,materials:[]},b=0,c=this.materials.length;b<c;b++)a.materials.push(this.materials[b].toJSON());return a},clone:function(){for(var a=new THREE.MeshFaceMaterial,b=0;b<this.materials.length;b++)a.materials.push(this.materials[b].clone());return a}};\nTHREE.PointCloudMaterial=function(a){THREE.Material.call(this);this.type=\"PointCloudMaterial\";this.color=new THREE.Color(16777215);this.map=null;this.size=1;this.sizeAttenuation=!0;this.vertexColors=THREE.NoColors;this.fog=!0;this.setValues(a)};THREE.PointCloudMaterial.prototype=Object.create(THREE.Material.prototype);THREE.PointCloudMaterial.prototype.constructor=THREE.PointCloudMaterial;\nTHREE.PointCloudMaterial.prototype.clone=function(){var a=new THREE.PointCloudMaterial;THREE.Material.prototype.clone.call(this,a);a.color.copy(this.color);a.map=this.map;a.size=this.size;a.sizeAttenuation=this.sizeAttenuation;a.vertexColors=this.vertexColors;a.fog=this.fog;return a};THREE.ParticleBasicMaterial=function(a){THREE.warn(\"THREE.ParticleBasicMaterial has been renamed to THREE.PointCloudMaterial.\");return new THREE.PointCloudMaterial(a)};\nTHREE.ParticleSystemMaterial=function(a){THREE.warn(\"THREE.ParticleSystemMaterial has been renamed to THREE.PointCloudMaterial.\");return new THREE.PointCloudMaterial(a)};\nTHREE.ShaderMaterial=function(a){THREE.Material.call(this);this.type=\"ShaderMaterial\";this.defines={};this.uniforms={};this.attributes=null;this.vertexShader=\"void main() {\\n\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n}\";this.fragmentShader=\"void main() {\\n\\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\\n}\";this.shading=THREE.SmoothShading;this.linewidth=1;this.wireframe=!1;this.wireframeLinewidth=1;this.lights=this.fog=!1;this.vertexColors=THREE.NoColors;this.morphNormals=\nthis.morphTargets=this.skinning=!1;this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]};this.index0AttributeName=void 0;this.setValues(a)};THREE.ShaderMaterial.prototype=Object.create(THREE.Material.prototype);THREE.ShaderMaterial.prototype.constructor=THREE.ShaderMaterial;\nTHREE.ShaderMaterial.prototype.clone=function(){var a=new THREE.ShaderMaterial;THREE.Material.prototype.clone.call(this,a);a.fragmentShader=this.fragmentShader;a.vertexShader=this.vertexShader;a.uniforms=THREE.UniformsUtils.clone(this.uniforms);a.attributes=this.attributes;a.defines=this.defines;a.shading=this.shading;a.wireframe=this.wireframe;a.wireframeLinewidth=this.wireframeLinewidth;a.fog=this.fog;a.lights=this.lights;a.vertexColors=this.vertexColors;a.skinning=this.skinning;a.morphTargets=\nthis.morphTargets;a.morphNormals=this.morphNormals;return a};THREE.RawShaderMaterial=function(a){THREE.ShaderMaterial.call(this,a);this.type=\"RawShaderMaterial\"};THREE.RawShaderMaterial.prototype=Object.create(THREE.ShaderMaterial.prototype);THREE.RawShaderMaterial.prototype.constructor=THREE.RawShaderMaterial;THREE.RawShaderMaterial.prototype.clone=function(){var a=new THREE.RawShaderMaterial;THREE.ShaderMaterial.prototype.clone.call(this,a);return a};\nTHREE.SpriteMaterial=function(a){THREE.Material.call(this);this.type=\"SpriteMaterial\";this.color=new THREE.Color(16777215);this.map=null;this.rotation=0;this.fog=!1;this.setValues(a)};THREE.SpriteMaterial.prototype=Object.create(THREE.Material.prototype);THREE.SpriteMaterial.prototype.constructor=THREE.SpriteMaterial;\nTHREE.SpriteMaterial.prototype.clone=function(){var a=new THREE.SpriteMaterial;THREE.Material.prototype.clone.call(this,a);a.color.copy(this.color);a.map=this.map;a.rotation=this.rotation;a.fog=this.fog;return a};\nTHREE.Texture=function(a,b,c,d,e,f,g,h,k){Object.defineProperty(this,\"id\",{value:THREE.TextureIdCount++});this.uuid=THREE.Math.generateUUID();this.sourceFile=this.name=\"\";this.image=void 0!==a?a:THREE.Texture.DEFAULT_IMAGE;this.mipmaps=[];this.mapping=void 0!==b?b:THREE.Texture.DEFAULT_MAPPING;this.wrapS=void 0!==c?c:THREE.ClampToEdgeWrapping;this.wrapT=void 0!==d?d:THREE.ClampToEdgeWrapping;this.magFilter=void 0!==e?e:THREE.LinearFilter;this.minFilter=void 0!==f?f:THREE.LinearMipMapLinearFilter;\nthis.anisotropy=void 0!==k?k:1;this.format=void 0!==g?g:THREE.RGBAFormat;this.type=void 0!==h?h:THREE.UnsignedByteType;this.offset=new THREE.Vector2(0,0);this.repeat=new THREE.Vector2(1,1);this.generateMipmaps=!0;this.premultiplyAlpha=!1;this.flipY=!0;this.unpackAlignment=4;this._needsUpdate=!1;this.onUpdate=null};THREE.Texture.DEFAULT_IMAGE=void 0;THREE.Texture.DEFAULT_MAPPING=THREE.UVMapping;\nTHREE.Texture.prototype={constructor:THREE.Texture,get needsUpdate(){return this._needsUpdate},set needsUpdate(a){!0===a&&this.update();this._needsUpdate=a},clone:function(a){void 0===a&&(a=new THREE.Texture);a.image=this.image;a.mipmaps=this.mipmaps.slice(0);a.mapping=this.mapping;a.wrapS=this.wrapS;a.wrapT=this.wrapT;a.magFilter=this.magFilter;a.minFilter=this.minFilter;a.anisotropy=this.anisotropy;a.format=this.format;a.type=this.type;a.offset.copy(this.offset);a.repeat.copy(this.repeat);a.generateMipmaps=\nthis.generateMipmaps;a.premultiplyAlpha=this.premultiplyAlpha;a.flipY=this.flipY;a.unpackAlignment=this.unpackAlignment;return a},update:function(){this.dispatchEvent({type:\"update\"})},dispose:function(){this.dispatchEvent({type:\"dispose\"})}};THREE.EventDispatcher.prototype.apply(THREE.Texture.prototype);THREE.TextureIdCount=0;THREE.CubeTexture=function(a,b,c,d,e,f,g,h,k){b=void 0!==b?b:THREE.CubeReflectionMapping;THREE.Texture.call(this,a,b,c,d,e,f,g,h,k);this.images=a};\nTHREE.CubeTexture.prototype=Object.create(THREE.Texture.prototype);THREE.CubeTexture.prototype.constructor=THREE.CubeTexture;THREE.CubeTexture.clone=function(a){void 0===a&&(a=new THREE.CubeTexture);THREE.Texture.prototype.clone.call(this,a);a.images=this.images;return a};THREE.CompressedTexture=function(a,b,c,d,e,f,g,h,k,l,p){THREE.Texture.call(this,null,f,g,h,k,l,d,e,p);this.image={width:b,height:c};this.mipmaps=a;this.generateMipmaps=this.flipY=!1};THREE.CompressedTexture.prototype=Object.create(THREE.Texture.prototype);\nTHREE.CompressedTexture.prototype.constructor=THREE.CompressedTexture;THREE.CompressedTexture.prototype.clone=function(){var a=new THREE.CompressedTexture;THREE.Texture.prototype.clone.call(this,a);return a};THREE.DataTexture=function(a,b,c,d,e,f,g,h,k,l,p){THREE.Texture.call(this,null,f,g,h,k,l,d,e,p);this.image={data:a,width:b,height:c}};THREE.DataTexture.prototype=Object.create(THREE.Texture.prototype);THREE.DataTexture.prototype.constructor=THREE.DataTexture;\nTHREE.DataTexture.prototype.clone=function(){var a=new THREE.DataTexture;THREE.Texture.prototype.clone.call(this,a);return a};THREE.VideoTexture=function(a,b,c,d,e,f,g,h,k){THREE.Texture.call(this,a,b,c,d,e,f,g,h,k);this.generateMipmaps=!1;var l=this,p=function(){requestAnimationFrame(p);a.readyState===a.HAVE_ENOUGH_DATA&&(l.needsUpdate=!0)};p()};THREE.VideoTexture.prototype=Object.create(THREE.Texture.prototype);THREE.VideoTexture.prototype.constructor=THREE.VideoTexture;\nTHREE.Group=function(){THREE.Object3D.call(this);this.type=\"Group\"};THREE.Group.prototype=Object.create(THREE.Object3D.prototype);THREE.Group.prototype.constructor=THREE.Group;THREE.PointCloud=function(a,b){THREE.Object3D.call(this);this.type=\"PointCloud\";this.geometry=void 0!==a?a:new THREE.Geometry;this.material=void 0!==b?b:new THREE.PointCloudMaterial({color:16777215*Math.random()})};THREE.PointCloud.prototype=Object.create(THREE.Object3D.prototype);THREE.PointCloud.prototype.constructor=THREE.PointCloud;\nTHREE.PointCloud.prototype.raycast=function(){var a=new THREE.Matrix4,b=new THREE.Ray;return function(c,d){var e=this,f=e.geometry,g=c.params.PointCloud.threshold;a.getInverse(this.matrixWorld);b.copy(c.ray).applyMatrix4(a);if(null===f.boundingBox||!1!==b.isIntersectionBox(f.boundingBox)){var h=g/((this.scale.x+this.scale.y+this.scale.z)/3),k=new THREE.Vector3,g=function(a,f){var g=b.distanceToPoint(a);if(g<h){var k=b.closestPointToPoint(a);k.applyMatrix4(e.matrixWorld);var n=c.ray.origin.distanceTo(k);\nd.push({distance:n,distanceToRay:g,point:k.clone(),index:f,face:null,object:e})}};if(f instanceof THREE.BufferGeometry){var l=f.attributes,p=l.position.array;if(void 0!==l.index){var l=l.index.array,q=f.offsets;0===q.length&&(q=[{start:0,count:l.length,index:0}]);for(var n=0,t=q.length;n<t;++n)for(var r=q[n].start,s=q[n].index,f=r,r=r+q[n].count;f<r;f++){var u=s+l[f];k.fromArray(p,3*u);g(k,u)}}else for(l=p.length/3,f=0;f<l;f++)k.set(p[3*f],p[3*f+1],p[3*f+2]),g(k,f)}else for(k=this.geometry.vertices,\nf=0;f<k.length;f++)g(k[f],f)}}}();THREE.PointCloud.prototype.clone=function(a){void 0===a&&(a=new THREE.PointCloud(this.geometry,this.material));THREE.Object3D.prototype.clone.call(this,a);return a};THREE.ParticleSystem=function(a,b){THREE.warn(\"THREE.ParticleSystem has been renamed to THREE.PointCloud.\");return new THREE.PointCloud(a,b)};\nTHREE.Line=function(a,b,c){THREE.Object3D.call(this);this.type=\"Line\";this.geometry=void 0!==a?a:new THREE.Geometry;this.material=void 0!==b?b:new THREE.LineBasicMaterial({color:16777215*Math.random()});this.mode=void 0!==c?c:THREE.LineStrip};THREE.LineStrip=0;THREE.LinePieces=1;THREE.Line.prototype=Object.create(THREE.Object3D.prototype);THREE.Line.prototype.constructor=THREE.Line;\nTHREE.Line.prototype.raycast=function(){var a=new THREE.Matrix4,b=new THREE.Ray,c=new THREE.Sphere;return function(d,e){var f=d.linePrecision,f=f*f,g=this.geometry;null===g.boundingSphere&&g.computeBoundingSphere();c.copy(g.boundingSphere);c.applyMatrix4(this.matrixWorld);if(!1!==d.ray.isIntersectionSphere(c)){a.getInverse(this.matrixWorld);b.copy(d.ray).applyMatrix4(a);var h=new THREE.Vector3,k=new THREE.Vector3,l=new THREE.Vector3,p=new THREE.Vector3,q=this.mode===THREE.LineStrip?1:2;if(g instanceof\nTHREE.BufferGeometry){var n=g.attributes;if(void 0!==n.index){var t=n.index.array,n=n.position.array,r=g.offsets;0===r.length&&(r=[{start:0,count:t.length,index:0}]);for(var s=0;s<r.length;s++)for(var u=r[s].start,v=r[s].count,x=r[s].index,g=u;g<u+v-1;g+=q){var D=x+t[g+1];h.fromArray(n,3*(x+t[g]));k.fromArray(n,3*D);D=b.distanceSqToSegment(h,k,p,l);D>f||(D=b.origin.distanceTo(p),D<d.near||D>d.far||e.push({distance:D,point:l.clone().applyMatrix4(this.matrixWorld),index:g,offsetIndex:s,face:null,faceIndex:null,\nobject:this}))}}else for(n=n.position.array,g=0;g<n.length/3-1;g+=q)h.fromArray(n,3*g),k.fromArray(n,3*g+3),D=b.distanceSqToSegment(h,k,p,l),D>f||(D=b.origin.distanceTo(p),D<d.near||D>d.far||e.push({distance:D,point:l.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this}))}else if(g instanceof THREE.Geometry)for(h=g.vertices,k=h.length,g=0;g<k-1;g+=q)D=b.distanceSqToSegment(h[g],h[g+1],p,l),D>f||(D=b.origin.distanceTo(p),D<d.near||D>d.far||e.push({distance:D,point:l.clone().applyMatrix4(this.matrixWorld),\nindex:g,face:null,faceIndex:null,object:this}))}}}();THREE.Line.prototype.clone=function(a){void 0===a&&(a=new THREE.Line(this.geometry,this.material,this.mode));THREE.Object3D.prototype.clone.call(this,a);return a};THREE.Mesh=function(a,b){THREE.Object3D.call(this);this.type=\"Mesh\";this.geometry=void 0!==a?a:new THREE.Geometry;this.material=void 0!==b?b:new THREE.MeshBasicMaterial({color:16777215*Math.random()});this.updateMorphTargets()};THREE.Mesh.prototype=Object.create(THREE.Object3D.prototype);\nTHREE.Mesh.prototype.constructor=THREE.Mesh;THREE.Mesh.prototype.updateMorphTargets=function(){if(void 0!==this.geometry.morphTargets&&0<this.geometry.morphTargets.length){this.morphTargetBase=-1;this.morphTargetForcedOrder=[];this.morphTargetInfluences=[];this.morphTargetDictionary={};for(var a=0,b=this.geometry.morphTargets.length;a<b;a++)this.morphTargetInfluences.push(0),this.morphTargetDictionary[this.geometry.morphTargets[a].name]=a}};\nTHREE.Mesh.prototype.getMorphTargetIndexByName=function(a){if(void 0!==this.morphTargetDictionary[a])return this.morphTargetDictionary[a];THREE.warn(\"THREE.Mesh.getMorphTargetIndexByName: morph target \"+a+\" does not exist. Returning 0.\");return 0};\nTHREE.Mesh.prototype.raycast=function(){var a=new THREE.Matrix4,b=new THREE.Ray,c=new THREE.Sphere,d=new THREE.Vector3,e=new THREE.Vector3,f=new THREE.Vector3;return function(g,h){var k=this.geometry;null===k.boundingSphere&&k.computeBoundingSphere();c.copy(k.boundingSphere);c.applyMatrix4(this.matrixWorld);if(!1!==g.ray.isIntersectionSphere(c)&&(a.getInverse(this.matrixWorld),b.copy(g.ray).applyMatrix4(a),null===k.boundingBox||!1!==b.isIntersectionBox(k.boundingBox)))if(k instanceof THREE.BufferGeometry){var l=\nthis.material;if(void 0!==l){var p=k.attributes,q,n,t=g.precision;if(void 0!==p.index){var r=p.index.array,s=p.position.array,u=k.offsets;0===u.length&&(u=[{start:0,count:r.length,index:0}]);for(var v=0,x=u.length;v<x;++v)for(var p=u[v].start,D=u[v].index,k=p,w=p+u[v].count;k<w;k+=3){p=D+r[k];q=D+r[k+1];n=D+r[k+2];d.fromArray(s,3*p);e.fromArray(s,3*q);f.fromArray(s,3*n);var y=l.side===THREE.BackSide?b.intersectTriangle(f,e,d,!0):b.intersectTriangle(d,e,f,l.side!==THREE.DoubleSide);if(null!==y){y.applyMatrix4(this.matrixWorld);\nvar A=g.ray.origin.distanceTo(y);A<t||A<g.near||A>g.far||h.push({distance:A,point:y,face:new THREE.Face3(p,q,n,THREE.Triangle.normal(d,e,f)),faceIndex:null,object:this})}}}else for(s=p.position.array,r=k=0,w=s.length;k<w;k+=3,r+=9)p=k,q=k+1,n=k+2,d.fromArray(s,r),e.fromArray(s,r+3),f.fromArray(s,r+6),y=l.side===THREE.BackSide?b.intersectTriangle(f,e,d,!0):b.intersectTriangle(d,e,f,l.side!==THREE.DoubleSide),null!==y&&(y.applyMatrix4(this.matrixWorld),A=g.ray.origin.distanceTo(y),A<t||A<g.near||A>\ng.far||h.push({distance:A,point:y,face:new THREE.Face3(p,q,n,THREE.Triangle.normal(d,e,f)),faceIndex:null,object:this}))}}else if(k instanceof THREE.Geometry)for(r=this.material instanceof THREE.MeshFaceMaterial,s=!0===r?this.material.materials:null,t=g.precision,u=k.vertices,v=0,x=k.faces.length;v<x;v++)if(D=k.faces[v],l=!0===r?s[D.materialIndex]:this.material,void 0!==l){p=u[D.a];q=u[D.b];n=u[D.c];if(!0===l.morphTargets){y=k.morphTargets;A=this.morphTargetInfluences;d.set(0,0,0);e.set(0,0,0);f.set(0,\n0,0);for(var w=0,E=y.length;w<E;w++){var G=A[w];if(0!==G){var F=y[w].vertices;d.x+=(F[D.a].x-p.x)*G;d.y+=(F[D.a].y-p.y)*G;d.z+=(F[D.a].z-p.z)*G;e.x+=(F[D.b].x-q.x)*G;e.y+=(F[D.b].y-q.y)*G;e.z+=(F[D.b].z-q.z)*G;f.x+=(F[D.c].x-n.x)*G;f.y+=(F[D.c].y-n.y)*G;f.z+=(F[D.c].z-n.z)*G}}d.add(p);e.add(q);f.add(n);p=d;q=e;n=f}y=l.side===THREE.BackSide?b.intersectTriangle(n,q,p,!0):b.intersectTriangle(p,q,n,l.side!==THREE.DoubleSide);null!==y&&(y.applyMatrix4(this.matrixWorld),A=g.ray.origin.distanceTo(y),A<t||\nA<g.near||A>g.far||h.push({distance:A,point:y,face:D,faceIndex:v,object:this}))}}}();THREE.Mesh.prototype.clone=function(a,b){void 0===a&&(a=new THREE.Mesh(this.geometry,this.material));THREE.Object3D.prototype.clone.call(this,a,b);return a};THREE.Bone=function(a){THREE.Object3D.call(this);this.type=\"Bone\";this.skin=a};THREE.Bone.prototype=Object.create(THREE.Object3D.prototype);THREE.Bone.prototype.constructor=THREE.Bone;\nTHREE.Skeleton=function(a,b,c){this.useVertexTexture=void 0!==c?c:!0;this.identityMatrix=new THREE.Matrix4;a=a||[];this.bones=a.slice(0);this.useVertexTexture?(this.boneTextureHeight=this.boneTextureWidth=a=256<this.bones.length?64:64<this.bones.length?32:16<this.bones.length?16:8,this.boneMatrices=new Float32Array(this.boneTextureWidth*this.boneTextureHeight*4),this.boneTexture=new THREE.DataTexture(this.boneMatrices,this.boneTextureWidth,this.boneTextureHeight,THREE.RGBAFormat,THREE.FloatType),\nthis.boneTexture.minFilter=THREE.NearestFilter,this.boneTexture.magFilter=THREE.NearestFilter,this.boneTexture.generateMipmaps=!1,this.boneTexture.flipY=!1):this.boneMatrices=new Float32Array(16*this.bones.length);if(void 0===b)this.calculateInverses();else if(this.bones.length===b.length)this.boneInverses=b.slice(0);else for(THREE.warn(\"THREE.Skeleton bonInverses is the wrong length.\"),this.boneInverses=[],b=0,a=this.bones.length;b<a;b++)this.boneInverses.push(new THREE.Matrix4)};\nTHREE.Skeleton.prototype.calculateInverses=function(){this.boneInverses=[];for(var a=0,b=this.bones.length;a<b;a++){var c=new THREE.Matrix4;this.bones[a]&&c.getInverse(this.bones[a].matrixWorld);this.boneInverses.push(c)}};\nTHREE.Skeleton.prototype.pose=function(){for(var a,b=0,c=this.bones.length;b<c;b++)(a=this.bones[b])&&a.matrixWorld.getInverse(this.boneInverses[b]);b=0;for(c=this.bones.length;b<c;b++)if(a=this.bones[b])a.parent?(a.matrix.getInverse(a.parent.matrixWorld),a.matrix.multiply(a.matrixWorld)):a.matrix.copy(a.matrixWorld),a.matrix.decompose(a.position,a.quaternion,a.scale)};\nTHREE.Skeleton.prototype.update=function(){var a=new THREE.Matrix4;return function(){for(var b=0,c=this.bones.length;b<c;b++)a.multiplyMatrices(this.bones[b]?this.bones[b].matrixWorld:this.identityMatrix,this.boneInverses[b]),a.flattenToArrayOffset(this.boneMatrices,16*b);this.useVertexTexture&&(this.boneTexture.needsUpdate=!0)}}();\nTHREE.SkinnedMesh=function(a,b,c){THREE.Mesh.call(this,a,b);this.type=\"SkinnedMesh\";this.bindMode=\"attached\";this.bindMatrix=new THREE.Matrix4;this.bindMatrixInverse=new THREE.Matrix4;a=[];if(this.geometry&&void 0!==this.geometry.bones){for(var d,e,f,g,h=0,k=this.geometry.bones.length;h<k;++h)d=this.geometry.bones[h],e=d.pos,f=d.rotq,g=d.scl,b=new THREE.Bone(this),a.push(b),b.name=d.name,b.position.set(e[0],e[1],e[2]),b.quaternion.set(f[0],f[1],f[2],f[3]),void 0!==g?b.scale.set(g[0],g[1],g[2]):b.scale.set(1,\n1,1);h=0;for(k=this.geometry.bones.length;h<k;++h)d=this.geometry.bones[h],-1!==d.parent?a[d.parent].add(a[h]):this.add(a[h])}this.normalizeSkinWeights();this.updateMatrixWorld(!0);this.bind(new THREE.Skeleton(a,void 0,c))};THREE.SkinnedMesh.prototype=Object.create(THREE.Mesh.prototype);THREE.SkinnedMesh.prototype.constructor=THREE.SkinnedMesh;THREE.SkinnedMesh.prototype.bind=function(a,b){this.skeleton=a;void 0===b&&(this.updateMatrixWorld(!0),b=this.matrixWorld);this.bindMatrix.copy(b);this.bindMatrixInverse.getInverse(b)};\nTHREE.SkinnedMesh.prototype.pose=function(){this.skeleton.pose()};THREE.SkinnedMesh.prototype.normalizeSkinWeights=function(){if(this.geometry instanceof THREE.Geometry)for(var a=0;a<this.geometry.skinIndices.length;a++){var b=this.geometry.skinWeights[a],c=1/b.lengthManhattan();Infinity!==c?b.multiplyScalar(c):b.set(1)}};\nTHREE.SkinnedMesh.prototype.updateMatrixWorld=function(a){THREE.Mesh.prototype.updateMatrixWorld.call(this,!0);\"attached\"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):\"detached\"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):THREE.warn(\"THREE.SkinnedMesh unreckognized bindMode: \"+this.bindMode)};\nTHREE.SkinnedMesh.prototype.clone=function(a){void 0===a&&(a=new THREE.SkinnedMesh(this.geometry,this.material,this.useVertexTexture));THREE.Mesh.prototype.clone.call(this,a);return a};THREE.MorphAnimMesh=function(a,b){THREE.Mesh.call(this,a,b);this.type=\"MorphAnimMesh\";this.duration=1E3;this.mirroredLoop=!1;this.currentKeyframe=this.lastKeyframe=this.time=0;this.direction=1;this.directionBackwards=!1;this.setFrameRange(0,this.geometry.morphTargets.length-1)};THREE.MorphAnimMesh.prototype=Object.create(THREE.Mesh.prototype);\nTHREE.MorphAnimMesh.prototype.constructor=THREE.MorphAnimMesh;THREE.MorphAnimMesh.prototype.setFrameRange=function(a,b){this.startKeyframe=a;this.endKeyframe=b;this.length=this.endKeyframe-this.startKeyframe+1};THREE.MorphAnimMesh.prototype.setDirectionForward=function(){this.direction=1;this.directionBackwards=!1};THREE.MorphAnimMesh.prototype.setDirectionBackward=function(){this.direction=-1;this.directionBackwards=!0};\nTHREE.MorphAnimMesh.prototype.parseAnimations=function(){var a=this.geometry;a.animations||(a.animations={});for(var b,c=a.animations,d=/([a-z]+)_?(\\d+)/,e=0,f=a.morphTargets.length;e<f;e++){var g=a.morphTargets[e].name.match(d);if(g&&1<g.length){g=g[1];c[g]||(c[g]={start:Infinity,end:-Infinity});var h=c[g];e<h.start&&(h.start=e);e>h.end&&(h.end=e);b||(b=g)}}a.firstAnimation=b};\nTHREE.MorphAnimMesh.prototype.setAnimationLabel=function(a,b,c){this.geometry.animations||(this.geometry.animations={});this.geometry.animations[a]={start:b,end:c}};THREE.MorphAnimMesh.prototype.playAnimation=function(a,b){var c=this.geometry.animations[a];c?(this.setFrameRange(c.start,c.end),this.duration=(c.end-c.start)/b*1E3,this.time=0):THREE.warn(\"THREE.MorphAnimMesh: animation[\"+a+\"] undefined in .playAnimation()\")};\nTHREE.MorphAnimMesh.prototype.updateAnimation=function(a){var b=this.duration/this.length;this.time+=this.direction*a;if(this.mirroredLoop){if(this.time>this.duration||0>this.time)this.direction*=-1,this.time>this.duration&&(this.time=this.duration,this.directionBackwards=!0),0>this.time&&(this.time=0,this.directionBackwards=!1)}else this.time%=this.duration,0>this.time&&(this.time+=this.duration);a=this.startKeyframe+THREE.Math.clamp(Math.floor(this.time/b),0,this.length-1);a!==this.currentKeyframe&&\n(this.morphTargetInfluences[this.lastKeyframe]=0,this.morphTargetInfluences[this.currentKeyframe]=1,this.morphTargetInfluences[a]=0,this.lastKeyframe=this.currentKeyframe,this.currentKeyframe=a);b=this.time%b/b;this.directionBackwards&&(b=1-b);this.morphTargetInfluences[this.currentKeyframe]=b;this.morphTargetInfluences[this.lastKeyframe]=1-b};\nTHREE.MorphAnimMesh.prototype.interpolateTargets=function(a,b,c){for(var d=this.morphTargetInfluences,e=0,f=d.length;e<f;e++)d[e]=0;-1<a&&(d[a]=1-c);-1<b&&(d[b]=c)};\nTHREE.MorphAnimMesh.prototype.clone=function(a){void 0===a&&(a=new THREE.MorphAnimMesh(this.geometry,this.material));a.duration=this.duration;a.mirroredLoop=this.mirroredLoop;a.time=this.time;a.lastKeyframe=this.lastKeyframe;a.currentKeyframe=this.currentKeyframe;a.direction=this.direction;a.directionBackwards=this.directionBackwards;THREE.Mesh.prototype.clone.call(this,a);return a};THREE.LOD=function(){THREE.Object3D.call(this);this.objects=[]};THREE.LOD.prototype=Object.create(THREE.Object3D.prototype);\nTHREE.LOD.prototype.constructor=THREE.LOD;THREE.LOD.prototype.addLevel=function(a,b){void 0===b&&(b=0);b=Math.abs(b);for(var c=0;c<this.objects.length&&!(b<this.objects[c].distance);c++);this.objects.splice(c,0,{distance:b,object:a});this.add(a)};THREE.LOD.prototype.getObjectForDistance=function(a){for(var b=1,c=this.objects.length;b<c&&!(a<this.objects[b].distance);b++);return this.objects[b-1].object};\nTHREE.LOD.prototype.raycast=function(){var a=new THREE.Vector3;return function(b,c){a.setFromMatrixPosition(this.matrixWorld);var d=b.ray.origin.distanceTo(a);this.getObjectForDistance(d).raycast(b,c)}}();\nTHREE.LOD.prototype.update=function(){var a=new THREE.Vector3,b=new THREE.Vector3;return function(c){if(1<this.objects.length){a.setFromMatrixPosition(c.matrixWorld);b.setFromMatrixPosition(this.matrixWorld);c=a.distanceTo(b);this.objects[0].object.visible=!0;for(var d=1,e=this.objects.length;d<e;d++)if(c>=this.objects[d].distance)this.objects[d-1].object.visible=!1,this.objects[d].object.visible=!0;else break;for(;d<e;d++)this.objects[d].object.visible=!1}}}();\nTHREE.LOD.prototype.clone=function(a){void 0===a&&(a=new THREE.LOD);THREE.Object3D.prototype.clone.call(this,a);for(var b=0,c=this.objects.length;b<c;b++){var d=this.objects[b].object.clone();d.visible=0===b;a.addLevel(d,this.objects[b].distance)}return a};\nTHREE.Sprite=function(){var a=new Uint16Array([0,1,2,0,2,3]),b=new Float32Array([-.5,-.5,0,.5,-.5,0,.5,.5,0,-.5,.5,0]),c=new Float32Array([0,0,1,0,1,1,0,1]),d=new THREE.BufferGeometry;d.addAttribute(\"index\",new THREE.BufferAttribute(a,1));d.addAttribute(\"position\",new THREE.BufferAttribute(b,3));d.addAttribute(\"uv\",new THREE.BufferAttribute(c,2));return function(a){THREE.Object3D.call(this);this.type=\"Sprite\";this.geometry=d;this.material=void 0!==a?a:new THREE.SpriteMaterial}}();\nTHREE.Sprite.prototype=Object.create(THREE.Object3D.prototype);THREE.Sprite.prototype.constructor=THREE.Sprite;THREE.Sprite.prototype.raycast=function(){var a=new THREE.Vector3;return function(b,c){a.setFromMatrixPosition(this.matrixWorld);var d=b.ray.distanceToPoint(a);d>this.scale.x||c.push({distance:d,point:this.position,face:null,object:this})}}();THREE.Sprite.prototype.clone=function(a){void 0===a&&(a=new THREE.Sprite(this.material));THREE.Object3D.prototype.clone.call(this,a);return a};\nTHREE.Particle=THREE.Sprite;THREE.LensFlare=function(a,b,c,d,e){THREE.Object3D.call(this);this.lensFlares=[];this.positionScreen=new THREE.Vector3;this.customUpdateCallback=void 0;void 0!==a&&this.add(a,b,c,d,e)};THREE.LensFlare.prototype=Object.create(THREE.Object3D.prototype);THREE.LensFlare.prototype.constructor=THREE.LensFlare;\nTHREE.LensFlare.prototype.add=function(a,b,c,d,e,f){void 0===b&&(b=-1);void 0===c&&(c=0);void 0===f&&(f=1);void 0===e&&(e=new THREE.Color(16777215));void 0===d&&(d=THREE.NormalBlending);c=Math.min(c,Math.max(0,c));this.lensFlares.push({texture:a,size:b,distance:c,x:0,y:0,z:0,scale:1,rotation:1,opacity:f,color:e,blending:d})};\nTHREE.LensFlare.prototype.updateLensFlares=function(){var a,b=this.lensFlares.length,c,d=2*-this.positionScreen.x,e=2*-this.positionScreen.y;for(a=0;a<b;a++)c=this.lensFlares[a],c.x=this.positionScreen.x+d*c.distance,c.y=this.positionScreen.y+e*c.distance,c.wantedRotation=c.x*Math.PI*.25,c.rotation+=.25*(c.wantedRotation-c.rotation)};THREE.Scene=function(){THREE.Object3D.call(this);this.type=\"Scene\";this.overrideMaterial=this.fog=null;this.autoUpdate=!0};THREE.Scene.prototype=Object.create(THREE.Object3D.prototype);\nTHREE.Scene.prototype.constructor=THREE.Scene;THREE.Scene.prototype.clone=function(a){void 0===a&&(a=new THREE.Scene);THREE.Object3D.prototype.clone.call(this,a);null!==this.fog&&(a.fog=this.fog.clone());null!==this.overrideMaterial&&(a.overrideMaterial=this.overrideMaterial.clone());a.autoUpdate=this.autoUpdate;a.matrixAutoUpdate=this.matrixAutoUpdate;return a};THREE.Fog=function(a,b,c){this.name=\"\";this.color=new THREE.Color(a);this.near=void 0!==b?b:1;this.far=void 0!==c?c:1E3};\nTHREE.Fog.prototype.clone=function(){return new THREE.Fog(this.color.getHex(),this.near,this.far)};THREE.FogExp2=function(a,b){this.name=\"\";this.color=new THREE.Color(a);this.density=void 0!==b?b:2.5E-4};THREE.FogExp2.prototype.clone=function(){return new THREE.FogExp2(this.color.getHex(),this.density)};THREE.ShaderChunk={};THREE.ShaderChunk.common=\"#define PI 3.14159\\n#define PI2 6.28318\\n#define RECIPROCAL_PI2 0.15915494\\n#define LOG2 1.442695\\n#define EPSILON 1e-6\\n\\nfloat square( in float a ) { return a*a; }\\nvec2  square( in vec2 a )  { return vec2( a.x*a.x, a.y*a.y ); }\\nvec3  square( in vec3 a )  { return vec3( a.x*a.x, a.y*a.y, a.z*a.z ); }\\nvec4  square( in vec4 a )  { return vec4( a.x*a.x, a.y*a.y, a.z*a.z, a.w*a.w ); }\\nfloat saturate( in float a ) { return clamp( a, 0.0, 1.0 ); }\\nvec2  saturate( in vec2 a )  { return clamp( a, 0.0, 1.0 ); }\\nvec3  saturate( in vec3 a )  { return clamp( a, 0.0, 1.0 ); }\\nvec4  saturate( in vec4 a )  { return clamp( a, 0.0, 1.0 ); }\\nfloat average( in float a ) { return a; }\\nfloat average( in vec2 a )  { return ( a.x + a.y) * 0.5; }\\nfloat average( in vec3 a )  { return ( a.x + a.y + a.z) / 3.0; }\\nfloat average( in vec4 a )  { return ( a.x + a.y + a.z + a.w) * 0.25; }\\nfloat whiteCompliment( in float a ) { return saturate( 1.0 - a ); }\\nvec2  whiteCompliment( in vec2 a )  { return saturate( vec2(1.0) - a ); }\\nvec3  whiteCompliment( in vec3 a )  { return saturate( vec3(1.0) - a ); }\\nvec4  whiteCompliment( in vec4 a )  { return saturate( vec4(1.0) - a ); }\\nvec3 transformDirection( in vec3 normal, in mat4 matrix ) {\\n\\treturn normalize( ( matrix * vec4( normal, 0.0 ) ).xyz );\\n}\\n// http://en.wikibooks.org/wiki/GLSL_Programming/Applying_Matrix_Transformations\\nvec3 inverseTransformDirection( in vec3 normal, in mat4 matrix ) {\\n\\treturn normalize( ( vec4( normal, 0.0 ) * matrix ).xyz );\\n}\\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal) {\\n\\tfloat distance = dot( planeNormal, point-pointOnPlane );\\n\\treturn point - distance * planeNormal;\\n}\\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn sign( dot( point - pointOnPlane, planeNormal ) );\\n}\\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn pointOnLine + lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) );\\n}\\nfloat calcLightAttenuation( float lightDistance, float cutoffDistance, float decayExponent ) {\\n\\tif ( decayExponent > 0.0 ) {\\n\\t  return pow( saturate( 1.0 - lightDistance / cutoffDistance ), decayExponent );\\n\\t}\\n\\treturn 1.0;\\n}\\n\\nvec3 inputToLinear( in vec3 a ) {\\n#ifdef GAMMA_INPUT\\n\\treturn pow( a, vec3( float( GAMMA_FACTOR ) ) );\\n#else\\n\\treturn a;\\n#endif\\n}\\nvec3 linearToOutput( in vec3 a ) {\\n#ifdef GAMMA_OUTPUT\\n\\treturn pow( a, vec3( 1.0 / float( GAMMA_FACTOR ) ) );\\n#else\\n\\treturn a;\\n#endif\\n}\\n\";\nTHREE.ShaderChunk.alphatest_fragment=\"#ifdef ALPHATEST\\n\\n\\tif ( diffuseColor.a < ALPHATEST ) discard;\\n\\n#endif\\n\";THREE.ShaderChunk.lights_lambert_vertex=\"vLightFront = vec3( 0.0 );\\n\\n#ifdef DOUBLE_SIDED\\n\\n\\tvLightBack = vec3( 0.0 );\\n\\n#endif\\n\\ntransformedNormal = normalize( transformedNormal );\\n\\n#if MAX_DIR_LIGHTS > 0\\n\\nfor( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {\\n\\n\\tvec3 dirVector = transformDirection( directionalLightDirection[ i ], viewMatrix );\\n\\n\\tfloat dotProduct = dot( transformedNormal, dirVector );\\n\\tvec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );\\n\\n\\t#ifdef DOUBLE_SIDED\\n\\n\\t\\tvec3 directionalLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );\\n\\n\\t\\t#ifdef WRAP_AROUND\\n\\n\\t\\t\\tvec3 directionalLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );\\n\\n\\t\\t#endif\\n\\n\\t#endif\\n\\n\\t#ifdef WRAP_AROUND\\n\\n\\t\\tvec3 directionalLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );\\n\\t\\tdirectionalLightWeighting = mix( directionalLightWeighting, directionalLightWeightingHalf, wrapRGB );\\n\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\n\\t\\t\\tdirectionalLightWeightingBack = mix( directionalLightWeightingBack, directionalLightWeightingHalfBack, wrapRGB );\\n\\n\\t\\t#endif\\n\\n\\t#endif\\n\\n\\tvLightFront += directionalLightColor[ i ] * directionalLightWeighting;\\n\\n\\t#ifdef DOUBLE_SIDED\\n\\n\\t\\tvLightBack += directionalLightColor[ i ] * directionalLightWeightingBack;\\n\\n\\t#endif\\n\\n}\\n\\n#endif\\n\\n#if MAX_POINT_LIGHTS > 0\\n\\n\\tfor( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {\\n\\n\\t\\tvec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );\\n\\t\\tvec3 lVector = lPosition.xyz - mvPosition.xyz;\\n\\n\\t\\tfloat attenuation = calcLightAttenuation( length( lVector ), pointLightDistance[ i ], pointLightDecay[ i ] );\\n\\n\\t\\tlVector = normalize( lVector );\\n\\t\\tfloat dotProduct = dot( transformedNormal, lVector );\\n\\n\\t\\tvec3 pointLightWeighting = vec3( max( dotProduct, 0.0 ) );\\n\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\n\\t\\t\\tvec3 pointLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );\\n\\n\\t\\t\\t#ifdef WRAP_AROUND\\n\\n\\t\\t\\t\\tvec3 pointLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );\\n\\n\\t\\t\\t#endif\\n\\n\\t\\t#endif\\n\\n\\t\\t#ifdef WRAP_AROUND\\n\\n\\t\\t\\tvec3 pointLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );\\n\\t\\t\\tpointLightWeighting = mix( pointLightWeighting, pointLightWeightingHalf, wrapRGB );\\n\\n\\t\\t\\t#ifdef DOUBLE_SIDED\\n\\n\\t\\t\\t\\tpointLightWeightingBack = mix( pointLightWeightingBack, pointLightWeightingHalfBack, wrapRGB );\\n\\n\\t\\t\\t#endif\\n\\n\\t\\t#endif\\n\\n\\t\\tvLightFront += pointLightColor[ i ] * pointLightWeighting * attenuation;\\n\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\n\\t\\t\\tvLightBack += pointLightColor[ i ] * pointLightWeightingBack * attenuation;\\n\\n\\t\\t#endif\\n\\n\\t}\\n\\n#endif\\n\\n#if MAX_SPOT_LIGHTS > 0\\n\\n\\tfor( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {\\n\\n\\t\\tvec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );\\n\\t\\tvec3 lVector = lPosition.xyz - mvPosition.xyz;\\n\\n\\t\\tfloat spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - worldPosition.xyz ) );\\n\\n\\t\\tif ( spotEffect > spotLightAngleCos[ i ] ) {\\n\\n\\t\\t\\tspotEffect = max( pow( max( spotEffect, 0.0 ), spotLightExponent[ i ] ), 0.0 );\\n\\n\\t\\t\\tfloat attenuation = calcLightAttenuation( length( lVector ), spotLightDistance[ i ], spotLightDecay[ i ] );\\n\\n\\t\\t\\tlVector = normalize( lVector );\\n\\n\\t\\t\\tfloat dotProduct = dot( transformedNormal, lVector );\\n\\t\\t\\tvec3 spotLightWeighting = vec3( max( dotProduct, 0.0 ) );\\n\\n\\t\\t\\t#ifdef DOUBLE_SIDED\\n\\n\\t\\t\\t\\tvec3 spotLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );\\n\\n\\t\\t\\t\\t#ifdef WRAP_AROUND\\n\\n\\t\\t\\t\\t\\tvec3 spotLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );\\n\\n\\t\\t\\t\\t#endif\\n\\n\\t\\t\\t#endif\\n\\n\\t\\t\\t#ifdef WRAP_AROUND\\n\\n\\t\\t\\t\\tvec3 spotLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );\\n\\t\\t\\t\\tspotLightWeighting = mix( spotLightWeighting, spotLightWeightingHalf, wrapRGB );\\n\\n\\t\\t\\t\\t#ifdef DOUBLE_SIDED\\n\\n\\t\\t\\t\\t\\tspotLightWeightingBack = mix( spotLightWeightingBack, spotLightWeightingHalfBack, wrapRGB );\\n\\n\\t\\t\\t\\t#endif\\n\\n\\t\\t\\t#endif\\n\\n\\t\\t\\tvLightFront += spotLightColor[ i ] * spotLightWeighting * attenuation * spotEffect;\\n\\n\\t\\t\\t#ifdef DOUBLE_SIDED\\n\\n\\t\\t\\t\\tvLightBack += spotLightColor[ i ] * spotLightWeightingBack * attenuation * spotEffect;\\n\\n\\t\\t\\t#endif\\n\\n\\t\\t}\\n\\n\\t}\\n\\n#endif\\n\\n#if MAX_HEMI_LIGHTS > 0\\n\\n\\tfor( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {\\n\\n\\t\\tvec3 lVector = transformDirection( hemisphereLightDirection[ i ], viewMatrix );\\n\\n\\t\\tfloat dotProduct = dot( transformedNormal, lVector );\\n\\n\\t\\tfloat hemiDiffuseWeight = 0.5 * dotProduct + 0.5;\\n\\t\\tfloat hemiDiffuseWeightBack = -0.5 * dotProduct + 0.5;\\n\\n\\t\\tvLightFront += mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );\\n\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\n\\t\\t\\tvLightBack += mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeightBack );\\n\\n\\t\\t#endif\\n\\n\\t}\\n\\n#endif\\n\\nvLightFront += ambientLightColor;\\n\\n#ifdef DOUBLE_SIDED\\n\\n\\tvLightBack += ambientLightColor;\\n\\n#endif\\n\";\nTHREE.ShaderChunk.map_particle_pars_fragment=\"#ifdef USE_MAP\\n\\n\\tuniform vec4 offsetRepeat;\\n\\tuniform sampler2D map;\\n\\n#endif\\n\";THREE.ShaderChunk.default_vertex=\"#ifdef USE_SKINNING\\n\\n\\tvec4 mvPosition = modelViewMatrix * skinned;\\n\\n#elif defined( USE_MORPHTARGETS )\\n\\n\\tvec4 mvPosition = modelViewMatrix * vec4( morphed, 1.0 );\\n\\n#else\\n\\n\\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\\n\\n#endif\\n\\ngl_Position = projectionMatrix * mvPosition;\\n\";\nTHREE.ShaderChunk.map_pars_fragment=\"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP )\\n\\n\\tvarying vec2 vUv;\\n\\n#endif\\n\\n#ifdef USE_MAP\\n\\n\\tuniform sampler2D map;\\n\\n#endif\";THREE.ShaderChunk.skinnormal_vertex=\"#ifdef USE_SKINNING\\n\\n\\tmat4 skinMatrix = mat4( 0.0 );\\n\\tskinMatrix += skinWeight.x * boneMatX;\\n\\tskinMatrix += skinWeight.y * boneMatY;\\n\\tskinMatrix += skinWeight.z * boneMatZ;\\n\\tskinMatrix += skinWeight.w * boneMatW;\\n\\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\\n\\n\\t#ifdef USE_MORPHNORMALS\\n\\n\\tvec4 skinnedNormal = skinMatrix * vec4( morphedNormal, 0.0 );\\n\\n\\t#else\\n\\n\\tvec4 skinnedNormal = skinMatrix * vec4( normal, 0.0 );\\n\\n\\t#endif\\n\\n#endif\\n\";\nTHREE.ShaderChunk.logdepthbuf_pars_vertex=\"#ifdef USE_LOGDEPTHBUF\\n\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\n\\t\\tvarying float vFragDepth;\\n\\n\\t#endif\\n\\n\\tuniform float logDepthBufFC;\\n\\n#endif\";THREE.ShaderChunk.lightmap_pars_vertex=\"#ifdef USE_LIGHTMAP\\n\\n\\tvarying vec2 vUv2;\\n\\n#endif\";THREE.ShaderChunk.lights_phong_fragment=\"#ifndef FLAT_SHADED\\n\\n\\tvec3 normal = normalize( vNormal );\\n\\n\\t#ifdef DOUBLE_SIDED\\n\\n\\t\\tnormal = normal * ( -1.0 + 2.0 * float( gl_FrontFacing ) );\\n\\n\\t#endif\\n\\n#else\\n\\n\\tvec3 fdx = dFdx( vViewPosition );\\n\\tvec3 fdy = dFdy( vViewPosition );\\n\\tvec3 normal = normalize( cross( fdx, fdy ) );\\n\\n#endif\\n\\nvec3 viewPosition = normalize( vViewPosition );\\n\\n#ifdef USE_NORMALMAP\\n\\n\\tnormal = perturbNormal2Arb( -vViewPosition, normal );\\n\\n#elif defined( USE_BUMPMAP )\\n\\n\\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\\n\\n#endif\\n\\nvec3 totalDiffuseLight = vec3( 0.0 );\\nvec3 totalSpecularLight = vec3( 0.0 );\\n\\n#if MAX_POINT_LIGHTS > 0\\n\\n\\tfor ( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {\\n\\n\\t\\tvec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );\\n\\t\\tvec3 lVector = lPosition.xyz + vViewPosition.xyz;\\n\\n\\t\\tfloat attenuation = calcLightAttenuation( length( lVector ), pointLightDistance[ i ], pointLightDecay[ i ] );\\n\\n\\t\\tlVector = normalize( lVector );\\n\\n\\t\\t// diffuse\\n\\n\\t\\tfloat dotProduct = dot( normal, lVector );\\n\\n\\t\\t#ifdef WRAP_AROUND\\n\\n\\t\\t\\tfloat pointDiffuseWeightFull = max( dotProduct, 0.0 );\\n\\t\\t\\tfloat pointDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );\\n\\n\\t\\t\\tvec3 pointDiffuseWeight = mix( vec3( pointDiffuseWeightFull ), vec3( pointDiffuseWeightHalf ), wrapRGB );\\n\\n\\t\\t#else\\n\\n\\t\\t\\tfloat pointDiffuseWeight = max( dotProduct, 0.0 );\\n\\n\\t\\t#endif\\n\\n\\t\\ttotalDiffuseLight += pointLightColor[ i ] * pointDiffuseWeight * attenuation;\\n\\n\\t\\t\\t\\t// specular\\n\\n\\t\\tvec3 pointHalfVector = normalize( lVector + viewPosition );\\n\\t\\tfloat pointDotNormalHalf = max( dot( normal, pointHalfVector ), 0.0 );\\n\\t\\tfloat pointSpecularWeight = specularStrength * max( pow( pointDotNormalHalf, shininess ), 0.0 );\\n\\n\\t\\tfloat specularNormalization = ( shininess + 2.0 ) / 8.0;\\n\\n\\t\\tvec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVector, pointHalfVector ), 0.0 ), 5.0 );\\n\\t\\ttotalSpecularLight += schlick * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * attenuation * specularNormalization;\\n\\n\\t}\\n\\n#endif\\n\\n#if MAX_SPOT_LIGHTS > 0\\n\\n\\tfor ( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {\\n\\n\\t\\tvec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );\\n\\t\\tvec3 lVector = lPosition.xyz + vViewPosition.xyz;\\n\\n\\t\\tfloat attenuation = calcLightAttenuation( length( lVector ), spotLightDistance[ i ], spotLightDecay[ i ] );\\n\\n\\t\\tlVector = normalize( lVector );\\n\\n\\t\\tfloat spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - vWorldPosition ) );\\n\\n\\t\\tif ( spotEffect > spotLightAngleCos[ i ] ) {\\n\\n\\t\\t\\tspotEffect = max( pow( max( spotEffect, 0.0 ), spotLightExponent[ i ] ), 0.0 );\\n\\n\\t\\t\\t// diffuse\\n\\n\\t\\t\\tfloat dotProduct = dot( normal, lVector );\\n\\n\\t\\t\\t#ifdef WRAP_AROUND\\n\\n\\t\\t\\t\\tfloat spotDiffuseWeightFull = max( dotProduct, 0.0 );\\n\\t\\t\\t\\tfloat spotDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );\\n\\n\\t\\t\\t\\tvec3 spotDiffuseWeight = mix( vec3( spotDiffuseWeightFull ), vec3( spotDiffuseWeightHalf ), wrapRGB );\\n\\n\\t\\t\\t#else\\n\\n\\t\\t\\t\\tfloat spotDiffuseWeight = max( dotProduct, 0.0 );\\n\\n\\t\\t\\t#endif\\n\\n\\t\\t\\ttotalDiffuseLight += spotLightColor[ i ] * spotDiffuseWeight * attenuation * spotEffect;\\n\\n\\t\\t\\t// specular\\n\\n\\t\\t\\tvec3 spotHalfVector = normalize( lVector + viewPosition );\\n\\t\\t\\tfloat spotDotNormalHalf = max( dot( normal, spotHalfVector ), 0.0 );\\n\\t\\t\\tfloat spotSpecularWeight = specularStrength * max( pow( spotDotNormalHalf, shininess ), 0.0 );\\n\\n\\t\\t\\tfloat specularNormalization = ( shininess + 2.0 ) / 8.0;\\n\\n\\t\\t\\tvec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVector, spotHalfVector ), 0.0 ), 5.0 );\\n\\t\\t\\ttotalSpecularLight += schlick * spotLightColor[ i ] * spotSpecularWeight * spotDiffuseWeight * attenuation * specularNormalization * spotEffect;\\n\\n\\t\\t}\\n\\n\\t}\\n\\n#endif\\n\\n#if MAX_DIR_LIGHTS > 0\\n\\n\\tfor( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {\\n\\n\\t\\tvec3 dirVector = transformDirection( directionalLightDirection[ i ], viewMatrix );\\n\\n\\t\\t// diffuse\\n\\n\\t\\tfloat dotProduct = dot( normal, dirVector );\\n\\n\\t\\t#ifdef WRAP_AROUND\\n\\n\\t\\t\\tfloat dirDiffuseWeightFull = max( dotProduct, 0.0 );\\n\\t\\t\\tfloat dirDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );\\n\\n\\t\\t\\tvec3 dirDiffuseWeight = mix( vec3( dirDiffuseWeightFull ), vec3( dirDiffuseWeightHalf ), wrapRGB );\\n\\n\\t\\t#else\\n\\n\\t\\t\\tfloat dirDiffuseWeight = max( dotProduct, 0.0 );\\n\\n\\t\\t#endif\\n\\n\\t\\ttotalDiffuseLight += directionalLightColor[ i ] * dirDiffuseWeight;\\n\\n\\t\\t// specular\\n\\n\\t\\tvec3 dirHalfVector = normalize( dirVector + viewPosition );\\n\\t\\tfloat dirDotNormalHalf = max( dot( normal, dirHalfVector ), 0.0 );\\n\\t\\tfloat dirSpecularWeight = specularStrength * max( pow( dirDotNormalHalf, shininess ), 0.0 );\\n\\n\\t\\t/*\\n\\t\\t// fresnel term from skin shader\\n\\t\\tconst float F0 = 0.128;\\n\\n\\t\\tfloat base = 1.0 - dot( viewPosition, dirHalfVector );\\n\\t\\tfloat exponential = pow( base, 5.0 );\\n\\n\\t\\tfloat fresnel = exponential + F0 * ( 1.0 - exponential );\\n\\t\\t*/\\n\\n\\t\\t/*\\n\\t\\t// fresnel term from fresnel shader\\n\\t\\tconst float mFresnelBias = 0.08;\\n\\t\\tconst float mFresnelScale = 0.3;\\n\\t\\tconst float mFresnelPower = 5.0;\\n\\n\\t\\tfloat fresnel = mFresnelBias + mFresnelScale * pow( 1.0 + dot( normalize( -viewPosition ), normal ), mFresnelPower );\\n\\t\\t*/\\n\\n\\t\\tfloat specularNormalization = ( shininess + 2.0 ) / 8.0;\\n\\n\\t\\t// \\t\\tdirSpecular += specular * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization * fresnel;\\n\\n\\t\\tvec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( dirVector, dirHalfVector ), 0.0 ), 5.0 );\\n\\t\\ttotalSpecularLight += schlick * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization;\\n\\n\\n\\t}\\n\\n#endif\\n\\n#if MAX_HEMI_LIGHTS > 0\\n\\n\\tfor( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {\\n\\n\\t\\tvec3 lVector = transformDirection( hemisphereLightDirection[ i ], viewMatrix );\\n\\n\\t\\t// diffuse\\n\\n\\t\\tfloat dotProduct = dot( normal, lVector );\\n\\t\\tfloat hemiDiffuseWeight = 0.5 * dotProduct + 0.5;\\n\\n\\t\\tvec3 hemiColor = mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );\\n\\n\\t\\ttotalDiffuseLight += hemiColor;\\n\\n\\t\\t// specular (sky light)\\n\\n\\t\\tvec3 hemiHalfVectorSky = normalize( lVector + viewPosition );\\n\\t\\tfloat hemiDotNormalHalfSky = 0.5 * dot( normal, hemiHalfVectorSky ) + 0.5;\\n\\t\\tfloat hemiSpecularWeightSky = specularStrength * max( pow( max( hemiDotNormalHalfSky, 0.0 ), shininess ), 0.0 );\\n\\n\\t\\t// specular (ground light)\\n\\n\\t\\tvec3 lVectorGround = -lVector;\\n\\n\\t\\tvec3 hemiHalfVectorGround = normalize( lVectorGround + viewPosition );\\n\\t\\tfloat hemiDotNormalHalfGround = 0.5 * dot( normal, hemiHalfVectorGround ) + 0.5;\\n\\t\\tfloat hemiSpecularWeightGround = specularStrength * max( pow( max( hemiDotNormalHalfGround, 0.0 ), shininess ), 0.0 );\\n\\n\\t\\tfloat dotProductGround = dot( normal, lVectorGround );\\n\\n\\t\\tfloat specularNormalization = ( shininess + 2.0 ) / 8.0;\\n\\n\\t\\tvec3 schlickSky = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVector, hemiHalfVectorSky ), 0.0 ), 5.0 );\\n\\t\\tvec3 schlickGround = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVectorGround, hemiHalfVectorGround ), 0.0 ), 5.0 );\\n\\t\\ttotalSpecularLight += hemiColor * specularNormalization * ( schlickSky * hemiSpecularWeightSky * max( dotProduct, 0.0 ) + schlickGround * hemiSpecularWeightGround * max( dotProductGround, 0.0 ) );\\n\\n\\t}\\n\\n#endif\\n\\n#ifdef METAL\\n\\n\\toutgoingLight += diffuseColor.rgb * ( totalDiffuseLight + ambientLightColor ) * specular + totalSpecularLight + emissive;\\n\\n#else\\n\\n\\toutgoingLight += diffuseColor.rgb * ( totalDiffuseLight + ambientLightColor ) + totalSpecularLight + emissive;\\n\\n#endif\\n\";\nTHREE.ShaderChunk.fog_pars_fragment=\"#ifdef USE_FOG\\n\\n\\tuniform vec3 fogColor;\\n\\n\\t#ifdef FOG_EXP2\\n\\n\\t\\tuniform float fogDensity;\\n\\n\\t#else\\n\\n\\t\\tuniform float fogNear;\\n\\t\\tuniform float fogFar;\\n\\t#endif\\n\\n#endif\";THREE.ShaderChunk.morphnormal_vertex=\"#ifdef USE_MORPHNORMALS\\n\\n\\tvec3 morphedNormal = vec3( 0.0 );\\n\\n\\tmorphedNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\\n\\tmorphedNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\\n\\tmorphedNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\\n\\tmorphedNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\\n\\n\\tmorphedNormal += normal;\\n\\n#endif\";\nTHREE.ShaderChunk.envmap_pars_fragment=\"#ifdef USE_ENVMAP\\n\\n\\tuniform float reflectivity;\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tuniform samplerCube envMap;\\n\\t#else\\n\\t\\tuniform sampler2D envMap;\\n\\t#endif\\n\\tuniform float flipEnvMap;\\n\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\n\\t\\tuniform float refractionRatio;\\n\\n\\t#else\\n\\n\\t\\tvarying vec3 vReflect;\\n\\n\\t#endif\\n\\n#endif\\n\";THREE.ShaderChunk.logdepthbuf_fragment=\"#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\\n\\n\\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\\n\\n#endif\";\nTHREE.ShaderChunk.normalmap_pars_fragment=\"#ifdef USE_NORMALMAP\\n\\n\\tuniform sampler2D normalMap;\\n\\tuniform vec2 normalScale;\\n\\n\\t// Per-Pixel Tangent Space Normal Mapping\\n\\t// http://hacksoflife.blogspot.ch/2009/11/per-pixel-tangent-space-normal-mapping.html\\n\\n\\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\\n\\n\\t\\tvec3 q0 = dFdx( eye_pos.xyz );\\n\\t\\tvec3 q1 = dFdy( eye_pos.xyz );\\n\\t\\tvec2 st0 = dFdx( vUv.st );\\n\\t\\tvec2 st1 = dFdy( vUv.st );\\n\\n\\t\\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\\n\\t\\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\\n\\t\\tvec3 N = normalize( surf_norm );\\n\\n\\t\\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\t\\tmapN.xy = normalScale * mapN.xy;\\n\\t\\tmat3 tsn = mat3( S, T, N );\\n\\t\\treturn normalize( tsn * mapN );\\n\\n\\t}\\n\\n#endif\\n\";\nTHREE.ShaderChunk.lights_phong_pars_vertex=\"#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP ) || defined( USE_ENVMAP )\\n\\n\\tvarying vec3 vWorldPosition;\\n\\n#endif\\n\";THREE.ShaderChunk.lightmap_pars_fragment=\"#ifdef USE_LIGHTMAP\\n\\n\\tvarying vec2 vUv2;\\n\\tuniform sampler2D lightMap;\\n\\n#endif\";THREE.ShaderChunk.shadowmap_vertex=\"#ifdef USE_SHADOWMAP\\n\\n\\tfor( int i = 0; i < MAX_SHADOWS; i ++ ) {\\n\\n\\t\\tvShadowCoord[ i ] = shadowMatrix[ i ] * worldPosition;\\n\\n\\t}\\n\\n#endif\";\nTHREE.ShaderChunk.lights_phong_vertex=\"#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP ) || defined( USE_ENVMAP )\\n\\n\\tvWorldPosition = worldPosition.xyz;\\n\\n#endif\";THREE.ShaderChunk.map_fragment=\"#ifdef USE_MAP\\n\\n\\tvec4 texelColor = texture2D( map, vUv );\\n\\n\\ttexelColor.xyz = inputToLinear( texelColor.xyz );\\n\\n\\tdiffuseColor *= texelColor;\\n\\n#endif\";THREE.ShaderChunk.lightmap_vertex=\"#ifdef USE_LIGHTMAP\\n\\n\\tvUv2 = uv2;\\n\\n#endif\";THREE.ShaderChunk.map_particle_fragment=\"#ifdef USE_MAP\\n\\n\\tdiffuseColor *= texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\\n\\n#endif\\n\";\nTHREE.ShaderChunk.color_pars_fragment=\"#ifdef USE_COLOR\\n\\n\\tvarying vec3 vColor;\\n\\n#endif\\n\";THREE.ShaderChunk.color_vertex=\"#ifdef USE_COLOR\\n\\n\\tvColor.xyz = inputToLinear( color.xyz );\\n\\n#endif\";THREE.ShaderChunk.skinning_vertex=\"#ifdef USE_SKINNING\\n\\n\\t#ifdef USE_MORPHTARGETS\\n\\n\\tvec4 skinVertex = bindMatrix * vec4( morphed, 1.0 );\\n\\n\\t#else\\n\\n\\tvec4 skinVertex = bindMatrix * vec4( position, 1.0 );\\n\\n\\t#endif\\n\\n\\tvec4 skinned = vec4( 0.0 );\\n\\tskinned += boneMatX * skinVertex * skinWeight.x;\\n\\tskinned += boneMatY * skinVertex * skinWeight.y;\\n\\tskinned += boneMatZ * skinVertex * skinWeight.z;\\n\\tskinned += boneMatW * skinVertex * skinWeight.w;\\n\\tskinned  = bindMatrixInverse * skinned;\\n\\n#endif\\n\";\nTHREE.ShaderChunk.envmap_pars_vertex=\"#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP ) && ! defined( PHONG )\\n\\n\\tvarying vec3 vReflect;\\n\\n\\tuniform float refractionRatio;\\n\\n#endif\\n\";THREE.ShaderChunk.linear_to_gamma_fragment=\"\\n\\toutgoingLight = linearToOutput( outgoingLight );\\n\";THREE.ShaderChunk.color_pars_vertex=\"#ifdef USE_COLOR\\n\\n\\tvarying vec3 vColor;\\n\\n#endif\";THREE.ShaderChunk.lights_lambert_pars_vertex=\"uniform vec3 ambientLightColor;\\n\\n#if MAX_DIR_LIGHTS > 0\\n\\n\\tuniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];\\n\\tuniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];\\n\\n#endif\\n\\n#if MAX_HEMI_LIGHTS > 0\\n\\n\\tuniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];\\n\\tuniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];\\n\\tuniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];\\n\\n#endif\\n\\n#if MAX_POINT_LIGHTS > 0\\n\\n\\tuniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];\\n\\tuniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];\\n\\tuniform float pointLightDistance[ MAX_POINT_LIGHTS ];\\n\\tuniform float pointLightDecay[ MAX_POINT_LIGHTS ];\\n\\n#endif\\n\\n#if MAX_SPOT_LIGHTS > 0\\n\\n\\tuniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];\\n\\tuniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];\\n\\tuniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];\\n\\tuniform float spotLightDistance[ MAX_SPOT_LIGHTS ];\\n\\tuniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];\\n\\tuniform float spotLightExponent[ MAX_SPOT_LIGHTS ];\\n\\tuniform float spotLightDecay[ MAX_SPOT_LIGHTS ];\\n\\n#endif\\n\\n#ifdef WRAP_AROUND\\n\\n\\tuniform vec3 wrapRGB;\\n\\n#endif\\n\";\nTHREE.ShaderChunk.map_pars_vertex=\"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP )\\n\\n\\tvarying vec2 vUv;\\n\\tuniform vec4 offsetRepeat;\\n\\n#endif\\n\";THREE.ShaderChunk.envmap_fragment=\"#ifdef USE_ENVMAP\\n\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\n\\t\\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\\n\\n\\t\\t// Transforming Normal Vectors with the Inverse Transformation\\n\\t\\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\n\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\n\\t\\t\\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\\n\\n\\t\\t#else\\n\\n\\t\\t\\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\n\\t\\t#endif\\n\\n\\t#else\\n\\n\\t\\tvec3 reflectVec = vReflect;\\n\\n\\t#endif\\n\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tfloat flipNormal = ( -1.0 + 2.0 * float( gl_FrontFacing ) );\\n\\t#else\\n\\t\\tfloat flipNormal = 1.0;\\n\\t#endif\\n\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tvec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\\n\\n\\t#elif defined( ENVMAP_TYPE_EQUIREC )\\n\\t\\tvec2 sampleUV;\\n\\t\\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\\n\\t\\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\\n\\t\\tvec4 envColor = texture2D( envMap, sampleUV );\\n\\n\\t#elif defined( ENVMAP_TYPE_SPHERE )\\n\\t\\tvec3 reflectView = flipNormal * normalize((viewMatrix * vec4( reflectVec, 0.0 )).xyz + vec3(0.0,0.0,1.0));\\n\\t\\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\\n\\t#endif\\n\\n\\tenvColor.xyz = inputToLinear( envColor.xyz );\\n\\n\\t#ifdef ENVMAP_BLENDING_MULTIPLY\\n\\n\\t\\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\\n\\n\\t#elif defined( ENVMAP_BLENDING_MIX )\\n\\n\\t\\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\\n\\n\\t#elif defined( ENVMAP_BLENDING_ADD )\\n\\n\\t\\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\\n\\n\\t#endif\\n\\n#endif\\n\";\nTHREE.ShaderChunk.specularmap_pars_fragment=\"#ifdef USE_SPECULARMAP\\n\\n\\tuniform sampler2D specularMap;\\n\\n#endif\";THREE.ShaderChunk.logdepthbuf_vertex=\"#ifdef USE_LOGDEPTHBUF\\n\\n\\tgl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\\n\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\n\\t\\tvFragDepth = 1.0 + gl_Position.w;\\n\\n#else\\n\\n\\t\\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\\n\\n\\t#endif\\n\\n#endif\";THREE.ShaderChunk.morphtarget_pars_vertex=\"#ifdef USE_MORPHTARGETS\\n\\n\\t#ifndef USE_MORPHNORMALS\\n\\n\\tuniform float morphTargetInfluences[ 8 ];\\n\\n\\t#else\\n\\n\\tuniform float morphTargetInfluences[ 4 ];\\n\\n\\t#endif\\n\\n#endif\";\nTHREE.ShaderChunk.specularmap_fragment=\"float specularStrength;\\n\\n#ifdef USE_SPECULARMAP\\n\\n\\tvec4 texelSpecular = texture2D( specularMap, vUv );\\n\\tspecularStrength = texelSpecular.r;\\n\\n#else\\n\\n\\tspecularStrength = 1.0;\\n\\n#endif\";THREE.ShaderChunk.fog_fragment=\"#ifdef USE_FOG\\n\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\n\\t\\tfloat depth = gl_FragDepthEXT / gl_FragCoord.w;\\n\\n\\t#else\\n\\n\\t\\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;\\n\\n\\t#endif\\n\\n\\t#ifdef FOG_EXP2\\n\\n\\t\\tfloat fogFactor = exp2( - square( fogDensity ) * square( depth ) * LOG2 );\\n\\t\\tfogFactor = whiteCompliment( fogFactor );\\n\\n\\t#else\\n\\n\\t\\tfloat fogFactor = smoothstep( fogNear, fogFar, depth );\\n\\n\\t#endif\\n\\t\\n\\toutgoingLight = mix( outgoingLight, fogColor, fogFactor );\\n\\n#endif\";\nTHREE.ShaderChunk.bumpmap_pars_fragment=\"#ifdef USE_BUMPMAP\\n\\n\\tuniform sampler2D bumpMap;\\n\\tuniform float bumpScale;\\n\\n\\t// Derivative maps - bump mapping unparametrized surfaces by Morten Mikkelsen\\n\\t// http://mmikkelsen3d.blogspot.sk/2011/07/derivative-maps.html\\n\\n\\t// Evaluate the derivative of the height w.r.t. screen-space using forward differencing (listing 2)\\n\\n\\tvec2 dHdxy_fwd() {\\n\\n\\t\\tvec2 dSTdx = dFdx( vUv );\\n\\t\\tvec2 dSTdy = dFdy( vUv );\\n\\n\\t\\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\\n\\t\\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\\n\\t\\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\\n\\n\\t\\treturn vec2( dBx, dBy );\\n\\n\\t}\\n\\n\\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\\n\\n\\t\\tvec3 vSigmaX = dFdx( surf_pos );\\n\\t\\tvec3 vSigmaY = dFdy( surf_pos );\\n\\t\\tvec3 vN = surf_norm;\\t\\t// normalized\\n\\n\\t\\tvec3 R1 = cross( vSigmaY, vN );\\n\\t\\tvec3 R2 = cross( vN, vSigmaX );\\n\\n\\t\\tfloat fDet = dot( vSigmaX, R1 );\\n\\n\\t\\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\\n\\t\\treturn normalize( abs( fDet ) * surf_norm - vGrad );\\n\\n\\t}\\n\\n#endif\\n\";\nTHREE.ShaderChunk.defaultnormal_vertex=\"#ifdef USE_SKINNING\\n\\n\\tvec3 objectNormal = skinnedNormal.xyz;\\n\\n#elif defined( USE_MORPHNORMALS )\\n\\n\\tvec3 objectNormal = morphedNormal;\\n\\n#else\\n\\n\\tvec3 objectNormal = normal;\\n\\n#endif\\n\\n#ifdef FLIP_SIDED\\n\\n\\tobjectNormal = -objectNormal;\\n\\n#endif\\n\\nvec3 transformedNormal = normalMatrix * objectNormal;\\n\";THREE.ShaderChunk.lights_phong_pars_fragment=\"uniform vec3 ambientLightColor;\\n\\n#if MAX_DIR_LIGHTS > 0\\n\\n\\tuniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];\\n\\tuniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];\\n\\n#endif\\n\\n#if MAX_HEMI_LIGHTS > 0\\n\\n\\tuniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];\\n\\tuniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];\\n\\tuniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];\\n\\n#endif\\n\\n#if MAX_POINT_LIGHTS > 0\\n\\n\\tuniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];\\n\\n\\tuniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];\\n\\tuniform float pointLightDistance[ MAX_POINT_LIGHTS ];\\n\\tuniform float pointLightDecay[ MAX_POINT_LIGHTS ];\\n\\n#endif\\n\\n#if MAX_SPOT_LIGHTS > 0\\n\\n\\tuniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];\\n\\tuniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];\\n\\tuniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];\\n\\tuniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];\\n\\tuniform float spotLightExponent[ MAX_SPOT_LIGHTS ];\\n\\tuniform float spotLightDistance[ MAX_SPOT_LIGHTS ];\\n\\tuniform float spotLightDecay[ MAX_SPOT_LIGHTS ];\\n\\n#endif\\n\\n#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP ) || defined( USE_ENVMAP )\\n\\n\\tvarying vec3 vWorldPosition;\\n\\n#endif\\n\\n#ifdef WRAP_AROUND\\n\\n\\tuniform vec3 wrapRGB;\\n\\n#endif\\n\\nvarying vec3 vViewPosition;\\n\\n#ifndef FLAT_SHADED\\n\\n\\tvarying vec3 vNormal;\\n\\n#endif\\n\";\nTHREE.ShaderChunk.skinbase_vertex=\"#ifdef USE_SKINNING\\n\\n\\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\\n\\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\\n\\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\\n\\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\\n\\n#endif\";THREE.ShaderChunk.map_vertex=\"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP )\\n\\n\\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\\n\\n#endif\";\nTHREE.ShaderChunk.lightmap_fragment=\"#ifdef USE_LIGHTMAP\\n\\n\\toutgoingLight *= diffuseColor.xyz * texture2D( lightMap, vUv2 ).xyz;\\n\\n#endif\";THREE.ShaderChunk.shadowmap_pars_vertex=\"#ifdef USE_SHADOWMAP\\n\\n\\tvarying vec4 vShadowCoord[ MAX_SHADOWS ];\\n\\tuniform mat4 shadowMatrix[ MAX_SHADOWS ];\\n\\n#endif\";THREE.ShaderChunk.color_fragment=\"#ifdef USE_COLOR\\n\\n\\tdiffuseColor.rgb *= vColor;\\n\\n#endif\";THREE.ShaderChunk.morphtarget_vertex=\"#ifdef USE_MORPHTARGETS\\n\\n\\tvec3 morphed = vec3( 0.0 );\\n\\tmorphed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\\n\\tmorphed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\\n\\tmorphed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\\n\\tmorphed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\\n\\n\\t#ifndef USE_MORPHNORMALS\\n\\n\\tmorphed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\\n\\tmorphed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\\n\\tmorphed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\\n\\tmorphed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\\n\\n\\t#endif\\n\\n\\tmorphed += position;\\n\\n#endif\";\nTHREE.ShaderChunk.envmap_vertex=\"#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP ) && ! defined( PHONG )\\n\\n\\tvec3 worldNormal = transformDirection( objectNormal, modelMatrix );\\n\\n\\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\\n\\n\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\n\\t\\tvReflect = reflect( cameraToVertex, worldNormal );\\n\\n\\t#else\\n\\n\\t\\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\n\\t#endif\\n\\n#endif\\n\";\nTHREE.ShaderChunk.shadowmap_fragment=\"#ifdef USE_SHADOWMAP\\n\\n\\t#ifdef SHADOWMAP_DEBUG\\n\\n\\t\\tvec3 frustumColors[3];\\n\\t\\tfrustumColors[0] = vec3( 1.0, 0.5, 0.0 );\\n\\t\\tfrustumColors[1] = vec3( 0.0, 1.0, 0.8 );\\n\\t\\tfrustumColors[2] = vec3( 0.0, 0.5, 1.0 );\\n\\n\\t#endif\\n\\n\\t#ifdef SHADOWMAP_CASCADE\\n\\n\\t\\tint inFrustumCount = 0;\\n\\n\\t#endif\\n\\n\\tfloat fDepth;\\n\\tvec3 shadowColor = vec3( 1.0 );\\n\\n\\tfor( int i = 0; i < MAX_SHADOWS; i ++ ) {\\n\\n\\t\\tvec3 shadowCoord = vShadowCoord[ i ].xyz / vShadowCoord[ i ].w;\\n\\n\\t\\t\\t\\t// if ( something && something ) breaks ATI OpenGL shader compiler\\n\\t\\t\\t\\t// if ( all( something, something ) ) using this instead\\n\\n\\t\\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\\n\\t\\tbool inFrustum = all( inFrustumVec );\\n\\n\\t\\t\\t\\t// don't shadow pixels outside of light frustum\\n\\t\\t\\t\\t// use just first frustum (for cascades)\\n\\t\\t\\t\\t// don't shadow pixels behind far plane of light frustum\\n\\n\\t\\t#ifdef SHADOWMAP_CASCADE\\n\\n\\t\\t\\tinFrustumCount += int( inFrustum );\\n\\t\\t\\tbvec3 frustumTestVec = bvec3( inFrustum, inFrustumCount == 1, shadowCoord.z <= 1.0 );\\n\\n\\t\\t#else\\n\\n\\t\\t\\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\\n\\n\\t\\t#endif\\n\\n\\t\\tbool frustumTest = all( frustumTestVec );\\n\\n\\t\\tif ( frustumTest ) {\\n\\n\\t\\t\\tshadowCoord.z += shadowBias[ i ];\\n\\n\\t\\t\\t#if defined( SHADOWMAP_TYPE_PCF )\\n\\n\\t\\t\\t\\t\\t\\t// Percentage-close filtering\\n\\t\\t\\t\\t\\t\\t// (9 pixel kernel)\\n\\t\\t\\t\\t\\t\\t// http://fabiensanglard.net/shadowmappingPCF/\\n\\n\\t\\t\\t\\tfloat shadow = 0.0;\\n\\n\\t\\t/*\\n\\t\\t\\t\\t\\t\\t// nested loops breaks shader compiler / validator on some ATI cards when using OpenGL\\n\\t\\t\\t\\t\\t\\t// must enroll loop manually\\n\\n\\t\\t\\t\\tfor ( float y = -1.25; y <= 1.25; y += 1.25 )\\n\\t\\t\\t\\t\\tfor ( float x = -1.25; x <= 1.25; x += 1.25 ) {\\n\\n\\t\\t\\t\\t\\t\\tvec4 rgbaDepth = texture2D( shadowMap[ i ], vec2( x * xPixelOffset, y * yPixelOffset ) + shadowCoord.xy );\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t// doesn't seem to produce any noticeable visual difference compared to simple texture2D lookup\\n\\t\\t\\t\\t\\t\\t\\t\\t//vec4 rgbaDepth = texture2DProj( shadowMap[ i ], vec4( vShadowCoord[ i ].w * ( vec2( x * xPixelOffset, y * yPixelOffset ) + shadowCoord.xy ), 0.05, vShadowCoord[ i ].w ) );\\n\\n\\t\\t\\t\\t\\t\\tfloat fDepth = unpackDepth( rgbaDepth );\\n\\n\\t\\t\\t\\t\\t\\tif ( fDepth < shadowCoord.z )\\n\\t\\t\\t\\t\\t\\t\\tshadow += 1.0;\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tshadow /= 9.0;\\n\\n\\t\\t*/\\n\\n\\t\\t\\t\\tconst float shadowDelta = 1.0 / 9.0;\\n\\n\\t\\t\\t\\tfloat xPixelOffset = 1.0 / shadowMapSize[ i ].x;\\n\\t\\t\\t\\tfloat yPixelOffset = 1.0 / shadowMapSize[ i ].y;\\n\\n\\t\\t\\t\\tfloat dx0 = -1.25 * xPixelOffset;\\n\\t\\t\\t\\tfloat dy0 = -1.25 * yPixelOffset;\\n\\t\\t\\t\\tfloat dx1 = 1.25 * xPixelOffset;\\n\\t\\t\\t\\tfloat dy1 = 1.25 * yPixelOffset;\\n\\n\\t\\t\\t\\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );\\n\\t\\t\\t\\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\\n\\n\\t\\t\\t\\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );\\n\\t\\t\\t\\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\\n\\n\\t\\t\\t\\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );\\n\\t\\t\\t\\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\\n\\n\\t\\t\\t\\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );\\n\\t\\t\\t\\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\\n\\n\\t\\t\\t\\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );\\n\\t\\t\\t\\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\\n\\n\\t\\t\\t\\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );\\n\\t\\t\\t\\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\\n\\n\\t\\t\\t\\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );\\n\\t\\t\\t\\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\\n\\n\\t\\t\\t\\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );\\n\\t\\t\\t\\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\\n\\n\\t\\t\\t\\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );\\n\\t\\t\\t\\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\\n\\n\\t\\t\\t\\tshadowColor = shadowColor * vec3( ( 1.0 - shadowDarkness[ i ] * shadow ) );\\n\\n\\t\\t\\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\\n\\t\\t\\t\\t\\t\\t// Percentage-close filtering\\n\\t\\t\\t\\t\\t\\t// (9 pixel kernel)\\n\\t\\t\\t\\t\\t\\t// http://fabiensanglard.net/shadowmappingPCF/\\n\\n\\t\\t\\t\\tfloat shadow = 0.0;\\n\\n\\t\\t\\t\\tfloat xPixelOffset = 1.0 / shadowMapSize[ i ].x;\\n\\t\\t\\t\\tfloat yPixelOffset = 1.0 / shadowMapSize[ i ].y;\\n\\n\\t\\t\\t\\tfloat dx0 = -1.0 * xPixelOffset;\\n\\t\\t\\t\\tfloat dy0 = -1.0 * yPixelOffset;\\n\\t\\t\\t\\tfloat dx1 = 1.0 * xPixelOffset;\\n\\t\\t\\t\\tfloat dy1 = 1.0 * yPixelOffset;\\n\\n\\t\\t\\t\\tmat3 shadowKernel;\\n\\t\\t\\t\\tmat3 depthKernel;\\n\\n\\t\\t\\t\\tdepthKernel[0][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );\\n\\t\\t\\t\\tdepthKernel[0][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );\\n\\t\\t\\t\\tdepthKernel[0][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );\\n\\t\\t\\t\\tdepthKernel[1][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );\\n\\t\\t\\t\\tdepthKernel[1][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );\\n\\t\\t\\t\\tdepthKernel[1][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );\\n\\t\\t\\t\\tdepthKernel[2][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );\\n\\t\\t\\t\\tdepthKernel[2][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );\\n\\t\\t\\t\\tdepthKernel[2][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );\\n\\n\\t\\t\\t\\tvec3 shadowZ = vec3( shadowCoord.z );\\n\\t\\t\\t\\tshadowKernel[0] = vec3(lessThan(depthKernel[0], shadowZ ));\\n\\t\\t\\t\\tshadowKernel[0] *= vec3(0.25);\\n\\n\\t\\t\\t\\tshadowKernel[1] = vec3(lessThan(depthKernel[1], shadowZ ));\\n\\t\\t\\t\\tshadowKernel[1] *= vec3(0.25);\\n\\n\\t\\t\\t\\tshadowKernel[2] = vec3(lessThan(depthKernel[2], shadowZ ));\\n\\t\\t\\t\\tshadowKernel[2] *= vec3(0.25);\\n\\n\\t\\t\\t\\tvec2 fractionalCoord = 1.0 - fract( shadowCoord.xy * shadowMapSize[i].xy );\\n\\n\\t\\t\\t\\tshadowKernel[0] = mix( shadowKernel[1], shadowKernel[0], fractionalCoord.x );\\n\\t\\t\\t\\tshadowKernel[1] = mix( shadowKernel[2], shadowKernel[1], fractionalCoord.x );\\n\\n\\t\\t\\t\\tvec4 shadowValues;\\n\\t\\t\\t\\tshadowValues.x = mix( shadowKernel[0][1], shadowKernel[0][0], fractionalCoord.y );\\n\\t\\t\\t\\tshadowValues.y = mix( shadowKernel[0][2], shadowKernel[0][1], fractionalCoord.y );\\n\\t\\t\\t\\tshadowValues.z = mix( shadowKernel[1][1], shadowKernel[1][0], fractionalCoord.y );\\n\\t\\t\\t\\tshadowValues.w = mix( shadowKernel[1][2], shadowKernel[1][1], fractionalCoord.y );\\n\\n\\t\\t\\t\\tshadow = dot( shadowValues, vec4( 1.0 ) );\\n\\n\\t\\t\\t\\tshadowColor = shadowColor * vec3( ( 1.0 - shadowDarkness[ i ] * shadow ) );\\n\\n\\t\\t\\t#else\\n\\n\\t\\t\\t\\tvec4 rgbaDepth = texture2D( shadowMap[ i ], shadowCoord.xy );\\n\\t\\t\\t\\tfloat fDepth = unpackDepth( rgbaDepth );\\n\\n\\t\\t\\t\\tif ( fDepth < shadowCoord.z )\\n\\n\\t\\t// spot with multiple shadows is darker\\n\\n\\t\\t\\t\\t\\tshadowColor = shadowColor * vec3( 1.0 - shadowDarkness[ i ] );\\n\\n\\t\\t// spot with multiple shadows has the same color as single shadow spot\\n\\n\\t\\t// \\t\\t\\t\\t\\tshadowColor = min( shadowColor, vec3( shadowDarkness[ i ] ) );\\n\\n\\t\\t\\t#endif\\n\\n\\t\\t}\\n\\n\\n\\t\\t#ifdef SHADOWMAP_DEBUG\\n\\n\\t\\t\\t#ifdef SHADOWMAP_CASCADE\\n\\n\\t\\t\\t\\tif ( inFrustum && inFrustumCount == 1 ) outgoingLight *= frustumColors[ i ];\\n\\n\\t\\t\\t#else\\n\\n\\t\\t\\t\\tif ( inFrustum ) outgoingLight *= frustumColors[ i ];\\n\\n\\t\\t\\t#endif\\n\\n\\t\\t#endif\\n\\n\\t}\\n\\n\\t// NOTE: I am unsure if this is correct in linear space.  -bhouston, Dec 29, 2014\\n\\tshadowColor = inputToLinear( shadowColor );\\n\\n\\toutgoingLight = outgoingLight * shadowColor;\\n\\n#endif\\n\";\nTHREE.ShaderChunk.worldpos_vertex=\"#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\\n\\n\\t#ifdef USE_SKINNING\\n\\n\\t\\tvec4 worldPosition = modelMatrix * skinned;\\n\\n\\t#elif defined( USE_MORPHTARGETS )\\n\\n\\t\\tvec4 worldPosition = modelMatrix * vec4( morphed, 1.0 );\\n\\n\\t#else\\n\\n\\t\\tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );\\n\\n\\t#endif\\n\\n#endif\\n\";THREE.ShaderChunk.shadowmap_pars_fragment=\"#ifdef USE_SHADOWMAP\\n\\n\\tuniform sampler2D shadowMap[ MAX_SHADOWS ];\\n\\tuniform vec2 shadowMapSize[ MAX_SHADOWS ];\\n\\n\\tuniform float shadowDarkness[ MAX_SHADOWS ];\\n\\tuniform float shadowBias[ MAX_SHADOWS ];\\n\\n\\tvarying vec4 vShadowCoord[ MAX_SHADOWS ];\\n\\n\\tfloat unpackDepth( const in vec4 rgba_depth ) {\\n\\n\\t\\tconst vec4 bit_shift = vec4( 1.0 / ( 256.0 * 256.0 * 256.0 ), 1.0 / ( 256.0 * 256.0 ), 1.0 / 256.0, 1.0 );\\n\\t\\tfloat depth = dot( rgba_depth, bit_shift );\\n\\t\\treturn depth;\\n\\n\\t}\\n\\n#endif\";\nTHREE.ShaderChunk.skinning_pars_vertex=\"#ifdef USE_SKINNING\\n\\n\\tuniform mat4 bindMatrix;\\n\\tuniform mat4 bindMatrixInverse;\\n\\n\\t#ifdef BONE_TEXTURE\\n\\n\\t\\tuniform sampler2D boneTexture;\\n\\t\\tuniform int boneTextureWidth;\\n\\t\\tuniform int boneTextureHeight;\\n\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\n\\t\\t\\tfloat j = i * 4.0;\\n\\t\\t\\tfloat x = mod( j, float( boneTextureWidth ) );\\n\\t\\t\\tfloat y = floor( j / float( boneTextureWidth ) );\\n\\n\\t\\t\\tfloat dx = 1.0 / float( boneTextureWidth );\\n\\t\\t\\tfloat dy = 1.0 / float( boneTextureHeight );\\n\\n\\t\\t\\ty = dy * ( y + 0.5 );\\n\\n\\t\\t\\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\\n\\t\\t\\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\\n\\t\\t\\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\\n\\t\\t\\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\\n\\n\\t\\t\\tmat4 bone = mat4( v1, v2, v3, v4 );\\n\\n\\t\\t\\treturn bone;\\n\\n\\t\\t}\\n\\n\\t#else\\n\\n\\t\\tuniform mat4 boneGlobalMatrices[ MAX_BONES ];\\n\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\n\\t\\t\\tmat4 bone = boneGlobalMatrices[ int(i) ];\\n\\t\\t\\treturn bone;\\n\\n\\t\\t}\\n\\n\\t#endif\\n\\n#endif\\n\";\nTHREE.ShaderChunk.logdepthbuf_pars_fragment=\"#ifdef USE_LOGDEPTHBUF\\n\\n\\tuniform float logDepthBufFC;\\n\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\n\\t\\t#extension GL_EXT_frag_depth : enable\\n\\t\\tvarying float vFragDepth;\\n\\n\\t#endif\\n\\n#endif\";THREE.ShaderChunk.alphamap_fragment=\"#ifdef USE_ALPHAMAP\\n\\n\\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\\n\\n#endif\\n\";THREE.ShaderChunk.alphamap_pars_fragment=\"#ifdef USE_ALPHAMAP\\n\\n\\tuniform sampler2D alphaMap;\\n\\n#endif\\n\";\nTHREE.UniformsUtils={merge:function(a){for(var b={},c=0;c<a.length;c++){var d=this.clone(a[c]),e;for(e in d)b[e]=d[e]}return b},clone:function(a){var b={},c;for(c in a){b[c]={};for(var d in a[c]){var e=a[c][d];b[c][d]=e instanceof THREE.Color||e instanceof THREE.Vector2||e instanceof THREE.Vector3||e instanceof THREE.Vector4||e instanceof THREE.Matrix4||e instanceof THREE.Texture?e.clone():e instanceof Array?e.slice():e}}return b}};\nTHREE.UniformsLib={common:{diffuse:{type:\"c\",value:new THREE.Color(15658734)},opacity:{type:\"f\",value:1},map:{type:\"t\",value:null},offsetRepeat:{type:\"v4\",value:new THREE.Vector4(0,0,1,1)},lightMap:{type:\"t\",value:null},specularMap:{type:\"t\",value:null},alphaMap:{type:\"t\",value:null},envMap:{type:\"t\",value:null},flipEnvMap:{type:\"f\",value:-1},reflectivity:{type:\"f\",value:1},refractionRatio:{type:\"f\",value:.98},morphTargetInfluences:{type:\"f\",value:0}},bump:{bumpMap:{type:\"t\",value:null},bumpScale:{type:\"f\",\nvalue:1}},normalmap:{normalMap:{type:\"t\",value:null},normalScale:{type:\"v2\",value:new THREE.Vector2(1,1)}},fog:{fogDensity:{type:\"f\",value:2.5E-4},fogNear:{type:\"f\",value:1},fogFar:{type:\"f\",value:2E3},fogColor:{type:\"c\",value:new THREE.Color(16777215)}},lights:{ambientLightColor:{type:\"fv\",value:[]},directionalLightDirection:{type:\"fv\",value:[]},directionalLightColor:{type:\"fv\",value:[]},hemisphereLightDirection:{type:\"fv\",value:[]},hemisphereLightSkyColor:{type:\"fv\",value:[]},hemisphereLightGroundColor:{type:\"fv\",\nvalue:[]},pointLightColor:{type:\"fv\",value:[]},pointLightPosition:{type:\"fv\",value:[]},pointLightDistance:{type:\"fv1\",value:[]},pointLightDecay:{type:\"fv1\",value:[]},spotLightColor:{type:\"fv\",value:[]},spotLightPosition:{type:\"fv\",value:[]},spotLightDirection:{type:\"fv\",value:[]},spotLightDistance:{type:\"fv1\",value:[]},spotLightAngleCos:{type:\"fv1\",value:[]},spotLightExponent:{type:\"fv1\",value:[]},spotLightDecay:{type:\"fv1\",value:[]}},particle:{psColor:{type:\"c\",value:new THREE.Color(15658734)},opacity:{type:\"f\",\nvalue:1},size:{type:\"f\",value:1},scale:{type:\"f\",value:1},map:{type:\"t\",value:null},offsetRepeat:{type:\"v4\",value:new THREE.Vector4(0,0,1,1)},fogDensity:{type:\"f\",value:2.5E-4},fogNear:{type:\"f\",value:1},fogFar:{type:\"f\",value:2E3},fogColor:{type:\"c\",value:new THREE.Color(16777215)}},shadowmap:{shadowMap:{type:\"tv\",value:[]},shadowMapSize:{type:\"v2v\",value:[]},shadowBias:{type:\"fv1\",value:[]},shadowDarkness:{type:\"fv1\",value:[]},shadowMatrix:{type:\"m4v\",value:[]}}};\nTHREE.ShaderLib={basic:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.fog,THREE.UniformsLib.shadowmap]),vertexShader:[THREE.ShaderChunk.common,THREE.ShaderChunk.map_pars_vertex,THREE.ShaderChunk.lightmap_pars_vertex,THREE.ShaderChunk.envmap_pars_vertex,THREE.ShaderChunk.color_pars_vertex,THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.skinning_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,THREE.ShaderChunk.logdepthbuf_pars_vertex,\"void main() {\",\nTHREE.ShaderChunk.map_vertex,THREE.ShaderChunk.lightmap_vertex,THREE.ShaderChunk.color_vertex,THREE.ShaderChunk.skinbase_vertex,\"\\t#ifdef USE_ENVMAP\",THREE.ShaderChunk.morphnormal_vertex,THREE.ShaderChunk.skinnormal_vertex,THREE.ShaderChunk.defaultnormal_vertex,\"\\t#endif\",THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.skinning_vertex,THREE.ShaderChunk.default_vertex,THREE.ShaderChunk.logdepthbuf_vertex,THREE.ShaderChunk.worldpos_vertex,THREE.ShaderChunk.envmap_vertex,THREE.ShaderChunk.shadowmap_vertex,\n\"}\"].join(\"\\n\"),fragmentShader:[\"uniform vec3 diffuse;\\nuniform float opacity;\",THREE.ShaderChunk.common,THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.map_pars_fragment,THREE.ShaderChunk.alphamap_pars_fragment,THREE.ShaderChunk.lightmap_pars_fragment,THREE.ShaderChunk.envmap_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.shadowmap_pars_fragment,THREE.ShaderChunk.specularmap_pars_fragment,THREE.ShaderChunk.logdepthbuf_pars_fragment,\"void main() {\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\",\nTHREE.ShaderChunk.logdepthbuf_fragment,THREE.ShaderChunk.map_fragment,THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.alphamap_fragment,THREE.ShaderChunk.alphatest_fragment,THREE.ShaderChunk.specularmap_fragment,\"\\toutgoingLight = diffuseColor.rgb;\",THREE.ShaderChunk.lightmap_fragment,THREE.ShaderChunk.envmap_fragment,THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.linear_to_gamma_fragment,THREE.ShaderChunk.fog_fragment,\"\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n}\"].join(\"\\n\")},\nlambert:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.fog,THREE.UniformsLib.lights,THREE.UniformsLib.shadowmap,{emissive:{type:\"c\",value:new THREE.Color(0)},wrapRGB:{type:\"v3\",value:new THREE.Vector3(1,1,1)}}]),vertexShader:[\"#define LAMBERT\\nvarying vec3 vLightFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n#endif\",THREE.ShaderChunk.common,THREE.ShaderChunk.map_pars_vertex,THREE.ShaderChunk.lightmap_pars_vertex,THREE.ShaderChunk.envmap_pars_vertex,THREE.ShaderChunk.lights_lambert_pars_vertex,\nTHREE.ShaderChunk.color_pars_vertex,THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.skinning_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,THREE.ShaderChunk.logdepthbuf_pars_vertex,\"void main() {\",THREE.ShaderChunk.map_vertex,THREE.ShaderChunk.lightmap_vertex,THREE.ShaderChunk.color_vertex,THREE.ShaderChunk.morphnormal_vertex,THREE.ShaderChunk.skinbase_vertex,THREE.ShaderChunk.skinnormal_vertex,THREE.ShaderChunk.defaultnormal_vertex,THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.skinning_vertex,\nTHREE.ShaderChunk.default_vertex,THREE.ShaderChunk.logdepthbuf_vertex,THREE.ShaderChunk.worldpos_vertex,THREE.ShaderChunk.envmap_vertex,THREE.ShaderChunk.lights_lambert_vertex,THREE.ShaderChunk.shadowmap_vertex,\"}\"].join(\"\\n\"),fragmentShader:[\"uniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\nvarying vec3 vLightFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n#endif\",THREE.ShaderChunk.common,THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.map_pars_fragment,THREE.ShaderChunk.alphamap_pars_fragment,\nTHREE.ShaderChunk.lightmap_pars_fragment,THREE.ShaderChunk.envmap_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.shadowmap_pars_fragment,THREE.ShaderChunk.specularmap_pars_fragment,THREE.ShaderChunk.logdepthbuf_pars_fragment,\"void main() {\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\",THREE.ShaderChunk.logdepthbuf_fragment,THREE.ShaderChunk.map_fragment,THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.alphamap_fragment,THREE.ShaderChunk.alphatest_fragment,\nTHREE.ShaderChunk.specularmap_fragment,\"\\t#ifdef DOUBLE_SIDED\\n\\t\\tif ( gl_FrontFacing )\\n\\t\\t\\toutgoingLight += diffuseColor.rgb * vLightFront + emissive;\\n\\t\\telse\\n\\t\\t\\toutgoingLight += diffuseColor.rgb * vLightBack + emissive;\\n\\t#else\\n\\t\\toutgoingLight += diffuseColor.rgb * vLightFront + emissive;\\n\\t#endif\",THREE.ShaderChunk.lightmap_fragment,THREE.ShaderChunk.envmap_fragment,THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.linear_to_gamma_fragment,THREE.ShaderChunk.fog_fragment,\"\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n}\"].join(\"\\n\")},\nphong:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.bump,THREE.UniformsLib.normalmap,THREE.UniformsLib.fog,THREE.UniformsLib.lights,THREE.UniformsLib.shadowmap,{emissive:{type:\"c\",value:new THREE.Color(0)},specular:{type:\"c\",value:new THREE.Color(1118481)},shininess:{type:\"f\",value:30},wrapRGB:{type:\"v3\",value:new THREE.Vector3(1,1,1)}}]),vertexShader:[\"#define PHONG\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\",THREE.ShaderChunk.common,\nTHREE.ShaderChunk.map_pars_vertex,THREE.ShaderChunk.lightmap_pars_vertex,THREE.ShaderChunk.envmap_pars_vertex,THREE.ShaderChunk.lights_phong_pars_vertex,THREE.ShaderChunk.color_pars_vertex,THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.skinning_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,THREE.ShaderChunk.logdepthbuf_pars_vertex,\"void main() {\",THREE.ShaderChunk.map_vertex,THREE.ShaderChunk.lightmap_vertex,THREE.ShaderChunk.color_vertex,THREE.ShaderChunk.morphnormal_vertex,THREE.ShaderChunk.skinbase_vertex,\nTHREE.ShaderChunk.skinnormal_vertex,THREE.ShaderChunk.defaultnormal_vertex,\"#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\",THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.skinning_vertex,THREE.ShaderChunk.default_vertex,THREE.ShaderChunk.logdepthbuf_vertex,\"\\tvViewPosition = -mvPosition.xyz;\",THREE.ShaderChunk.worldpos_vertex,THREE.ShaderChunk.envmap_vertex,THREE.ShaderChunk.lights_phong_vertex,THREE.ShaderChunk.shadowmap_vertex,\"}\"].join(\"\\n\"),fragmentShader:[\"#define PHONG\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform vec3 specular;\\nuniform float shininess;\\nuniform float opacity;\",\nTHREE.ShaderChunk.common,THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.map_pars_fragment,THREE.ShaderChunk.alphamap_pars_fragment,THREE.ShaderChunk.lightmap_pars_fragment,THREE.ShaderChunk.envmap_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.lights_phong_pars_fragment,THREE.ShaderChunk.shadowmap_pars_fragment,THREE.ShaderChunk.bumpmap_pars_fragment,THREE.ShaderChunk.normalmap_pars_fragment,THREE.ShaderChunk.specularmap_pars_fragment,THREE.ShaderChunk.logdepthbuf_pars_fragment,\n\"void main() {\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\",THREE.ShaderChunk.logdepthbuf_fragment,THREE.ShaderChunk.map_fragment,THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.alphamap_fragment,THREE.ShaderChunk.alphatest_fragment,THREE.ShaderChunk.specularmap_fragment,THREE.ShaderChunk.lights_phong_fragment,THREE.ShaderChunk.lightmap_fragment,THREE.ShaderChunk.envmap_fragment,THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.linear_to_gamma_fragment,\nTHREE.ShaderChunk.fog_fragment,\"\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n}\"].join(\"\\n\")},particle_basic:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.particle,THREE.UniformsLib.shadowmap]),vertexShader:[\"uniform float size;\\nuniform float scale;\",THREE.ShaderChunk.common,THREE.ShaderChunk.color_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,THREE.ShaderChunk.logdepthbuf_pars_vertex,\"void main() {\",THREE.ShaderChunk.color_vertex,\"\\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\\n\\t#ifdef USE_SIZEATTENUATION\\n\\t\\tgl_PointSize = size * ( scale / length( mvPosition.xyz ) );\\n\\t#else\\n\\t\\tgl_PointSize = size;\\n\\t#endif\\n\\tgl_Position = projectionMatrix * mvPosition;\",\nTHREE.ShaderChunk.logdepthbuf_vertex,THREE.ShaderChunk.worldpos_vertex,THREE.ShaderChunk.shadowmap_vertex,\"}\"].join(\"\\n\"),fragmentShader:[\"uniform vec3 psColor;\\nuniform float opacity;\",THREE.ShaderChunk.common,THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.map_particle_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.shadowmap_pars_fragment,THREE.ShaderChunk.logdepthbuf_pars_fragment,\"void main() {\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( psColor, opacity );\",\nTHREE.ShaderChunk.logdepthbuf_fragment,THREE.ShaderChunk.map_particle_fragment,THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.alphatest_fragment,\"\\toutgoingLight = diffuseColor.rgb;\",THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.fog_fragment,\"\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n}\"].join(\"\\n\")},dashed:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.fog,{scale:{type:\"f\",value:1},dashSize:{type:\"f\",value:1},totalSize:{type:\"f\",value:2}}]),\nvertexShader:[\"uniform float scale;\\nattribute float lineDistance;\\nvarying float vLineDistance;\",THREE.ShaderChunk.common,THREE.ShaderChunk.color_pars_vertex,THREE.ShaderChunk.logdepthbuf_pars_vertex,\"void main() {\",THREE.ShaderChunk.color_vertex,\"\\tvLineDistance = scale * lineDistance;\\n\\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\\n\\tgl_Position = projectionMatrix * mvPosition;\",THREE.ShaderChunk.logdepthbuf_vertex,\"}\"].join(\"\\n\"),fragmentShader:[\"uniform vec3 diffuse;\\nuniform float opacity;\\nuniform float dashSize;\\nuniform float totalSize;\\nvarying float vLineDistance;\",\nTHREE.ShaderChunk.common,THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.logdepthbuf_pars_fragment,\"void main() {\\n\\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\\n\\t\\tdiscard;\\n\\t}\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\",THREE.ShaderChunk.logdepthbuf_fragment,THREE.ShaderChunk.color_fragment,\"\\toutgoingLight = diffuseColor.rgb;\",THREE.ShaderChunk.fog_fragment,\"\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n}\"].join(\"\\n\")},\ndepth:{uniforms:{mNear:{type:\"f\",value:1},mFar:{type:\"f\",value:2E3},opacity:{type:\"f\",value:1}},vertexShader:[THREE.ShaderChunk.common,THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.logdepthbuf_pars_vertex,\"void main() {\",THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.default_vertex,THREE.ShaderChunk.logdepthbuf_vertex,\"}\"].join(\"\\n\"),fragmentShader:[\"uniform float mNear;\\nuniform float mFar;\\nuniform float opacity;\",THREE.ShaderChunk.common,THREE.ShaderChunk.logdepthbuf_pars_fragment,\n\"void main() {\",THREE.ShaderChunk.logdepthbuf_fragment,\"\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tfloat depth = gl_FragDepthEXT / gl_FragCoord.w;\\n\\t#else\\n\\t\\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;\\n\\t#endif\\n\\tfloat color = 1.0 - smoothstep( mNear, mFar, depth );\\n\\tgl_FragColor = vec4( vec3( color ), opacity );\\n}\"].join(\"\\n\")},normal:{uniforms:{opacity:{type:\"f\",value:1}},vertexShader:[\"varying vec3 vNormal;\",THREE.ShaderChunk.common,THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.logdepthbuf_pars_vertex,\n\"void main() {\\n\\tvNormal = normalize( normalMatrix * normal );\",THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.default_vertex,THREE.ShaderChunk.logdepthbuf_vertex,\"}\"].join(\"\\n\"),fragmentShader:[\"uniform float opacity;\\nvarying vec3 vNormal;\",THREE.ShaderChunk.common,THREE.ShaderChunk.logdepthbuf_pars_fragment,\"void main() {\\n\\tgl_FragColor = vec4( 0.5 * normalize( vNormal ) + 0.5, opacity );\",THREE.ShaderChunk.logdepthbuf_fragment,\"}\"].join(\"\\n\")},cube:{uniforms:{tCube:{type:\"t\",value:null},\ntFlip:{type:\"f\",value:-1}},vertexShader:[\"varying vec3 vWorldPosition;\",THREE.ShaderChunk.common,THREE.ShaderChunk.logdepthbuf_pars_vertex,\"void main() {\\n\\tvWorldPosition = transformDirection( position, modelMatrix );\\n\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",THREE.ShaderChunk.logdepthbuf_vertex,\"}\"].join(\"\\n\"),fragmentShader:[\"uniform samplerCube tCube;\\nuniform float tFlip;\\nvarying vec3 vWorldPosition;\",THREE.ShaderChunk.common,THREE.ShaderChunk.logdepthbuf_pars_fragment,\n\"void main() {\\n\\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\",THREE.ShaderChunk.logdepthbuf_fragment,\"}\"].join(\"\\n\")},equirect:{uniforms:{tEquirect:{type:\"t\",value:null},tFlip:{type:\"f\",value:-1}},vertexShader:[\"varying vec3 vWorldPosition;\",THREE.ShaderChunk.common,THREE.ShaderChunk.logdepthbuf_pars_vertex,\"void main() {\\n\\tvWorldPosition = transformDirection( position, modelMatrix );\\n\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\nTHREE.ShaderChunk.logdepthbuf_vertex,\"}\"].join(\"\\n\"),fragmentShader:[\"uniform sampler2D tEquirect;\\nuniform float tFlip;\\nvarying vec3 vWorldPosition;\",THREE.ShaderChunk.common,THREE.ShaderChunk.logdepthbuf_pars_fragment,\"void main() {\\nvec3 direction = normalize( vWorldPosition );\\nvec2 sampleUV;\\nsampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );\\nsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\\ngl_FragColor = texture2D( tEquirect, sampleUV );\",THREE.ShaderChunk.logdepthbuf_fragment,\n\"}\"].join(\"\\n\")},depthRGBA:{uniforms:{},vertexShader:[THREE.ShaderChunk.common,THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.skinning_pars_vertex,THREE.ShaderChunk.logdepthbuf_pars_vertex,\"void main() {\",THREE.ShaderChunk.skinbase_vertex,THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.skinning_vertex,THREE.ShaderChunk.default_vertex,THREE.ShaderChunk.logdepthbuf_vertex,\"}\"].join(\"\\n\"),fragmentShader:[THREE.ShaderChunk.common,THREE.ShaderChunk.logdepthbuf_pars_fragment,\"vec4 pack_depth( const in float depth ) {\\n\\tconst vec4 bit_shift = vec4( 256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0 );\\n\\tconst vec4 bit_mask = vec4( 0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0 );\\n\\tvec4 res = mod( depth * bit_shift * vec4( 255 ), vec4( 256 ) ) / vec4( 255 );\\n\\tres -= res.xxyz * bit_mask;\\n\\treturn res;\\n}\\nvoid main() {\",\nTHREE.ShaderChunk.logdepthbuf_fragment,\"\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tgl_FragData[ 0 ] = pack_depth( gl_FragDepthEXT );\\n\\t#else\\n\\t\\tgl_FragData[ 0 ] = pack_depth( gl_FragCoord.z );\\n\\t#endif\\n}\"].join(\"\\n\")}};\nTHREE.WebGLRenderer=function(a){function b(a){var b=a.geometry;a=a.material;var c=b.vertices.length;if(a.attributes){void 0===b.__webglCustomAttributesList&&(b.__webglCustomAttributesList=[]);for(var d in a.attributes){var e=a.attributes[d];if(!e.__webglInitialized||e.createUniqueBuffers){e.__webglInitialized=!0;var f=1;\"v2\"===e.type?f=2:\"v3\"===e.type?f=3:\"v4\"===e.type?f=4:\"c\"===e.type&&(f=3);e.size=f;e.array=new Float32Array(c*f);e.buffer=m.createBuffer();e.buffer.belongsToAttribute=d;e.needsUpdate=\n!0}b.__webglCustomAttributesList.push(e)}}}function c(a,b){return a.material instanceof THREE.MeshFaceMaterial?a.material.materials[b.materialIndex]:a.material}function d(a,b,c,d){c=c.attributes;var e=b.attributes;b=b.attributesKeys;for(var f=0,g=b.length;f<g;f++){var h=b[f],k=e[h];if(0<=k){var n=c[h];void 0!==n?(h=n.itemSize,m.bindBuffer(m.ARRAY_BUFFER,n.buffer),W.enableAttribute(k),m.vertexAttribPointer(k,h,m.FLOAT,!1,0,d*h*4)):void 0!==a.defaultAttributeValues&&(2===a.defaultAttributeValues[h].length?\nm.vertexAttrib2fv(k,a.defaultAttributeValues[h]):3===a.defaultAttributeValues[h].length&&m.vertexAttrib3fv(k,a.defaultAttributeValues[h]))}}W.disableUnusedAttributes()}function e(a,b){return a.object.renderOrder!==b.object.renderOrder?a.object.renderOrder-b.object.renderOrder:a.material.id!==b.material.id?a.material.id-b.material.id:a.z!==b.z?a.z-b.z:a.id-b.id}function f(a,b){return a.object.renderOrder!==b.object.renderOrder?a.object.renderOrder-b.object.renderOrder:a.z!==b.z?b.z-a.z:a.id-b.id}function g(a,\nb){return b[0]-a[0]}function h(a){if(!1!==a.visible){if(!(a instanceof THREE.Scene||a instanceof THREE.Group)){void 0===a.__webglInit&&(a.__webglInit=!0,a._modelViewMatrix=new THREE.Matrix4,a._normalMatrix=new THREE.Matrix3,a.addEventListener(\"removed\",wb));var c=a.geometry;if(void 0!==c&&void 0===c.__webglInit)if(c.__webglInit=!0,c.addEventListener(\"dispose\",jb),c instanceof THREE.BufferGeometry)B.info.memory.geometries++;else if(a instanceof THREE.Mesh)q(a,c);else if(a instanceof THREE.Line){if(void 0===\nc.__webglVertexBuffer){c.__webglVertexBuffer=m.createBuffer();c.__webglColorBuffer=m.createBuffer();c.__webglLineDistanceBuffer=m.createBuffer();B.info.memory.geometries++;var d=c.vertices.length;c.__vertexArray=new Float32Array(3*d);c.__colorArray=new Float32Array(3*d);c.__lineDistanceArray=new Float32Array(1*d);c.__webglLineCount=d;b(a);c.verticesNeedUpdate=!0;c.colorsNeedUpdate=!0;c.lineDistancesNeedUpdate=!0}}else a instanceof THREE.PointCloud&&void 0===c.__webglVertexBuffer&&(c.__webglVertexBuffer=\nm.createBuffer(),c.__webglColorBuffer=m.createBuffer(),B.info.memory.geometries++,d=c.vertices.length,c.__vertexArray=new Float32Array(3*d),c.__colorArray=new Float32Array(3*d),c.__webglParticleCount=d,b(a),c.verticesNeedUpdate=!0,c.colorsNeedUpdate=!0);if(void 0===a.__webglActive)if(a.__webglActive=!0,a instanceof THREE.Mesh)if(c instanceof THREE.BufferGeometry)n(ba,c,a);else{if(c instanceof THREE.Geometry)for(var c=Ua[c.id],d=0,e=c.length;d<e;d++)n(ba,c[d],a)}else a instanceof THREE.Line||a instanceof\nTHREE.PointCloud?n(ba,c,a):(a instanceof THREE.ImmediateRenderObject||a.immediateRenderCallback)&&qa.push({id:null,object:a,opaque:null,transparent:null,z:0});if(a instanceof THREE.Light)ca.push(a);else if(a instanceof THREE.Sprite)Xa.push(a);else if(a instanceof THREE.LensFlare)Ya.push(a);else if((c=ba[a.id])&&(!1===a.frustumCulled||!0===cb.intersectsObject(a)))for(d=0,e=c.length;d<e;d++){var f=c[d],g=f,k=g.object,l=g.buffer,p=k.geometry,k=k.material;k instanceof THREE.MeshFaceMaterial?(k=k.materials[p instanceof\nTHREE.BufferGeometry?0:l.materialIndex],g.material=k,k.transparent?Qa.push(g):Ka.push(g)):k&&(g.material=k,k.transparent?Qa.push(g):Ka.push(g));f.render=!0;!0===B.sortObjects&&(wa.setFromMatrixPosition(a.matrixWorld),wa.applyProjection(db),f.z=wa.z)}}d=0;for(e=a.children.length;d<e;d++)h(a.children[d])}}function k(a,b,c,d,e){for(var f,g=0,h=a.length;g<h;g++){f=a[g];var k=f.object,m=f.buffer;w(k,b);if(e)f=e;else{f=f.material;if(!f)continue;u(f)}B.setMaterialFaces(f);m instanceof THREE.BufferGeometry?\nB.renderBufferDirect(b,c,d,f,m,k):B.renderBuffer(b,c,d,f,m,k)}}function l(a,b,c,d,e,f){for(var g,h=0,k=a.length;h<k;h++){g=a[h];var m=g.object;if(m.visible){if(f)g=f;else{g=g[b];if(!g)continue;u(g)}B.renderImmediateObject(c,d,e,g,m)}}}function p(a){var b=a.object.material;b.transparent?(a.transparent=b,a.opaque=null):(a.opaque=b,a.transparent=null)}function q(a,b){var d=a.material,e=!1;if(void 0===Ua[b.id]||!0===b.groupsNeedUpdate){delete ba[a.id];for(var f=Ua,g=b.id,d=d instanceof THREE.MeshFaceMaterial,\nh=da.get(\"OES_element_index_uint\")?4294967296:65535,k,e={},l=b.morphTargets.length,p=b.morphNormals.length,q,s={},t=[],r=0,w=b.faces.length;r<w;r++){k=b.faces[r];var u=d?k.materialIndex:0;u in e||(e[u]={hash:u,counter:0});k=e[u].hash+\"_\"+e[u].counter;k in s||(q={id:Qb++,faces3:[],materialIndex:u,vertices:0,numMorphTargets:l,numMorphNormals:p},s[k]=q,t.push(q));s[k].vertices+3>h&&(e[u].counter+=1,k=e[u].hash+\"_\"+e[u].counter,k in s||(q={id:Qb++,faces3:[],materialIndex:u,vertices:0,numMorphTargets:l,\nnumMorphNormals:p},s[k]=q,t.push(q)));s[k].faces3.push(r);s[k].vertices+=3}f[g]=t;b.groupsNeedUpdate=!1}f=Ua[b.id];g=0;for(d=f.length;g<d;g++){h=f[g];if(void 0===h.__webglVertexBuffer){e=h;e.__webglVertexBuffer=m.createBuffer();e.__webglNormalBuffer=m.createBuffer();e.__webglTangentBuffer=m.createBuffer();e.__webglColorBuffer=m.createBuffer();e.__webglUVBuffer=m.createBuffer();e.__webglUV2Buffer=m.createBuffer();e.__webglSkinIndicesBuffer=m.createBuffer();e.__webglSkinWeightsBuffer=m.createBuffer();\ne.__webglFaceBuffer=m.createBuffer();e.__webglLineBuffer=m.createBuffer();if(p=e.numMorphTargets)for(e.__webglMorphTargetsBuffers=[],l=0;l<p;l++)e.__webglMorphTargetsBuffers.push(m.createBuffer());if(p=e.numMorphNormals)for(e.__webglMorphNormalsBuffers=[],l=0;l<p;l++)e.__webglMorphNormalsBuffers.push(m.createBuffer());B.info.memory.geometries++;e=h;r=a;w=r.geometry;p=e.faces3;l=3*p.length;s=1*p.length;t=3*p.length;p=c(r,e);e.__vertexArray=new Float32Array(3*l);e.__normalArray=new Float32Array(3*l);\ne.__colorArray=new Float32Array(3*l);e.__uvArray=new Float32Array(2*l);1<w.faceVertexUvs.length&&(e.__uv2Array=new Float32Array(2*l));w.hasTangents&&(e.__tangentArray=new Float32Array(4*l));r.geometry.skinWeights.length&&r.geometry.skinIndices.length&&(e.__skinIndexArray=new Float32Array(4*l),e.__skinWeightArray=new Float32Array(4*l));r=null!==da.get(\"OES_element_index_uint\")&&21845<s?Uint32Array:Uint16Array;e.__typeArray=r;e.__faceArray=new r(3*s);e.__lineArray=new r(2*t);if(w=e.numMorphTargets)for(e.__morphTargetsArrays=\n[],r=0;r<w;r++)e.__morphTargetsArrays.push(new Float32Array(3*l));if(w=e.numMorphNormals)for(e.__morphNormalsArrays=[],r=0;r<w;r++)e.__morphNormalsArrays.push(new Float32Array(3*l));e.__webglFaceCount=3*s;e.__webglLineCount=2*t;if(p.attributes)for(s in void 0===e.__webglCustomAttributesList&&(e.__webglCustomAttributesList=[]),s=void 0,p.attributes){var t=p.attributes[s],r={},v;for(v in t)r[v]=t[v];if(!r.__webglInitialized||r.createUniqueBuffers)r.__webglInitialized=!0,w=1,\"v2\"===r.type?w=2:\"v3\"===\nr.type?w=3:\"v4\"===r.type?w=4:\"c\"===r.type&&(w=3),r.size=w,r.array=new Float32Array(l*w),r.buffer=m.createBuffer(),r.buffer.belongsToAttribute=s,t.needsUpdate=!0,r.__original=t;e.__webglCustomAttributesList.push(r)}e.__inittedArrays=!0;b.verticesNeedUpdate=!0;b.morphTargetsNeedUpdate=!0;b.elementsNeedUpdate=!0;b.uvsNeedUpdate=!0;b.normalsNeedUpdate=!0;b.tangentsNeedUpdate=!0;e=b.colorsNeedUpdate=!0}else e=!1;(e||void 0===a.__webglActive)&&n(ba,h,a)}a.__webglActive=!0}function n(a,b,c){var d=c.id;a[d]=\na[d]||[];a[d].push({id:d,buffer:b,object:c,material:null,z:0})}function t(a){var b=a.geometry;if(b instanceof THREE.BufferGeometry)for(var d=b.attributes,e=b.attributesKeys,f=0,g=e.length;f<g;f++){var h=e[f],k=d[h],n=\"index\"===h?m.ELEMENT_ARRAY_BUFFER:m.ARRAY_BUFFER;void 0===k.buffer?(k.buffer=m.createBuffer(),m.bindBuffer(n,k.buffer),m.bufferData(n,k.array,k instanceof THREE.DynamicBufferAttribute?m.DYNAMIC_DRAW:m.STATIC_DRAW),k.needsUpdate=!1):!0===k.needsUpdate&&(m.bindBuffer(n,k.buffer),void 0===\nk.updateRange||-1===k.updateRange.count?m.bufferSubData(n,0,k.array):0===k.updateRange.count?console.error(\"THREE.WebGLRenderer.updateObject: using updateRange for THREE.DynamicBufferAttribute and marked as needsUpdate but count is 0, ensure you are using set methods or updating manually.\"):(m.bufferSubData(n,k.updateRange.offset*k.array.BYTES_PER_ELEMENT,k.array.subarray(k.updateRange.offset,k.updateRange.offset+k.updateRange.count)),k.updateRange.count=0),k.needsUpdate=!1)}else if(a instanceof THREE.Mesh){!0===\nb.groupsNeedUpdate&&q(a,b);for(var l=Ua[b.id],f=0,p=l.length;f<p;f++){var t=l[f],w=c(a,t),u=w.attributes&&r(w);if(b.verticesNeedUpdate||b.morphTargetsNeedUpdate||b.elementsNeedUpdate||b.uvsNeedUpdate||b.normalsNeedUpdate||b.colorsNeedUpdate||b.tangentsNeedUpdate||u){var v=t,x=a,D=m.DYNAMIC_DRAW,A=!b.dynamic,E=w;if(v.__inittedArrays){var G=!1===E instanceof THREE.MeshPhongMaterial&&E.shading===THREE.FlatShading,y=void 0,z=void 0,F=void 0,B=void 0,I=void 0,H=void 0,M=void 0,R=void 0,P=void 0,U=void 0,\nO=void 0,J=void 0,L=void 0,N=void 0,Ka=void 0,V=void 0,W=void 0,Qa=void 0,Ya=void 0,Xa=void 0,da=void 0,ba=void 0,ja=void 0,Pa=void 0,ka=void 0,Q=void 0,ha=void 0,ia=void 0,ob=void 0,Y=void 0,ub=void 0,pa=void 0,ab=void 0,oa=void 0,ca=void 0,qa=void 0,Ca=void 0,ta=void 0,na=void 0,wa=void 0,La=0,Ma=0,kb=0,yb=0,zb=0,Ra=0,Aa=0,eb=0,Ha=0,la=0,ra=0,K=0,za=void 0,Sa=v.__vertexArray,Ab=v.__uvArray,lb=v.__uv2Array,Na=v.__normalArray,sa=v.__tangentArray,Da=v.__colorArray,Ea=v.__skinIndexArray,Fa=v.__skinWeightArray,\nGb=v.__morphTargetsArrays,Bb=v.__morphNormalsArrays,mb=v.__webglCustomAttributesList,C=void 0,Va=v.__faceArray,Ta=v.__lineArray,ea=x.geometry,fb=ea.elementsNeedUpdate,vb=ea.uvsNeedUpdate,Mb=ea.normalsNeedUpdate,Ob=ea.tangentsNeedUpdate,ib=ea.colorsNeedUpdate,sb=ea.morphTargetsNeedUpdate,Cb=ea.vertices,$=v.faces3,xa=ea.faces,Hb=ea.faceVertexUvs[0],Oa=ea.faceVertexUvs[1],$a=ea.skinIndices,Ga=ea.skinWeights,nb=ea.morphTargets,bb=ea.morphNormals;if(ea.verticesNeedUpdate){y=0;for(z=$.length;y<z;y++)B=\nxa[$[y]],J=Cb[B.a],L=Cb[B.b],N=Cb[B.c],Sa[Ma]=J.x,Sa[Ma+1]=J.y,Sa[Ma+2]=J.z,Sa[Ma+3]=L.x,Sa[Ma+4]=L.y,Sa[Ma+5]=L.z,Sa[Ma+6]=N.x,Sa[Ma+7]=N.y,Sa[Ma+8]=N.z,Ma+=9;m.bindBuffer(m.ARRAY_BUFFER,v.__webglVertexBuffer);m.bufferData(m.ARRAY_BUFFER,Sa,D)}if(sb)for(ca=0,qa=nb.length;ca<qa;ca++){y=ra=0;for(z=$.length;y<z;y++)na=$[y],B=xa[na],J=nb[ca].vertices[B.a],L=nb[ca].vertices[B.b],N=nb[ca].vertices[B.c],Ca=Gb[ca],Ca[ra]=J.x,Ca[ra+1]=J.y,Ca[ra+2]=J.z,Ca[ra+3]=L.x,Ca[ra+4]=L.y,Ca[ra+5]=L.z,Ca[ra+6]=N.x,Ca[ra+\n7]=N.y,Ca[ra+8]=N.z,E.morphNormals&&(G?Xa=Ya=Qa=bb[ca].faceNormals[na]:(wa=bb[ca].vertexNormals[na],Qa=wa.a,Ya=wa.b,Xa=wa.c),ta=Bb[ca],ta[ra]=Qa.x,ta[ra+1]=Qa.y,ta[ra+2]=Qa.z,ta[ra+3]=Ya.x,ta[ra+4]=Ya.y,ta[ra+5]=Ya.z,ta[ra+6]=Xa.x,ta[ra+7]=Xa.y,ta[ra+8]=Xa.z),ra+=9;m.bindBuffer(m.ARRAY_BUFFER,v.__webglMorphTargetsBuffers[ca]);m.bufferData(m.ARRAY_BUFFER,Gb[ca],D);E.morphNormals&&(m.bindBuffer(m.ARRAY_BUFFER,v.__webglMorphNormalsBuffers[ca]),m.bufferData(m.ARRAY_BUFFER,Bb[ca],D))}if(Ga.length){y=0;\nfor(z=$.length;y<z;y++)B=xa[$[y]],Pa=Ga[B.a],ka=Ga[B.b],Q=Ga[B.c],Fa[la]=Pa.x,Fa[la+1]=Pa.y,Fa[la+2]=Pa.z,Fa[la+3]=Pa.w,Fa[la+4]=ka.x,Fa[la+5]=ka.y,Fa[la+6]=ka.z,Fa[la+7]=ka.w,Fa[la+8]=Q.x,Fa[la+9]=Q.y,Fa[la+10]=Q.z,Fa[la+11]=Q.w,ha=$a[B.a],ia=$a[B.b],ob=$a[B.c],Ea[la]=ha.x,Ea[la+1]=ha.y,Ea[la+2]=ha.z,Ea[la+3]=ha.w,Ea[la+4]=ia.x,Ea[la+5]=ia.y,Ea[la+6]=ia.z,Ea[la+7]=ia.w,Ea[la+8]=ob.x,Ea[la+9]=ob.y,Ea[la+10]=ob.z,Ea[la+11]=ob.w,la+=12;0<la&&(m.bindBuffer(m.ARRAY_BUFFER,v.__webglSkinIndicesBuffer),\nm.bufferData(m.ARRAY_BUFFER,Ea,D),m.bindBuffer(m.ARRAY_BUFFER,v.__webglSkinWeightsBuffer),m.bufferData(m.ARRAY_BUFFER,Fa,D))}if(ib){y=0;for(z=$.length;y<z;y++)B=xa[$[y]],M=B.vertexColors,R=B.color,3===M.length&&E.vertexColors===THREE.VertexColors?(da=M[0],ba=M[1],ja=M[2]):ja=ba=da=R,Da[Ha]=da.r,Da[Ha+1]=da.g,Da[Ha+2]=da.b,Da[Ha+3]=ba.r,Da[Ha+4]=ba.g,Da[Ha+5]=ba.b,Da[Ha+6]=ja.r,Da[Ha+7]=ja.g,Da[Ha+8]=ja.b,Ha+=9;0<Ha&&(m.bindBuffer(m.ARRAY_BUFFER,v.__webglColorBuffer),m.bufferData(m.ARRAY_BUFFER,Da,\nD))}if(Ob&&ea.hasTangents){y=0;for(z=$.length;y<z;y++)B=xa[$[y]],P=B.vertexTangents,Ka=P[0],V=P[1],W=P[2],sa[Aa]=Ka.x,sa[Aa+1]=Ka.y,sa[Aa+2]=Ka.z,sa[Aa+3]=Ka.w,sa[Aa+4]=V.x,sa[Aa+5]=V.y,sa[Aa+6]=V.z,sa[Aa+7]=V.w,sa[Aa+8]=W.x,sa[Aa+9]=W.y,sa[Aa+10]=W.z,sa[Aa+11]=W.w,Aa+=12;m.bindBuffer(m.ARRAY_BUFFER,v.__webglTangentBuffer);m.bufferData(m.ARRAY_BUFFER,sa,D)}if(Mb){y=0;for(z=$.length;y<z;y++)if(B=xa[$[y]],I=B.vertexNormals,H=B.normal,3===I.length&&!1===G)for(Y=0;3>Y;Y++)pa=I[Y],Na[Ra]=pa.x,Na[Ra+1]=\npa.y,Na[Ra+2]=pa.z,Ra+=3;else for(Y=0;3>Y;Y++)Na[Ra]=H.x,Na[Ra+1]=H.y,Na[Ra+2]=H.z,Ra+=3;m.bindBuffer(m.ARRAY_BUFFER,v.__webglNormalBuffer);m.bufferData(m.ARRAY_BUFFER,Na,D)}if(vb&&Hb){y=0;for(z=$.length;y<z;y++)if(F=$[y],U=Hb[F],void 0!==U)for(Y=0;3>Y;Y++)ab=U[Y],Ab[kb]=ab.x,Ab[kb+1]=ab.y,kb+=2;0<kb&&(m.bindBuffer(m.ARRAY_BUFFER,v.__webglUVBuffer),m.bufferData(m.ARRAY_BUFFER,Ab,D))}if(vb&&Oa){y=0;for(z=$.length;y<z;y++)if(F=$[y],O=Oa[F],void 0!==O)for(Y=0;3>Y;Y++)oa=O[Y],lb[yb]=oa.x,lb[yb+1]=oa.y,\nyb+=2;0<yb&&(m.bindBuffer(m.ARRAY_BUFFER,v.__webglUV2Buffer),m.bufferData(m.ARRAY_BUFFER,lb,D))}if(fb){y=0;for(z=$.length;y<z;y++)Va[zb]=La,Va[zb+1]=La+1,Va[zb+2]=La+2,zb+=3,Ta[eb]=La,Ta[eb+1]=La+1,Ta[eb+2]=La,Ta[eb+3]=La+2,Ta[eb+4]=La+1,Ta[eb+5]=La+2,eb+=6,La+=3;m.bindBuffer(m.ELEMENT_ARRAY_BUFFER,v.__webglFaceBuffer);m.bufferData(m.ELEMENT_ARRAY_BUFFER,Va,D);m.bindBuffer(m.ELEMENT_ARRAY_BUFFER,v.__webglLineBuffer);m.bufferData(m.ELEMENT_ARRAY_BUFFER,Ta,D)}if(mb)for(Y=0,ub=mb.length;Y<ub;Y++)if(C=\nmb[Y],C.__original.needsUpdate){K=0;if(1===C.size)if(void 0===C.boundTo||\"vertices\"===C.boundTo)for(y=0,z=$.length;y<z;y++)B=xa[$[y]],C.array[K]=C.value[B.a],C.array[K+1]=C.value[B.b],C.array[K+2]=C.value[B.c],K+=3;else{if(\"faces\"===C.boundTo)for(y=0,z=$.length;y<z;y++)za=C.value[$[y]],C.array[K]=za,C.array[K+1]=za,C.array[K+2]=za,K+=3}else if(2===C.size)if(void 0===C.boundTo||\"vertices\"===C.boundTo)for(y=0,z=$.length;y<z;y++)B=xa[$[y]],J=C.value[B.a],L=C.value[B.b],N=C.value[B.c],C.array[K]=J.x,\nC.array[K+1]=J.y,C.array[K+2]=L.x,C.array[K+3]=L.y,C.array[K+4]=N.x,C.array[K+5]=N.y,K+=6;else{if(\"faces\"===C.boundTo)for(y=0,z=$.length;y<z;y++)N=L=J=za=C.value[$[y]],C.array[K]=J.x,C.array[K+1]=J.y,C.array[K+2]=L.x,C.array[K+3]=L.y,C.array[K+4]=N.x,C.array[K+5]=N.y,K+=6}else if(3===C.size){var T;T=\"c\"===C.type?[\"r\",\"g\",\"b\"]:[\"x\",\"y\",\"z\"];if(void 0===C.boundTo||\"vertices\"===C.boundTo)for(y=0,z=$.length;y<z;y++)B=xa[$[y]],J=C.value[B.a],L=C.value[B.b],N=C.value[B.c],C.array[K]=J[T[0]],C.array[K+1]=\nJ[T[1]],C.array[K+2]=J[T[2]],C.array[K+3]=L[T[0]],C.array[K+4]=L[T[1]],C.array[K+5]=L[T[2]],C.array[K+6]=N[T[0]],C.array[K+7]=N[T[1]],C.array[K+8]=N[T[2]],K+=9;else if(\"faces\"===C.boundTo)for(y=0,z=$.length;y<z;y++)N=L=J=za=C.value[$[y]],C.array[K]=J[T[0]],C.array[K+1]=J[T[1]],C.array[K+2]=J[T[2]],C.array[K+3]=L[T[0]],C.array[K+4]=L[T[1]],C.array[K+5]=L[T[2]],C.array[K+6]=N[T[0]],C.array[K+7]=N[T[1]],C.array[K+8]=N[T[2]],K+=9;else if(\"faceVertices\"===C.boundTo)for(y=0,z=$.length;y<z;y++)za=C.value[$[y]],\nJ=za[0],L=za[1],N=za[2],C.array[K]=J[T[0]],C.array[K+1]=J[T[1]],C.array[K+2]=J[T[2]],C.array[K+3]=L[T[0]],C.array[K+4]=L[T[1]],C.array[K+5]=L[T[2]],C.array[K+6]=N[T[0]],C.array[K+7]=N[T[1]],C.array[K+8]=N[T[2]],K+=9}else if(4===C.size)if(void 0===C.boundTo||\"vertices\"===C.boundTo)for(y=0,z=$.length;y<z;y++)B=xa[$[y]],J=C.value[B.a],L=C.value[B.b],N=C.value[B.c],C.array[K]=J.x,C.array[K+1]=J.y,C.array[K+2]=J.z,C.array[K+3]=J.w,C.array[K+4]=L.x,C.array[K+5]=L.y,C.array[K+6]=L.z,C.array[K+7]=L.w,C.array[K+\n8]=N.x,C.array[K+9]=N.y,C.array[K+10]=N.z,C.array[K+11]=N.w,K+=12;else if(\"faces\"===C.boundTo)for(y=0,z=$.length;y<z;y++)N=L=J=za=C.value[$[y]],C.array[K]=J.x,C.array[K+1]=J.y,C.array[K+2]=J.z,C.array[K+3]=J.w,C.array[K+4]=L.x,C.array[K+5]=L.y,C.array[K+6]=L.z,C.array[K+7]=L.w,C.array[K+8]=N.x,C.array[K+9]=N.y,C.array[K+10]=N.z,C.array[K+11]=N.w,K+=12;else if(\"faceVertices\"===C.boundTo)for(y=0,z=$.length;y<z;y++)za=C.value[$[y]],J=za[0],L=za[1],N=za[2],C.array[K]=J.x,C.array[K+1]=J.y,C.array[K+2]=\nJ.z,C.array[K+3]=J.w,C.array[K+4]=L.x,C.array[K+5]=L.y,C.array[K+6]=L.z,C.array[K+7]=L.w,C.array[K+8]=N.x,C.array[K+9]=N.y,C.array[K+10]=N.z,C.array[K+11]=N.w,K+=12;m.bindBuffer(m.ARRAY_BUFFER,C.buffer);m.bufferData(m.ARRAY_BUFFER,C.array,D)}A&&(delete v.__inittedArrays,delete v.__colorArray,delete v.__normalArray,delete v.__tangentArray,delete v.__uvArray,delete v.__uv2Array,delete v.__faceArray,delete v.__vertexArray,delete v.__lineArray,delete v.__skinIndexArray,delete v.__skinWeightArray)}}}b.verticesNeedUpdate=\n!1;b.morphTargetsNeedUpdate=!1;b.elementsNeedUpdate=!1;b.uvsNeedUpdate=!1;b.normalsNeedUpdate=!1;b.colorsNeedUpdate=!1;b.tangentsNeedUpdate=!1;w.attributes&&s(w)}else if(a instanceof THREE.Line){w=c(a,b);u=w.attributes&&r(w);if(b.verticesNeedUpdate||b.colorsNeedUpdate||b.lineDistancesNeedUpdate||u){var Db=m.DYNAMIC_DRAW,S,aa,Z,Ba,X,Eb,Rb=b.vertices,Ib=b.colors,gb=b.lineDistances,ya=Rb.length,pb=Ib.length,qb=gb.length,Wa=b.__vertexArray,tb=b.__colorArray,hb=b.__lineDistanceArray,$b=b.colorsNeedUpdate,\nFb=b.lineDistancesNeedUpdate,Sb=b.__webglCustomAttributesList,Jb,cb,ua,Kb,Ia,fa;if(b.verticesNeedUpdate){for(S=0;S<ya;S++)Ba=Rb[S],X=3*S,Wa[X]=Ba.x,Wa[X+1]=Ba.y,Wa[X+2]=Ba.z;m.bindBuffer(m.ARRAY_BUFFER,b.__webglVertexBuffer);m.bufferData(m.ARRAY_BUFFER,Wa,Db)}if($b){for(aa=0;aa<pb;aa++)Eb=Ib[aa],X=3*aa,tb[X]=Eb.r,tb[X+1]=Eb.g,tb[X+2]=Eb.b;m.bindBuffer(m.ARRAY_BUFFER,b.__webglColorBuffer);m.bufferData(m.ARRAY_BUFFER,tb,Db)}if(Fb){for(Z=0;Z<qb;Z++)hb[Z]=gb[Z];m.bindBuffer(m.ARRAY_BUFFER,b.__webglLineDistanceBuffer);\nm.bufferData(m.ARRAY_BUFFER,hb,Db)}if(Sb)for(Jb=0,cb=Sb.length;Jb<cb;Jb++)if(fa=Sb[Jb],fa.needsUpdate&&(void 0===fa.boundTo||\"vertices\"===fa.boundTo)){X=0;Kb=fa.value.length;if(1===fa.size)for(ua=0;ua<Kb;ua++)fa.array[ua]=fa.value[ua];else if(2===fa.size)for(ua=0;ua<Kb;ua++)Ia=fa.value[ua],fa.array[X]=Ia.x,fa.array[X+1]=Ia.y,X+=2;else if(3===fa.size)if(\"c\"===fa.type)for(ua=0;ua<Kb;ua++)Ia=fa.value[ua],fa.array[X]=Ia.r,fa.array[X+1]=Ia.g,fa.array[X+2]=Ia.b,X+=3;else for(ua=0;ua<Kb;ua++)Ia=fa.value[ua],\nfa.array[X]=Ia.x,fa.array[X+1]=Ia.y,fa.array[X+2]=Ia.z,X+=3;else if(4===fa.size)for(ua=0;ua<Kb;ua++)Ia=fa.value[ua],fa.array[X]=Ia.x,fa.array[X+1]=Ia.y,fa.array[X+2]=Ia.z,fa.array[X+3]=Ia.w,X+=4;m.bindBuffer(m.ARRAY_BUFFER,fa.buffer);m.bufferData(m.ARRAY_BUFFER,fa.array,Db);fa.needsUpdate=!1}}b.verticesNeedUpdate=!1;b.colorsNeedUpdate=!1;b.lineDistancesNeedUpdate=!1;w.attributes&&s(w)}else if(a instanceof THREE.PointCloud){w=c(a,b);u=w.attributes&&r(w);if(b.verticesNeedUpdate||b.colorsNeedUpdate||\nu){var db=m.DYNAMIC_DRAW,Tb,Ub,ac,ma,bc,Nb=b.vertices,Vb=Nb.length,Pb=b.colors,rb=Pb.length,cc=b.__vertexArray,dc=b.__colorArray,wb=b.colorsNeedUpdate,gc=b.__webglCustomAttributesList,ec,jb,va,Lb,Ja,ga;if(b.verticesNeedUpdate){for(Tb=0;Tb<Vb;Tb++)ac=Nb[Tb],ma=3*Tb,cc[ma]=ac.x,cc[ma+1]=ac.y,cc[ma+2]=ac.z;m.bindBuffer(m.ARRAY_BUFFER,b.__webglVertexBuffer);m.bufferData(m.ARRAY_BUFFER,cc,db)}if(wb){for(Ub=0;Ub<rb;Ub++)bc=Pb[Ub],ma=3*Ub,dc[ma]=bc.r,dc[ma+1]=bc.g,dc[ma+2]=bc.b;m.bindBuffer(m.ARRAY_BUFFER,\nb.__webglColorBuffer);m.bufferData(m.ARRAY_BUFFER,dc,db)}if(gc)for(ec=0,jb=gc.length;ec<jb;ec++){ga=gc[ec];if(ga.needsUpdate&&(void 0===ga.boundTo||\"vertices\"===ga.boundTo))if(Lb=ga.value.length,ma=0,1===ga.size)for(va=0;va<Lb;va++)ga.array[va]=ga.value[va];else if(2===ga.size)for(va=0;va<Lb;va++)Ja=ga.value[va],ga.array[ma]=Ja.x,ga.array[ma+1]=Ja.y,ma+=2;else if(3===ga.size)if(\"c\"===ga.type)for(va=0;va<Lb;va++)Ja=ga.value[va],ga.array[ma]=Ja.r,ga.array[ma+1]=Ja.g,ga.array[ma+2]=Ja.b,ma+=3;else for(va=\n0;va<Lb;va++)Ja=ga.value[va],ga.array[ma]=Ja.x,ga.array[ma+1]=Ja.y,ga.array[ma+2]=Ja.z,ma+=3;else if(4===ga.size)for(va=0;va<Lb;va++)Ja=ga.value[va],ga.array[ma]=Ja.x,ga.array[ma+1]=Ja.y,ga.array[ma+2]=Ja.z,ga.array[ma+3]=Ja.w,ma+=4;m.bindBuffer(m.ARRAY_BUFFER,ga.buffer);m.bufferData(m.ARRAY_BUFFER,ga.array,db);ga.needsUpdate=!1}}b.verticesNeedUpdate=!1;b.colorsNeedUpdate=!1;w.attributes&&s(w)}}function r(a){for(var b in a.attributes)if(a.attributes[b].needsUpdate)return!0;return!1}function s(a){for(var b in a.attributes)a.attributes[b].needsUpdate=\n!1}function u(a){!0===a.transparent?W.setBlending(a.blending,a.blendEquation,a.blendSrc,a.blendDst,a.blendEquationAlpha,a.blendSrcAlpha,a.blendDstAlpha):W.setBlending(THREE.NoBlending);W.setDepthTest(a.depthTest);W.setDepthWrite(a.depthWrite);W.setColorWrite(a.colorWrite);W.setPolygonOffset(a.polygonOffset,a.polygonOffsetFactor,a.polygonOffsetUnits)}function v(a,b,c,d,e){var f,g,h,k;Mb=0;if(d.needsUpdate){d.program&&hc(d);d.addEventListener(\"dispose\",ic);var n=pc[d.type];if(n){var l=THREE.ShaderLib[n];\nd.__webglShader={uniforms:THREE.UniformsUtils.clone(l.uniforms),vertexShader:l.vertexShader,fragmentShader:l.fragmentShader}}else d.__webglShader={uniforms:d.uniforms,vertexShader:d.vertexShader,fragmentShader:d.fragmentShader};for(var p=0,q=0,r=0,s=0,t=0,w=b.length;t<w;t++){var v=b[t];v.onlyShadow||!1===v.visible||(v instanceof THREE.DirectionalLight&&p++,v instanceof THREE.PointLight&&q++,v instanceof THREE.SpotLight&&r++,v instanceof THREE.HemisphereLight&&s++)}f=p;g=q;h=r;k=s;for(var u,z=0,G=\n0,F=b.length;G<F;G++){var J=b[G];J.castShadow&&(J instanceof THREE.SpotLight&&z++,J instanceof THREE.DirectionalLight&&!J.shadowCascade&&z++)}u=z;var H;if(Nb&&e&&e.skeleton&&e.skeleton.useVertexTexture)H=1024;else{var N=m.getParameter(m.MAX_VERTEX_UNIFORM_VECTORS),M=Math.floor((N-20)/4);void 0!==e&&e instanceof THREE.SkinnedMesh&&(M=Math.min(e.skeleton.bones.length,M),M<e.skeleton.bones.length&&THREE.warn(\"WebGLRenderer: too many bones - \"+e.skeleton.bones.length+\", this GPU supports just \"+M+\" (try OpenGL instead of ANGLE)\"));\nH=M}var P={precision:L,supportsVertexTextures:Vb,map:!!d.map,envMap:!!d.envMap,envMapMode:d.envMap&&d.envMap.mapping,lightMap:!!d.lightMap,bumpMap:!!d.bumpMap,normalMap:!!d.normalMap,specularMap:!!d.specularMap,alphaMap:!!d.alphaMap,combine:d.combine,vertexColors:d.vertexColors,fog:c,useFog:d.fog,fogExp:c instanceof THREE.FogExp2,flatShading:d.shading===THREE.FlatShading,sizeAttenuation:d.sizeAttenuation,logarithmicDepthBuffer:ja,skinning:d.skinning,maxBones:H,useVertexTexture:Nb&&e&&e.skeleton&&\ne.skeleton.useVertexTexture,morphTargets:d.morphTargets,morphNormals:d.morphNormals,maxMorphTargets:B.maxMorphTargets,maxMorphNormals:B.maxMorphNormals,maxDirLights:f,maxPointLights:g,maxSpotLights:h,maxHemiLights:k,maxShadows:u,shadowMapEnabled:B.shadowMapEnabled&&e.receiveShadow&&0<u,shadowMapType:B.shadowMapType,shadowMapDebug:B.shadowMapDebug,shadowMapCascade:B.shadowMapCascade,alphaTest:d.alphaTest,metal:d.metal,wrapAround:d.wrapAround,doubleSided:d.side===THREE.DoubleSide,flipSided:d.side===\nTHREE.BackSide},R=[];n?R.push(n):(R.push(d.fragmentShader),R.push(d.vertexShader));if(void 0!==d.defines)for(var O in d.defines)R.push(O),R.push(d.defines[O]);for(O in P)R.push(O),R.push(P[O]);for(var Ka=R.join(),V,W=0,Qa=Pa.length;W<Qa;W++){var Ya=Pa[W];if(Ya.code===Ka){V=Ya;V.usedTimes++;break}}void 0===V&&(V=new THREE.WebGLProgram(B,Ka,d,P),Pa.push(V),B.info.memory.programs=Pa.length);d.program=V;var Xa=V.attributes;if(d.morphTargets){d.numSupportedMorphTargets=0;for(var ca,da=\"morphTarget\",ba=\n0;ba<B.maxMorphTargets;ba++)ca=da+ba,0<=Xa[ca]&&d.numSupportedMorphTargets++}if(d.morphNormals)for(d.numSupportedMorphNormals=0,da=\"morphNormal\",ba=0;ba<B.maxMorphNormals;ba++)ca=da+ba,0<=Xa[ca]&&d.numSupportedMorphNormals++;d.uniformsList=[];for(var ha in d.__webglShader.uniforms){var ta=d.program.uniforms[ha];ta&&d.uniformsList.push([d.__webglShader.uniforms[ha],ta])}d.needsUpdate=!1}d.morphTargets&&!e.__webglMorphTargetInfluences&&(e.__webglMorphTargetInfluences=new Float32Array(B.maxMorphTargets));\nvar ab=!1,oa=!1,qa=!1,Ua=d.program,ka=Ua.uniforms,Q=d.__webglShader.uniforms;Ua.id!==ob&&(m.useProgram(Ua.program),ob=Ua.id,qa=oa=ab=!0);d.id!==ub&&(-1===ub&&(qa=!0),ub=d.id,oa=!0);if(ab||a!==vb)m.uniformMatrix4fv(ka.projectionMatrix,!1,a.projectionMatrix.elements),ja&&m.uniform1f(ka.logDepthBufFC,2/(Math.log(a.far+1)/Math.LN2)),a!==vb&&(vb=a),(d instanceof THREE.ShaderMaterial||d instanceof THREE.MeshPhongMaterial||d.envMap)&&null!==ka.cameraPosition&&(wa.setFromMatrixPosition(a.matrixWorld),m.uniform3f(ka.cameraPosition,\nwa.x,wa.y,wa.z)),(d instanceof THREE.MeshPhongMaterial||d instanceof THREE.MeshLambertMaterial||d instanceof THREE.MeshBasicMaterial||d instanceof THREE.ShaderMaterial||d.skinning)&&null!==ka.viewMatrix&&m.uniformMatrix4fv(ka.viewMatrix,!1,a.matrixWorldInverse.elements);if(d.skinning)if(e.bindMatrix&&null!==ka.bindMatrix&&m.uniformMatrix4fv(ka.bindMatrix,!1,e.bindMatrix.elements),e.bindMatrixInverse&&null!==ka.bindMatrixInverse&&m.uniformMatrix4fv(ka.bindMatrixInverse,!1,e.bindMatrixInverse.elements),\nNb&&e.skeleton&&e.skeleton.useVertexTexture){if(null!==ka.boneTexture){var db=D();m.uniform1i(ka.boneTexture,db);B.setTexture(e.skeleton.boneTexture,db)}null!==ka.boneTextureWidth&&m.uniform1i(ka.boneTextureWidth,e.skeleton.boneTextureWidth);null!==ka.boneTextureHeight&&m.uniform1i(ka.boneTextureHeight,e.skeleton.boneTextureHeight)}else e.skeleton&&e.skeleton.boneMatrices&&null!==ka.boneGlobalMatrices&&m.uniformMatrix4fv(ka.boneGlobalMatrices,!1,e.skeleton.boneMatrices);if(oa){c&&d.fog&&(Q.fogColor.value=\nc.color,c instanceof THREE.Fog?(Q.fogNear.value=c.near,Q.fogFar.value=c.far):c instanceof THREE.FogExp2&&(Q.fogDensity.value=c.density));if(d instanceof THREE.MeshPhongMaterial||d instanceof THREE.MeshLambertMaterial||d.lights){if(Ob){var qa=!0,ia,Za,Y,bb=0,cb=0,ib=0,xb,pb,qb,Ca,jb,na=jc,rb=na.directional.colors,La=na.directional.positions,Ma=na.point.colors,kb=na.point.positions,yb=na.point.distances,zb=na.point.decays,Ra=na.spot.colors,Aa=na.spot.positions,eb=na.spot.distances,Ha=na.spot.directions,\nla=na.spot.anglesCos,ra=na.spot.exponents,K=na.spot.decays,za=na.hemi.skyColors,Sa=na.hemi.groundColors,Ab=na.hemi.positions,lb=0,Na=0,sa=0,Da=0,Ea=0,Fa=0,Gb=0,Bb=0,mb=0,C=0,Va=0,Ta=0;ia=0;for(Za=b.length;ia<Za;ia++)Y=b[ia],Y.onlyShadow||(xb=Y.color,Ca=Y.intensity,jb=Y.distance,Y instanceof THREE.AmbientLight?Y.visible&&(bb+=xb.r,cb+=xb.g,ib+=xb.b):Y instanceof THREE.DirectionalLight?(Ea+=1,Y.visible&&(pa.setFromMatrixPosition(Y.matrixWorld),wa.setFromMatrixPosition(Y.target.matrixWorld),pa.sub(wa),\npa.normalize(),mb=3*lb,La[mb]=pa.x,La[mb+1]=pa.y,La[mb+2]=pa.z,y(rb,mb,xb,Ca),lb+=1)):Y instanceof THREE.PointLight?(Fa+=1,Y.visible&&(C=3*Na,y(Ma,C,xb,Ca),wa.setFromMatrixPosition(Y.matrixWorld),kb[C]=wa.x,kb[C+1]=wa.y,kb[C+2]=wa.z,yb[Na]=jb,zb[Na]=0===Y.distance?0:Y.decay,Na+=1)):Y instanceof THREE.SpotLight?(Gb+=1,Y.visible&&(Va=3*sa,y(Ra,Va,xb,Ca),pa.setFromMatrixPosition(Y.matrixWorld),Aa[Va]=pa.x,Aa[Va+1]=pa.y,Aa[Va+2]=pa.z,eb[sa]=jb,wa.setFromMatrixPosition(Y.target.matrixWorld),pa.sub(wa),\npa.normalize(),Ha[Va]=pa.x,Ha[Va+1]=pa.y,Ha[Va+2]=pa.z,la[sa]=Math.cos(Y.angle),ra[sa]=Y.exponent,K[sa]=0===Y.distance?0:Y.decay,sa+=1)):Y instanceof THREE.HemisphereLight&&(Bb+=1,Y.visible&&(pa.setFromMatrixPosition(Y.matrixWorld),pa.normalize(),Ta=3*Da,Ab[Ta]=pa.x,Ab[Ta+1]=pa.y,Ab[Ta+2]=pa.z,pb=Y.color,qb=Y.groundColor,y(za,Ta,pb,Ca),y(Sa,Ta,qb,Ca),Da+=1)));ia=3*lb;for(Za=Math.max(rb.length,3*Ea);ia<Za;ia++)rb[ia]=0;ia=3*Na;for(Za=Math.max(Ma.length,3*Fa);ia<Za;ia++)Ma[ia]=0;ia=3*sa;for(Za=Math.max(Ra.length,\n3*Gb);ia<Za;ia++)Ra[ia]=0;ia=3*Da;for(Za=Math.max(za.length,3*Bb);ia<Za;ia++)za[ia]=0;ia=3*Da;for(Za=Math.max(Sa.length,3*Bb);ia<Za;ia++)Sa[ia]=0;na.directional.length=lb;na.point.length=Na;na.spot.length=sa;na.hemi.length=Da;na.ambient[0]=bb;na.ambient[1]=cb;na.ambient[2]=ib;Ob=!1}if(qa){var ea=jc;Q.ambientLightColor.value=ea.ambient;Q.directionalLightColor.value=ea.directional.colors;Q.directionalLightDirection.value=ea.directional.positions;Q.pointLightColor.value=ea.point.colors;Q.pointLightPosition.value=\nea.point.positions;Q.pointLightDistance.value=ea.point.distances;Q.pointLightDecay.value=ea.point.decays;Q.spotLightColor.value=ea.spot.colors;Q.spotLightPosition.value=ea.spot.positions;Q.spotLightDistance.value=ea.spot.distances;Q.spotLightDirection.value=ea.spot.directions;Q.spotLightAngleCos.value=ea.spot.anglesCos;Q.spotLightExponent.value=ea.spot.exponents;Q.spotLightDecay.value=ea.spot.decays;Q.hemisphereLightSkyColor.value=ea.hemi.skyColors;Q.hemisphereLightGroundColor.value=ea.hemi.groundColors;\nQ.hemisphereLightDirection.value=ea.hemi.positions;x(Q,!0)}else x(Q,!1)}if(d instanceof THREE.MeshBasicMaterial||d instanceof THREE.MeshLambertMaterial||d instanceof THREE.MeshPhongMaterial){Q.opacity.value=d.opacity;Q.diffuse.value=d.color;Q.map.value=d.map;Q.lightMap.value=d.lightMap;Q.specularMap.value=d.specularMap;Q.alphaMap.value=d.alphaMap;d.bumpMap&&(Q.bumpMap.value=d.bumpMap,Q.bumpScale.value=d.bumpScale);d.normalMap&&(Q.normalMap.value=d.normalMap,Q.normalScale.value.copy(d.normalScale));\nvar fb;d.map?fb=d.map:d.specularMap?fb=d.specularMap:d.normalMap?fb=d.normalMap:d.bumpMap?fb=d.bumpMap:d.alphaMap&&(fb=d.alphaMap);if(void 0!==fb){var wb=fb.offset,Qb=fb.repeat;Q.offsetRepeat.value.set(wb.x,wb.y,Qb.x,Qb.y)}Q.envMap.value=d.envMap;Q.flipEnvMap.value=d.envMap instanceof THREE.WebGLRenderTargetCube?1:-1;Q.reflectivity.value=d.reflectivity;Q.refractionRatio.value=d.refractionRatio}if(d instanceof THREE.LineBasicMaterial)Q.diffuse.value=d.color,Q.opacity.value=d.opacity;else if(d instanceof\nTHREE.LineDashedMaterial)Q.diffuse.value=d.color,Q.opacity.value=d.opacity,Q.dashSize.value=d.dashSize,Q.totalSize.value=d.dashSize+d.gapSize,Q.scale.value=d.scale;else if(d instanceof THREE.PointCloudMaterial){if(Q.psColor.value=d.color,Q.opacity.value=d.opacity,Q.size.value=d.size,Q.scale.value=U.height/2,Q.map.value=d.map,null!==d.map){var Wb=d.map.offset,Xb=d.map.repeat;Q.offsetRepeat.value.set(Wb.x,Wb.y,Xb.x,Xb.y)}}else d instanceof THREE.MeshPhongMaterial?(Q.shininess.value=d.shininess,Q.emissive.value=\nd.emissive,Q.specular.value=d.specular,d.wrapAround&&Q.wrapRGB.value.copy(d.wrapRGB)):d instanceof THREE.MeshLambertMaterial?(Q.emissive.value=d.emissive,d.wrapAround&&Q.wrapRGB.value.copy(d.wrapRGB)):d instanceof THREE.MeshDepthMaterial?(Q.mNear.value=a.near,Q.mFar.value=a.far,Q.opacity.value=d.opacity):d instanceof THREE.MeshNormalMaterial&&(Q.opacity.value=d.opacity);if(e.receiveShadow&&!d._shadowPass&&Q.shadowMatrix)for(var sb=0,Cb=0,$=b.length;Cb<$;Cb++){var xa=b[Cb];xa.castShadow&&(xa instanceof\nTHREE.SpotLight||xa instanceof THREE.DirectionalLight&&!xa.shadowCascade)&&(Q.shadowMap.value[sb]=xa.shadowMap,Q.shadowMapSize.value[sb]=xa.shadowMapSize,Q.shadowMatrix.value[sb]=xa.shadowMatrix,Q.shadowDarkness.value[sb]=xa.shadowDarkness,Q.shadowBias.value[sb]=xa.shadowBias,sb++)}for(var Hb=d.uniformsList,Oa,$a,Ga,nb=0,fc=Hb.length;nb<fc;nb++){var T=Hb[nb][0];if(!1!==T.needsUpdate){var Db=T.type,S=T.value,aa=Hb[nb][1];switch(Db){case \"1i\":m.uniform1i(aa,S);break;case \"1f\":m.uniform1f(aa,S);break;\ncase \"2f\":m.uniform2f(aa,S[0],S[1]);break;case \"3f\":m.uniform3f(aa,S[0],S[1],S[2]);break;case \"4f\":m.uniform4f(aa,S[0],S[1],S[2],S[3]);break;case \"1iv\":m.uniform1iv(aa,S);break;case \"3iv\":m.uniform3iv(aa,S);break;case \"1fv\":m.uniform1fv(aa,S);break;case \"2fv\":m.uniform2fv(aa,S);break;case \"3fv\":m.uniform3fv(aa,S);break;case \"4fv\":m.uniform4fv(aa,S);break;case \"Matrix3fv\":m.uniformMatrix3fv(aa,!1,S);break;case \"Matrix4fv\":m.uniformMatrix4fv(aa,!1,S);break;case \"i\":m.uniform1i(aa,S);break;case \"f\":m.uniform1f(aa,\nS);break;case \"v2\":m.uniform2f(aa,S.x,S.y);break;case \"v3\":m.uniform3f(aa,S.x,S.y,S.z);break;case \"v4\":m.uniform4f(aa,S.x,S.y,S.z,S.w);break;case \"c\":m.uniform3f(aa,S.r,S.g,S.b);break;case \"iv1\":m.uniform1iv(aa,S);break;case \"iv\":m.uniform3iv(aa,S);break;case \"fv1\":m.uniform1fv(aa,S);break;case \"fv\":m.uniform3fv(aa,S);break;case \"v2v\":void 0===T._array&&(T._array=new Float32Array(2*S.length));for(var Z=0,Ba=S.length;Z<Ba;Z++)Ga=2*Z,T._array[Ga]=S[Z].x,T._array[Ga+1]=S[Z].y;m.uniform2fv(aa,T._array);\nbreak;case \"v3v\":void 0===T._array&&(T._array=new Float32Array(3*S.length));Z=0;for(Ba=S.length;Z<Ba;Z++)Ga=3*Z,T._array[Ga]=S[Z].x,T._array[Ga+1]=S[Z].y,T._array[Ga+2]=S[Z].z;m.uniform3fv(aa,T._array);break;case \"v4v\":void 0===T._array&&(T._array=new Float32Array(4*S.length));Z=0;for(Ba=S.length;Z<Ba;Z++)Ga=4*Z,T._array[Ga]=S[Z].x,T._array[Ga+1]=S[Z].y,T._array[Ga+2]=S[Z].z,T._array[Ga+3]=S[Z].w;m.uniform4fv(aa,T._array);break;case \"m3\":m.uniformMatrix3fv(aa,!1,S.elements);break;case \"m3v\":void 0===\nT._array&&(T._array=new Float32Array(9*S.length));Z=0;for(Ba=S.length;Z<Ba;Z++)S[Z].flattenToArrayOffset(T._array,9*Z);m.uniformMatrix3fv(aa,!1,T._array);break;case \"m4\":m.uniformMatrix4fv(aa,!1,S.elements);break;case \"m4v\":void 0===T._array&&(T._array=new Float32Array(16*S.length));Z=0;for(Ba=S.length;Z<Ba;Z++)S[Z].flattenToArrayOffset(T._array,16*Z);m.uniformMatrix4fv(aa,!1,T._array);break;case \"t\":Oa=S;$a=D();m.uniform1i(aa,$a);if(!Oa)continue;if(Oa instanceof THREE.CubeTexture||Oa.image instanceof\nArray&&6===Oa.image.length){var X=Oa,Eb=$a;if(6===X.image.length)if(X.needsUpdate){X.image.__webglTextureCube||(X.addEventListener(\"dispose\",Pb),X.image.__webglTextureCube=m.createTexture(),B.info.memory.textures++);m.activeTexture(m.TEXTURE0+Eb);m.bindTexture(m.TEXTURE_CUBE_MAP,X.image.__webglTextureCube);m.pixelStorei(m.UNPACK_FLIP_Y_WEBGL,X.flipY);for(var Rb=X instanceof THREE.CompressedTexture,Ib=X.image[0]instanceof THREE.DataTexture,gb=[],ya=0;6>ya;ya++)gb[ya]=!B.autoScaleCubemaps||Rb||Ib?Ib?\nX.image[ya].image:X.image[ya]:E(X.image[ya],qc);var Yb=gb[0],Zb=THREE.Math.isPowerOfTwo(Yb.width)&&THREE.Math.isPowerOfTwo(Yb.height),Wa=I(X.format),tb=I(X.type);A(m.TEXTURE_CUBE_MAP,X,Zb);for(ya=0;6>ya;ya++)if(Rb)for(var hb,$b=gb[ya].mipmaps,Fb=0,Sb=$b.length;Fb<Sb;Fb++)hb=$b[Fb],X.format!==THREE.RGBAFormat&&X.format!==THREE.RGBFormat?-1<kc().indexOf(Wa)?m.compressedTexImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+ya,Fb,Wa,hb.width,hb.height,0,hb.data):THREE.warn(\"THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setCubeTexture()\"):\nm.texImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+ya,Fb,Wa,hb.width,hb.height,0,Wa,tb,hb.data);else Ib?m.texImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+ya,0,Wa,gb[ya].width,gb[ya].height,0,Wa,tb,gb[ya].data):m.texImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+ya,0,Wa,Wa,tb,gb[ya]);X.generateMipmaps&&Zb&&m.generateMipmap(m.TEXTURE_CUBE_MAP);X.needsUpdate=!1;if(X.onUpdate)X.onUpdate()}else m.activeTexture(m.TEXTURE0+Eb),m.bindTexture(m.TEXTURE_CUBE_MAP,X.image.__webglTextureCube)}else if(Oa instanceof THREE.WebGLRenderTargetCube){var Jb=\nOa;m.activeTexture(m.TEXTURE0+$a);m.bindTexture(m.TEXTURE_CUBE_MAP,Jb.__webglTexture)}else B.setTexture(Oa,$a);break;case \"tv\":void 0===T._array&&(T._array=[]);Z=0;for(Ba=T.value.length;Z<Ba;Z++)T._array[Z]=D();m.uniform1iv(aa,T._array);Z=0;for(Ba=T.value.length;Z<Ba;Z++)Oa=T.value[Z],$a=T._array[Z],Oa&&B.setTexture(Oa,$a);break;default:THREE.warn(\"THREE.WebGLRenderer: Unknown uniform type: \"+Db)}}}}m.uniformMatrix4fv(ka.modelViewMatrix,!1,e._modelViewMatrix.elements);ka.normalMatrix&&m.uniformMatrix3fv(ka.normalMatrix,\n!1,e._normalMatrix.elements);null!==ka.modelMatrix&&m.uniformMatrix4fv(ka.modelMatrix,!1,e.matrixWorld.elements);return Ua}function x(a,b){a.ambientLightColor.needsUpdate=b;a.directionalLightColor.needsUpdate=b;a.directionalLightDirection.needsUpdate=b;a.pointLightColor.needsUpdate=b;a.pointLightPosition.needsUpdate=b;a.pointLightDistance.needsUpdate=b;a.pointLightDecay.needsUpdate=b;a.spotLightColor.needsUpdate=b;a.spotLightPosition.needsUpdate=b;a.spotLightDistance.needsUpdate=b;a.spotLightDirection.needsUpdate=\nb;a.spotLightAngleCos.needsUpdate=b;a.spotLightExponent.needsUpdate=b;a.spotLightDecay.needsUpdate=b;a.hemisphereLightSkyColor.needsUpdate=b;a.hemisphereLightGroundColor.needsUpdate=b;a.hemisphereLightDirection.needsUpdate=b}function D(){var a=Mb;a>=Wb&&THREE.warn(\"WebGLRenderer: trying to use \"+a+\" texture units while this GPU supports only \"+Wb);Mb+=1;return a}function w(a,b){a._modelViewMatrix.multiplyMatrices(b.matrixWorldInverse,a.matrixWorld);a._normalMatrix.getNormalMatrix(a._modelViewMatrix)}\nfunction y(a,b,c,d){a[b]=c.r*d;a[b+1]=c.g*d;a[b+2]=c.b*d}function A(a,b,c){c?(m.texParameteri(a,m.TEXTURE_WRAP_S,I(b.wrapS)),m.texParameteri(a,m.TEXTURE_WRAP_T,I(b.wrapT)),m.texParameteri(a,m.TEXTURE_MAG_FILTER,I(b.magFilter)),m.texParameteri(a,m.TEXTURE_MIN_FILTER,I(b.minFilter))):(m.texParameteri(a,m.TEXTURE_WRAP_S,m.CLAMP_TO_EDGE),m.texParameteri(a,m.TEXTURE_WRAP_T,m.CLAMP_TO_EDGE),b.wrapS===THREE.ClampToEdgeWrapping&&b.wrapT===THREE.ClampToEdgeWrapping||THREE.warn(\"THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping. ( \"+\nb.sourceFile+\" )\"),m.texParameteri(a,m.TEXTURE_MAG_FILTER,z(b.magFilter)),m.texParameteri(a,m.TEXTURE_MIN_FILTER,z(b.minFilter)),b.minFilter!==THREE.NearestFilter&&b.minFilter!==THREE.LinearFilter&&THREE.warn(\"THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter. ( \"+b.sourceFile+\" )\"));(c=da.get(\"EXT_texture_filter_anisotropic\"))&&b.type!==THREE.FloatType&&b.type!==THREE.HalfFloatType&&(1<b.anisotropy||b.__currentAnisotropy)&&\n(m.texParameterf(a,c.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(b.anisotropy,B.getMaxAnisotropy())),b.__currentAnisotropy=b.anisotropy)}function E(a,b){if(a.width>b||a.height>b){var c=b/Math.max(a.width,a.height),d=document.createElement(\"canvas\");d.width=Math.floor(a.width*c);d.height=Math.floor(a.height*c);d.getContext(\"2d\").drawImage(a,0,0,a.width,a.height,0,0,d.width,d.height);THREE.warn(\"THREE.WebGLRenderer: image is too big (\"+a.width+\"x\"+a.height+\"). Resized to \"+d.width+\"x\"+d.height,a);return d}return a}\nfunction G(a,b){m.bindRenderbuffer(m.RENDERBUFFER,a);b.depthBuffer&&!b.stencilBuffer?(m.renderbufferStorage(m.RENDERBUFFER,m.DEPTH_COMPONENT16,b.width,b.height),m.framebufferRenderbuffer(m.FRAMEBUFFER,m.DEPTH_ATTACHMENT,m.RENDERBUFFER,a)):b.depthBuffer&&b.stencilBuffer?(m.renderbufferStorage(m.RENDERBUFFER,m.DEPTH_STENCIL,b.width,b.height),m.framebufferRenderbuffer(m.FRAMEBUFFER,m.DEPTH_STENCIL_ATTACHMENT,m.RENDERBUFFER,a)):m.renderbufferStorage(m.RENDERBUFFER,m.RGBA4,b.width,b.height)}function F(a){a instanceof\nTHREE.WebGLRenderTargetCube?(m.bindTexture(m.TEXTURE_CUBE_MAP,a.__webglTexture),m.generateMipmap(m.TEXTURE_CUBE_MAP),m.bindTexture(m.TEXTURE_CUBE_MAP,null)):(m.bindTexture(m.TEXTURE_2D,a.__webglTexture),m.generateMipmap(m.TEXTURE_2D),m.bindTexture(m.TEXTURE_2D,null))}function z(a){return a===THREE.NearestFilter||a===THREE.NearestMipMapNearestFilter||a===THREE.NearestMipMapLinearFilter?m.NEAREST:m.LINEAR}function I(a){var b;if(a===THREE.RepeatWrapping)return m.REPEAT;if(a===THREE.ClampToEdgeWrapping)return m.CLAMP_TO_EDGE;\nif(a===THREE.MirroredRepeatWrapping)return m.MIRRORED_REPEAT;if(a===THREE.NearestFilter)return m.NEAREST;if(a===THREE.NearestMipMapNearestFilter)return m.NEAREST_MIPMAP_NEAREST;if(a===THREE.NearestMipMapLinearFilter)return m.NEAREST_MIPMAP_LINEAR;if(a===THREE.LinearFilter)return m.LINEAR;if(a===THREE.LinearMipMapNearestFilter)return m.LINEAR_MIPMAP_NEAREST;if(a===THREE.LinearMipMapLinearFilter)return m.LINEAR_MIPMAP_LINEAR;if(a===THREE.UnsignedByteType)return m.UNSIGNED_BYTE;if(a===THREE.UnsignedShort4444Type)return m.UNSIGNED_SHORT_4_4_4_4;\nif(a===THREE.UnsignedShort5551Type)return m.UNSIGNED_SHORT_5_5_5_1;if(a===THREE.UnsignedShort565Type)return m.UNSIGNED_SHORT_5_6_5;if(a===THREE.ByteType)return m.BYTE;if(a===THREE.ShortType)return m.SHORT;if(a===THREE.UnsignedShortType)return m.UNSIGNED_SHORT;if(a===THREE.IntType)return m.INT;if(a===THREE.UnsignedIntType)return m.UNSIGNED_INT;if(a===THREE.FloatType)return m.FLOAT;b=da.get(\"OES_texture_half_float\");if(null!==b&&a===THREE.HalfFloatType)return b.HALF_FLOAT_OES;if(a===THREE.AlphaFormat)return m.ALPHA;\nif(a===THREE.RGBFormat)return m.RGB;if(a===THREE.RGBAFormat)return m.RGBA;if(a===THREE.LuminanceFormat)return m.LUMINANCE;if(a===THREE.LuminanceAlphaFormat)return m.LUMINANCE_ALPHA;if(a===THREE.AddEquation)return m.FUNC_ADD;if(a===THREE.SubtractEquation)return m.FUNC_SUBTRACT;if(a===THREE.ReverseSubtractEquation)return m.FUNC_REVERSE_SUBTRACT;if(a===THREE.ZeroFactor)return m.ZERO;if(a===THREE.OneFactor)return m.ONE;if(a===THREE.SrcColorFactor)return m.SRC_COLOR;if(a===THREE.OneMinusSrcColorFactor)return m.ONE_MINUS_SRC_COLOR;\nif(a===THREE.SrcAlphaFactor)return m.SRC_ALPHA;if(a===THREE.OneMinusSrcAlphaFactor)return m.ONE_MINUS_SRC_ALPHA;if(a===THREE.DstAlphaFactor)return m.DST_ALPHA;if(a===THREE.OneMinusDstAlphaFactor)return m.ONE_MINUS_DST_ALPHA;if(a===THREE.DstColorFactor)return m.DST_COLOR;if(a===THREE.OneMinusDstColorFactor)return m.ONE_MINUS_DST_COLOR;if(a===THREE.SrcAlphaSaturateFactor)return m.SRC_ALPHA_SATURATE;b=da.get(\"WEBGL_compressed_texture_s3tc\");if(null!==b){if(a===THREE.RGB_S3TC_DXT1_Format)return b.COMPRESSED_RGB_S3TC_DXT1_EXT;\nif(a===THREE.RGBA_S3TC_DXT1_Format)return b.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(a===THREE.RGBA_S3TC_DXT3_Format)return b.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(a===THREE.RGBA_S3TC_DXT5_Format)return b.COMPRESSED_RGBA_S3TC_DXT5_EXT}b=da.get(\"WEBGL_compressed_texture_pvrtc\");if(null!==b){if(a===THREE.RGB_PVRTC_4BPPV1_Format)return b.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(a===THREE.RGB_PVRTC_2BPPV1_Format)return b.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(a===THREE.RGBA_PVRTC_4BPPV1_Format)return b.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;\nif(a===THREE.RGBA_PVRTC_2BPPV1_Format)return b.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}b=da.get(\"EXT_blend_minmax\");if(null!==b){if(a===THREE.MinEquation)return b.MIN_EXT;if(a===THREE.MaxEquation)return b.MAX_EXT}return 0}console.log(\"THREE.WebGLRenderer\",THREE.REVISION);a=a||{};var U=void 0!==a.canvas?a.canvas:document.createElement(\"canvas\"),M=void 0!==a.context?a.context:null,H=1,L=void 0!==a.precision?a.precision:\"highp\",P=void 0!==a.alpha?a.alpha:!1,N=void 0!==a.depth?a.depth:!0,R=void 0!==a.stencil?\na.stencil:!0,V=void 0!==a.antialias?a.antialias:!1,J=void 0!==a.premultipliedAlpha?a.premultipliedAlpha:!0,oa=void 0!==a.preserveDrawingBuffer?a.preserveDrawingBuffer:!1,ja=void 0!==a.logarithmicDepthBuffer?a.logarithmicDepthBuffer:!1,ha=new THREE.Color(0),O=0,ca=[],ba={},qa=[],Ka=[],Qa=[],Xa=[],Ya=[];this.domElement=U;this.context=null;this.sortObjects=this.autoClearStencil=this.autoClearDepth=this.autoClearColor=this.autoClear=!0;this.gammaFactor=2;this.shadowMapEnabled=this.gammaOutput=this.gammaInput=\n!1;this.shadowMapType=THREE.PCFShadowMap;this.shadowMapCullFace=THREE.CullFaceFront;this.shadowMapCascade=this.shadowMapDebug=!1;this.maxMorphTargets=8;this.maxMorphNormals=4;this.autoScaleCubemaps=!0;this.info={memory:{programs:0,geometries:0,textures:0},render:{calls:0,vertices:0,faces:0,points:0}};var B=this,Pa=[],ob=null,ab=null,ub=-1,ta=\"\",vb=null,Mb=0,ib=0,bb=0,pb=U.width,qb=U.height,Xb=0,fc=0,cb=new THREE.Frustum,db=new THREE.Matrix4,wa=new THREE.Vector3,pa=new THREE.Vector3,Ob=!0,jc={ambient:[0,\n0,0],directional:{length:0,colors:[],positions:[]},point:{length:0,colors:[],positions:[],distances:[],decays:[]},spot:{length:0,colors:[],positions:[],distances:[],directions:[],anglesCos:[],exponents:[],decays:[]},hemi:{length:0,skyColors:[],groundColors:[],positions:[]}},m;try{var Yb={alpha:P,depth:N,stencil:R,antialias:V,premultipliedAlpha:J,preserveDrawingBuffer:oa};m=M||U.getContext(\"webgl\",Yb)||U.getContext(\"experimental-webgl\",Yb);if(null===m){if(null!==U.getContext(\"webgl\"))throw\"Error creating WebGL context with your selected attributes.\";\nthrow\"Error creating WebGL context.\";}U.addEventListener(\"webglcontextlost\",function(a){a.preventDefault();Zb();lc();ba={}},!1)}catch(rc){THREE.error(\"THREE.WebGLRenderer: \"+rc)}var W=new THREE.WebGLState(m,I);void 0===m.getShaderPrecisionFormat&&(m.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}});var da=new THREE.WebGLExtensions(m);da.get(\"OES_texture_float\");da.get(\"OES_texture_float_linear\");da.get(\"OES_texture_half_float\");da.get(\"OES_texture_half_float_linear\");\nda.get(\"OES_standard_derivatives\");ja&&da.get(\"EXT_frag_depth\");var rb=function(a,b,c,d){!0===J&&(a*=d,b*=d,c*=d);m.clearColor(a,b,c,d)},lc=function(){m.clearColor(0,0,0,1);m.clearDepth(1);m.clearStencil(0);m.enable(m.DEPTH_TEST);m.depthFunc(m.LEQUAL);m.frontFace(m.CCW);m.cullFace(m.BACK);m.enable(m.CULL_FACE);m.enable(m.BLEND);m.blendEquation(m.FUNC_ADD);m.blendFunc(m.SRC_ALPHA,m.ONE_MINUS_SRC_ALPHA);m.viewport(ib,bb,pb,qb);rb(ha.r,ha.g,ha.b,O)},Zb=function(){vb=ob=null;ta=\"\";ub=-1;Ob=!0;W.reset()};\nlc();this.context=m;this.state=W;var Wb=m.getParameter(m.MAX_TEXTURE_IMAGE_UNITS),sc=m.getParameter(m.MAX_VERTEX_TEXTURE_IMAGE_UNITS),tc=m.getParameter(m.MAX_TEXTURE_SIZE),qc=m.getParameter(m.MAX_CUBE_MAP_TEXTURE_SIZE),Vb=0<sc,Nb=Vb&&da.get(\"OES_texture_float\"),uc=m.getShaderPrecisionFormat(m.VERTEX_SHADER,m.HIGH_FLOAT),vc=m.getShaderPrecisionFormat(m.VERTEX_SHADER,m.MEDIUM_FLOAT),wc=m.getShaderPrecisionFormat(m.FRAGMENT_SHADER,m.HIGH_FLOAT),xc=m.getShaderPrecisionFormat(m.FRAGMENT_SHADER,m.MEDIUM_FLOAT),\nkc=function(){var a;return function(){if(void 0!==a)return a;a=[];if(da.get(\"WEBGL_compressed_texture_pvrtc\")||da.get(\"WEBGL_compressed_texture_s3tc\"))for(var b=m.getParameter(m.COMPRESSED_TEXTURE_FORMATS),c=0;c<b.length;c++)a.push(b[c]);return a}}(),yc=0<uc.precision&&0<wc.precision,mc=0<vc.precision&&0<xc.precision;\"highp\"!==L||yc||(mc?(L=\"mediump\",THREE.warn(\"THREE.WebGLRenderer: highp not supported, using mediump.\")):(L=\"lowp\",THREE.warn(\"THREE.WebGLRenderer: highp and mediump not supported, using lowp.\")));\n\"mediump\"!==L||mc||(L=\"lowp\",THREE.warn(\"THREE.WebGLRenderer: mediump not supported, using lowp.\"));var zc=new THREE.ShadowMapPlugin(this,ca,ba,qa),Ac=new THREE.SpritePlugin(this,Xa),Bc=new THREE.LensFlarePlugin(this,Ya);this.getContext=function(){return m};this.forceContextLoss=function(){da.get(\"WEBGL_lose_context\").loseContext()};this.supportsVertexTextures=function(){return Vb};this.supportsFloatTextures=function(){return da.get(\"OES_texture_float\")};this.supportsHalfFloatTextures=function(){return da.get(\"OES_texture_half_float\")};\nthis.supportsStandardDerivatives=function(){return da.get(\"OES_standard_derivatives\")};this.supportsCompressedTextureS3TC=function(){return da.get(\"WEBGL_compressed_texture_s3tc\")};this.supportsCompressedTexturePVRTC=function(){return da.get(\"WEBGL_compressed_texture_pvrtc\")};this.supportsBlendMinMax=function(){return da.get(\"EXT_blend_minmax\")};this.getMaxAnisotropy=function(){var a;return function(){if(void 0!==a)return a;var b=da.get(\"EXT_texture_filter_anisotropic\");return a=null!==b?m.getParameter(b.MAX_TEXTURE_MAX_ANISOTROPY_EXT):\n0}}();this.getPrecision=function(){return L};this.getPixelRatio=function(){return H};this.setPixelRatio=function(a){H=a};this.setSize=function(a,b,c){U.width=a*H;U.height=b*H;!1!==c&&(U.style.width=a+\"px\",U.style.height=b+\"px\");this.setViewport(0,0,a,b)};this.setViewport=function(a,b,c,d){ib=a*H;bb=b*H;pb=c*H;qb=d*H;m.viewport(ib,bb,pb,qb)};this.setScissor=function(a,b,c,d){m.scissor(a*H,b*H,c*H,d*H)};this.enableScissorTest=function(a){a?m.enable(m.SCISSOR_TEST):m.disable(m.SCISSOR_TEST)};this.getClearColor=\nfunction(){return ha};this.setClearColor=function(a,b){ha.set(a);O=void 0!==b?b:1;rb(ha.r,ha.g,ha.b,O)};this.getClearAlpha=function(){return O};this.setClearAlpha=function(a){O=a;rb(ha.r,ha.g,ha.b,O)};this.clear=function(a,b,c){var d=0;if(void 0===a||a)d|=m.COLOR_BUFFER_BIT;if(void 0===b||b)d|=m.DEPTH_BUFFER_BIT;if(void 0===c||c)d|=m.STENCIL_BUFFER_BIT;m.clear(d)};this.clearColor=function(){m.clear(m.COLOR_BUFFER_BIT)};this.clearDepth=function(){m.clear(m.DEPTH_BUFFER_BIT)};this.clearStencil=function(){m.clear(m.STENCIL_BUFFER_BIT)};\nthis.clearTarget=function(a,b,c,d){this.setRenderTarget(a);this.clear(b,c,d)};this.resetGLState=Zb;var wb=function(a){a.target.traverse(function(a){a.removeEventListener(\"remove\",wb);if(a instanceof THREE.Mesh||a instanceof THREE.PointCloud||a instanceof THREE.Line)delete ba[a.id];else if(a instanceof THREE.ImmediateRenderObject||a.immediateRenderCallback)for(var b=qa,c=b.length-1;0<=c;c--)b[c].object===a&&b.splice(c,1);delete a.__webglInit;delete a._modelViewMatrix;delete a._normalMatrix;delete a.__webglActive})},\njb=function(a){a=a.target;a.removeEventListener(\"dispose\",jb);delete a.__webglInit;if(a instanceof THREE.BufferGeometry){for(var b in a.attributes){var c=a.attributes[b];void 0!==c.buffer&&(m.deleteBuffer(c.buffer),delete c.buffer)}B.info.memory.geometries--}else if(b=Ua[a.id],void 0!==b){for(var c=0,d=b.length;c<d;c++){var e=b[c];if(void 0!==e.numMorphTargets){for(var f=0,g=e.numMorphTargets;f<g;f++)m.deleteBuffer(e.__webglMorphTargetsBuffers[f]);delete e.__webglMorphTargetsBuffers}if(void 0!==e.numMorphNormals){f=\n0;for(g=e.numMorphNormals;f<g;f++)m.deleteBuffer(e.__webglMorphNormalsBuffers[f]);delete e.__webglMorphNormalsBuffers}nc(e)}delete Ua[a.id]}else nc(a);ta=\"\"},Pb=function(a){a=a.target;a.removeEventListener(\"dispose\",Pb);a.image&&a.image.__webglTextureCube?(m.deleteTexture(a.image.__webglTextureCube),delete a.image.__webglTextureCube):void 0!==a.__webglInit&&(m.deleteTexture(a.__webglTexture),delete a.__webglTexture,delete a.__webglInit);B.info.memory.textures--},oc=function(a){a=a.target;a.removeEventListener(\"dispose\",\noc);if(a&&void 0!==a.__webglTexture){m.deleteTexture(a.__webglTexture);delete a.__webglTexture;if(a instanceof THREE.WebGLRenderTargetCube)for(var b=0;6>b;b++)m.deleteFramebuffer(a.__webglFramebuffer[b]),m.deleteRenderbuffer(a.__webglRenderbuffer[b]);else m.deleteFramebuffer(a.__webglFramebuffer),m.deleteRenderbuffer(a.__webglRenderbuffer);delete a.__webglFramebuffer;delete a.__webglRenderbuffer}B.info.memory.textures--},ic=function(a){a=a.target;a.removeEventListener(\"dispose\",ic);hc(a)},nc=function(a){for(var b=\n\"__webglVertexBuffer __webglNormalBuffer __webglTangentBuffer __webglColorBuffer __webglUVBuffer __webglUV2Buffer __webglSkinIndicesBuffer __webglSkinWeightsBuffer __webglFaceBuffer __webglLineBuffer __webglLineDistanceBuffer\".split(\" \"),c=0,d=b.length;c<d;c++){var e=b[c];void 0!==a[e]&&(m.deleteBuffer(a[e]),delete a[e])}if(void 0!==a.__webglCustomAttributesList){for(e in a.__webglCustomAttributesList)m.deleteBuffer(a.__webglCustomAttributesList[e].buffer);delete a.__webglCustomAttributesList}B.info.memory.geometries--},\nhc=function(a){var b=a.program.program;if(void 0!==b){a.program=void 0;var c,d,e=!1;a=0;for(c=Pa.length;a<c;a++)if(d=Pa[a],d.program===b){d.usedTimes--;0===d.usedTimes&&(e=!0);break}if(!0===e){e=[];a=0;for(c=Pa.length;a<c;a++)d=Pa[a],d.program!==b&&e.push(d);Pa=e;m.deleteProgram(b);B.info.memory.programs--}}};this.renderBufferImmediate=function(a,b,c){W.initAttributes();a.hasPositions&&!a.__webglVertexBuffer&&(a.__webglVertexBuffer=m.createBuffer());a.hasNormals&&!a.__webglNormalBuffer&&(a.__webglNormalBuffer=\nm.createBuffer());a.hasUvs&&!a.__webglUvBuffer&&(a.__webglUvBuffer=m.createBuffer());a.hasColors&&!a.__webglColorBuffer&&(a.__webglColorBuffer=m.createBuffer());a.hasPositions&&(m.bindBuffer(m.ARRAY_BUFFER,a.__webglVertexBuffer),m.bufferData(m.ARRAY_BUFFER,a.positionArray,m.DYNAMIC_DRAW),W.enableAttribute(b.attributes.position),m.vertexAttribPointer(b.attributes.position,3,m.FLOAT,!1,0,0));if(a.hasNormals){m.bindBuffer(m.ARRAY_BUFFER,a.__webglNormalBuffer);if(!1===c instanceof THREE.MeshPhongMaterial&&\nc.shading===THREE.FlatShading){var d,e,f,g,h,k,n,l,p,q,r,s=3*a.count;for(r=0;r<s;r+=9)q=a.normalArray,d=q[r],e=q[r+1],f=q[r+2],g=q[r+3],k=q[r+4],l=q[r+5],h=q[r+6],n=q[r+7],p=q[r+8],d=(d+g+h)/3,e=(e+k+n)/3,f=(f+l+p)/3,q[r]=d,q[r+1]=e,q[r+2]=f,q[r+3]=d,q[r+4]=e,q[r+5]=f,q[r+6]=d,q[r+7]=e,q[r+8]=f}m.bufferData(m.ARRAY_BUFFER,a.normalArray,m.DYNAMIC_DRAW);W.enableAttribute(b.attributes.normal);m.vertexAttribPointer(b.attributes.normal,3,m.FLOAT,!1,0,0)}a.hasUvs&&c.map&&(m.bindBuffer(m.ARRAY_BUFFER,a.__webglUvBuffer),\nm.bufferData(m.ARRAY_BUFFER,a.uvArray,m.DYNAMIC_DRAW),W.enableAttribute(b.attributes.uv),m.vertexAttribPointer(b.attributes.uv,2,m.FLOAT,!1,0,0));a.hasColors&&c.vertexColors!==THREE.NoColors&&(m.bindBuffer(m.ARRAY_BUFFER,a.__webglColorBuffer),m.bufferData(m.ARRAY_BUFFER,a.colorArray,m.DYNAMIC_DRAW),W.enableAttribute(b.attributes.color),m.vertexAttribPointer(b.attributes.color,3,m.FLOAT,!1,0,0));W.disableUnusedAttributes();m.drawArrays(m.TRIANGLES,0,a.count);a.count=0};this.renderBufferDirect=function(a,\nb,c,e,f,g){if(!1!==e.visible)if(t(g),a=v(a,b,c,e,g),b=!1,c=\"direct_\"+f.id+\"_\"+a.id+\"_\"+(e.wireframe?1:0),c!==ta&&(ta=c,b=!0),b&&W.initAttributes(),g instanceof THREE.Mesh){g=!0===e.wireframe?m.LINES:m.TRIANGLES;var h=f.attributes.index;if(h){var k,n;h.array instanceof Uint32Array&&da.get(\"OES_element_index_uint\")?(k=m.UNSIGNED_INT,n=4):(k=m.UNSIGNED_SHORT,n=2);c=f.offsets;if(0===c.length)b&&(d(e,a,f,0),m.bindBuffer(m.ELEMENT_ARRAY_BUFFER,h.buffer)),m.drawElements(g,h.array.length,k,0),B.info.render.calls++,\nB.info.render.vertices+=h.array.length,B.info.render.faces+=h.array.length/3;else{b=!0;for(var l=0,p=c.length;l<p;l++){var q=c[l].index;b&&(d(e,a,f,q),m.bindBuffer(m.ELEMENT_ARRAY_BUFFER,h.buffer));m.drawElements(g,c[l].count,k,c[l].start*n);B.info.render.calls++;B.info.render.vertices+=c[l].count;B.info.render.faces+=c[l].count/3}}}else b&&d(e,a,f,0),e=f.attributes.position,m.drawArrays(g,0,e.array.length/e.itemSize),B.info.render.calls++,B.info.render.vertices+=e.array.length/e.itemSize,B.info.render.faces+=\ne.array.length/(3*e.itemSize)}else if(g instanceof THREE.PointCloud)if(g=m.POINTS,h=f.attributes.index)if(h.array instanceof Uint32Array&&da.get(\"OES_element_index_uint\")?(k=m.UNSIGNED_INT,n=4):(k=m.UNSIGNED_SHORT,n=2),c=f.offsets,0===c.length)b&&(d(e,a,f,0),m.bindBuffer(m.ELEMENT_ARRAY_BUFFER,h.buffer)),m.drawElements(g,h.array.length,k,0),B.info.render.calls++,B.info.render.points+=h.array.length;else for(1<c.length&&(b=!0),l=0,p=c.length;l<p;l++)q=c[l].index,b&&(d(e,a,f,q),m.bindBuffer(m.ELEMENT_ARRAY_BUFFER,\nh.buffer)),m.drawElements(g,c[l].count,k,c[l].start*n),B.info.render.calls++,B.info.render.points+=c[l].count;else if(b&&d(e,a,f,0),e=f.attributes.position,c=f.offsets,0===c.length)m.drawArrays(g,0,e.array.length/3),B.info.render.calls++,B.info.render.points+=e.array.length/3;else for(l=0,p=c.length;l<p;l++)m.drawArrays(g,c[l].index,c[l].count),B.info.render.calls++,B.info.render.points+=c[l].count;else if(g instanceof THREE.Line)if(g=g.mode===THREE.LineStrip?m.LINE_STRIP:m.LINES,W.setLineWidth(e.linewidth*\nH),h=f.attributes.index)if(h.array instanceof Uint32Array?(k=m.UNSIGNED_INT,n=4):(k=m.UNSIGNED_SHORT,n=2),c=f.offsets,0===c.length)b&&(d(e,a,f,0),m.bindBuffer(m.ELEMENT_ARRAY_BUFFER,h.buffer)),m.drawElements(g,h.array.length,k,0),B.info.render.calls++,B.info.render.vertices+=h.array.length;else for(1<c.length&&(b=!0),l=0,p=c.length;l<p;l++)q=c[l].index,b&&(d(e,a,f,q),m.bindBuffer(m.ELEMENT_ARRAY_BUFFER,h.buffer)),m.drawElements(g,c[l].count,k,c[l].start*n),B.info.render.calls++,B.info.render.vertices+=\nc[l].count;else if(b&&d(e,a,f,0),e=f.attributes.position,c=f.offsets,0===c.length)m.drawArrays(g,0,e.array.length/3),B.info.render.calls++,B.info.render.vertices+=e.array.length/3;else for(l=0,p=c.length;l<p;l++)m.drawArrays(g,c[l].index,c[l].count),B.info.render.calls++,B.info.render.vertices+=c[l].count};this.renderBuffer=function(a,b,c,d,e,f){if(!1!==d.visible){t(f);c=v(a,b,c,d,f);b=c.attributes;a=!1;c=e.id+\"_\"+c.id+\"_\"+(d.wireframe?1:0);c!==ta&&(ta=c,a=!0);a&&W.initAttributes();if(!d.morphTargets&&\n0<=b.position)a&&(m.bindBuffer(m.ARRAY_BUFFER,e.__webglVertexBuffer),W.enableAttribute(b.position),m.vertexAttribPointer(b.position,3,m.FLOAT,!1,0,0));else if(f.morphTargetBase){c=d.program.attributes;-1!==f.morphTargetBase&&0<=c.position?(m.bindBuffer(m.ARRAY_BUFFER,e.__webglMorphTargetsBuffers[f.morphTargetBase]),W.enableAttribute(c.position),m.vertexAttribPointer(c.position,3,m.FLOAT,!1,0,0)):0<=c.position&&(m.bindBuffer(m.ARRAY_BUFFER,e.__webglVertexBuffer),W.enableAttribute(c.position),m.vertexAttribPointer(c.position,\n3,m.FLOAT,!1,0,0));if(f.morphTargetForcedOrder.length)for(var h=0,k=f.morphTargetForcedOrder,n=f.morphTargetInfluences,l;h<d.numSupportedMorphTargets&&h<k.length;)l=c[\"morphTarget\"+h],0<=l&&(m.bindBuffer(m.ARRAY_BUFFER,e.__webglMorphTargetsBuffers[k[h]]),W.enableAttribute(l),m.vertexAttribPointer(l,3,m.FLOAT,!1,0,0)),l=c[\"morphNormal\"+h],0<=l&&d.morphNormals&&(m.bindBuffer(m.ARRAY_BUFFER,e.__webglMorphNormalsBuffers[k[h]]),W.enableAttribute(l),m.vertexAttribPointer(l,3,m.FLOAT,!1,0,0)),f.__webglMorphTargetInfluences[h]=\nn[k[h]],h++;else{k=[];n=f.morphTargetInfluences;h=f.geometry.morphTargets;n.length>h.length&&(console.warn(\"THREE.WebGLRenderer: Influences array is bigger than morphTargets array.\"),n.length=h.length);h=0;for(l=n.length;h<l;h++)k.push([n[h],h]);k.length>d.numSupportedMorphTargets?(k.sort(g),k.length=d.numSupportedMorphTargets):k.length>d.numSupportedMorphNormals?k.sort(g):0===k.length&&k.push([0,0]);for(var h=0,p=d.numSupportedMorphTargets;h<p;h++)if(k[h]){var q=k[h][1];l=c[\"morphTarget\"+h];0<=l&&\n(m.bindBuffer(m.ARRAY_BUFFER,e.__webglMorphTargetsBuffers[q]),W.enableAttribute(l),m.vertexAttribPointer(l,3,m.FLOAT,!1,0,0));l=c[\"morphNormal\"+h];0<=l&&d.morphNormals&&(m.bindBuffer(m.ARRAY_BUFFER,e.__webglMorphNormalsBuffers[q]),W.enableAttribute(l),m.vertexAttribPointer(l,3,m.FLOAT,!1,0,0));f.__webglMorphTargetInfluences[h]=n[q]}else f.__webglMorphTargetInfluences[h]=0}null!==d.program.uniforms.morphTargetInfluences&&m.uniform1fv(d.program.uniforms.morphTargetInfluences,f.__webglMorphTargetInfluences)}if(a){if(e.__webglCustomAttributesList)for(c=\n0,n=e.__webglCustomAttributesList.length;c<n;c++)k=e.__webglCustomAttributesList[c],0<=b[k.buffer.belongsToAttribute]&&(m.bindBuffer(m.ARRAY_BUFFER,k.buffer),W.enableAttribute(b[k.buffer.belongsToAttribute]),m.vertexAttribPointer(b[k.buffer.belongsToAttribute],k.size,m.FLOAT,!1,0,0));0<=b.color&&(0<f.geometry.colors.length||0<f.geometry.faces.length?(m.bindBuffer(m.ARRAY_BUFFER,e.__webglColorBuffer),W.enableAttribute(b.color),m.vertexAttribPointer(b.color,3,m.FLOAT,!1,0,0)):void 0!==d.defaultAttributeValues&&\nm.vertexAttrib3fv(b.color,d.defaultAttributeValues.color));0<=b.normal&&(m.bindBuffer(m.ARRAY_BUFFER,e.__webglNormalBuffer),W.enableAttribute(b.normal),m.vertexAttribPointer(b.normal,3,m.FLOAT,!1,0,0));0<=b.tangent&&(m.bindBuffer(m.ARRAY_BUFFER,e.__webglTangentBuffer),W.enableAttribute(b.tangent),m.vertexAttribPointer(b.tangent,4,m.FLOAT,!1,0,0));0<=b.uv&&(f.geometry.faceVertexUvs[0]?(m.bindBuffer(m.ARRAY_BUFFER,e.__webglUVBuffer),W.enableAttribute(b.uv),m.vertexAttribPointer(b.uv,2,m.FLOAT,!1,0,\n0)):void 0!==d.defaultAttributeValues&&m.vertexAttrib2fv(b.uv,d.defaultAttributeValues.uv));0<=b.uv2&&(f.geometry.faceVertexUvs[1]?(m.bindBuffer(m.ARRAY_BUFFER,e.__webglUV2Buffer),W.enableAttribute(b.uv2),m.vertexAttribPointer(b.uv2,2,m.FLOAT,!1,0,0)):void 0!==d.defaultAttributeValues&&m.vertexAttrib2fv(b.uv2,d.defaultAttributeValues.uv2));d.skinning&&0<=b.skinIndex&&0<=b.skinWeight&&(m.bindBuffer(m.ARRAY_BUFFER,e.__webglSkinIndicesBuffer),W.enableAttribute(b.skinIndex),m.vertexAttribPointer(b.skinIndex,\n4,m.FLOAT,!1,0,0),m.bindBuffer(m.ARRAY_BUFFER,e.__webglSkinWeightsBuffer),W.enableAttribute(b.skinWeight),m.vertexAttribPointer(b.skinWeight,4,m.FLOAT,!1,0,0));0<=b.lineDistance&&(m.bindBuffer(m.ARRAY_BUFFER,e.__webglLineDistanceBuffer),W.enableAttribute(b.lineDistance),m.vertexAttribPointer(b.lineDistance,1,m.FLOAT,!1,0,0))}W.disableUnusedAttributes();f instanceof THREE.Mesh?(f=e.__typeArray===Uint32Array?m.UNSIGNED_INT:m.UNSIGNED_SHORT,d.wireframe?(W.setLineWidth(d.wireframeLinewidth*H),a&&m.bindBuffer(m.ELEMENT_ARRAY_BUFFER,\ne.__webglLineBuffer),m.drawElements(m.LINES,e.__webglLineCount,f,0)):(a&&m.bindBuffer(m.ELEMENT_ARRAY_BUFFER,e.__webglFaceBuffer),m.drawElements(m.TRIANGLES,e.__webglFaceCount,f,0)),B.info.render.calls++,B.info.render.vertices+=e.__webglFaceCount,B.info.render.faces+=e.__webglFaceCount/3):f instanceof THREE.Line?(f=f.mode===THREE.LineStrip?m.LINE_STRIP:m.LINES,W.setLineWidth(d.linewidth*H),m.drawArrays(f,0,e.__webglLineCount),B.info.render.calls++):f instanceof THREE.PointCloud&&(m.drawArrays(m.POINTS,\n0,e.__webglParticleCount),B.info.render.calls++,B.info.render.points+=e.__webglParticleCount)}};this.render=function(a,b,c,d){if(!1===b instanceof THREE.Camera)THREE.error(\"THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.\");else{var g=a.fog;ta=\"\";ub=-1;vb=null;Ob=!0;!0===a.autoUpdate&&a.updateMatrixWorld();void 0===b.parent&&b.updateMatrixWorld();a.traverse(function(a){a instanceof THREE.SkinnedMesh&&a.skeleton.update()});b.matrixWorldInverse.getInverse(b.matrixWorld);db.multiplyMatrices(b.projectionMatrix,\nb.matrixWorldInverse);cb.setFromMatrix(db);ca.length=0;Ka.length=0;Qa.length=0;Xa.length=0;Ya.length=0;h(a);!0===B.sortObjects&&(Ka.sort(e),Qa.sort(f));zc.render(a,b);B.info.render.calls=0;B.info.render.vertices=0;B.info.render.faces=0;B.info.render.points=0;this.setRenderTarget(c);(this.autoClear||d)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil);d=0;for(var n=qa.length;d<n;d++){var m=qa[d],q=m.object;q.visible&&(w(q,b),p(m))}a.overrideMaterial?(d=a.overrideMaterial,u(d),\nk(Ka,b,ca,g,d),k(Qa,b,ca,g,d),l(qa,\"\",b,ca,g,d)):(W.setBlending(THREE.NoBlending),k(Ka,b,ca,g,null),l(qa,\"opaque\",b,ca,g,null),k(Qa,b,ca,g,null),l(qa,\"transparent\",b,ca,g,null));Ac.render(a,b);Bc.render(a,b,Xb,fc);c&&c.generateMipmaps&&c.minFilter!==THREE.NearestFilter&&c.minFilter!==THREE.LinearFilter&&F(c);W.setDepthTest(!0);W.setDepthWrite(!0);W.setColorWrite(!0)}};this.renderImmediateObject=function(a,b,c,d,e){var f=v(a,b,c,d,e);ta=\"\";B.setMaterialFaces(d);e.immediateRenderCallback?e.immediateRenderCallback(f,\nm,cb):e.render(function(a){B.renderBufferImmediate(a,f,d)})};var Ua={},Qb=0,pc={MeshDepthMaterial:\"depth\",MeshNormalMaterial:\"normal\",MeshBasicMaterial:\"basic\",MeshLambertMaterial:\"lambert\",MeshPhongMaterial:\"phong\",LineBasicMaterial:\"basic\",LineDashedMaterial:\"dashed\",PointCloudMaterial:\"particle_basic\"};this.setFaceCulling=function(a,b){a===THREE.CullFaceNone?m.disable(m.CULL_FACE):(b===THREE.FrontFaceDirectionCW?m.frontFace(m.CW):m.frontFace(m.CCW),a===THREE.CullFaceBack?m.cullFace(m.BACK):a===\nTHREE.CullFaceFront?m.cullFace(m.FRONT):m.cullFace(m.FRONT_AND_BACK),m.enable(m.CULL_FACE))};this.setMaterialFaces=function(a){W.setDoubleSided(a.side===THREE.DoubleSide);W.setFlipSided(a.side===THREE.BackSide)};this.uploadTexture=function(a){void 0===a.__webglInit&&(a.__webglInit=!0,a.addEventListener(\"dispose\",Pb),a.__webglTexture=m.createTexture(),B.info.memory.textures++);m.bindTexture(m.TEXTURE_2D,a.__webglTexture);m.pixelStorei(m.UNPACK_FLIP_Y_WEBGL,a.flipY);m.pixelStorei(m.UNPACK_PREMULTIPLY_ALPHA_WEBGL,\na.premultiplyAlpha);m.pixelStorei(m.UNPACK_ALIGNMENT,a.unpackAlignment);a.image=E(a.image,tc);var b=a.image,c=THREE.Math.isPowerOfTwo(b.width)&&THREE.Math.isPowerOfTwo(b.height),d=I(a.format),e=I(a.type);A(m.TEXTURE_2D,a,c);var f=a.mipmaps;if(a instanceof THREE.DataTexture)if(0<f.length&&c){for(var g=0,h=f.length;g<h;g++)b=f[g],m.texImage2D(m.TEXTURE_2D,g,d,b.width,b.height,0,d,e,b.data);a.generateMipmaps=!1}else m.texImage2D(m.TEXTURE_2D,0,d,b.width,b.height,0,d,e,b.data);else if(a instanceof THREE.CompressedTexture)for(g=\n0,h=f.length;g<h;g++)b=f[g],a.format!==THREE.RGBAFormat&&a.format!==THREE.RGBFormat?-1<kc().indexOf(d)?m.compressedTexImage2D(m.TEXTURE_2D,g,d,b.width,b.height,0,b.data):THREE.warn(\"THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()\"):m.texImage2D(m.TEXTURE_2D,g,d,b.width,b.height,0,d,e,b.data);else if(0<f.length&&c){g=0;for(h=f.length;g<h;g++)b=f[g],m.texImage2D(m.TEXTURE_2D,g,d,d,e,b);a.generateMipmaps=!1}else m.texImage2D(m.TEXTURE_2D,0,d,d,e,a.image);\na.generateMipmaps&&c&&m.generateMipmap(m.TEXTURE_2D);a.needsUpdate=!1;if(a.onUpdate)a.onUpdate()};this.setTexture=function(a,b){m.activeTexture(m.TEXTURE0+b);a.needsUpdate?B.uploadTexture(a):m.bindTexture(m.TEXTURE_2D,a.__webglTexture)};this.setRenderTarget=function(a){var b=a instanceof THREE.WebGLRenderTargetCube;if(a&&void 0===a.__webglFramebuffer){void 0===a.depthBuffer&&(a.depthBuffer=!0);void 0===a.stencilBuffer&&(a.stencilBuffer=!0);a.addEventListener(\"dispose\",oc);a.__webglTexture=m.createTexture();\nB.info.memory.textures++;var c=THREE.Math.isPowerOfTwo(a.width)&&THREE.Math.isPowerOfTwo(a.height),d=I(a.format),e=I(a.type);if(b){a.__webglFramebuffer=[];a.__webglRenderbuffer=[];m.bindTexture(m.TEXTURE_CUBE_MAP,a.__webglTexture);A(m.TEXTURE_CUBE_MAP,a,c);for(var f=0;6>f;f++){a.__webglFramebuffer[f]=m.createFramebuffer();a.__webglRenderbuffer[f]=m.createRenderbuffer();m.texImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+f,0,d,a.width,a.height,0,d,e,null);var g=a,h=m.TEXTURE_CUBE_MAP_POSITIVE_X+f;m.bindFramebuffer(m.FRAMEBUFFER,\na.__webglFramebuffer[f]);m.framebufferTexture2D(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0,h,g.__webglTexture,0);G(a.__webglRenderbuffer[f],a)}c&&m.generateMipmap(m.TEXTURE_CUBE_MAP)}else a.__webglFramebuffer=m.createFramebuffer(),a.__webglRenderbuffer=a.shareDepthFrom?a.shareDepthFrom.__webglRenderbuffer:m.createRenderbuffer(),m.bindTexture(m.TEXTURE_2D,a.__webglTexture),A(m.TEXTURE_2D,a,c),m.texImage2D(m.TEXTURE_2D,0,d,a.width,a.height,0,d,e,null),d=m.TEXTURE_2D,m.bindFramebuffer(m.FRAMEBUFFER,a.__webglFramebuffer),\nm.framebufferTexture2D(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0,d,a.__webglTexture,0),a.shareDepthFrom?a.depthBuffer&&!a.stencilBuffer?m.framebufferRenderbuffer(m.FRAMEBUFFER,m.DEPTH_ATTACHMENT,m.RENDERBUFFER,a.__webglRenderbuffer):a.depthBuffer&&a.stencilBuffer&&m.framebufferRenderbuffer(m.FRAMEBUFFER,m.DEPTH_STENCIL_ATTACHMENT,m.RENDERBUFFER,a.__webglRenderbuffer):G(a.__webglRenderbuffer,a),c&&m.generateMipmap(m.TEXTURE_2D);b?m.bindTexture(m.TEXTURE_CUBE_MAP,null):m.bindTexture(m.TEXTURE_2D,null);m.bindRenderbuffer(m.RENDERBUFFER,\nnull);m.bindFramebuffer(m.FRAMEBUFFER,null)}a?(b=b?a.__webglFramebuffer[a.activeCubeFace]:a.__webglFramebuffer,c=a.width,a=a.height,e=d=0):(b=null,c=pb,a=qb,d=ib,e=bb);b!==ab&&(m.bindFramebuffer(m.FRAMEBUFFER,b),m.viewport(d,e,c,a),ab=b);Xb=c;fc=a};this.readRenderTargetPixels=function(a,b,c,d,e,f){if(!(a instanceof THREE.WebGLRenderTarget))console.error(\"THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.\");else if(a.__webglFramebuffer)if(a.format!==THREE.RGBAFormat)console.error(\"THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA format. readPixels can read only RGBA format.\");\nelse{var g=!1;a.__webglFramebuffer!==ab&&(m.bindFramebuffer(m.FRAMEBUFFER,a.__webglFramebuffer),g=!0);m.checkFramebufferStatus(m.FRAMEBUFFER)===m.FRAMEBUFFER_COMPLETE?m.readPixels(b,c,d,e,m.RGBA,m.UNSIGNED_BYTE,f):console.error(\"THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.\");g&&m.bindFramebuffer(m.FRAMEBUFFER,ab)}};this.initMaterial=function(){THREE.warn(\"THREE.WebGLRenderer: .initMaterial() has been removed.\")};this.addPrePlugin=function(){THREE.warn(\"THREE.WebGLRenderer: .addPrePlugin() has been removed.\")};\nthis.addPostPlugin=function(){THREE.warn(\"THREE.WebGLRenderer: .addPostPlugin() has been removed.\")};this.updateShadowMap=function(){THREE.warn(\"THREE.WebGLRenderer: .updateShadowMap() has been removed.\")}};\nTHREE.WebGLRenderTarget=function(a,b,c){this.width=a;this.height=b;c=c||{};this.wrapS=void 0!==c.wrapS?c.wrapS:THREE.ClampToEdgeWrapping;this.wrapT=void 0!==c.wrapT?c.wrapT:THREE.ClampToEdgeWrapping;this.magFilter=void 0!==c.magFilter?c.magFilter:THREE.LinearFilter;this.minFilter=void 0!==c.minFilter?c.minFilter:THREE.LinearMipMapLinearFilter;this.anisotropy=void 0!==c.anisotropy?c.anisotropy:1;this.offset=new THREE.Vector2(0,0);this.repeat=new THREE.Vector2(1,1);this.format=void 0!==c.format?c.format:\nTHREE.RGBAFormat;this.type=void 0!==c.type?c.type:THREE.UnsignedByteType;this.depthBuffer=void 0!==c.depthBuffer?c.depthBuffer:!0;this.stencilBuffer=void 0!==c.stencilBuffer?c.stencilBuffer:!0;this.generateMipmaps=!0;this.shareDepthFrom=void 0!==c.shareDepthFrom?c.shareDepthFrom:null};\nTHREE.WebGLRenderTarget.prototype={constructor:THREE.WebGLRenderTarget,setSize:function(a,b){this.width=a;this.height=b},clone:function(){var a=new THREE.WebGLRenderTarget(this.width,this.height);a.wrapS=this.wrapS;a.wrapT=this.wrapT;a.magFilter=this.magFilter;a.minFilter=this.minFilter;a.anisotropy=this.anisotropy;a.offset.copy(this.offset);a.repeat.copy(this.repeat);a.format=this.format;a.type=this.type;a.depthBuffer=this.depthBuffer;a.stencilBuffer=this.stencilBuffer;a.generateMipmaps=this.generateMipmaps;\na.shareDepthFrom=this.shareDepthFrom;return a},dispose:function(){this.dispatchEvent({type:\"dispose\"})}};THREE.EventDispatcher.prototype.apply(THREE.WebGLRenderTarget.prototype);THREE.WebGLRenderTargetCube=function(a,b,c){THREE.WebGLRenderTarget.call(this,a,b,c);this.activeCubeFace=0};THREE.WebGLRenderTargetCube.prototype=Object.create(THREE.WebGLRenderTarget.prototype);THREE.WebGLRenderTargetCube.prototype.constructor=THREE.WebGLRenderTargetCube;\nTHREE.WebGLExtensions=function(a){var b={};this.get=function(c){if(void 0!==b[c])return b[c];var d;switch(c){case \"EXT_texture_filter_anisotropic\":d=a.getExtension(\"EXT_texture_filter_anisotropic\")||a.getExtension(\"MOZ_EXT_texture_filter_anisotropic\")||a.getExtension(\"WEBKIT_EXT_texture_filter_anisotropic\");break;case \"WEBGL_compressed_texture_s3tc\":d=a.getExtension(\"WEBGL_compressed_texture_s3tc\")||a.getExtension(\"MOZ_WEBGL_compressed_texture_s3tc\")||a.getExtension(\"WEBKIT_WEBGL_compressed_texture_s3tc\");\nbreak;case \"WEBGL_compressed_texture_pvrtc\":d=a.getExtension(\"WEBGL_compressed_texture_pvrtc\")||a.getExtension(\"WEBKIT_WEBGL_compressed_texture_pvrtc\");break;default:d=a.getExtension(c)}null===d&&THREE.warn(\"THREE.WebGLRenderer: \"+c+\" extension not supported.\");return b[c]=d}};\nTHREE.WebGLProgram=function(){var a=0;return function(b,c,d,e){var f=b.context,g=d.defines,h=d.__webglShader.uniforms,k=d.attributes,l=d.__webglShader.vertexShader,p=d.__webglShader.fragmentShader,q=d.index0AttributeName;void 0===q&&!0===e.morphTargets&&(q=\"position\");var n=\"SHADOWMAP_TYPE_BASIC\";e.shadowMapType===THREE.PCFShadowMap?n=\"SHADOWMAP_TYPE_PCF\":e.shadowMapType===THREE.PCFSoftShadowMap&&(n=\"SHADOWMAP_TYPE_PCF_SOFT\");var t=\"ENVMAP_TYPE_CUBE\",r=\"ENVMAP_MODE_REFLECTION\",s=\"ENVMAP_BLENDING_MULTIPLY\";\nif(e.envMap){switch(d.envMap.mapping){case THREE.CubeReflectionMapping:case THREE.CubeRefractionMapping:t=\"ENVMAP_TYPE_CUBE\";break;case THREE.EquirectangularReflectionMapping:case THREE.EquirectangularRefractionMapping:t=\"ENVMAP_TYPE_EQUIREC\";break;case THREE.SphericalReflectionMapping:t=\"ENVMAP_TYPE_SPHERE\"}switch(d.envMap.mapping){case THREE.CubeRefractionMapping:case THREE.EquirectangularRefractionMapping:r=\"ENVMAP_MODE_REFRACTION\"}switch(d.combine){case THREE.MultiplyOperation:s=\"ENVMAP_BLENDING_MULTIPLY\";\nbreak;case THREE.MixOperation:s=\"ENVMAP_BLENDING_MIX\";break;case THREE.AddOperation:s=\"ENVMAP_BLENDING_ADD\"}}var u=0<b.gammaFactor?b.gammaFactor:1,v,x;v=[];for(var D in g)x=g[D],!1!==x&&(x=\"#define \"+D+\" \"+x,v.push(x));v=v.join(\"\\n\");g=f.createProgram();d instanceof THREE.RawShaderMaterial?b=d=\"\":(d=[\"precision \"+e.precision+\" float;\",\"precision \"+e.precision+\" int;\",v,e.supportsVertexTextures?\"#define VERTEX_TEXTURES\":\"\",b.gammaInput?\"#define GAMMA_INPUT\":\"\",b.gammaOutput?\"#define GAMMA_OUTPUT\":\n\"\",\"#define GAMMA_FACTOR \"+u,\"#define MAX_DIR_LIGHTS \"+e.maxDirLights,\"#define MAX_POINT_LIGHTS \"+e.maxPointLights,\"#define MAX_SPOT_LIGHTS \"+e.maxSpotLights,\"#define MAX_HEMI_LIGHTS \"+e.maxHemiLights,\"#define MAX_SHADOWS \"+e.maxShadows,\"#define MAX_BONES \"+e.maxBones,e.map?\"#define USE_MAP\":\"\",e.envMap?\"#define USE_ENVMAP\":\"\",e.envMap?\"#define \"+r:\"\",e.lightMap?\"#define USE_LIGHTMAP\":\"\",e.bumpMap?\"#define USE_BUMPMAP\":\"\",e.normalMap?\"#define USE_NORMALMAP\":\"\",e.specularMap?\"#define USE_SPECULARMAP\":\n\"\",e.alphaMap?\"#define USE_ALPHAMAP\":\"\",e.vertexColors?\"#define USE_COLOR\":\"\",e.flatShading?\"#define FLAT_SHADED\":\"\",e.skinning?\"#define USE_SKINNING\":\"\",e.useVertexTexture?\"#define BONE_TEXTURE\":\"\",e.morphTargets?\"#define USE_MORPHTARGETS\":\"\",e.morphNormals?\"#define USE_MORPHNORMALS\":\"\",e.wrapAround?\"#define WRAP_AROUND\":\"\",e.doubleSided?\"#define DOUBLE_SIDED\":\"\",e.flipSided?\"#define FLIP_SIDED\":\"\",e.shadowMapEnabled?\"#define USE_SHADOWMAP\":\"\",e.shadowMapEnabled?\"#define \"+n:\"\",e.shadowMapDebug?\n\"#define SHADOWMAP_DEBUG\":\"\",e.shadowMapCascade?\"#define SHADOWMAP_CASCADE\":\"\",e.sizeAttenuation?\"#define USE_SIZEATTENUATION\":\"\",e.logarithmicDepthBuffer?\"#define USE_LOGDEPTHBUF\":\"\",\"uniform mat4 modelMatrix;\\nuniform mat4 modelViewMatrix;\\nuniform mat4 projectionMatrix;\\nuniform mat4 viewMatrix;\\nuniform mat3 normalMatrix;\\nuniform vec3 cameraPosition;\\nattribute vec3 position;\\nattribute vec3 normal;\\nattribute vec2 uv;\\nattribute vec2 uv2;\\n#ifdef USE_COLOR\\n\\tattribute vec3 color;\\n#endif\\n#ifdef USE_MORPHTARGETS\\n\\tattribute vec3 morphTarget0;\\n\\tattribute vec3 morphTarget1;\\n\\tattribute vec3 morphTarget2;\\n\\tattribute vec3 morphTarget3;\\n\\t#ifdef USE_MORPHNORMALS\\n\\t\\tattribute vec3 morphNormal0;\\n\\t\\tattribute vec3 morphNormal1;\\n\\t\\tattribute vec3 morphNormal2;\\n\\t\\tattribute vec3 morphNormal3;\\n\\t#else\\n\\t\\tattribute vec3 morphTarget4;\\n\\t\\tattribute vec3 morphTarget5;\\n\\t\\tattribute vec3 morphTarget6;\\n\\t\\tattribute vec3 morphTarget7;\\n\\t#endif\\n#endif\\n#ifdef USE_SKINNING\\n\\tattribute vec4 skinIndex;\\n\\tattribute vec4 skinWeight;\\n#endif\\n\"].join(\"\\n\"),\nb=[\"precision \"+e.precision+\" float;\",\"precision \"+e.precision+\" int;\",e.bumpMap||e.normalMap||e.flatShading?\"#extension GL_OES_standard_derivatives : enable\":\"\",v,\"#define MAX_DIR_LIGHTS \"+e.maxDirLights,\"#define MAX_POINT_LIGHTS \"+e.maxPointLights,\"#define MAX_SPOT_LIGHTS \"+e.maxSpotLights,\"#define MAX_HEMI_LIGHTS \"+e.maxHemiLights,\"#define MAX_SHADOWS \"+e.maxShadows,e.alphaTest?\"#define ALPHATEST \"+e.alphaTest:\"\",b.gammaInput?\"#define GAMMA_INPUT\":\"\",b.gammaOutput?\"#define GAMMA_OUTPUT\":\"\",\"#define GAMMA_FACTOR \"+\nu,e.useFog&&e.fog?\"#define USE_FOG\":\"\",e.useFog&&e.fogExp?\"#define FOG_EXP2\":\"\",e.map?\"#define USE_MAP\":\"\",e.envMap?\"#define USE_ENVMAP\":\"\",e.envMap?\"#define \"+t:\"\",e.envMap?\"#define \"+r:\"\",e.envMap?\"#define \"+s:\"\",e.lightMap?\"#define USE_LIGHTMAP\":\"\",e.bumpMap?\"#define USE_BUMPMAP\":\"\",e.normalMap?\"#define USE_NORMALMAP\":\"\",e.specularMap?\"#define USE_SPECULARMAP\":\"\",e.alphaMap?\"#define USE_ALPHAMAP\":\"\",e.vertexColors?\"#define USE_COLOR\":\"\",e.flatShading?\"#define FLAT_SHADED\":\"\",e.metal?\"#define METAL\":\n\"\",e.wrapAround?\"#define WRAP_AROUND\":\"\",e.doubleSided?\"#define DOUBLE_SIDED\":\"\",e.flipSided?\"#define FLIP_SIDED\":\"\",e.shadowMapEnabled?\"#define USE_SHADOWMAP\":\"\",e.shadowMapEnabled?\"#define \"+n:\"\",e.shadowMapDebug?\"#define SHADOWMAP_DEBUG\":\"\",e.shadowMapCascade?\"#define SHADOWMAP_CASCADE\":\"\",e.logarithmicDepthBuffer?\"#define USE_LOGDEPTHBUF\":\"\",\"uniform mat4 viewMatrix;\\nuniform vec3 cameraPosition;\\n\"].join(\"\\n\"));l=new THREE.WebGLShader(f,f.VERTEX_SHADER,d+l);p=new THREE.WebGLShader(f,f.FRAGMENT_SHADER,\nb+p);f.attachShader(g,l);f.attachShader(g,p);void 0!==q&&f.bindAttribLocation(g,0,q);f.linkProgram(g);q=f.getProgramInfoLog(g);!1===f.getProgramParameter(g,f.LINK_STATUS)&&THREE.error(\"THREE.WebGLProgram: shader error: \"+f.getError(),\"gl.VALIDATE_STATUS\",f.getProgramParameter(g,f.VALIDATE_STATUS),\"gl.getPRogramInfoLog\",q);\"\"!==q&&THREE.warn(\"THREE.WebGLProgram: gl.getProgramInfoLog()\"+q);f.deleteShader(l);f.deleteShader(p);q=\"viewMatrix modelViewMatrix projectionMatrix normalMatrix modelMatrix cameraPosition morphTargetInfluences bindMatrix bindMatrixInverse\".split(\" \");\ne.useVertexTexture?(q.push(\"boneTexture\"),q.push(\"boneTextureWidth\"),q.push(\"boneTextureHeight\")):q.push(\"boneGlobalMatrices\");e.logarithmicDepthBuffer&&q.push(\"logDepthBufFC\");for(var w in h)q.push(w);h=q;w={};q=0;for(b=h.length;q<b;q++)n=h[q],w[n]=f.getUniformLocation(g,n);this.uniforms=w;q=\"position normal uv uv2 tangent color skinIndex skinWeight lineDistance\".split(\" \");for(h=0;h<e.maxMorphTargets;h++)q.push(\"morphTarget\"+h);for(h=0;h<e.maxMorphNormals;h++)q.push(\"morphNormal\"+h);for(var y in k)q.push(y);\ne=q;k={};y=0;for(h=e.length;y<h;y++)w=e[y],k[w]=f.getAttribLocation(g,w);this.attributes=k;this.attributesKeys=Object.keys(this.attributes);this.id=a++;this.code=c;this.usedTimes=1;this.program=g;this.vertexShader=l;this.fragmentShader=p;return this}}();\nTHREE.WebGLShader=function(){var a=function(a){a=a.split(\"\\n\");for(var c=0;c<a.length;c++)a[c]=c+1+\": \"+a[c];return a.join(\"\\n\")};return function(b,c,d){c=b.createShader(c);b.shaderSource(c,d);b.compileShader(c);!1===b.getShaderParameter(c,b.COMPILE_STATUS)&&THREE.error(\"THREE.WebGLShader: Shader couldn't compile.\");\"\"!==b.getShaderInfoLog(c)&&THREE.warn(\"THREE.WebGLShader: gl.getShaderInfoLog()\",b.getShaderInfoLog(c),a(d));return c}}();\nTHREE.WebGLState=function(a,b){var c=new Uint8Array(16),d=new Uint8Array(16),e=null,f=null,g=null,h=null,k=null,l=null,p=null,q=null,n=null,t=null,r=null,s=null,u=null,v=null,x=null,D=null;this.initAttributes=function(){for(var a=0,b=c.length;a<b;a++)c[a]=0};this.enableAttribute=function(b){c[b]=1;0===d[b]&&(a.enableVertexAttribArray(b),d[b]=1)};this.disableUnusedAttributes=function(){for(var b=0,e=d.length;b<e;b++)d[b]!==c[b]&&(a.disableVertexAttribArray(b),d[b]=0)};this.setBlending=function(c,d,\nn,q,r,s,t){c!==e&&(c===THREE.NoBlending?a.disable(a.BLEND):c===THREE.AdditiveBlending?(a.enable(a.BLEND),a.blendEquation(a.FUNC_ADD),a.blendFunc(a.SRC_ALPHA,a.ONE)):c===THREE.SubtractiveBlending?(a.enable(a.BLEND),a.blendEquation(a.FUNC_ADD),a.blendFunc(a.ZERO,a.ONE_MINUS_SRC_COLOR)):c===THREE.MultiplyBlending?(a.enable(a.BLEND),a.blendEquation(a.FUNC_ADD),a.blendFunc(a.ZERO,a.SRC_COLOR)):c===THREE.CustomBlending?a.enable(a.BLEND):(a.enable(a.BLEND),a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),\na.blendFuncSeparate(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA)),e=c);if(c===THREE.CustomBlending){r=r||d;s=s||n;t=t||q;if(d!==f||r!==k)a.blendEquationSeparate(b(d),b(r)),f=d,k=r;if(n!==g||q!==h||s!==l||t!==p)a.blendFuncSeparate(b(n),b(q),b(s),b(t)),g=n,h=q,l=s,p=t}else p=l=k=h=g=f=null};this.setDepthTest=function(b){q!==b&&(b?a.enable(a.DEPTH_TEST):a.disable(a.DEPTH_TEST),q=b)};this.setDepthWrite=function(b){n!==b&&(a.depthMask(b),n=b)};this.setColorWrite=function(b){t!==b&&(a.colorMask(b,\nb,b,b),t=b)};this.setDoubleSided=function(b){r!==b&&(b?a.disable(a.CULL_FACE):a.enable(a.CULL_FACE),r=b)};this.setFlipSided=function(b){s!==b&&(b?a.frontFace(a.CW):a.frontFace(a.CCW),s=b)};this.setLineWidth=function(b){b!==u&&(a.lineWidth(b),u=b)};this.setPolygonOffset=function(b,c,d){v!==b&&(b?a.enable(a.POLYGON_OFFSET_FILL):a.disable(a.POLYGON_OFFSET_FILL),v=b);!b||x===c&&D===d||(a.polygonOffset(c,d),x=c,D=d)};this.reset=function(){for(var a=0;a<d.length;a++)d[a]=0;s=r=t=n=q=e=null}};\nTHREE.LensFlarePlugin=function(a,b){var c,d,e,f,g,h,k,l,p,q,n=a.context,t,r,s,u,v,x;this.render=function(D,w,y,A){if(0!==b.length){D=new THREE.Vector3;var E=A/y,G=.5*y,F=.5*A,z=16/A,I=new THREE.Vector2(z*E,z),U=new THREE.Vector3(1,1,0),M=new THREE.Vector2(1,1);if(void 0===s){var z=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),H=new Uint16Array([0,1,2,0,2,3]);t=n.createBuffer();r=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,t);n.bufferData(n.ARRAY_BUFFER,z,n.STATIC_DRAW);n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,\nr);n.bufferData(n.ELEMENT_ARRAY_BUFFER,H,n.STATIC_DRAW);v=n.createTexture();x=n.createTexture();n.bindTexture(n.TEXTURE_2D,v);n.texImage2D(n.TEXTURE_2D,0,n.RGB,16,16,0,n.RGB,n.UNSIGNED_BYTE,null);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST);n.bindTexture(n.TEXTURE_2D,x);n.texImage2D(n.TEXTURE_2D,0,\nn.RGBA,16,16,0,n.RGBA,n.UNSIGNED_BYTE,null);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST);var z=(u=0<n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS))?{vertexShader:\"uniform lowp int renderType;\\nuniform vec3 screenPosition;\\nuniform vec2 scale;\\nuniform float rotation;\\nuniform sampler2D occlusionMap;\\nattribute vec2 position;\\nattribute vec2 uv;\\nvarying vec2 vUV;\\nvarying float vVisibility;\\nvoid main() {\\nvUV = uv;\\nvec2 pos = position;\\nif( renderType == 2 ) {\\nvec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );\\nvisibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );\\nvisibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );\\nvisibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );\\nvisibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );\\nvisibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );\\nvisibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );\\nvisibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );\\nvisibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );\\nvVisibility =        visibility.r / 9.0;\\nvVisibility *= 1.0 - visibility.g / 9.0;\\nvVisibility *=       visibility.b / 9.0;\\nvVisibility *= 1.0 - visibility.a / 9.0;\\npos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;\\npos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;\\n}\\ngl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );\\n}\",\nfragmentShader:\"uniform lowp int renderType;\\nuniform sampler2D map;\\nuniform float opacity;\\nuniform vec3 color;\\nvarying vec2 vUV;\\nvarying float vVisibility;\\nvoid main() {\\nif( renderType == 0 ) {\\ngl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );\\n} else if( renderType == 1 ) {\\ngl_FragColor = texture2D( map, vUV );\\n} else {\\nvec4 texture = texture2D( map, vUV );\\ntexture.a *= opacity * vVisibility;\\ngl_FragColor = texture;\\ngl_FragColor.rgb *= color;\\n}\\n}\"}:{vertexShader:\"uniform lowp int renderType;\\nuniform vec3 screenPosition;\\nuniform vec2 scale;\\nuniform float rotation;\\nattribute vec2 position;\\nattribute vec2 uv;\\nvarying vec2 vUV;\\nvoid main() {\\nvUV = uv;\\nvec2 pos = position;\\nif( renderType == 2 ) {\\npos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;\\npos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;\\n}\\ngl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );\\n}\",\nfragmentShader:\"precision mediump float;\\nuniform lowp int renderType;\\nuniform sampler2D map;\\nuniform sampler2D occlusionMap;\\nuniform float opacity;\\nuniform vec3 color;\\nvarying vec2 vUV;\\nvoid main() {\\nif( renderType == 0 ) {\\ngl_FragColor = vec4( texture2D( map, vUV ).rgb, 0.0 );\\n} else if( renderType == 1 ) {\\ngl_FragColor = texture2D( map, vUV );\\n} else {\\nfloat visibility = texture2D( occlusionMap, vec2( 0.5, 0.1 ) ).a;\\nvisibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) ).a;\\nvisibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) ).a;\\nvisibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) ).a;\\nvisibility = ( 1.0 - visibility / 4.0 );\\nvec4 texture = texture2D( map, vUV );\\ntexture.a *= opacity * visibility;\\ngl_FragColor = texture;\\ngl_FragColor.rgb *= color;\\n}\\n}\"},\nH=n.createProgram(),L=n.createShader(n.FRAGMENT_SHADER),P=n.createShader(n.VERTEX_SHADER),N=\"precision \"+a.getPrecision()+\" float;\\n\";n.shaderSource(L,N+z.fragmentShader);n.shaderSource(P,N+z.vertexShader);n.compileShader(L);n.compileShader(P);n.attachShader(H,L);n.attachShader(H,P);n.linkProgram(H);s=H;p=n.getAttribLocation(s,\"position\");q=n.getAttribLocation(s,\"uv\");c=n.getUniformLocation(s,\"renderType\");d=n.getUniformLocation(s,\"map\");e=n.getUniformLocation(s,\"occlusionMap\");f=n.getUniformLocation(s,\n\"opacity\");g=n.getUniformLocation(s,\"color\");h=n.getUniformLocation(s,\"scale\");k=n.getUniformLocation(s,\"rotation\");l=n.getUniformLocation(s,\"screenPosition\")}n.useProgram(s);n.enableVertexAttribArray(p);n.enableVertexAttribArray(q);n.uniform1i(e,0);n.uniform1i(d,1);n.bindBuffer(n.ARRAY_BUFFER,t);n.vertexAttribPointer(p,2,n.FLOAT,!1,16,0);n.vertexAttribPointer(q,2,n.FLOAT,!1,16,8);n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,r);n.disable(n.CULL_FACE);n.depthMask(!1);H=0;for(L=b.length;H<L;H++)if(z=16/A,I.set(z*\nE,z),P=b[H],D.set(P.matrixWorld.elements[12],P.matrixWorld.elements[13],P.matrixWorld.elements[14]),D.applyMatrix4(w.matrixWorldInverse),D.applyProjection(w.projectionMatrix),U.copy(D),M.x=U.x*G+G,M.y=U.y*F+F,u||0<M.x&&M.x<y&&0<M.y&&M.y<A){n.activeTexture(n.TEXTURE1);n.bindTexture(n.TEXTURE_2D,v);n.copyTexImage2D(n.TEXTURE_2D,0,n.RGB,M.x-8,M.y-8,16,16,0);n.uniform1i(c,0);n.uniform2f(h,I.x,I.y);n.uniform3f(l,U.x,U.y,U.z);n.disable(n.BLEND);n.enable(n.DEPTH_TEST);n.drawElements(n.TRIANGLES,6,n.UNSIGNED_SHORT,\n0);n.activeTexture(n.TEXTURE0);n.bindTexture(n.TEXTURE_2D,x);n.copyTexImage2D(n.TEXTURE_2D,0,n.RGBA,M.x-8,M.y-8,16,16,0);n.uniform1i(c,1);n.disable(n.DEPTH_TEST);n.activeTexture(n.TEXTURE1);n.bindTexture(n.TEXTURE_2D,v);n.drawElements(n.TRIANGLES,6,n.UNSIGNED_SHORT,0);P.positionScreen.copy(U);P.customUpdateCallback?P.customUpdateCallback(P):P.updateLensFlares();n.uniform1i(c,2);n.enable(n.BLEND);for(var N=0,R=P.lensFlares.length;N<R;N++){var V=P.lensFlares[N];.001<V.opacity&&.001<V.scale&&(U.x=V.x,\nU.y=V.y,U.z=V.z,z=V.size*V.scale/A,I.x=z*E,I.y=z,n.uniform3f(l,U.x,U.y,U.z),n.uniform2f(h,I.x,I.y),n.uniform1f(k,V.rotation),n.uniform1f(f,V.opacity),n.uniform3f(g,V.color.r,V.color.g,V.color.b),a.state.setBlending(V.blending,V.blendEquation,V.blendSrc,V.blendDst),a.setTexture(V.texture,1),n.drawElements(n.TRIANGLES,6,n.UNSIGNED_SHORT,0))}}n.enable(n.CULL_FACE);n.enable(n.DEPTH_TEST);n.depthMask(!0);a.resetGLState()}}};\nTHREE.ShadowMapPlugin=function(a,b,c,d){function e(a,b,d){if(b.visible){var f=c[b.id];if(f&&b.castShadow&&(!1===b.frustumCulled||!0===p.intersectsObject(b)))for(var g=0,h=f.length;g<h;g++){var k=f[g];b._modelViewMatrix.multiplyMatrices(d.matrixWorldInverse,b.matrixWorld);s.push(k)}g=0;for(h=b.children.length;g<h;g++)e(a,b.children[g],d)}}var f=a.context,g,h,k,l,p=new THREE.Frustum,q=new THREE.Matrix4,n=new THREE.Vector3,t=new THREE.Vector3,r=new THREE.Vector3,s=[],u=THREE.ShaderLib.depthRGBA,v=THREE.UniformsUtils.clone(u.uniforms);\ng=new THREE.ShaderMaterial({uniforms:v,vertexShader:u.vertexShader,fragmentShader:u.fragmentShader});h=new THREE.ShaderMaterial({uniforms:v,vertexShader:u.vertexShader,fragmentShader:u.fragmentShader,morphTargets:!0});k=new THREE.ShaderMaterial({uniforms:v,vertexShader:u.vertexShader,fragmentShader:u.fragmentShader,skinning:!0});l=new THREE.ShaderMaterial({uniforms:v,vertexShader:u.vertexShader,fragmentShader:u.fragmentShader,morphTargets:!0,skinning:!0});g._shadowPass=!0;h._shadowPass=!0;k._shadowPass=\n!0;l._shadowPass=!0;this.render=function(c,v){if(!1!==a.shadowMapEnabled){var u,y,A,E,G,F,z,I,U=[];E=0;f.clearColor(1,1,1,1);f.disable(f.BLEND);f.enable(f.CULL_FACE);f.frontFace(f.CCW);a.shadowMapCullFace===THREE.CullFaceFront?f.cullFace(f.FRONT):f.cullFace(f.BACK);a.state.setDepthTest(!0);u=0;for(y=b.length;u<y;u++)if(A=b[u],A.castShadow)if(A instanceof THREE.DirectionalLight&&A.shadowCascade)for(G=0;G<A.shadowCascadeCount;G++){var M;if(A.shadowCascadeArray[G])M=A.shadowCascadeArray[G];else{z=A;\nvar H=G;M=new THREE.DirectionalLight;M.isVirtual=!0;M.onlyShadow=!0;M.castShadow=!0;M.shadowCameraNear=z.shadowCameraNear;M.shadowCameraFar=z.shadowCameraFar;M.shadowCameraLeft=z.shadowCameraLeft;M.shadowCameraRight=z.shadowCameraRight;M.shadowCameraBottom=z.shadowCameraBottom;M.shadowCameraTop=z.shadowCameraTop;M.shadowCameraVisible=z.shadowCameraVisible;M.shadowDarkness=z.shadowDarkness;M.shadowBias=z.shadowCascadeBias[H];M.shadowMapWidth=z.shadowCascadeWidth[H];M.shadowMapHeight=z.shadowCascadeHeight[H];\nM.pointsWorld=[];M.pointsFrustum=[];I=M.pointsWorld;F=M.pointsFrustum;for(var L=0;8>L;L++)I[L]=new THREE.Vector3,F[L]=new THREE.Vector3;I=z.shadowCascadeNearZ[H];z=z.shadowCascadeFarZ[H];F[0].set(-1,-1,I);F[1].set(1,-1,I);F[2].set(-1,1,I);F[3].set(1,1,I);F[4].set(-1,-1,z);F[5].set(1,-1,z);F[6].set(-1,1,z);F[7].set(1,1,z);M.originalCamera=v;F=new THREE.Gyroscope;F.position.copy(A.shadowCascadeOffset);F.add(M);F.add(M.target);v.add(F);A.shadowCascadeArray[G]=M}H=A;I=G;z=H.shadowCascadeArray[I];z.position.copy(H.position);\nz.target.position.copy(H.target.position);z.lookAt(z.target);z.shadowCameraVisible=H.shadowCameraVisible;z.shadowDarkness=H.shadowDarkness;z.shadowBias=H.shadowCascadeBias[I];F=H.shadowCascadeNearZ[I];H=H.shadowCascadeFarZ[I];z=z.pointsFrustum;z[0].z=F;z[1].z=F;z[2].z=F;z[3].z=F;z[4].z=H;z[5].z=H;z[6].z=H;z[7].z=H;U[E]=M;E++}else U[E]=A,E++;u=0;for(y=U.length;u<y;u++){A=U[u];A.shadowMap||(G=THREE.LinearFilter,a.shadowMapType===THREE.PCFSoftShadowMap&&(G=THREE.NearestFilter),A.shadowMap=new THREE.WebGLRenderTarget(A.shadowMapWidth,\nA.shadowMapHeight,{minFilter:G,magFilter:G,format:THREE.RGBAFormat}),A.shadowMapSize=new THREE.Vector2(A.shadowMapWidth,A.shadowMapHeight),A.shadowMatrix=new THREE.Matrix4);if(!A.shadowCamera){if(A instanceof THREE.SpotLight)A.shadowCamera=new THREE.PerspectiveCamera(A.shadowCameraFov,A.shadowMapWidth/A.shadowMapHeight,A.shadowCameraNear,A.shadowCameraFar);else if(A instanceof THREE.DirectionalLight)A.shadowCamera=new THREE.OrthographicCamera(A.shadowCameraLeft,A.shadowCameraRight,A.shadowCameraTop,\nA.shadowCameraBottom,A.shadowCameraNear,A.shadowCameraFar);else{THREE.error(\"THREE.ShadowMapPlugin: Unsupported light type for shadow\",A);continue}c.add(A.shadowCamera);!0===c.autoUpdate&&c.updateMatrixWorld()}A.shadowCameraVisible&&!A.cameraHelper&&(A.cameraHelper=new THREE.CameraHelper(A.shadowCamera),c.add(A.cameraHelper));if(A.isVirtual&&M.originalCamera==v){G=v;E=A.shadowCamera;F=A.pointsFrustum;z=A.pointsWorld;n.set(Infinity,Infinity,Infinity);t.set(-Infinity,-Infinity,-Infinity);for(H=0;8>\nH;H++)I=z[H],I.copy(F[H]),I.unproject(G),I.applyMatrix4(E.matrixWorldInverse),I.x<n.x&&(n.x=I.x),I.x>t.x&&(t.x=I.x),I.y<n.y&&(n.y=I.y),I.y>t.y&&(t.y=I.y),I.z<n.z&&(n.z=I.z),I.z>t.z&&(t.z=I.z);E.left=n.x;E.right=t.x;E.top=t.y;E.bottom=n.y;E.updateProjectionMatrix()}E=A.shadowMap;F=A.shadowMatrix;G=A.shadowCamera;G.position.setFromMatrixPosition(A.matrixWorld);r.setFromMatrixPosition(A.target.matrixWorld);G.lookAt(r);G.updateMatrixWorld();G.matrixWorldInverse.getInverse(G.matrixWorld);A.cameraHelper&&\n(A.cameraHelper.visible=A.shadowCameraVisible);A.shadowCameraVisible&&A.cameraHelper.update();F.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1);F.multiply(G.projectionMatrix);F.multiply(G.matrixWorldInverse);q.multiplyMatrices(G.projectionMatrix,G.matrixWorldInverse);p.setFromMatrix(q);a.setRenderTarget(E);a.clear();s.length=0;e(c,c,G);A=0;for(E=s.length;A<E;A++)z=s[A],F=z.object,z=z.buffer,H=F.material instanceof THREE.MeshFaceMaterial?F.material.materials[0]:F.material,I=void 0!==F.geometry.morphTargets&&\n0<F.geometry.morphTargets.length&&H.morphTargets,L=F instanceof THREE.SkinnedMesh&&H.skinning,I=F.customDepthMaterial?F.customDepthMaterial:L?I?l:k:I?h:g,a.setMaterialFaces(H),z instanceof THREE.BufferGeometry?a.renderBufferDirect(G,b,null,I,z,F):a.renderBuffer(G,b,null,I,z,F);A=0;for(E=d.length;A<E;A++)z=d[A],F=z.object,F.visible&&F.castShadow&&(F._modelViewMatrix.multiplyMatrices(G.matrixWorldInverse,F.matrixWorld),a.renderImmediateObject(G,b,null,g,F))}u=a.getClearColor();y=a.getClearAlpha();f.clearColor(u.r,\nu.g,u.b,y);f.enable(f.BLEND);a.shadowMapCullFace===THREE.CullFaceFront&&f.cullFace(f.BACK);a.resetGLState()}}};\nTHREE.SpritePlugin=function(a,b){var c,d,e,f,g,h,k,l,p,q,n,t,r,s,u,v,x;function D(a,b){return a.z!==b.z?b.z-a.z:b.id-a.id}var w=a.context,y,A,E,G,F=new THREE.Vector3,z=new THREE.Quaternion,I=new THREE.Vector3;this.render=function(U,M){if(0!==b.length){if(void 0===E){var H=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),L=new Uint16Array([0,1,2,0,2,3]);y=w.createBuffer();A=w.createBuffer();w.bindBuffer(w.ARRAY_BUFFER,y);w.bufferData(w.ARRAY_BUFFER,H,w.STATIC_DRAW);w.bindBuffer(w.ELEMENT_ARRAY_BUFFER,\nA);w.bufferData(w.ELEMENT_ARRAY_BUFFER,L,w.STATIC_DRAW);var H=w.createProgram(),L=w.createShader(w.VERTEX_SHADER),P=w.createShader(w.FRAGMENT_SHADER);w.shaderSource(L,[\"precision \"+a.getPrecision()+\" float;\",\"uniform mat4 modelViewMatrix;\\nuniform mat4 projectionMatrix;\\nuniform float rotation;\\nuniform vec2 scale;\\nuniform vec2 uvOffset;\\nuniform vec2 uvScale;\\nattribute vec2 position;\\nattribute vec2 uv;\\nvarying vec2 vUV;\\nvoid main() {\\nvUV = uvOffset + uv * uvScale;\\nvec2 alignedPosition = position * scale;\\nvec2 rotatedPosition;\\nrotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\\nrotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\\nvec4 finalPosition;\\nfinalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\\nfinalPosition.xy += rotatedPosition;\\nfinalPosition = projectionMatrix * finalPosition;\\ngl_Position = finalPosition;\\n}\"].join(\"\\n\"));\nw.shaderSource(P,[\"precision \"+a.getPrecision()+\" float;\",\"uniform vec3 color;\\nuniform sampler2D map;\\nuniform float opacity;\\nuniform int fogType;\\nuniform vec3 fogColor;\\nuniform float fogDensity;\\nuniform float fogNear;\\nuniform float fogFar;\\nuniform float alphaTest;\\nvarying vec2 vUV;\\nvoid main() {\\nvec4 texture = texture2D( map, vUV );\\nif ( texture.a < alphaTest ) discard;\\ngl_FragColor = vec4( color * texture.xyz, texture.a * opacity );\\nif ( fogType > 0 ) {\\nfloat depth = gl_FragCoord.z / gl_FragCoord.w;\\nfloat fogFactor = 0.0;\\nif ( fogType == 1 ) {\\nfogFactor = smoothstep( fogNear, fogFar, depth );\\n} else {\\nconst float LOG2 = 1.442695;\\nfloat fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );\\nfogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );\\n}\\ngl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\\n}\\n}\"].join(\"\\n\"));\nw.compileShader(L);w.compileShader(P);w.attachShader(H,L);w.attachShader(H,P);w.linkProgram(H);E=H;v=w.getAttribLocation(E,\"position\");x=w.getAttribLocation(E,\"uv\");c=w.getUniformLocation(E,\"uvOffset\");d=w.getUniformLocation(E,\"uvScale\");e=w.getUniformLocation(E,\"rotation\");f=w.getUniformLocation(E,\"scale\");g=w.getUniformLocation(E,\"color\");h=w.getUniformLocation(E,\"map\");k=w.getUniformLocation(E,\"opacity\");l=w.getUniformLocation(E,\"modelViewMatrix\");p=w.getUniformLocation(E,\"projectionMatrix\");q=\nw.getUniformLocation(E,\"fogType\");n=w.getUniformLocation(E,\"fogDensity\");t=w.getUniformLocation(E,\"fogNear\");r=w.getUniformLocation(E,\"fogFar\");s=w.getUniformLocation(E,\"fogColor\");u=w.getUniformLocation(E,\"alphaTest\");H=document.createElement(\"canvas\");H.width=8;H.height=8;L=H.getContext(\"2d\");L.fillStyle=\"white\";L.fillRect(0,0,8,8);G=new THREE.Texture(H);G.needsUpdate=!0}w.useProgram(E);w.enableVertexAttribArray(v);w.enableVertexAttribArray(x);w.disable(w.CULL_FACE);w.enable(w.BLEND);w.bindBuffer(w.ARRAY_BUFFER,\ny);w.vertexAttribPointer(v,2,w.FLOAT,!1,16,0);w.vertexAttribPointer(x,2,w.FLOAT,!1,16,8);w.bindBuffer(w.ELEMENT_ARRAY_BUFFER,A);w.uniformMatrix4fv(p,!1,M.projectionMatrix.elements);w.activeTexture(w.TEXTURE0);w.uniform1i(h,0);L=H=0;(P=U.fog)?(w.uniform3f(s,P.color.r,P.color.g,P.color.b),P instanceof THREE.Fog?(w.uniform1f(t,P.near),w.uniform1f(r,P.far),w.uniform1i(q,1),L=H=1):P instanceof THREE.FogExp2&&(w.uniform1f(n,P.density),w.uniform1i(q,2),L=H=2)):(w.uniform1i(q,0),L=H=0);for(var P=0,N=b.length;P<\nN;P++){var R=b[P];R._modelViewMatrix.multiplyMatrices(M.matrixWorldInverse,R.matrixWorld);R.z=-R._modelViewMatrix.elements[14]}b.sort(D);for(var V=[],P=0,N=b.length;P<N;P++){var R=b[P],J=R.material;w.uniform1f(u,J.alphaTest);w.uniformMatrix4fv(l,!1,R._modelViewMatrix.elements);R.matrixWorld.decompose(F,z,I);V[0]=I.x;V[1]=I.y;R=0;U.fog&&J.fog&&(R=L);H!==R&&(w.uniform1i(q,R),H=R);null!==J.map?(w.uniform2f(c,J.map.offset.x,J.map.offset.y),w.uniform2f(d,J.map.repeat.x,J.map.repeat.y)):(w.uniform2f(c,\n0,0),w.uniform2f(d,1,1));w.uniform1f(k,J.opacity);w.uniform3f(g,J.color.r,J.color.g,J.color.b);w.uniform1f(e,J.rotation);w.uniform2fv(f,V);a.state.setBlending(J.blending,J.blendEquation,J.blendSrc,J.blendDst);a.state.setDepthTest(J.depthTest);a.state.setDepthWrite(J.depthWrite);J.map&&J.map.image&&J.map.image.width?a.setTexture(J.map,0):a.setTexture(G,0);w.drawElements(w.TRIANGLES,6,w.UNSIGNED_SHORT,0)}w.enable(w.CULL_FACE);a.resetGLState()}}};\nTHREE.GeometryUtils={merge:function(a,b,c){THREE.warn(\"THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.\");var d;b instanceof THREE.Mesh&&(b.matrixAutoUpdate&&b.updateMatrix(),d=b.matrix,b=b.geometry);a.merge(b,d,c)},center:function(a){THREE.warn(\"THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead.\");return a.center()}};\nTHREE.ImageUtils={crossOrigin:void 0,loadTexture:function(a,b,c,d){var e=new THREE.ImageLoader;e.crossOrigin=this.crossOrigin;var f=new THREE.Texture(void 0,b);e.load(a,function(a){f.image=a;f.needsUpdate=!0;c&&c(f)},void 0,function(a){d&&d(a)});f.sourceFile=a;return f},loadTextureCube:function(a,b,c,d){var e=new THREE.ImageLoader;e.crossOrigin=this.crossOrigin;var f=new THREE.CubeTexture([],b);f.flipY=!1;var g=0;b=function(b){e.load(a[b],function(a){f.images[b]=a;g+=1;6===g&&(f.needsUpdate=!0,c&&\nc(f))},void 0,d)};for(var h=0,k=a.length;h<k;++h)b(h);return f},loadCompressedTexture:function(){THREE.error(\"THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.\")},loadCompressedTextureCube:function(){THREE.error(\"THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.\")},getNormalMap:function(a,b){var c=function(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);return[a[0]/b,a[1]/b,a[2]/b]};b|=1;var d=a.width,e=a.height,f=document.createElement(\"canvas\");\nf.width=d;f.height=e;var g=f.getContext(\"2d\");g.drawImage(a,0,0);for(var h=g.getImageData(0,0,d,e).data,k=g.createImageData(d,e),l=k.data,p=0;p<d;p++)for(var q=0;q<e;q++){var n=0>q-1?0:q-1,t=q+1>e-1?e-1:q+1,r=0>p-1?0:p-1,s=p+1>d-1?d-1:p+1,u=[],v=[0,0,h[4*(q*d+p)]/255*b];u.push([-1,0,h[4*(q*d+r)]/255*b]);u.push([-1,-1,h[4*(n*d+r)]/255*b]);u.push([0,-1,h[4*(n*d+p)]/255*b]);u.push([1,-1,h[4*(n*d+s)]/255*b]);u.push([1,0,h[4*(q*d+s)]/255*b]);u.push([1,1,h[4*(t*d+s)]/255*b]);u.push([0,1,h[4*(t*d+p)]/255*\nb]);u.push([-1,1,h[4*(t*d+r)]/255*b]);n=[];r=u.length;for(t=0;t<r;t++){var s=u[t],x=u[(t+1)%r],s=[s[0]-v[0],s[1]-v[1],s[2]-v[2]],x=[x[0]-v[0],x[1]-v[1],x[2]-v[2]];n.push(c([s[1]*x[2]-s[2]*x[1],s[2]*x[0]-s[0]*x[2],s[0]*x[1]-s[1]*x[0]]))}u=[0,0,0];for(t=0;t<n.length;t++)u[0]+=n[t][0],u[1]+=n[t][1],u[2]+=n[t][2];u[0]/=n.length;u[1]/=n.length;u[2]/=n.length;v=4*(q*d+p);l[v]=(u[0]+1)/2*255|0;l[v+1]=(u[1]+1)/2*255|0;l[v+2]=255*u[2]|0;l[v+3]=255}g.putImageData(k,0,0);return f},generateDataTexture:function(a,\nb,c){var d=a*b,e=new Uint8Array(3*d),f=Math.floor(255*c.r),g=Math.floor(255*c.g);c=Math.floor(255*c.b);for(var h=0;h<d;h++)e[3*h]=f,e[3*h+1]=g,e[3*h+2]=c;a=new THREE.DataTexture(e,a,b,THREE.RGBFormat);a.needsUpdate=!0;return a}};\nTHREE.SceneUtils={createMultiMaterialObject:function(a,b){for(var c=new THREE.Object3D,d=0,e=b.length;d<e;d++)c.add(new THREE.Mesh(a,b[d]));return c},detach:function(a,b,c){a.applyMatrix(b.matrixWorld);b.remove(a);c.add(a)},attach:function(a,b,c){var d=new THREE.Matrix4;d.getInverse(c.matrixWorld);a.applyMatrix(d);b.remove(a);c.add(a)}};\nTHREE.FontUtils={faces:{},face:\"helvetiker\",weight:\"normal\",style:\"normal\",size:150,divisions:10,getFace:function(){try{return this.faces[this.face][this.weight][this.style]}catch(a){throw\"The font \"+this.face+\" with \"+this.weight+\" weight and \"+this.style+\" style is missing.\";}},loadFace:function(a){var b=a.familyName.toLowerCase();this.faces[b]=this.faces[b]||{};this.faces[b][a.cssFontWeight]=this.faces[b][a.cssFontWeight]||{};this.faces[b][a.cssFontWeight][a.cssFontStyle]=a;return this.faces[b][a.cssFontWeight][a.cssFontStyle]=\na},drawText:function(a){var b=this.getFace(),c=this.size/b.resolution,d=0,e=String(a).split(\"\"),f=e.length,g=[];for(a=0;a<f;a++){var h=new THREE.Path,h=this.extractGlyphPoints(e[a],b,c,d,h),d=d+h.offset;g.push(h.path)}return{paths:g,offset:d/2}},extractGlyphPoints:function(a,b,c,d,e){var f=[],g,h,k,l,p,q,n,t,r,s,u,v=b.glyphs[a]||b.glyphs[\"?\"];if(v){if(v.o)for(b=v._cachedOutline||(v._cachedOutline=v.o.split(\" \")),l=b.length,a=0;a<l;)switch(k=b[a++],k){case \"m\":k=b[a++]*c+d;p=b[a++]*c;e.moveTo(k,p);\nbreak;case \"l\":k=b[a++]*c+d;p=b[a++]*c;e.lineTo(k,p);break;case \"q\":k=b[a++]*c+d;p=b[a++]*c;t=b[a++]*c+d;r=b[a++]*c;e.quadraticCurveTo(t,r,k,p);if(g=f[f.length-1])for(q=g.x,n=g.y,g=1,h=this.divisions;g<=h;g++){var x=g/h;THREE.Shape.Utils.b2(x,q,t,k);THREE.Shape.Utils.b2(x,n,r,p)}break;case \"b\":if(k=b[a++]*c+d,p=b[a++]*c,t=b[a++]*c+d,r=b[a++]*c,s=b[a++]*c+d,u=b[a++]*c,e.bezierCurveTo(t,r,s,u,k,p),g=f[f.length-1])for(q=g.x,n=g.y,g=1,h=this.divisions;g<=h;g++)x=g/h,THREE.Shape.Utils.b3(x,q,t,s,k),THREE.Shape.Utils.b3(x,\nn,r,u,p)}return{offset:v.ha*c,path:e}}}};\nTHREE.FontUtils.generateShapes=function(a,b){b=b||{};var c=void 0!==b.curveSegments?b.curveSegments:4,d=void 0!==b.font?b.font:\"helvetiker\",e=void 0!==b.weight?b.weight:\"normal\",f=void 0!==b.style?b.style:\"normal\";THREE.FontUtils.size=void 0!==b.size?b.size:100;THREE.FontUtils.divisions=c;THREE.FontUtils.face=d;THREE.FontUtils.weight=e;THREE.FontUtils.style=f;c=THREE.FontUtils.drawText(a).paths;d=[];e=0;for(f=c.length;e<f;e++)Array.prototype.push.apply(d,c[e].toShapes());return d};\n(function(a){var b=function(a){for(var b=a.length,e=0,f=b-1,g=0;g<b;f=g++)e+=a[f].x*a[g].y-a[g].x*a[f].y;return.5*e};a.Triangulate=function(a,d){var e=a.length;if(3>e)return null;var f=[],g=[],h=[],k,l,p;if(0<b(a))for(l=0;l<e;l++)g[l]=l;else for(l=0;l<e;l++)g[l]=e-1-l;var q=2*e;for(l=e-1;2<e;){if(0>=q--){THREE.warn(\"THREE.FontUtils: Warning, unable to triangulate polygon! in Triangulate.process()\");break}k=l;e<=k&&(k=0);l=k+1;e<=l&&(l=0);p=l+1;e<=p&&(p=0);var n;a:{var t=n=void 0,r=void 0,s=void 0,\nu=void 0,v=void 0,x=void 0,D=void 0,w=void 0,t=a[g[k]].x,r=a[g[k]].y,s=a[g[l]].x,u=a[g[l]].y,v=a[g[p]].x,x=a[g[p]].y;if(1E-10>(s-t)*(x-r)-(u-r)*(v-t))n=!1;else{var y=void 0,A=void 0,E=void 0,G=void 0,F=void 0,z=void 0,I=void 0,U=void 0,M=void 0,H=void 0,M=U=I=w=D=void 0,y=v-s,A=x-u,E=t-v,G=r-x,F=s-t,z=u-r;for(n=0;n<e;n++)if(D=a[g[n]].x,w=a[g[n]].y,!(D===t&&w===r||D===s&&w===u||D===v&&w===x)&&(I=D-t,U=w-r,M=D-s,H=w-u,D-=v,w-=x,M=y*H-A*M,I=F*U-z*I,U=E*w-G*D,-1E-10<=M&&-1E-10<=U&&-1E-10<=I)){n=!1;break a}n=\n!0}}if(n){f.push([a[g[k]],a[g[l]],a[g[p]]]);h.push([g[k],g[l],g[p]]);k=l;for(p=l+1;p<e;k++,p++)g[k]=g[p];e--;q=2*e}}return d?h:f};a.Triangulate.area=b;return a})(THREE.FontUtils);self._typeface_js={faces:THREE.FontUtils.faces,loadFace:THREE.FontUtils.loadFace};THREE.typeface_js=self._typeface_js;\nTHREE.Audio=function(a){THREE.Object3D.call(this);this.type=\"Audio\";this.context=a.context;this.source=this.context.createBufferSource();this.source.onended=this.onEnded.bind(this);this.gain=this.context.createGain();this.gain.connect(this.context.destination);this.panner=this.context.createPanner();this.panner.connect(this.gain);this.autoplay=!1;this.startTime=0;this.isPlaying=!1};THREE.Audio.prototype=Object.create(THREE.Object3D.prototype);THREE.Audio.prototype.constructor=THREE.Audio;\nTHREE.Audio.prototype.load=function(a){var b=this,c=new XMLHttpRequest;c.open(\"GET\",a,!0);c.responseType=\"arraybuffer\";c.onload=function(a){b.context.decodeAudioData(this.response,function(a){b.source.buffer=a;b.autoplay&&b.play()})};c.send();return this};\nTHREE.Audio.prototype.play=function(){if(!0===this.isPlaying)THREE.warn(\"THREE.Audio: Audio is already playing.\");else{var a=this.context.createBufferSource();a.buffer=this.source.buffer;a.loop=this.source.loop;a.onended=this.source.onended;a.connect(this.panner);a.start(0,this.startTime);this.isPlaying=!0;this.source=a}};THREE.Audio.prototype.pause=function(){this.source.stop();this.startTime=this.context.currentTime};THREE.Audio.prototype.stop=function(){this.source.stop();this.startTime=0};\nTHREE.Audio.prototype.onEnded=function(){this.isPlaying=!1};THREE.Audio.prototype.setLoop=function(a){this.source.loop=a};THREE.Audio.prototype.setRefDistance=function(a){this.panner.refDistance=a};THREE.Audio.prototype.setRolloffFactor=function(a){this.panner.rolloffFactor=a};THREE.Audio.prototype.setVolume=function(a){this.gain.gain.value=a};\nTHREE.Audio.prototype.updateMatrixWorld=function(){var a=new THREE.Vector3;return function(b){THREE.Object3D.prototype.updateMatrixWorld.call(this,b);a.setFromMatrixPosition(this.matrixWorld);this.panner.setPosition(a.x,a.y,a.z)}}();THREE.AudioListener=function(){THREE.Object3D.call(this);this.type=\"AudioListener\";this.context=new (window.AudioContext||window.webkitAudioContext)};THREE.AudioListener.prototype=Object.create(THREE.Object3D.prototype);THREE.AudioListener.prototype.constructor=THREE.AudioListener;\nTHREE.AudioListener.prototype.updateMatrixWorld=function(){var a=new THREE.Vector3,b=new THREE.Quaternion,c=new THREE.Vector3,d=new THREE.Vector3,e=new THREE.Vector3,f=new THREE.Vector3;return function(g){THREE.Object3D.prototype.updateMatrixWorld.call(this,g);g=this.context.listener;var h=this.up;this.matrixWorld.decompose(a,b,c);d.set(0,0,-1).applyQuaternion(b);e.subVectors(a,f);g.setPosition(a.x,a.y,a.z);g.setOrientation(d.x,d.y,d.z,h.x,h.y,h.z);g.setVelocity(e.x,e.y,e.z);f.copy(a)}}();\nTHREE.Curve=function(){};THREE.Curve.prototype.getPoint=function(a){THREE.warn(\"THREE.Curve: Warning, getPoint() not implemented!\");return null};THREE.Curve.prototype.getPointAt=function(a){a=this.getUtoTmapping(a);return this.getPoint(a)};THREE.Curve.prototype.getPoints=function(a){a||(a=5);var b,c=[];for(b=0;b<=a;b++)c.push(this.getPoint(b/a));return c};THREE.Curve.prototype.getSpacedPoints=function(a){a||(a=5);var b,c=[];for(b=0;b<=a;b++)c.push(this.getPointAt(b/a));return c};\nTHREE.Curve.prototype.getLength=function(){var a=this.getLengths();return a[a.length-1]};THREE.Curve.prototype.getLengths=function(a){a||(a=this.__arcLengthDivisions?this.__arcLengthDivisions:200);if(this.cacheArcLengths&&this.cacheArcLengths.length==a+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var b=[],c,d=this.getPoint(0),e,f=0;b.push(0);for(e=1;e<=a;e++)c=this.getPoint(e/a),f+=c.distanceTo(d),b.push(f),d=c;return this.cacheArcLengths=b};\nTHREE.Curve.prototype.updateArcLengths=function(){this.needsUpdate=!0;this.getLengths()};THREE.Curve.prototype.getUtoTmapping=function(a,b){var c=this.getLengths(),d=0,e=c.length,f;f=b?b:a*c[e-1];for(var g=0,h=e-1,k;g<=h;)if(d=Math.floor(g+(h-g)/2),k=c[d]-f,0>k)g=d+1;else if(0<k)h=d-1;else{h=d;break}d=h;if(c[d]==f)return d/(e-1);g=c[d];return c=(d+(f-g)/(c[d+1]-g))/(e-1)};THREE.Curve.prototype.getTangent=function(a){var b=a-1E-4;a+=1E-4;0>b&&(b=0);1<a&&(a=1);b=this.getPoint(b);return this.getPoint(a).clone().sub(b).normalize()};\nTHREE.Curve.prototype.getTangentAt=function(a){a=this.getUtoTmapping(a);return this.getTangent(a)};\nTHREE.Curve.Utils={tangentQuadraticBezier:function(a,b,c,d){return 2*(1-a)*(c-b)+2*a*(d-c)},tangentCubicBezier:function(a,b,c,d,e){return-3*b*(1-a)*(1-a)+3*c*(1-a)*(1-a)-6*a*c*(1-a)+6*a*d*(1-a)-3*a*a*d+3*a*a*e},tangentSpline:function(a,b,c,d,e){return 6*a*a-6*a+(3*a*a-4*a+1)+(-6*a*a+6*a)+(3*a*a-2*a)},interpolate:function(a,b,c,d,e){a=.5*(c-a);d=.5*(d-b);var f=e*e;return(2*b-2*c+a+d)*e*f+(-3*b+3*c-2*a-d)*f+a*e+b}};\nTHREE.Curve.create=function(a,b){a.prototype=Object.create(THREE.Curve.prototype);a.prototype.constructor=a;a.prototype.getPoint=b;return a};THREE.CurvePath=function(){this.curves=[];this.bends=[];this.autoClose=!1};THREE.CurvePath.prototype=Object.create(THREE.Curve.prototype);THREE.CurvePath.prototype.constructor=THREE.CurvePath;THREE.CurvePath.prototype.add=function(a){this.curves.push(a)};THREE.CurvePath.prototype.checkConnection=function(){};\nTHREE.CurvePath.prototype.closePath=function(){var a=this.curves[0].getPoint(0),b=this.curves[this.curves.length-1].getPoint(1);a.equals(b)||this.curves.push(new THREE.LineCurve(b,a))};THREE.CurvePath.prototype.getPoint=function(a){var b=a*this.getLength(),c=this.getCurveLengths();for(a=0;a<c.length;){if(c[a]>=b)return b=c[a]-b,a=this.curves[a],b=1-b/a.getLength(),a.getPointAt(b);a++}return null};THREE.CurvePath.prototype.getLength=function(){var a=this.getCurveLengths();return a[a.length-1]};\nTHREE.CurvePath.prototype.getCurveLengths=function(){if(this.cacheLengths&&this.cacheLengths.length==this.curves.length)return this.cacheLengths;var a=[],b=0,c,d=this.curves.length;for(c=0;c<d;c++)b+=this.curves[c].getLength(),a.push(b);return this.cacheLengths=a};\nTHREE.CurvePath.prototype.getBoundingBox=function(){var a=this.getPoints(),b,c,d,e,f,g;b=c=Number.NEGATIVE_INFINITY;e=f=Number.POSITIVE_INFINITY;var h,k,l,p,q=a[0]instanceof THREE.Vector3;p=q?new THREE.Vector3:new THREE.Vector2;k=0;for(l=a.length;k<l;k++)h=a[k],h.x>b?b=h.x:h.x<e&&(e=h.x),h.y>c?c=h.y:h.y<f&&(f=h.y),q&&(h.z>d?d=h.z:h.z<g&&(g=h.z)),p.add(h);a={minX:e,minY:f,maxX:b,maxY:c};q&&(a.maxZ=d,a.minZ=g);return a};\nTHREE.CurvePath.prototype.createPointsGeometry=function(a){a=this.getPoints(a,!0);return this.createGeometry(a)};THREE.CurvePath.prototype.createSpacedPointsGeometry=function(a){a=this.getSpacedPoints(a,!0);return this.createGeometry(a)};THREE.CurvePath.prototype.createGeometry=function(a){for(var b=new THREE.Geometry,c=0;c<a.length;c++)b.vertices.push(new THREE.Vector3(a[c].x,a[c].y,a[c].z||0));return b};THREE.CurvePath.prototype.addWrapPath=function(a){this.bends.push(a)};\nTHREE.CurvePath.prototype.getTransformedPoints=function(a,b){var c=this.getPoints(a),d,e;b||(b=this.bends);d=0;for(e=b.length;d<e;d++)c=this.getWrapPoints(c,b[d]);return c};THREE.CurvePath.prototype.getTransformedSpacedPoints=function(a,b){var c=this.getSpacedPoints(a),d,e;b||(b=this.bends);d=0;for(e=b.length;d<e;d++)c=this.getWrapPoints(c,b[d]);return c};\nTHREE.CurvePath.prototype.getWrapPoints=function(a,b){var c=this.getBoundingBox(),d,e,f,g,h,k;d=0;for(e=a.length;d<e;d++)f=a[d],g=f.x,h=f.y,k=g/c.maxX,k=b.getUtoTmapping(k,g),g=b.getPoint(k),k=b.getTangent(k),k.set(-k.y,k.x).multiplyScalar(h),f.x=g.x+k.x,f.y=g.y+k.y;return a};THREE.Gyroscope=function(){THREE.Object3D.call(this)};THREE.Gyroscope.prototype=Object.create(THREE.Object3D.prototype);THREE.Gyroscope.prototype.constructor=THREE.Gyroscope;\nTHREE.Gyroscope.prototype.updateMatrixWorld=function(){var a=new THREE.Vector3,b=new THREE.Quaternion,c=new THREE.Vector3,d=new THREE.Vector3,e=new THREE.Quaternion,f=new THREE.Vector3;return function(g){this.matrixAutoUpdate&&this.updateMatrix();if(this.matrixWorldNeedsUpdate||g)this.parent?(this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorld.decompose(d,e,f),this.matrix.decompose(a,b,c),this.matrixWorld.compose(d,b,f)):this.matrixWorld.copy(this.matrix),this.matrixWorldNeedsUpdate=\n!1,g=!0;for(var h=0,k=this.children.length;h<k;h++)this.children[h].updateMatrixWorld(g)}}();THREE.Path=function(a){THREE.CurvePath.call(this);this.actions=[];a&&this.fromPoints(a)};THREE.Path.prototype=Object.create(THREE.CurvePath.prototype);THREE.Path.prototype.constructor=THREE.Path;THREE.PathActions={MOVE_TO:\"moveTo\",LINE_TO:\"lineTo\",QUADRATIC_CURVE_TO:\"quadraticCurveTo\",BEZIER_CURVE_TO:\"bezierCurveTo\",CSPLINE_THRU:\"splineThru\",ARC:\"arc\",ELLIPSE:\"ellipse\"};\nTHREE.Path.prototype.fromPoints=function(a){this.moveTo(a[0].x,a[0].y);for(var b=1,c=a.length;b<c;b++)this.lineTo(a[b].x,a[b].y)};THREE.Path.prototype.moveTo=function(a,b){var c=Array.prototype.slice.call(arguments);this.actions.push({action:THREE.PathActions.MOVE_TO,args:c})};\nTHREE.Path.prototype.lineTo=function(a,b){var c=Array.prototype.slice.call(arguments),d=this.actions[this.actions.length-1].args,d=new THREE.LineCurve(new THREE.Vector2(d[d.length-2],d[d.length-1]),new THREE.Vector2(a,b));this.curves.push(d);this.actions.push({action:THREE.PathActions.LINE_TO,args:c})};\nTHREE.Path.prototype.quadraticCurveTo=function(a,b,c,d){var e=Array.prototype.slice.call(arguments),f=this.actions[this.actions.length-1].args,f=new THREE.QuadraticBezierCurve(new THREE.Vector2(f[f.length-2],f[f.length-1]),new THREE.Vector2(a,b),new THREE.Vector2(c,d));this.curves.push(f);this.actions.push({action:THREE.PathActions.QUADRATIC_CURVE_TO,args:e})};\nTHREE.Path.prototype.bezierCurveTo=function(a,b,c,d,e,f){var g=Array.prototype.slice.call(arguments),h=this.actions[this.actions.length-1].args,h=new THREE.CubicBezierCurve(new THREE.Vector2(h[h.length-2],h[h.length-1]),new THREE.Vector2(a,b),new THREE.Vector2(c,d),new THREE.Vector2(e,f));this.curves.push(h);this.actions.push({action:THREE.PathActions.BEZIER_CURVE_TO,args:g})};\nTHREE.Path.prototype.splineThru=function(a){var b=Array.prototype.slice.call(arguments),c=this.actions[this.actions.length-1].args,c=[new THREE.Vector2(c[c.length-2],c[c.length-1])];Array.prototype.push.apply(c,a);c=new THREE.SplineCurve(c);this.curves.push(c);this.actions.push({action:THREE.PathActions.CSPLINE_THRU,args:b})};THREE.Path.prototype.arc=function(a,b,c,d,e,f){var g=this.actions[this.actions.length-1].args;this.absarc(a+g[g.length-2],b+g[g.length-1],c,d,e,f)};\nTHREE.Path.prototype.absarc=function(a,b,c,d,e,f){this.absellipse(a,b,c,c,d,e,f)};THREE.Path.prototype.ellipse=function(a,b,c,d,e,f,g){var h=this.actions[this.actions.length-1].args;this.absellipse(a+h[h.length-2],b+h[h.length-1],c,d,e,f,g)};THREE.Path.prototype.absellipse=function(a,b,c,d,e,f,g){var h=Array.prototype.slice.call(arguments),k=new THREE.EllipseCurve(a,b,c,d,e,f,g);this.curves.push(k);k=k.getPoint(1);h.push(k.x);h.push(k.y);this.actions.push({action:THREE.PathActions.ELLIPSE,args:h})};\nTHREE.Path.prototype.getSpacedPoints=function(a,b){a||(a=40);for(var c=[],d=0;d<a;d++)c.push(this.getPoint(d/a));return c};\nTHREE.Path.prototype.getPoints=function(a,b){if(this.useSpacedPoints)return console.log(\"tata\"),this.getSpacedPoints(a,b);a=a||12;var c=[],d,e,f,g,h,k,l,p,q,n,t,r,s;d=0;for(e=this.actions.length;d<e;d++)switch(f=this.actions[d],g=f.action,f=f.args,g){case THREE.PathActions.MOVE_TO:c.push(new THREE.Vector2(f[0],f[1]));break;case THREE.PathActions.LINE_TO:c.push(new THREE.Vector2(f[0],f[1]));break;case THREE.PathActions.QUADRATIC_CURVE_TO:h=f[2];k=f[3];q=f[0];n=f[1];0<c.length?(g=c[c.length-1],t=g.x,\nr=g.y):(g=this.actions[d-1].args,t=g[g.length-2],r=g[g.length-1]);for(f=1;f<=a;f++)s=f/a,g=THREE.Shape.Utils.b2(s,t,q,h),s=THREE.Shape.Utils.b2(s,r,n,k),c.push(new THREE.Vector2(g,s));break;case THREE.PathActions.BEZIER_CURVE_TO:h=f[4];k=f[5];q=f[0];n=f[1];l=f[2];p=f[3];0<c.length?(g=c[c.length-1],t=g.x,r=g.y):(g=this.actions[d-1].args,t=g[g.length-2],r=g[g.length-1]);for(f=1;f<=a;f++)s=f/a,g=THREE.Shape.Utils.b3(s,t,q,l,h),s=THREE.Shape.Utils.b3(s,r,n,p,k),c.push(new THREE.Vector2(g,s));break;case THREE.PathActions.CSPLINE_THRU:g=\nthis.actions[d-1].args;s=[new THREE.Vector2(g[g.length-2],g[g.length-1])];g=a*f[0].length;s=s.concat(f[0]);s=new THREE.SplineCurve(s);for(f=1;f<=g;f++)c.push(s.getPointAt(f/g));break;case THREE.PathActions.ARC:h=f[0];k=f[1];n=f[2];l=f[3];g=f[4];q=!!f[5];t=g-l;r=2*a;for(f=1;f<=r;f++)s=f/r,q||(s=1-s),s=l+s*t,g=h+n*Math.cos(s),s=k+n*Math.sin(s),c.push(new THREE.Vector2(g,s));break;case THREE.PathActions.ELLIPSE:for(h=f[0],k=f[1],n=f[2],p=f[3],l=f[4],g=f[5],q=!!f[6],t=g-l,r=2*a,f=1;f<=r;f++)s=f/r,q||\n(s=1-s),s=l+s*t,g=h+n*Math.cos(s),s=k+p*Math.sin(s),c.push(new THREE.Vector2(g,s))}d=c[c.length-1];1E-10>Math.abs(d.x-c[0].x)&&1E-10>Math.abs(d.y-c[0].y)&&c.splice(c.length-1,1);b&&c.push(c[0]);return c};\nTHREE.Path.prototype.toShapes=function(a,b){function c(a){for(var b=[],c=0,d=a.length;c<d;c++){var e=a[c],f=new THREE.Shape;f.actions=e.actions;f.curves=e.curves;b.push(f)}return b}function d(a,b){for(var c=b.length,d=!1,e=c-1,f=0;f<c;e=f++){var g=b[e],h=b[f],k=h.x-g.x,n=h.y-g.y;if(1E-10<Math.abs(n)){if(0>n&&(g=b[f],k=-k,h=b[e],n=-n),!(a.y<g.y||a.y>h.y))if(a.y==g.y){if(a.x==g.x)return!0}else{e=n*(a.x-g.x)-k*(a.y-g.y);if(0==e)return!0;0>e||(d=!d)}}else if(a.y==g.y&&(h.x<=a.x&&a.x<=g.x||g.x<=a.x&&a.x<=\nh.x))return!0}return d}var e=function(a){var b,c,d,e,f=[],g=new THREE.Path;b=0;for(c=a.length;b<c;b++)d=a[b],e=d.args,d=d.action,d==THREE.PathActions.MOVE_TO&&0!=g.actions.length&&(f.push(g),g=new THREE.Path),g[d].apply(g,e);0!=g.actions.length&&f.push(g);return f}(this.actions);if(0==e.length)return[];if(!0===b)return c(e);var f,g,h,k=[];if(1==e.length)return g=e[0],h=new THREE.Shape,h.actions=g.actions,h.curves=g.curves,k.push(h),k;var l=!THREE.Shape.Utils.isClockWise(e[0].getPoints()),l=a?!l:l;\nh=[];var p=[],q=[],n=0,t;p[n]=void 0;q[n]=[];var r,s;r=0;for(s=e.length;r<s;r++)g=e[r],t=g.getPoints(),f=THREE.Shape.Utils.isClockWise(t),(f=a?!f:f)?(!l&&p[n]&&n++,p[n]={s:new THREE.Shape,p:t},p[n].s.actions=g.actions,p[n].s.curves=g.curves,l&&n++,q[n]=[]):q[n].push({h:g,p:t[0]});if(!p[0])return c(e);if(1<p.length){r=!1;s=[];g=0;for(e=p.length;g<e;g++)h[g]=[];g=0;for(e=p.length;g<e;g++)for(f=q[g],l=0;l<f.length;l++){n=f[l];t=!0;for(var u=0;u<p.length;u++)d(n.p,p[u].p)&&(g!=u&&s.push({froms:g,tos:u,\nhole:l}),t?(t=!1,h[u].push(n)):r=!0);t&&h[g].push(n)}0<s.length&&(r||(q=h))}r=0;for(s=p.length;r<s;r++)for(h=p[r].s,k.push(h),g=q[r],e=0,f=g.length;e<f;e++)h.holes.push(g[e].h);return k};THREE.Shape=function(){THREE.Path.apply(this,arguments);this.holes=[]};THREE.Shape.prototype=Object.create(THREE.Path.prototype);THREE.Shape.prototype.constructor=THREE.Shape;THREE.Shape.prototype.extrude=function(a){return new THREE.ExtrudeGeometry(this,a)};\nTHREE.Shape.prototype.makeGeometry=function(a){return new THREE.ShapeGeometry(this,a)};THREE.Shape.prototype.getPointsHoles=function(a){var b,c=this.holes.length,d=[];for(b=0;b<c;b++)d[b]=this.holes[b].getTransformedPoints(a,this.bends);return d};THREE.Shape.prototype.getSpacedPointsHoles=function(a){var b,c=this.holes.length,d=[];for(b=0;b<c;b++)d[b]=this.holes[b].getTransformedSpacedPoints(a,this.bends);return d};\nTHREE.Shape.prototype.extractAllPoints=function(a){return{shape:this.getTransformedPoints(a),holes:this.getPointsHoles(a)}};THREE.Shape.prototype.extractPoints=function(a){return this.useSpacedPoints?this.extractAllSpacedPoints(a):this.extractAllPoints(a)};THREE.Shape.prototype.extractAllSpacedPoints=function(a){return{shape:this.getTransformedSpacedPoints(a),holes:this.getSpacedPointsHoles(a)}};\nTHREE.Shape.Utils={triangulateShape:function(a,b){function c(a,b,c){return a.x!=b.x?a.x<b.x?a.x<=c.x&&c.x<=b.x:b.x<=c.x&&c.x<=a.x:a.y<b.y?a.y<=c.y&&c.y<=b.y:b.y<=c.y&&c.y<=a.y}function d(a,b,d,e,f){var g=b.x-a.x,h=b.y-a.y,k=e.x-d.x,l=e.y-d.y,p=a.x-d.x,q=a.y-d.y,E=h*k-g*l,G=h*p-g*q;if(1E-10<Math.abs(E)){if(0<E){if(0>G||G>E)return[];k=l*p-k*q;if(0>k||k>E)return[]}else{if(0<G||G<E)return[];k=l*p-k*q;if(0<k||k<E)return[]}if(0==k)return!f||0!=G&&G!=E?[a]:[];if(k==E)return!f||0!=G&&G!=E?[b]:[];if(0==G)return[d];\nif(G==E)return[e];f=k/E;return[{x:a.x+f*g,y:a.y+f*h}]}if(0!=G||l*p!=k*q)return[];h=0==g&&0==h;k=0==k&&0==l;if(h&&k)return a.x!=d.x||a.y!=d.y?[]:[a];if(h)return c(d,e,a)?[a]:[];if(k)return c(a,b,d)?[d]:[];0!=g?(a.x<b.x?(g=a,k=a.x,h=b,a=b.x):(g=b,k=b.x,h=a,a=a.x),d.x<e.x?(b=d,E=d.x,l=e,d=e.x):(b=e,E=e.x,l=d,d=d.x)):(a.y<b.y?(g=a,k=a.y,h=b,a=b.y):(g=b,k=b.y,h=a,a=a.y),d.y<e.y?(b=d,E=d.y,l=e,d=e.y):(b=e,E=e.y,l=d,d=d.y));return k<=E?a<E?[]:a==E?f?[]:[b]:a<=d?[b,h]:[b,l]:k>d?[]:k==d?f?[]:[g]:a<=d?[g,h]:\n[g,l]}function e(a,b,c,d){var e=b.x-a.x,f=b.y-a.y;b=c.x-a.x;c=c.y-a.y;var g=d.x-a.x;d=d.y-a.y;a=e*c-f*b;e=e*d-f*g;return 1E-10<Math.abs(a)?(b=g*c-d*b,0<a?0<=e&&0<=b:0<=e||0<=b):0<e}var f,g,h,k,l,p={};h=a.concat();f=0;for(g=b.length;f<g;f++)Array.prototype.push.apply(h,b[f]);f=0;for(g=h.length;f<g;f++)l=h[f].x+\":\"+h[f].y,void 0!==p[l]&&THREE.warn(\"THREE.Shape: Duplicate point\",l),p[l]=f;f=function(a,b){function c(a,b){var d=h.length-1,f=a-1;0>f&&(f=d);var g=a+1;g>d&&(g=0);d=e(h[a],h[f],h[g],k[b]);\nif(!d)return!1;d=k.length-1;f=b-1;0>f&&(f=d);g=b+1;g>d&&(g=0);return(d=e(k[b],k[f],k[g],h[a]))?!0:!1}function f(a,b){var c,e;for(c=0;c<h.length;c++)if(e=c+1,e%=h.length,e=d(a,b,h[c],h[e],!0),0<e.length)return!0;return!1}function g(a,c){var e,f,h,k;for(e=0;e<l.length;e++)for(f=b[l[e]],h=0;h<f.length;h++)if(k=h+1,k%=f.length,k=d(a,c,f[h],f[k],!0),0<k.length)return!0;return!1}var h=a.concat(),k,l=[],p,q,A,E,G,F=[],z,I,U,M=0;for(p=b.length;M<p;M++)l.push(M);z=0;for(var H=2*l.length;0<l.length;){H--;if(0>\nH){console.log(\"Infinite Loop! Holes left:\"+l.length+\", Probably Hole outside Shape!\");break}for(q=z;q<h.length;q++){A=h[q];p=-1;for(M=0;M<l.length;M++)if(E=l[M],G=A.x+\":\"+A.y+\":\"+E,void 0===F[G]){k=b[E];for(I=0;I<k.length;I++)if(E=k[I],c(q,I)&&!f(A,E)&&!g(A,E)){p=I;l.splice(M,1);z=h.slice(0,q+1);E=h.slice(q);I=k.slice(p);U=k.slice(0,p+1);h=z.concat(I).concat(U).concat(E);z=q;break}if(0<=p)break;F[G]=!0}if(0<=p)break}}return h}(a,b);var q=THREE.FontUtils.Triangulate(f,!1);f=0;for(g=q.length;f<g;f++)for(k=\nq[f],h=0;3>h;h++)l=k[h].x+\":\"+k[h].y,l=p[l],void 0!==l&&(k[h]=l);return q.concat()},isClockWise:function(a){return 0>THREE.FontUtils.Triangulate.area(a)},b2p0:function(a,b){var c=1-a;return c*c*b},b2p1:function(a,b){return 2*(1-a)*a*b},b2p2:function(a,b){return a*a*b},b2:function(a,b,c,d){return this.b2p0(a,b)+this.b2p1(a,c)+this.b2p2(a,d)},b3p0:function(a,b){var c=1-a;return c*c*c*b},b3p1:function(a,b){var c=1-a;return 3*c*c*a*b},b3p2:function(a,b){return 3*(1-a)*a*a*b},b3p3:function(a,b){return a*\na*a*b},b3:function(a,b,c,d,e){return this.b3p0(a,b)+this.b3p1(a,c)+this.b3p2(a,d)+this.b3p3(a,e)}};THREE.LineCurve=function(a,b){this.v1=a;this.v2=b};THREE.LineCurve.prototype=Object.create(THREE.Curve.prototype);THREE.LineCurve.prototype.constructor=THREE.LineCurve;THREE.LineCurve.prototype.getPoint=function(a){var b=this.v2.clone().sub(this.v1);b.multiplyScalar(a).add(this.v1);return b};THREE.LineCurve.prototype.getPointAt=function(a){return this.getPoint(a)};\nTHREE.LineCurve.prototype.getTangent=function(a){return this.v2.clone().sub(this.v1).normalize()};THREE.QuadraticBezierCurve=function(a,b,c){this.v0=a;this.v1=b;this.v2=c};THREE.QuadraticBezierCurve.prototype=Object.create(THREE.Curve.prototype);THREE.QuadraticBezierCurve.prototype.constructor=THREE.QuadraticBezierCurve;\nTHREE.QuadraticBezierCurve.prototype.getPoint=function(a){var b=new THREE.Vector2;b.x=THREE.Shape.Utils.b2(a,this.v0.x,this.v1.x,this.v2.x);b.y=THREE.Shape.Utils.b2(a,this.v0.y,this.v1.y,this.v2.y);return b};THREE.QuadraticBezierCurve.prototype.getTangent=function(a){var b=new THREE.Vector2;b.x=THREE.Curve.Utils.tangentQuadraticBezier(a,this.v0.x,this.v1.x,this.v2.x);b.y=THREE.Curve.Utils.tangentQuadraticBezier(a,this.v0.y,this.v1.y,this.v2.y);return b.normalize()};\nTHREE.CubicBezierCurve=function(a,b,c,d){this.v0=a;this.v1=b;this.v2=c;this.v3=d};THREE.CubicBezierCurve.prototype=Object.create(THREE.Curve.prototype);THREE.CubicBezierCurve.prototype.constructor=THREE.CubicBezierCurve;THREE.CubicBezierCurve.prototype.getPoint=function(a){var b;b=THREE.Shape.Utils.b3(a,this.v0.x,this.v1.x,this.v2.x,this.v3.x);a=THREE.Shape.Utils.b3(a,this.v0.y,this.v1.y,this.v2.y,this.v3.y);return new THREE.Vector2(b,a)};\nTHREE.CubicBezierCurve.prototype.getTangent=function(a){var b;b=THREE.Curve.Utils.tangentCubicBezier(a,this.v0.x,this.v1.x,this.v2.x,this.v3.x);a=THREE.Curve.Utils.tangentCubicBezier(a,this.v0.y,this.v1.y,this.v2.y,this.v3.y);b=new THREE.Vector2(b,a);b.normalize();return b};THREE.SplineCurve=function(a){this.points=void 0==a?[]:a};THREE.SplineCurve.prototype=Object.create(THREE.Curve.prototype);THREE.SplineCurve.prototype.constructor=THREE.SplineCurve;\nTHREE.SplineCurve.prototype.getPoint=function(a){var b=this.points;a*=b.length-1;var c=Math.floor(a);a-=c;var d=b[0==c?c:c-1],e=b[c],f=b[c>b.length-2?b.length-1:c+1],b=b[c>b.length-3?b.length-1:c+2],c=new THREE.Vector2;c.x=THREE.Curve.Utils.interpolate(d.x,e.x,f.x,b.x,a);c.y=THREE.Curve.Utils.interpolate(d.y,e.y,f.y,b.y,a);return c};THREE.EllipseCurve=function(a,b,c,d,e,f,g){this.aX=a;this.aY=b;this.xRadius=c;this.yRadius=d;this.aStartAngle=e;this.aEndAngle=f;this.aClockwise=g};\nTHREE.EllipseCurve.prototype=Object.create(THREE.Curve.prototype);THREE.EllipseCurve.prototype.constructor=THREE.EllipseCurve;THREE.EllipseCurve.prototype.getPoint=function(a){var b=this.aEndAngle-this.aStartAngle;0>b&&(b+=2*Math.PI);b>2*Math.PI&&(b-=2*Math.PI);a=!0===this.aClockwise?this.aEndAngle+(1-a)*(2*Math.PI-b):this.aStartAngle+a*b;b=new THREE.Vector2;b.x=this.aX+this.xRadius*Math.cos(a);b.y=this.aY+this.yRadius*Math.sin(a);return b};\nTHREE.ArcCurve=function(a,b,c,d,e,f){THREE.EllipseCurve.call(this,a,b,c,c,d,e,f)};THREE.ArcCurve.prototype=Object.create(THREE.EllipseCurve.prototype);THREE.ArcCurve.prototype.constructor=THREE.ArcCurve;THREE.LineCurve3=THREE.Curve.create(function(a,b){this.v1=a;this.v2=b},function(a){var b=new THREE.Vector3;b.subVectors(this.v2,this.v1);b.multiplyScalar(a);b.add(this.v1);return b});\nTHREE.QuadraticBezierCurve3=THREE.Curve.create(function(a,b,c){this.v0=a;this.v1=b;this.v2=c},function(a){var b=new THREE.Vector3;b.x=THREE.Shape.Utils.b2(a,this.v0.x,this.v1.x,this.v2.x);b.y=THREE.Shape.Utils.b2(a,this.v0.y,this.v1.y,this.v2.y);b.z=THREE.Shape.Utils.b2(a,this.v0.z,this.v1.z,this.v2.z);return b});\nTHREE.CubicBezierCurve3=THREE.Curve.create(function(a,b,c,d){this.v0=a;this.v1=b;this.v2=c;this.v3=d},function(a){var b=new THREE.Vector3;b.x=THREE.Shape.Utils.b3(a,this.v0.x,this.v1.x,this.v2.x,this.v3.x);b.y=THREE.Shape.Utils.b3(a,this.v0.y,this.v1.y,this.v2.y,this.v3.y);b.z=THREE.Shape.Utils.b3(a,this.v0.z,this.v1.z,this.v2.z,this.v3.z);return b});\nTHREE.SplineCurve3=THREE.Curve.create(function(a){this.points=void 0==a?[]:a},function(a){var b=this.points;a*=b.length-1;var c=Math.floor(a);a-=c;var d=b[0==c?c:c-1],e=b[c],f=b[c>b.length-2?b.length-1:c+1],b=b[c>b.length-3?b.length-1:c+2],c=new THREE.Vector3;c.x=THREE.Curve.Utils.interpolate(d.x,e.x,f.x,b.x,a);c.y=THREE.Curve.Utils.interpolate(d.y,e.y,f.y,b.y,a);c.z=THREE.Curve.Utils.interpolate(d.z,e.z,f.z,b.z,a);return c});\nTHREE.ClosedSplineCurve3=THREE.Curve.create(function(a){this.points=void 0==a?[]:a},function(a){var b=this.points;a*=b.length-0;var c=Math.floor(a);a-=c;var c=c+(0<c?0:(Math.floor(Math.abs(c)/b.length)+1)*b.length),d=b[(c-1)%b.length],e=b[c%b.length],f=b[(c+1)%b.length],b=b[(c+2)%b.length],c=new THREE.Vector3;c.x=THREE.Curve.Utils.interpolate(d.x,e.x,f.x,b.x,a);c.y=THREE.Curve.Utils.interpolate(d.y,e.y,f.y,b.y,a);c.z=THREE.Curve.Utils.interpolate(d.z,e.z,f.z,b.z,a);return c});\nTHREE.AnimationHandler={LINEAR:0,CATMULLROM:1,CATMULLROM_FORWARD:2,add:function(){THREE.warn(\"THREE.AnimationHandler.add() has been deprecated.\")},get:function(){THREE.warn(\"THREE.AnimationHandler.get() has been deprecated.\")},remove:function(){THREE.warn(\"THREE.AnimationHandler.remove() has been deprecated.\")},animations:[],init:function(a){if(!0===a.initialized)return a;for(var b=0;b<a.hierarchy.length;b++){for(var c=0;c<a.hierarchy[b].keys.length;c++)if(0>a.hierarchy[b].keys[c].time&&(a.hierarchy[b].keys[c].time=\n0),void 0!==a.hierarchy[b].keys[c].rot&&!(a.hierarchy[b].keys[c].rot instanceof THREE.Quaternion)){var d=a.hierarchy[b].keys[c].rot;a.hierarchy[b].keys[c].rot=(new THREE.Quaternion).fromArray(d)}if(a.hierarchy[b].keys.length&&void 0!==a.hierarchy[b].keys[0].morphTargets){d={};for(c=0;c<a.hierarchy[b].keys.length;c++)for(var e=0;e<a.hierarchy[b].keys[c].morphTargets.length;e++){var f=a.hierarchy[b].keys[c].morphTargets[e];d[f]=-1}a.hierarchy[b].usedMorphTargets=d;for(c=0;c<a.hierarchy[b].keys.length;c++){var g=\n{};for(f in d){for(e=0;e<a.hierarchy[b].keys[c].morphTargets.length;e++)if(a.hierarchy[b].keys[c].morphTargets[e]===f){g[f]=a.hierarchy[b].keys[c].morphTargetsInfluences[e];break}e===a.hierarchy[b].keys[c].morphTargets.length&&(g[f]=0)}a.hierarchy[b].keys[c].morphTargetsInfluences=g}}for(c=1;c<a.hierarchy[b].keys.length;c++)a.hierarchy[b].keys[c].time===a.hierarchy[b].keys[c-1].time&&(a.hierarchy[b].keys.splice(c,1),c--);for(c=0;c<a.hierarchy[b].keys.length;c++)a.hierarchy[b].keys[c].index=c}a.initialized=\n!0;return a},parse:function(a){var b=function(a,c){c.push(a);for(var d=0;d<a.children.length;d++)b(a.children[d],c)},c=[];if(a instanceof THREE.SkinnedMesh)for(var d=0;d<a.skeleton.bones.length;d++)c.push(a.skeleton.bones[d]);else b(a,c);return c},play:function(a){-1===this.animations.indexOf(a)&&this.animations.push(a)},stop:function(a){a=this.animations.indexOf(a);-1!==a&&this.animations.splice(a,1)},update:function(a){for(var b=0;b<this.animations.length;b++)this.animations[b].resetBlendWeights();\nfor(b=0;b<this.animations.length;b++)this.animations[b].update(a)}};THREE.Animation=function(a,b){this.root=a;this.data=THREE.AnimationHandler.init(b);this.hierarchy=THREE.AnimationHandler.parse(a);this.currentTime=0;this.timeScale=1;this.isPlaying=!1;this.loop=!0;this.weight=0;this.interpolationType=THREE.AnimationHandler.LINEAR};\nTHREE.Animation.prototype={constructor:THREE.Animation,keyTypes:[\"pos\",\"rot\",\"scl\"],play:function(a,b){this.currentTime=void 0!==a?a:0;this.weight=void 0!==b?b:1;this.isPlaying=!0;this.reset();THREE.AnimationHandler.play(this)},stop:function(){this.isPlaying=!1;THREE.AnimationHandler.stop(this)},reset:function(){for(var a=0,b=this.hierarchy.length;a<b;a++){var c=this.hierarchy[a];void 0===c.animationCache&&(c.animationCache={animations:{},blending:{positionWeight:0,quaternionWeight:0,scaleWeight:0}});\nvar d=this.data.name,e=c.animationCache.animations,f=e[d];void 0===f&&(f={prevKey:{pos:0,rot:0,scl:0},nextKey:{pos:0,rot:0,scl:0},originalMatrix:c.matrix},e[d]=f);for(c=0;3>c;c++){for(var d=this.keyTypes[c],e=this.data.hierarchy[a].keys[0],g=this.getNextKeyWith(d,a,1);g.time<this.currentTime&&g.index>e.index;)e=g,g=this.getNextKeyWith(d,a,g.index+1);f.prevKey[d]=e;f.nextKey[d]=g}}},resetBlendWeights:function(){for(var a=0,b=this.hierarchy.length;a<b;a++){var c=this.hierarchy[a].animationCache;void 0!==\nc&&(c=c.blending,c.positionWeight=0,c.quaternionWeight=0,c.scaleWeight=0)}},update:function(){var a=[],b=new THREE.Vector3,c=new THREE.Vector3,d=new THREE.Quaternion,e=function(a,b){var c=[],d=[],e,q,n,t,r,s;e=(a.length-1)*b;q=Math.floor(e);e-=q;c[0]=0===q?q:q-1;c[1]=q;c[2]=q>a.length-2?q:q+1;c[3]=q>a.length-3?q:q+2;q=a[c[0]];t=a[c[1]];r=a[c[2]];s=a[c[3]];c=e*e;n=e*c;d[0]=f(q[0],t[0],r[0],s[0],e,c,n);d[1]=f(q[1],t[1],r[1],s[1],e,c,n);d[2]=f(q[2],t[2],r[2],s[2],e,c,n);return d},f=function(a,b,c,d,\ne,f,n){a=.5*(c-a);d=.5*(d-b);return(2*(b-c)+a+d)*n+(-3*(b-c)-2*a-d)*f+a*e+b};return function(f){if(!1!==this.isPlaying&&(this.currentTime+=f*this.timeScale,0!==this.weight)){f=this.data.length;if(this.currentTime>f||0>this.currentTime)this.loop?(this.currentTime%=f,0>this.currentTime&&(this.currentTime+=f),this.reset()):this.stop();f=0;for(var h=this.hierarchy.length;f<h;f++)for(var k=this.hierarchy[f],l=k.animationCache.animations[this.data.name],p=k.animationCache.blending,q=0;3>q;q++){var n=this.keyTypes[q],\nt=l.prevKey[n],r=l.nextKey[n];if(0<this.timeScale&&r.time<=this.currentTime||0>this.timeScale&&t.time>=this.currentTime){t=this.data.hierarchy[f].keys[0];for(r=this.getNextKeyWith(n,f,1);r.time<this.currentTime&&r.index>t.index;)t=r,r=this.getNextKeyWith(n,f,r.index+1);l.prevKey[n]=t;l.nextKey[n]=r}var s=(this.currentTime-t.time)/(r.time-t.time),u=t[n],v=r[n];0>s&&(s=0);1<s&&(s=1);if(\"pos\"===n)if(this.interpolationType===THREE.AnimationHandler.LINEAR)c.x=u[0]+(v[0]-u[0])*s,c.y=u[1]+(v[1]-u[1])*s,\nc.z=u[2]+(v[2]-u[2])*s,t=this.weight/(this.weight+p.positionWeight),k.position.lerp(c,t),p.positionWeight+=this.weight;else{if(this.interpolationType===THREE.AnimationHandler.CATMULLROM||this.interpolationType===THREE.AnimationHandler.CATMULLROM_FORWARD)a[0]=this.getPrevKeyWith(\"pos\",f,t.index-1).pos,a[1]=u,a[2]=v,a[3]=this.getNextKeyWith(\"pos\",f,r.index+1).pos,s=.33*s+.33,r=e(a,s),t=this.weight/(this.weight+p.positionWeight),p.positionWeight+=this.weight,n=k.position,n.x+=(r[0]-n.x)*t,n.y+=(r[1]-\nn.y)*t,n.z+=(r[2]-n.z)*t,this.interpolationType===THREE.AnimationHandler.CATMULLROM_FORWARD&&(s=e(a,1.01*s),b.set(s[0],s[1],s[2]),b.sub(n),b.y=0,b.normalize(),s=Math.atan2(b.x,b.z),k.rotation.set(0,s,0))}else\"rot\"===n?(THREE.Quaternion.slerp(u,v,d,s),0===p.quaternionWeight?(k.quaternion.copy(d),p.quaternionWeight=this.weight):(t=this.weight/(this.weight+p.quaternionWeight),THREE.Quaternion.slerp(k.quaternion,d,k.quaternion,t),p.quaternionWeight+=this.weight)):\"scl\"===n&&(c.x=u[0]+(v[0]-u[0])*s,c.y=\nu[1]+(v[1]-u[1])*s,c.z=u[2]+(v[2]-u[2])*s,t=this.weight/(this.weight+p.scaleWeight),k.scale.lerp(c,t),p.scaleWeight+=this.weight)}return!0}}}(),getNextKeyWith:function(a,b,c){var d=this.data.hierarchy[b].keys;for(c=this.interpolationType===THREE.AnimationHandler.CATMULLROM||this.interpolationType===THREE.AnimationHandler.CATMULLROM_FORWARD?c<d.length-1?c:d.length-1:c%d.length;c<d.length;c++)if(void 0!==d[c][a])return d[c];return this.data.hierarchy[b].keys[0]},getPrevKeyWith:function(a,b,c){var d=\nthis.data.hierarchy[b].keys;for(c=this.interpolationType===THREE.AnimationHandler.CATMULLROM||this.interpolationType===THREE.AnimationHandler.CATMULLROM_FORWARD?0<c?c:0:0<=c?c:c+d.length;0<=c;c--)if(void 0!==d[c][a])return d[c];return this.data.hierarchy[b].keys[d.length-1]}};\nTHREE.KeyFrameAnimation=function(a){this.root=a.node;this.data=THREE.AnimationHandler.init(a);this.hierarchy=THREE.AnimationHandler.parse(this.root);this.currentTime=0;this.timeScale=.001;this.isPlaying=!1;this.loop=this.isPaused=!0;a=0;for(var b=this.hierarchy.length;a<b;a++){var c=this.data.hierarchy[a].sids,d=this.hierarchy[a];if(this.data.hierarchy[a].keys.length&&c){for(var e=0;e<c.length;e++){var f=c[e],g=this.getNextKeyWith(f,a,0);g&&g.apply(f)}d.matrixAutoUpdate=!1;this.data.hierarchy[a].node.updateMatrix();\nd.matrixWorldNeedsUpdate=!0}}};\nTHREE.KeyFrameAnimation.prototype={constructor:THREE.KeyFrameAnimation,play:function(a){this.currentTime=void 0!==a?a:0;if(!1===this.isPlaying){this.isPlaying=!0;var b=this.hierarchy.length,c,d;for(a=0;a<b;a++)c=this.hierarchy[a],d=this.data.hierarchy[a],void 0===d.animationCache&&(d.animationCache={},d.animationCache.prevKey=null,d.animationCache.nextKey=null,d.animationCache.originalMatrix=c.matrix),c=this.data.hierarchy[a].keys,c.length&&(d.animationCache.prevKey=c[0],d.animationCache.nextKey=\nc[1],this.startTime=Math.min(c[0].time,this.startTime),this.endTime=Math.max(c[c.length-1].time,this.endTime));this.update(0)}this.isPaused=!1;THREE.AnimationHandler.play(this)},stop:function(){this.isPaused=this.isPlaying=!1;THREE.AnimationHandler.stop(this);for(var a=0;a<this.data.hierarchy.length;a++){var b=this.hierarchy[a],c=this.data.hierarchy[a];if(void 0!==c.animationCache){var d=c.animationCache.originalMatrix;d.copy(b.matrix);b.matrix=d;delete c.animationCache}}},update:function(a){if(!1!==\nthis.isPlaying){this.currentTime+=a*this.timeScale;a=this.data.length;!0===this.loop&&this.currentTime>a&&(this.currentTime%=a);this.currentTime=Math.min(this.currentTime,a);a=0;for(var b=this.hierarchy.length;a<b;a++){var c=this.hierarchy[a],d=this.data.hierarchy[a],e=d.keys,d=d.animationCache;if(e.length){var f=d.prevKey,g=d.nextKey;if(g.time<=this.currentTime){for(;g.time<this.currentTime&&g.index>f.index;)f=g,g=e[f.index+1];d.prevKey=f;d.nextKey=g}g.time>=this.currentTime?f.interpolate(g,this.currentTime):\nf.interpolate(g,g.time);this.data.hierarchy[a].node.updateMatrix();c.matrixWorldNeedsUpdate=!0}}}},getNextKeyWith:function(a,b,c){b=this.data.hierarchy[b].keys;for(c%=b.length;c<b.length;c++)if(b[c].hasTarget(a))return b[c];return b[0]},getPrevKeyWith:function(a,b,c){b=this.data.hierarchy[b].keys;for(c=0<=c?c:c+b.length;0<=c;c--)if(b[c].hasTarget(a))return b[c];return b[b.length-1]}};\nTHREE.MorphAnimation=function(a){this.mesh=a;this.frames=a.morphTargetInfluences.length;this.currentTime=0;this.duration=1E3;this.loop=!0;this.currentFrame=this.lastFrame=0;this.isPlaying=!1};\nTHREE.MorphAnimation.prototype={constructor:THREE.MorphAnimation,play:function(){this.isPlaying=!0},pause:function(){this.isPlaying=!1},update:function(a){if(!1!==this.isPlaying){this.currentTime+=a;!0===this.loop&&this.currentTime>this.duration&&(this.currentTime%=this.duration);this.currentTime=Math.min(this.currentTime,this.duration);a=this.duration/this.frames;var b=Math.floor(this.currentTime/a),c=this.mesh.morphTargetInfluences;b!=this.currentFrame&&(c[this.lastFrame]=0,c[this.currentFrame]=\n1,c[b]=0,this.lastFrame=this.currentFrame,this.currentFrame=b);c[b]=this.currentTime%a/a;c[this.lastFrame]=1-c[b]}}};\nTHREE.BoxGeometry=function(a,b,c,d,e,f){function g(a,b,c,d,e,f,g,s){var u,v=h.widthSegments,x=h.heightSegments,D=e/2,w=f/2,y=h.vertices.length;if(\"x\"===a&&\"y\"===b||\"y\"===a&&\"x\"===b)u=\"z\";else if(\"x\"===a&&\"z\"===b||\"z\"===a&&\"x\"===b)u=\"y\",x=h.depthSegments;else if(\"z\"===a&&\"y\"===b||\"y\"===a&&\"z\"===b)u=\"x\",v=h.depthSegments;var A=v+1,E=x+1,G=e/v,F=f/x,z=new THREE.Vector3;z[u]=0<g?1:-1;for(e=0;e<E;e++)for(f=0;f<A;f++){var I=new THREE.Vector3;I[a]=(f*G-D)*c;I[b]=(e*F-w)*d;I[u]=g;h.vertices.push(I)}for(e=\n0;e<x;e++)for(f=0;f<v;f++)w=f+A*e,a=f+A*(e+1),b=f+1+A*(e+1),c=f+1+A*e,d=new THREE.Vector2(f/v,1-e/x),g=new THREE.Vector2(f/v,1-(e+1)/x),u=new THREE.Vector2((f+1)/v,1-(e+1)/x),D=new THREE.Vector2((f+1)/v,1-e/x),w=new THREE.Face3(w+y,a+y,c+y),w.normal.copy(z),w.vertexNormals.push(z.clone(),z.clone(),z.clone()),w.materialIndex=s,h.faces.push(w),h.faceVertexUvs[0].push([d,g,D]),w=new THREE.Face3(a+y,b+y,c+y),w.normal.copy(z),w.vertexNormals.push(z.clone(),z.clone(),z.clone()),w.materialIndex=s,h.faces.push(w),\nh.faceVertexUvs[0].push([g.clone(),u,D.clone()])}THREE.Geometry.call(this);this.type=\"BoxGeometry\";this.parameters={width:a,height:b,depth:c,widthSegments:d,heightSegments:e,depthSegments:f};this.widthSegments=d||1;this.heightSegments=e||1;this.depthSegments=f||1;var h=this;d=a/2;e=b/2;f=c/2;g(\"z\",\"y\",-1,-1,c,b,d,0);g(\"z\",\"y\",1,-1,c,b,-d,1);g(\"x\",\"z\",1,1,a,c,e,2);g(\"x\",\"z\",1,-1,a,c,-e,3);g(\"x\",\"y\",1,-1,a,b,f,4);g(\"x\",\"y\",-1,-1,a,b,-f,5);this.mergeVertices()};THREE.BoxGeometry.prototype=Object.create(THREE.Geometry.prototype);\nTHREE.BoxGeometry.prototype.constructor=THREE.BoxGeometry;\nTHREE.CircleGeometry=function(a,b,c,d){THREE.Geometry.call(this);this.type=\"CircleGeometry\";this.parameters={radius:a,segments:b,thetaStart:c,thetaLength:d};a=a||50;b=void 0!==b?Math.max(3,b):8;c=void 0!==c?c:0;d=void 0!==d?d:2*Math.PI;var e,f=[];e=new THREE.Vector3;var g=new THREE.Vector2(.5,.5);this.vertices.push(e);f.push(g);for(e=0;e<=b;e++){var h=new THREE.Vector3,k=c+e/b*d;h.x=a*Math.cos(k);h.y=a*Math.sin(k);this.vertices.push(h);f.push(new THREE.Vector2((h.x/a+1)/2,(h.y/a+1)/2))}c=new THREE.Vector3(0,\n0,1);for(e=1;e<=b;e++)this.faces.push(new THREE.Face3(e,e+1,0,[c.clone(),c.clone(),c.clone()])),this.faceVertexUvs[0].push([f[e].clone(),f[e+1].clone(),g.clone()]);this.computeFaceNormals();this.boundingSphere=new THREE.Sphere(new THREE.Vector3,a)};THREE.CircleGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.CircleGeometry.prototype.constructor=THREE.CircleGeometry;\nTHREE.CubeGeometry=function(a,b,c,d,e,f){THREE.warn(\"THREE.CubeGeometry has been renamed to THREE.BoxGeometry.\");return new THREE.BoxGeometry(a,b,c,d,e,f)};\nTHREE.CylinderGeometry=function(a,b,c,d,e,f,g,h){THREE.Geometry.call(this);this.type=\"CylinderGeometry\";this.parameters={radiusTop:a,radiusBottom:b,height:c,radialSegments:d,heightSegments:e,openEnded:f,thetaStart:g,thetaLength:h};a=void 0!==a?a:20;b=void 0!==b?b:20;c=void 0!==c?c:100;d=d||8;e=e||1;f=void 0!==f?f:!1;g=void 0!==g?g:0;h=void 0!==h?h:2*Math.PI;var k=c/2,l,p,q=[],n=[];for(p=0;p<=e;p++){var t=[],r=[],s=p/e,u=s*(b-a)+a;for(l=0;l<=d;l++){var v=l/d,x=new THREE.Vector3;x.x=u*Math.sin(v*h+\ng);x.y=-s*c+k;x.z=u*Math.cos(v*h+g);this.vertices.push(x);t.push(this.vertices.length-1);r.push(new THREE.Vector2(v,1-s))}q.push(t);n.push(r)}c=(b-a)/c;for(l=0;l<d;l++)for(0!==a?(g=this.vertices[q[0][l]].clone(),h=this.vertices[q[0][l+1]].clone()):(g=this.vertices[q[1][l]].clone(),h=this.vertices[q[1][l+1]].clone()),g.setY(Math.sqrt(g.x*g.x+g.z*g.z)*c).normalize(),h.setY(Math.sqrt(h.x*h.x+h.z*h.z)*c).normalize(),p=0;p<e;p++){var t=q[p][l],r=q[p+1][l],s=q[p+1][l+1],u=q[p][l+1],v=g.clone(),x=g.clone(),\nD=h.clone(),w=h.clone(),y=n[p][l].clone(),A=n[p+1][l].clone(),E=n[p+1][l+1].clone(),G=n[p][l+1].clone();this.faces.push(new THREE.Face3(t,r,u,[v,x,w]));this.faceVertexUvs[0].push([y,A,G]);this.faces.push(new THREE.Face3(r,s,u,[x.clone(),D,w.clone()]));this.faceVertexUvs[0].push([A.clone(),E,G.clone()])}if(!1===f&&0<a)for(this.vertices.push(new THREE.Vector3(0,k,0)),l=0;l<d;l++)t=q[0][l],r=q[0][l+1],s=this.vertices.length-1,v=new THREE.Vector3(0,1,0),x=new THREE.Vector3(0,1,0),D=new THREE.Vector3(0,\n1,0),y=n[0][l].clone(),A=n[0][l+1].clone(),E=new THREE.Vector2(A.x,0),this.faces.push(new THREE.Face3(t,r,s,[v,x,D])),this.faceVertexUvs[0].push([y,A,E]);if(!1===f&&0<b)for(this.vertices.push(new THREE.Vector3(0,-k,0)),l=0;l<d;l++)t=q[e][l+1],r=q[e][l],s=this.vertices.length-1,v=new THREE.Vector3(0,-1,0),x=new THREE.Vector3(0,-1,0),D=new THREE.Vector3(0,-1,0),y=n[e][l+1].clone(),A=n[e][l].clone(),E=new THREE.Vector2(A.x,1),this.faces.push(new THREE.Face3(t,r,s,[v,x,D])),this.faceVertexUvs[0].push([y,\nA,E]);this.computeFaceNormals()};THREE.CylinderGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.CylinderGeometry.prototype.constructor=THREE.CylinderGeometry;THREE.ExtrudeGeometry=function(a,b){\"undefined\"!==typeof a&&(THREE.Geometry.call(this),this.type=\"ExtrudeGeometry\",a=a instanceof Array?a:[a],this.addShapeList(a,b),this.computeFaceNormals())};THREE.ExtrudeGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.ExtrudeGeometry.prototype.constructor=THREE.ExtrudeGeometry;\nTHREE.ExtrudeGeometry.prototype.addShapeList=function(a,b){for(var c=a.length,d=0;d<c;d++)this.addShape(a[d],b)};\nTHREE.ExtrudeGeometry.prototype.addShape=function(a,b){function c(a,b,c){b||THREE.error(\"THREE.ExtrudeGeometry: vec does not exist\");return b.clone().multiplyScalar(c).add(a)}function d(a,b,c){var d=1,d=a.x-b.x,e=a.y-b.y,f=c.x-a.x,g=c.y-a.y,h=d*d+e*e;if(1E-10<Math.abs(d*g-e*f)){var k=Math.sqrt(h),l=Math.sqrt(f*f+g*g),h=b.x-e/k;b=b.y+d/k;f=((c.x-g/l-h)*g-(c.y+f/l-b)*f)/(d*g-e*f);c=h+d*f-a.x;a=b+e*f-a.y;d=c*c+a*a;if(2>=d)return new THREE.Vector2(c,a);d=Math.sqrt(d/2)}else a=!1,1E-10<d?1E-10<f&&(a=!0):\n-1E-10>d?-1E-10>f&&(a=!0):Math.sign(e)==Math.sign(g)&&(a=!0),a?(c=-e,a=d,d=Math.sqrt(h)):(c=d,a=e,d=Math.sqrt(h/2));return new THREE.Vector2(c/d,a/d)}function e(a,b){var c,d;for(O=a.length;0<=--O;){c=O;d=O-1;0>d&&(d=a.length-1);for(var e=0,f=t+2*p,e=0;e<f;e++){var g=oa*e,h=oa*(e+1),k=b+c+g,g=b+d+g,l=b+d+h,h=b+c+h,k=k+U,g=g+U,l=l+U,h=h+U;I.faces.push(new THREE.Face3(k,g,h,null,null,x));I.faces.push(new THREE.Face3(g,l,h,null,null,x));k=D.generateSideWallUV(I,k,g,l,h);I.faceVertexUvs[0].push([k[0],\nk[1],k[3]]);I.faceVertexUvs[0].push([k[1],k[2],k[3]])}}}function f(a,b,c){I.vertices.push(new THREE.Vector3(a,b,c))}function g(a,b,c){a+=U;b+=U;c+=U;I.faces.push(new THREE.Face3(a,b,c,null,null,v));a=D.generateTopUV(I,a,b,c);I.faceVertexUvs[0].push(a)}var h=void 0!==b.amount?b.amount:100,k=void 0!==b.bevelThickness?b.bevelThickness:6,l=void 0!==b.bevelSize?b.bevelSize:k-2,p=void 0!==b.bevelSegments?b.bevelSegments:3,q=void 0!==b.bevelEnabled?b.bevelEnabled:!0,n=void 0!==b.curveSegments?b.curveSegments:\n12,t=void 0!==b.steps?b.steps:1,r=b.extrudePath,s,u=!1,v=b.material,x=b.extrudeMaterial,D=void 0!==b.UVGenerator?b.UVGenerator:THREE.ExtrudeGeometry.WorldUVGenerator,w,y,A,E;r&&(s=r.getSpacedPoints(t),u=!0,q=!1,w=void 0!==b.frames?b.frames:new THREE.TubeGeometry.FrenetFrames(r,t,!1),y=new THREE.Vector3,A=new THREE.Vector3,E=new THREE.Vector3);q||(l=k=p=0);var G,F,z,I=this,U=this.vertices.length,r=a.extractPoints(n),n=r.shape,M=r.holes;if(r=!THREE.Shape.Utils.isClockWise(n)){n=n.reverse();F=0;for(z=\nM.length;F<z;F++)G=M[F],THREE.Shape.Utils.isClockWise(G)&&(M[F]=G.reverse());r=!1}var H=THREE.Shape.Utils.triangulateShape(n,M),L=n;F=0;for(z=M.length;F<z;F++)G=M[F],n=n.concat(G);var P,N,R,V,J,oa=n.length,ja,ha=H.length,r=[],O=0;R=L.length;P=R-1;for(N=O+1;O<R;O++,P++,N++)P===R&&(P=0),N===R&&(N=0),r[O]=d(L[O],L[P],L[N]);var ca=[],ba,qa=r.concat();F=0;for(z=M.length;F<z;F++){G=M[F];ba=[];O=0;R=G.length;P=R-1;for(N=O+1;O<R;O++,P++,N++)P===R&&(P=0),N===R&&(N=0),ba[O]=d(G[O],G[P],G[N]);ca.push(ba);qa=\nqa.concat(ba)}for(P=0;P<p;P++){R=P/p;V=k*(1-R);N=l*Math.sin(R*Math.PI/2);O=0;for(R=L.length;O<R;O++)J=c(L[O],r[O],N),f(J.x,J.y,-V);F=0;for(z=M.length;F<z;F++)for(G=M[F],ba=ca[F],O=0,R=G.length;O<R;O++)J=c(G[O],ba[O],N),f(J.x,J.y,-V)}N=l;for(O=0;O<oa;O++)J=q?c(n[O],qa[O],N):n[O],u?(A.copy(w.normals[0]).multiplyScalar(J.x),y.copy(w.binormals[0]).multiplyScalar(J.y),E.copy(s[0]).add(A).add(y),f(E.x,E.y,E.z)):f(J.x,J.y,0);for(R=1;R<=t;R++)for(O=0;O<oa;O++)J=q?c(n[O],qa[O],N):n[O],u?(A.copy(w.normals[R]).multiplyScalar(J.x),\ny.copy(w.binormals[R]).multiplyScalar(J.y),E.copy(s[R]).add(A).add(y),f(E.x,E.y,E.z)):f(J.x,J.y,h/t*R);for(P=p-1;0<=P;P--){R=P/p;V=k*(1-R);N=l*Math.sin(R*Math.PI/2);O=0;for(R=L.length;O<R;O++)J=c(L[O],r[O],N),f(J.x,J.y,h+V);F=0;for(z=M.length;F<z;F++)for(G=M[F],ba=ca[F],O=0,R=G.length;O<R;O++)J=c(G[O],ba[O],N),u?f(J.x,J.y+s[t-1].y,s[t-1].x+V):f(J.x,J.y,h+V)}(function(){if(q){var a;a=0*oa;for(O=0;O<ha;O++)ja=H[O],g(ja[2]+a,ja[1]+a,ja[0]+a);a=t+2*p;a*=oa;for(O=0;O<ha;O++)ja=H[O],g(ja[0]+a,ja[1]+a,ja[2]+\na)}else{for(O=0;O<ha;O++)ja=H[O],g(ja[2],ja[1],ja[0]);for(O=0;O<ha;O++)ja=H[O],g(ja[0]+oa*t,ja[1]+oa*t,ja[2]+oa*t)}})();(function(){var a=0;e(L,a);a+=L.length;F=0;for(z=M.length;F<z;F++)G=M[F],e(G,a),a+=G.length})()};\nTHREE.ExtrudeGeometry.WorldUVGenerator={generateTopUV:function(a,b,c,d){a=a.vertices;b=a[b];c=a[c];d=a[d];return[new THREE.Vector2(b.x,b.y),new THREE.Vector2(c.x,c.y),new THREE.Vector2(d.x,d.y)]},generateSideWallUV:function(a,b,c,d,e){a=a.vertices;b=a[b];c=a[c];d=a[d];e=a[e];return.01>Math.abs(b.y-c.y)?[new THREE.Vector2(b.x,1-b.z),new THREE.Vector2(c.x,1-c.z),new THREE.Vector2(d.x,1-d.z),new THREE.Vector2(e.x,1-e.z)]:[new THREE.Vector2(b.y,1-b.z),new THREE.Vector2(c.y,1-c.z),new THREE.Vector2(d.y,\n1-d.z),new THREE.Vector2(e.y,1-e.z)]}};THREE.ShapeGeometry=function(a,b){THREE.Geometry.call(this);this.type=\"ShapeGeometry\";!1===a instanceof Array&&(a=[a]);this.addShapeList(a,b);this.computeFaceNormals()};THREE.ShapeGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.ShapeGeometry.prototype.constructor=THREE.ShapeGeometry;THREE.ShapeGeometry.prototype.addShapeList=function(a,b){for(var c=0,d=a.length;c<d;c++)this.addShape(a[c],b);return this};\nTHREE.ShapeGeometry.prototype.addShape=function(a,b){void 0===b&&(b={});var c=b.material,d=void 0===b.UVGenerator?THREE.ExtrudeGeometry.WorldUVGenerator:b.UVGenerator,e,f,g,h=this.vertices.length;e=a.extractPoints(void 0!==b.curveSegments?b.curveSegments:12);var k=e.shape,l=e.holes;if(!THREE.Shape.Utils.isClockWise(k))for(k=k.reverse(),e=0,f=l.length;e<f;e++)g=l[e],THREE.Shape.Utils.isClockWise(g)&&(l[e]=g.reverse());var p=THREE.Shape.Utils.triangulateShape(k,l);e=0;for(f=l.length;e<f;e++)g=l[e],\nk=k.concat(g);l=k.length;f=p.length;for(e=0;e<l;e++)g=k[e],this.vertices.push(new THREE.Vector3(g.x,g.y,0));for(e=0;e<f;e++)l=p[e],k=l[0]+h,g=l[1]+h,l=l[2]+h,this.faces.push(new THREE.Face3(k,g,l,null,null,c)),this.faceVertexUvs[0].push(d.generateTopUV(this,k,g,l))};\nTHREE.LatheGeometry=function(a,b,c,d){THREE.Geometry.call(this);this.type=\"LatheGeometry\";this.parameters={points:a,segments:b,phiStart:c,phiLength:d};b=b||12;c=c||0;d=d||2*Math.PI;for(var e=1/(a.length-1),f=1/b,g=0,h=b;g<=h;g++)for(var k=c+g*f*d,l=Math.cos(k),p=Math.sin(k),k=0,q=a.length;k<q;k++){var n=a[k],t=new THREE.Vector3;t.x=l*n.x-p*n.y;t.y=p*n.x+l*n.y;t.z=n.z;this.vertices.push(t)}c=a.length;g=0;for(h=b;g<h;g++)for(k=0,q=a.length-1;k<q;k++){b=p=k+c*g;d=p+c;var l=p+1+c,p=p+1,n=g*f,t=k*e,r=\nn+f,s=t+e;this.faces.push(new THREE.Face3(b,d,p));this.faceVertexUvs[0].push([new THREE.Vector2(n,t),new THREE.Vector2(r,t),new THREE.Vector2(n,s)]);this.faces.push(new THREE.Face3(d,l,p));this.faceVertexUvs[0].push([new THREE.Vector2(r,t),new THREE.Vector2(r,s),new THREE.Vector2(n,s)])}this.mergeVertices();this.computeFaceNormals();this.computeVertexNormals()};THREE.LatheGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.LatheGeometry.prototype.constructor=THREE.LatheGeometry;\nTHREE.PlaneGeometry=function(a,b,c,d){console.info(\"THREE.PlaneGeometry: Consider using THREE.PlaneBufferGeometry for lower memory footprint.\");THREE.Geometry.call(this);this.type=\"PlaneGeometry\";this.parameters={width:a,height:b,widthSegments:c,heightSegments:d};this.fromBufferGeometry(new THREE.PlaneBufferGeometry(a,b,c,d))};THREE.PlaneGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.PlaneGeometry.prototype.constructor=THREE.PlaneGeometry;\nTHREE.PlaneBufferGeometry=function(a,b,c,d){THREE.BufferGeometry.call(this);this.type=\"PlaneBufferGeometry\";this.parameters={width:a,height:b,widthSegments:c,heightSegments:d};var e=a/2,f=b/2;c=c||1;d=d||1;var g=c+1,h=d+1,k=a/c,l=b/d;b=new Float32Array(g*h*3);a=new Float32Array(g*h*3);for(var p=new Float32Array(g*h*2),q=0,n=0,t=0;t<h;t++)for(var r=t*l-f,s=0;s<g;s++)b[q]=s*k-e,b[q+1]=-r,a[q+2]=1,p[n]=s/c,p[n+1]=1-t/d,q+=3,n+=2;q=0;e=new (65535<b.length/3?Uint32Array:Uint16Array)(c*d*6);for(t=0;t<d;t++)for(s=\n0;s<c;s++)f=s+g*(t+1),h=s+1+g*(t+1),k=s+1+g*t,e[q]=s+g*t,e[q+1]=f,e[q+2]=k,e[q+3]=f,e[q+4]=h,e[q+5]=k,q+=6;this.addAttribute(\"index\",new THREE.BufferAttribute(e,1));this.addAttribute(\"position\",new THREE.BufferAttribute(b,3));this.addAttribute(\"normal\",new THREE.BufferAttribute(a,3));this.addAttribute(\"uv\",new THREE.BufferAttribute(p,2))};THREE.PlaneBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype);THREE.PlaneBufferGeometry.prototype.constructor=THREE.PlaneBufferGeometry;\nTHREE.RingGeometry=function(a,b,c,d,e,f){THREE.Geometry.call(this);this.type=\"RingGeometry\";this.parameters={innerRadius:a,outerRadius:b,thetaSegments:c,phiSegments:d,thetaStart:e,thetaLength:f};a=a||0;b=b||50;e=void 0!==e?e:0;f=void 0!==f?f:2*Math.PI;c=void 0!==c?Math.max(3,c):8;d=void 0!==d?Math.max(1,d):8;var g,h=[],k=a,l=(b-a)/d;for(a=0;a<d+1;a++){for(g=0;g<c+1;g++){var p=new THREE.Vector3,q=e+g/c*f;p.x=k*Math.cos(q);p.y=k*Math.sin(q);this.vertices.push(p);h.push(new THREE.Vector2((p.x/b+1)/2,\n(p.y/b+1)/2))}k+=l}b=new THREE.Vector3(0,0,1);for(a=0;a<d;a++)for(e=a*(c+1),g=0;g<c;g++)f=q=g+e,l=q+c+1,p=q+c+2,this.faces.push(new THREE.Face3(f,l,p,[b.clone(),b.clone(),b.clone()])),this.faceVertexUvs[0].push([h[f].clone(),h[l].clone(),h[p].clone()]),f=q,l=q+c+2,p=q+1,this.faces.push(new THREE.Face3(f,l,p,[b.clone(),b.clone(),b.clone()])),this.faceVertexUvs[0].push([h[f].clone(),h[l].clone(),h[p].clone()]);this.computeFaceNormals();this.boundingSphere=new THREE.Sphere(new THREE.Vector3,k)};\nTHREE.RingGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.RingGeometry.prototype.constructor=THREE.RingGeometry;\nTHREE.SphereGeometry=function(a,b,c,d,e,f,g){THREE.Geometry.call(this);this.type=\"SphereGeometry\";this.parameters={radius:a,widthSegments:b,heightSegments:c,phiStart:d,phiLength:e,thetaStart:f,thetaLength:g};a=a||50;b=Math.max(3,Math.floor(b)||8);c=Math.max(2,Math.floor(c)||6);d=void 0!==d?d:0;e=void 0!==e?e:2*Math.PI;f=void 0!==f?f:0;g=void 0!==g?g:Math.PI;var h,k,l=[],p=[];for(k=0;k<=c;k++){var q=[],n=[];for(h=0;h<=b;h++){var t=h/b,r=k/c,s=new THREE.Vector3;s.x=-a*Math.cos(d+t*e)*Math.sin(f+r*g);\ns.y=a*Math.cos(f+r*g);s.z=a*Math.sin(d+t*e)*Math.sin(f+r*g);this.vertices.push(s);q.push(this.vertices.length-1);n.push(new THREE.Vector2(t,1-r))}l.push(q);p.push(n)}for(k=0;k<c;k++)for(h=0;h<b;h++){d=l[k][h+1];e=l[k][h];f=l[k+1][h];g=l[k+1][h+1];var q=this.vertices[d].clone().normalize(),n=this.vertices[e].clone().normalize(),t=this.vertices[f].clone().normalize(),r=this.vertices[g].clone().normalize(),s=p[k][h+1].clone(),u=p[k][h].clone(),v=p[k+1][h].clone(),x=p[k+1][h+1].clone();Math.abs(this.vertices[d].y)===\na?(s.x=(s.x+u.x)/2,this.faces.push(new THREE.Face3(d,f,g,[q,t,r])),this.faceVertexUvs[0].push([s,v,x])):Math.abs(this.vertices[f].y)===a?(v.x=(v.x+x.x)/2,this.faces.push(new THREE.Face3(d,e,f,[q,n,t])),this.faceVertexUvs[0].push([s,u,v])):(this.faces.push(new THREE.Face3(d,e,g,[q,n,r])),this.faceVertexUvs[0].push([s,u,x]),this.faces.push(new THREE.Face3(e,f,g,[n.clone(),t,r.clone()])),this.faceVertexUvs[0].push([u.clone(),v,x.clone()]))}this.computeFaceNormals();this.boundingSphere=new THREE.Sphere(new THREE.Vector3,\na)};THREE.SphereGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.SphereGeometry.prototype.constructor=THREE.SphereGeometry;THREE.TextGeometry=function(a,b){b=b||{};var c=THREE.FontUtils.generateShapes(a,b);b.amount=void 0!==b.height?b.height:50;void 0===b.bevelThickness&&(b.bevelThickness=10);void 0===b.bevelSize&&(b.bevelSize=8);void 0===b.bevelEnabled&&(b.bevelEnabled=!1);THREE.ExtrudeGeometry.call(this,c,b);this.type=\"TextGeometry\"};THREE.TextGeometry.prototype=Object.create(THREE.ExtrudeGeometry.prototype);\nTHREE.TextGeometry.prototype.constructor=THREE.TextGeometry;\nTHREE.TorusGeometry=function(a,b,c,d,e){THREE.Geometry.call(this);this.type=\"TorusGeometry\";this.parameters={radius:a,tube:b,radialSegments:c,tubularSegments:d,arc:e};a=a||100;b=b||40;c=c||8;d=d||6;e=e||2*Math.PI;for(var f=new THREE.Vector3,g=[],h=[],k=0;k<=c;k++)for(var l=0;l<=d;l++){var p=l/d*e,q=k/c*Math.PI*2;f.x=a*Math.cos(p);f.y=a*Math.sin(p);var n=new THREE.Vector3;n.x=(a+b*Math.cos(q))*Math.cos(p);n.y=(a+b*Math.cos(q))*Math.sin(p);n.z=b*Math.sin(q);this.vertices.push(n);g.push(new THREE.Vector2(l/\nd,k/c));h.push(n.clone().sub(f).normalize())}for(k=1;k<=c;k++)for(l=1;l<=d;l++)a=(d+1)*k+l-1,b=(d+1)*(k-1)+l-1,e=(d+1)*(k-1)+l,f=(d+1)*k+l,p=new THREE.Face3(a,b,f,[h[a].clone(),h[b].clone(),h[f].clone()]),this.faces.push(p),this.faceVertexUvs[0].push([g[a].clone(),g[b].clone(),g[f].clone()]),p=new THREE.Face3(b,e,f,[h[b].clone(),h[e].clone(),h[f].clone()]),this.faces.push(p),this.faceVertexUvs[0].push([g[b].clone(),g[e].clone(),g[f].clone()]);this.computeFaceNormals()};\nTHREE.TorusGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.TorusGeometry.prototype.constructor=THREE.TorusGeometry;\nTHREE.TorusKnotGeometry=function(a,b,c,d,e,f,g){function h(a,b,c,d,e){var f=Math.cos(a),g=Math.sin(a);a*=b/c;b=Math.cos(a);f*=d*(2+b)*.5;g=d*(2+b)*g*.5;d=e*d*Math.sin(a)*.5;return new THREE.Vector3(f,g,d)}THREE.Geometry.call(this);this.type=\"TorusKnotGeometry\";this.parameters={radius:a,tube:b,radialSegments:c,tubularSegments:d,p:e,q:f,heightScale:g};a=a||100;b=b||40;c=c||64;d=d||8;e=e||2;f=f||3;g=g||1;for(var k=Array(c),l=new THREE.Vector3,p=new THREE.Vector3,q=new THREE.Vector3,n=0;n<c;++n){k[n]=\nArray(d);var t=n/c*2*e*Math.PI,r=h(t,f,e,a,g),t=h(t+.01,f,e,a,g);l.subVectors(t,r);p.addVectors(t,r);q.crossVectors(l,p);p.crossVectors(q,l);q.normalize();p.normalize();for(t=0;t<d;++t){var s=t/d*2*Math.PI,u=-b*Math.cos(s),s=b*Math.sin(s),v=new THREE.Vector3;v.x=r.x+u*p.x+s*q.x;v.y=r.y+u*p.y+s*q.y;v.z=r.z+u*p.z+s*q.z;k[n][t]=this.vertices.push(v)-1}}for(n=0;n<c;++n)for(t=0;t<d;++t)e=(n+1)%c,f=(t+1)%d,a=k[n][t],b=k[e][t],e=k[e][f],f=k[n][f],g=new THREE.Vector2(n/c,t/d),l=new THREE.Vector2((n+1)/c,\nt/d),p=new THREE.Vector2((n+1)/c,(t+1)/d),q=new THREE.Vector2(n/c,(t+1)/d),this.faces.push(new THREE.Face3(a,b,f)),this.faceVertexUvs[0].push([g,l,q]),this.faces.push(new THREE.Face3(b,e,f)),this.faceVertexUvs[0].push([l.clone(),p,q.clone()]);this.computeFaceNormals();this.computeVertexNormals()};THREE.TorusKnotGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.TorusKnotGeometry.prototype.constructor=THREE.TorusKnotGeometry;\nTHREE.TubeGeometry=function(a,b,c,d,e,f){THREE.Geometry.call(this);this.type=\"TubeGeometry\";this.parameters={path:a,segments:b,radius:c,radialSegments:d,closed:e};b=b||64;c=c||1;d=d||8;e=e||!1;f=f||THREE.TubeGeometry.NoTaper;var g=[],h,k,l=b+1,p,q,n,t,r,s=new THREE.Vector3,u,v,x;u=new THREE.TubeGeometry.FrenetFrames(a,b,e);v=u.normals;x=u.binormals;this.tangents=u.tangents;this.normals=v;this.binormals=x;for(u=0;u<l;u++)for(g[u]=[],p=u/(l-1),r=a.getPointAt(p),h=v[u],k=x[u],n=c*f(p),p=0;p<d;p++)q=\np/d*2*Math.PI,t=-n*Math.cos(q),q=n*Math.sin(q),s.copy(r),s.x+=t*h.x+q*k.x,s.y+=t*h.y+q*k.y,s.z+=t*h.z+q*k.z,g[u][p]=this.vertices.push(new THREE.Vector3(s.x,s.y,s.z))-1;for(u=0;u<b;u++)for(p=0;p<d;p++)f=e?(u+1)%b:u+1,l=(p+1)%d,a=g[u][p],c=g[f][p],f=g[f][l],l=g[u][l],s=new THREE.Vector2(u/b,p/d),v=new THREE.Vector2((u+1)/b,p/d),x=new THREE.Vector2((u+1)/b,(p+1)/d),h=new THREE.Vector2(u/b,(p+1)/d),this.faces.push(new THREE.Face3(a,c,l)),this.faceVertexUvs[0].push([s,v,h]),this.faces.push(new THREE.Face3(c,\nf,l)),this.faceVertexUvs[0].push([v.clone(),x,h.clone()]);this.computeFaceNormals();this.computeVertexNormals()};THREE.TubeGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.TubeGeometry.prototype.constructor=THREE.TubeGeometry;THREE.TubeGeometry.NoTaper=function(a){return 1};THREE.TubeGeometry.SinusoidalTaper=function(a){return Math.sin(Math.PI*a)};\nTHREE.TubeGeometry.FrenetFrames=function(a,b,c){var d=new THREE.Vector3,e=[],f=[],g=[],h=new THREE.Vector3,k=new THREE.Matrix4;b+=1;var l,p,q;this.tangents=e;this.normals=f;this.binormals=g;for(l=0;l<b;l++)p=l/(b-1),e[l]=a.getTangentAt(p),e[l].normalize();f[0]=new THREE.Vector3;g[0]=new THREE.Vector3;a=Number.MAX_VALUE;l=Math.abs(e[0].x);p=Math.abs(e[0].y);q=Math.abs(e[0].z);l<=a&&(a=l,d.set(1,0,0));p<=a&&(a=p,d.set(0,1,0));q<=a&&d.set(0,0,1);h.crossVectors(e[0],d).normalize();f[0].crossVectors(e[0],\nh);g[0].crossVectors(e[0],f[0]);for(l=1;l<b;l++)f[l]=f[l-1].clone(),g[l]=g[l-1].clone(),h.crossVectors(e[l-1],e[l]),1E-4<h.length()&&(h.normalize(),d=Math.acos(THREE.Math.clamp(e[l-1].dot(e[l]),-1,1)),f[l].applyMatrix4(k.makeRotationAxis(h,d))),g[l].crossVectors(e[l],f[l]);if(c)for(d=Math.acos(THREE.Math.clamp(f[0].dot(f[b-1]),-1,1)),d/=b-1,0<e[0].dot(h.crossVectors(f[0],f[b-1]))&&(d=-d),l=1;l<b;l++)f[l].applyMatrix4(k.makeRotationAxis(e[l],d*l)),g[l].crossVectors(e[l],f[l])};\nTHREE.PolyhedronGeometry=function(a,b,c,d){function e(a){var b=a.normalize().clone();b.index=k.vertices.push(b)-1;var c=Math.atan2(a.z,-a.x)/2/Math.PI+.5;a=Math.atan2(-a.y,Math.sqrt(a.x*a.x+a.z*a.z))/Math.PI+.5;b.uv=new THREE.Vector2(c,1-a);return b}function f(a,b,c){var d=new THREE.Face3(a.index,b.index,c.index,[a.clone(),b.clone(),c.clone()]);k.faces.push(d);u.copy(a).add(b).add(c).divideScalar(3);d=Math.atan2(u.z,-u.x);k.faceVertexUvs[0].push([h(a.uv,a,d),h(b.uv,b,d),h(c.uv,c,d)])}function g(a,\nb){for(var c=Math.pow(2,b),d=e(k.vertices[a.a]),g=e(k.vertices[a.b]),h=e(k.vertices[a.c]),l=[],n=0;n<=c;n++){l[n]=[];for(var p=e(d.clone().lerp(h,n/c)),q=e(g.clone().lerp(h,n/c)),s=c-n,r=0;r<=s;r++)l[n][r]=0==r&&n==c?p:e(p.clone().lerp(q,r/s))}for(n=0;n<c;n++)for(r=0;r<2*(c-n)-1;r++)d=Math.floor(r/2),0==r%2?f(l[n][d+1],l[n+1][d],l[n][d]):f(l[n][d+1],l[n+1][d+1],l[n+1][d])}function h(a,b,c){0>c&&1===a.x&&(a=new THREE.Vector2(a.x-1,a.y));0===b.x&&0===b.z&&(a=new THREE.Vector2(c/2/Math.PI+.5,a.y));return a.clone()}\nTHREE.Geometry.call(this);this.type=\"PolyhedronGeometry\";this.parameters={vertices:a,indices:b,radius:c,detail:d};c=c||1;d=d||0;for(var k=this,l=0,p=a.length;l<p;l+=3)e(new THREE.Vector3(a[l],a[l+1],a[l+2]));a=this.vertices;for(var q=[],n=l=0,p=b.length;l<p;l+=3,n++){var t=a[b[l]],r=a[b[l+1]],s=a[b[l+2]];q[n]=new THREE.Face3(t.index,r.index,s.index,[t.clone(),r.clone(),s.clone()])}for(var u=new THREE.Vector3,l=0,p=q.length;l<p;l++)g(q[l],d);l=0;for(p=this.faceVertexUvs[0].length;l<p;l++)b=this.faceVertexUvs[0][l],\nd=b[0].x,a=b[1].x,q=b[2].x,n=Math.max(d,Math.max(a,q)),t=Math.min(d,Math.min(a,q)),.9<n&&.1>t&&(.2>d&&(b[0].x+=1),.2>a&&(b[1].x+=1),.2>q&&(b[2].x+=1));l=0;for(p=this.vertices.length;l<p;l++)this.vertices[l].multiplyScalar(c);this.mergeVertices();this.computeFaceNormals();this.boundingSphere=new THREE.Sphere(new THREE.Vector3,c)};THREE.PolyhedronGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.PolyhedronGeometry.prototype.constructor=THREE.PolyhedronGeometry;\nTHREE.DodecahedronGeometry=function(a,b){this.parameters={radius:a,detail:b};var c=(1+Math.sqrt(5))/2,d=1/c;THREE.PolyhedronGeometry.call(this,[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-d,-c,0,-d,c,0,d,-c,0,d,c,-d,-c,0,-d,c,0,d,-c,0,d,c,0,-c,0,-d,c,0,-d,-c,0,d,c,0,d],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,\n11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],a,b)};THREE.DodecahedronGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.DodecahedronGeometry.prototype.constructor=THREE.DodecahedronGeometry;\nTHREE.IcosahedronGeometry=function(a,b){var c=(1+Math.sqrt(5))/2;THREE.PolyhedronGeometry.call(this,[-1,c,0,1,c,0,-1,-c,0,1,-c,0,0,-1,c,0,1,c,0,-1,-c,0,1,-c,c,0,-1,c,0,1,-c,0,-1,-c,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],a,b);this.type=\"IcosahedronGeometry\";this.parameters={radius:a,detail:b}};THREE.IcosahedronGeometry.prototype=Object.create(THREE.Geometry.prototype);\nTHREE.IcosahedronGeometry.prototype.constructor=THREE.IcosahedronGeometry;THREE.OctahedronGeometry=function(a,b){this.parameters={radius:a,detail:b};THREE.PolyhedronGeometry.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],a,b);this.type=\"OctahedronGeometry\";this.parameters={radius:a,detail:b}};THREE.OctahedronGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.OctahedronGeometry.prototype.constructor=THREE.OctahedronGeometry;\nTHREE.TetrahedronGeometry=function(a,b){THREE.PolyhedronGeometry.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],a,b);this.type=\"TetrahedronGeometry\";this.parameters={radius:a,detail:b}};THREE.TetrahedronGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.TetrahedronGeometry.prototype.constructor=THREE.TetrahedronGeometry;\nTHREE.ParametricGeometry=function(a,b,c){THREE.Geometry.call(this);this.type=\"ParametricGeometry\";this.parameters={func:a,slices:b,stacks:c};var d=this.vertices,e=this.faces,f=this.faceVertexUvs[0],g,h,k,l,p=b+1;for(g=0;g<=c;g++)for(l=g/c,h=0;h<=b;h++)k=h/b,k=a(k,l),d.push(k);var q,n,t,r;for(g=0;g<c;g++)for(h=0;h<b;h++)a=g*p+h,d=g*p+h+1,l=(g+1)*p+h+1,k=(g+1)*p+h,q=new THREE.Vector2(h/b,g/c),n=new THREE.Vector2((h+1)/b,g/c),t=new THREE.Vector2((h+1)/b,(g+1)/c),r=new THREE.Vector2(h/b,(g+1)/c),e.push(new THREE.Face3(a,\nd,k)),f.push([q,n,r]),e.push(new THREE.Face3(d,l,k)),f.push([n.clone(),t,r.clone()]);this.computeFaceNormals();this.computeVertexNormals()};THREE.ParametricGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.ParametricGeometry.prototype.constructor=THREE.ParametricGeometry;\nTHREE.AxisHelper=function(a){a=a||1;var b=new Float32Array([0,0,0,a,0,0,0,0,0,0,a,0,0,0,0,0,0,a]),c=new Float32Array([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1]);a=new THREE.BufferGeometry;a.addAttribute(\"position\",new THREE.BufferAttribute(b,3));a.addAttribute(\"color\",new THREE.BufferAttribute(c,3));b=new THREE.LineBasicMaterial({vertexColors:THREE.VertexColors});THREE.Line.call(this,a,b,THREE.LinePieces)};THREE.AxisHelper.prototype=Object.create(THREE.Line.prototype);\nTHREE.AxisHelper.prototype.constructor=THREE.AxisHelper;\nTHREE.ArrowHelper=function(){var a=new THREE.Geometry;a.vertices.push(new THREE.Vector3(0,0,0),new THREE.Vector3(0,1,0));var b=new THREE.CylinderGeometry(0,.5,1,5,1);b.applyMatrix((new THREE.Matrix4).makeTranslation(0,-.5,0));return function(c,d,e,f,g,h){THREE.Object3D.call(this);void 0===f&&(f=16776960);void 0===e&&(e=1);void 0===g&&(g=.2*e);void 0===h&&(h=.2*g);this.position.copy(d);this.line=new THREE.Line(a,new THREE.LineBasicMaterial({color:f}));this.line.matrixAutoUpdate=!1;this.add(this.line);\nthis.cone=new THREE.Mesh(b,new THREE.MeshBasicMaterial({color:f}));this.cone.matrixAutoUpdate=!1;this.add(this.cone);this.setDirection(c);this.setLength(e,g,h)}}();THREE.ArrowHelper.prototype=Object.create(THREE.Object3D.prototype);THREE.ArrowHelper.prototype.constructor=THREE.ArrowHelper;\nTHREE.ArrowHelper.prototype.setDirection=function(){var a=new THREE.Vector3,b;return function(c){.99999<c.y?this.quaternion.set(0,0,0,1):-.99999>c.y?this.quaternion.set(1,0,0,0):(a.set(c.z,0,-c.x).normalize(),b=Math.acos(c.y),this.quaternion.setFromAxisAngle(a,b))}}();THREE.ArrowHelper.prototype.setLength=function(a,b,c){void 0===b&&(b=.2*a);void 0===c&&(c=.2*b);this.line.scale.set(1,a-b,1);this.line.updateMatrix();this.cone.scale.set(c,b,c);this.cone.position.y=a;this.cone.updateMatrix()};\nTHREE.ArrowHelper.prototype.setColor=function(a){this.line.material.color.set(a);this.cone.material.color.set(a)};THREE.BoxHelper=function(a){var b=new THREE.BufferGeometry;b.addAttribute(\"position\",new THREE.BufferAttribute(new Float32Array(72),3));THREE.Line.call(this,b,new THREE.LineBasicMaterial({color:16776960}),THREE.LinePieces);void 0!==a&&this.update(a)};THREE.BoxHelper.prototype=Object.create(THREE.Line.prototype);THREE.BoxHelper.prototype.constructor=THREE.BoxHelper;\nTHREE.BoxHelper.prototype.update=function(a){var b=a.geometry;null===b.boundingBox&&b.computeBoundingBox();var c=b.boundingBox.min,b=b.boundingBox.max,d=this.geometry.attributes.position.array;d[0]=b.x;d[1]=b.y;d[2]=b.z;d[3]=c.x;d[4]=b.y;d[5]=b.z;d[6]=c.x;d[7]=b.y;d[8]=b.z;d[9]=c.x;d[10]=c.y;d[11]=b.z;d[12]=c.x;d[13]=c.y;d[14]=b.z;d[15]=b.x;d[16]=c.y;d[17]=b.z;d[18]=b.x;d[19]=c.y;d[20]=b.z;d[21]=b.x;d[22]=b.y;d[23]=b.z;d[24]=b.x;d[25]=b.y;d[26]=c.z;d[27]=c.x;d[28]=b.y;d[29]=c.z;d[30]=c.x;d[31]=b.y;\nd[32]=c.z;d[33]=c.x;d[34]=c.y;d[35]=c.z;d[36]=c.x;d[37]=c.y;d[38]=c.z;d[39]=b.x;d[40]=c.y;d[41]=c.z;d[42]=b.x;d[43]=c.y;d[44]=c.z;d[45]=b.x;d[46]=b.y;d[47]=c.z;d[48]=b.x;d[49]=b.y;d[50]=b.z;d[51]=b.x;d[52]=b.y;d[53]=c.z;d[54]=c.x;d[55]=b.y;d[56]=b.z;d[57]=c.x;d[58]=b.y;d[59]=c.z;d[60]=c.x;d[61]=c.y;d[62]=b.z;d[63]=c.x;d[64]=c.y;d[65]=c.z;d[66]=b.x;d[67]=c.y;d[68]=b.z;d[69]=b.x;d[70]=c.y;d[71]=c.z;this.geometry.attributes.position.needsUpdate=!0;this.geometry.computeBoundingSphere();this.matrix=a.matrixWorld;\nthis.matrixAutoUpdate=!1};THREE.BoundingBoxHelper=function(a,b){var c=void 0!==b?b:8947848;this.object=a;this.box=new THREE.Box3;THREE.Mesh.call(this,new THREE.BoxGeometry(1,1,1),new THREE.MeshBasicMaterial({color:c,wireframe:!0}))};THREE.BoundingBoxHelper.prototype=Object.create(THREE.Mesh.prototype);THREE.BoundingBoxHelper.prototype.constructor=THREE.BoundingBoxHelper;THREE.BoundingBoxHelper.prototype.update=function(){this.box.setFromObject(this.object);this.box.size(this.scale);this.box.center(this.position)};\nTHREE.CameraHelper=function(a){function b(a,b,d){c(a,d);c(b,d)}function c(a,b){d.vertices.push(new THREE.Vector3);d.colors.push(new THREE.Color(b));void 0===f[a]&&(f[a]=[]);f[a].push(d.vertices.length-1)}var d=new THREE.Geometry,e=new THREE.LineBasicMaterial({color:16777215,vertexColors:THREE.FaceColors}),f={};b(\"n1\",\"n2\",16755200);b(\"n2\",\"n4\",16755200);b(\"n4\",\"n3\",16755200);b(\"n3\",\"n1\",16755200);b(\"f1\",\"f2\",16755200);b(\"f2\",\"f4\",16755200);b(\"f4\",\"f3\",16755200);b(\"f3\",\"f1\",16755200);b(\"n1\",\"f1\",16755200);\nb(\"n2\",\"f2\",16755200);b(\"n3\",\"f3\",16755200);b(\"n4\",\"f4\",16755200);b(\"p\",\"n1\",16711680);b(\"p\",\"n2\",16711680);b(\"p\",\"n3\",16711680);b(\"p\",\"n4\",16711680);b(\"u1\",\"u2\",43775);b(\"u2\",\"u3\",43775);b(\"u3\",\"u1\",43775);b(\"c\",\"t\",16777215);b(\"p\",\"c\",3355443);b(\"cn1\",\"cn2\",3355443);b(\"cn3\",\"cn4\",3355443);b(\"cf1\",\"cf2\",3355443);b(\"cf3\",\"cf4\",3355443);THREE.Line.call(this,d,e,THREE.LinePieces);this.camera=a;this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.pointMap=f;this.update()};\nTHREE.CameraHelper.prototype=Object.create(THREE.Line.prototype);THREE.CameraHelper.prototype.constructor=THREE.CameraHelper;\nTHREE.CameraHelper.prototype.update=function(){var a,b,c=new THREE.Vector3,d=new THREE.Camera,e=function(e,g,h,k){c.set(g,h,k).unproject(d);e=b[e];if(void 0!==e)for(g=0,h=e.length;g<h;g++)a.vertices[e[g]].copy(c)};return function(){a=this.geometry;b=this.pointMap;d.projectionMatrix.copy(this.camera.projectionMatrix);e(\"c\",0,0,-1);e(\"t\",0,0,1);e(\"n1\",-1,-1,-1);e(\"n2\",1,-1,-1);e(\"n3\",-1,1,-1);e(\"n4\",1,1,-1);e(\"f1\",-1,-1,1);e(\"f2\",1,-1,1);e(\"f3\",-1,1,1);e(\"f4\",1,1,1);e(\"u1\",.7,1.1,-1);e(\"u2\",-.7,1.1,\n-1);e(\"u3\",0,2,-1);e(\"cf1\",-1,0,1);e(\"cf2\",1,0,1);e(\"cf3\",0,-1,1);e(\"cf4\",0,1,1);e(\"cn1\",-1,0,-1);e(\"cn2\",1,0,-1);e(\"cn3\",0,-1,-1);e(\"cn4\",0,1,-1);a.verticesNeedUpdate=!0}}();\nTHREE.DirectionalLightHelper=function(a,b){THREE.Object3D.call(this);this.light=a;this.light.updateMatrixWorld();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;b=b||1;var c=new THREE.Geometry;c.vertices.push(new THREE.Vector3(-b,b,0),new THREE.Vector3(b,b,0),new THREE.Vector3(b,-b,0),new THREE.Vector3(-b,-b,0),new THREE.Vector3(-b,b,0));var d=new THREE.LineBasicMaterial({fog:!1});d.color.copy(this.light.color).multiplyScalar(this.light.intensity);this.lightPlane=new THREE.Line(c,d);this.add(this.lightPlane);\nc=new THREE.Geometry;c.vertices.push(new THREE.Vector3,new THREE.Vector3);d=new THREE.LineBasicMaterial({fog:!1});d.color.copy(this.light.color).multiplyScalar(this.light.intensity);this.targetLine=new THREE.Line(c,d);this.add(this.targetLine);this.update()};THREE.DirectionalLightHelper.prototype=Object.create(THREE.Object3D.prototype);THREE.DirectionalLightHelper.prototype.constructor=THREE.DirectionalLightHelper;\nTHREE.DirectionalLightHelper.prototype.dispose=function(){this.lightPlane.geometry.dispose();this.lightPlane.material.dispose();this.targetLine.geometry.dispose();this.targetLine.material.dispose()};\nTHREE.DirectionalLightHelper.prototype.update=function(){var a=new THREE.Vector3,b=new THREE.Vector3,c=new THREE.Vector3;return function(){a.setFromMatrixPosition(this.light.matrixWorld);b.setFromMatrixPosition(this.light.target.matrixWorld);c.subVectors(b,a);this.lightPlane.lookAt(c);this.lightPlane.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);this.targetLine.geometry.vertices[1].copy(c);this.targetLine.geometry.verticesNeedUpdate=!0;this.targetLine.material.color.copy(this.lightPlane.material.color)}}();\nTHREE.EdgesHelper=function(a,b,c){b=void 0!==b?b:16777215;c=Math.cos(THREE.Math.degToRad(void 0!==c?c:1));var d=[0,0],e={},f=function(a,b){return a-b},g=[\"a\",\"b\",\"c\"],h=new THREE.BufferGeometry,k;a.geometry instanceof THREE.BufferGeometry?(k=new THREE.Geometry,k.fromBufferGeometry(a.geometry)):k=a.geometry.clone();k.mergeVertices();k.computeFaceNormals();var l=k.vertices;k=k.faces;for(var p=0,q=0,n=k.length;q<n;q++)for(var t=k[q],r=0;3>r;r++){d[0]=t[g[r]];d[1]=t[g[(r+1)%3]];d.sort(f);var s=d.toString();\nvoid 0===e[s]?(e[s]={vert1:d[0],vert2:d[1],face1:q,face2:void 0},p++):e[s].face2=q}d=new Float32Array(6*p);f=0;for(s in e)if(g=e[s],void 0===g.face2||k[g.face1].normal.dot(k[g.face2].normal)<=c)p=l[g.vert1],d[f++]=p.x,d[f++]=p.y,d[f++]=p.z,p=l[g.vert2],d[f++]=p.x,d[f++]=p.y,d[f++]=p.z;h.addAttribute(\"position\",new THREE.BufferAttribute(d,3));THREE.Line.call(this,h,new THREE.LineBasicMaterial({color:b}),THREE.LinePieces);this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1};\nTHREE.EdgesHelper.prototype=Object.create(THREE.Line.prototype);THREE.EdgesHelper.prototype.constructor=THREE.EdgesHelper;\nTHREE.FaceNormalsHelper=function(a,b,c,d){this.object=a;this.size=void 0!==b?b:1;a=void 0!==c?c:16776960;d=void 0!==d?d:1;b=new THREE.Geometry;c=0;for(var e=this.object.geometry.faces.length;c<e;c++)b.vertices.push(new THREE.Vector3,new THREE.Vector3);THREE.Line.call(this,b,new THREE.LineBasicMaterial({color:a,linewidth:d}),THREE.LinePieces);this.matrixAutoUpdate=!1;this.normalMatrix=new THREE.Matrix3;this.update()};THREE.FaceNormalsHelper.prototype=Object.create(THREE.Line.prototype);\nTHREE.FaceNormalsHelper.prototype.constructor=THREE.FaceNormalsHelper;\nTHREE.FaceNormalsHelper.prototype.update=function(){var a=this.geometry.vertices,b=this.object,c=b.geometry.vertices,d=b.geometry.faces,e=b.matrixWorld;b.updateMatrixWorld(!0);this.normalMatrix.getNormalMatrix(e);for(var f=b=0,g=d.length;b<g;b++,f+=2){var h=d[b];a[f].copy(c[h.a]).add(c[h.b]).add(c[h.c]).divideScalar(3).applyMatrix4(e);a[f+1].copy(h.normal).applyMatrix3(this.normalMatrix).normalize().multiplyScalar(this.size).add(a[f])}this.geometry.verticesNeedUpdate=!0;return this};\nTHREE.GridHelper=function(a,b){var c=new THREE.Geometry,d=new THREE.LineBasicMaterial({vertexColors:THREE.VertexColors});this.color1=new THREE.Color(4473924);this.color2=new THREE.Color(8947848);for(var e=-a;e<=a;e+=b){c.vertices.push(new THREE.Vector3(-a,0,e),new THREE.Vector3(a,0,e),new THREE.Vector3(e,0,-a),new THREE.Vector3(e,0,a));var f=0===e?this.color1:this.color2;c.colors.push(f,f,f,f)}THREE.Line.call(this,c,d,THREE.LinePieces)};THREE.GridHelper.prototype=Object.create(THREE.Line.prototype);\nTHREE.GridHelper.prototype.constructor=THREE.GridHelper;THREE.GridHelper.prototype.setColors=function(a,b){this.color1.set(a);this.color2.set(b);this.geometry.colorsNeedUpdate=!0};\nTHREE.HemisphereLightHelper=function(a,b){THREE.Object3D.call(this);this.light=a;this.light.updateMatrixWorld();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.colors=[new THREE.Color,new THREE.Color];var c=new THREE.SphereGeometry(b,4,2);c.applyMatrix((new THREE.Matrix4).makeRotationX(-Math.PI/2));for(var d=0;8>d;d++)c.faces[d].color=this.colors[4>d?0:1];d=new THREE.MeshBasicMaterial({vertexColors:THREE.FaceColors,wireframe:!0});this.lightSphere=new THREE.Mesh(c,d);this.add(this.lightSphere);\nthis.update()};THREE.HemisphereLightHelper.prototype=Object.create(THREE.Object3D.prototype);THREE.HemisphereLightHelper.prototype.constructor=THREE.HemisphereLightHelper;THREE.HemisphereLightHelper.prototype.dispose=function(){this.lightSphere.geometry.dispose();this.lightSphere.material.dispose()};\nTHREE.HemisphereLightHelper.prototype.update=function(){var a=new THREE.Vector3;return function(){this.colors[0].copy(this.light.color).multiplyScalar(this.light.intensity);this.colors[1].copy(this.light.groundColor).multiplyScalar(this.light.intensity);this.lightSphere.lookAt(a.setFromMatrixPosition(this.light.matrixWorld).negate());this.lightSphere.geometry.colorsNeedUpdate=!0}}();\nTHREE.PointLightHelper=function(a,b){this.light=a;this.light.updateMatrixWorld();var c=new THREE.SphereGeometry(b,4,2),d=new THREE.MeshBasicMaterial({wireframe:!0,fog:!1});d.color.copy(this.light.color).multiplyScalar(this.light.intensity);THREE.Mesh.call(this,c,d);this.matrix=this.light.matrixWorld;this.matrixAutoUpdate=!1};THREE.PointLightHelper.prototype=Object.create(THREE.Mesh.prototype);THREE.PointLightHelper.prototype.constructor=THREE.PointLightHelper;\nTHREE.PointLightHelper.prototype.dispose=function(){this.geometry.dispose();this.material.dispose()};THREE.PointLightHelper.prototype.update=function(){this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)};\nTHREE.SkeletonHelper=function(a){this.bones=this.getBoneList(a);for(var b=new THREE.Geometry,c=0;c<this.bones.length;c++)this.bones[c].parent instanceof THREE.Bone&&(b.vertices.push(new THREE.Vector3),b.vertices.push(new THREE.Vector3),b.colors.push(new THREE.Color(0,0,1)),b.colors.push(new THREE.Color(0,1,0)));c=new THREE.LineBasicMaterial({vertexColors:THREE.VertexColors,depthTest:!1,depthWrite:!1,transparent:!0});THREE.Line.call(this,b,c,THREE.LinePieces);this.root=a;this.matrix=a.matrixWorld;\nthis.matrixAutoUpdate=!1;this.update()};THREE.SkeletonHelper.prototype=Object.create(THREE.Line.prototype);THREE.SkeletonHelper.prototype.constructor=THREE.SkeletonHelper;THREE.SkeletonHelper.prototype.getBoneList=function(a){var b=[];a instanceof THREE.Bone&&b.push(a);for(var c=0;c<a.children.length;c++)b.push.apply(b,this.getBoneList(a.children[c]));return b};\nTHREE.SkeletonHelper.prototype.update=function(){for(var a=this.geometry,b=(new THREE.Matrix4).getInverse(this.root.matrixWorld),c=new THREE.Matrix4,d=0,e=0;e<this.bones.length;e++){var f=this.bones[e];f.parent instanceof THREE.Bone&&(c.multiplyMatrices(b,f.matrixWorld),a.vertices[d].setFromMatrixPosition(c),c.multiplyMatrices(b,f.parent.matrixWorld),a.vertices[d+1].setFromMatrixPosition(c),d+=2)}a.verticesNeedUpdate=!0;a.computeBoundingSphere()};\nTHREE.SpotLightHelper=function(a){THREE.Object3D.call(this);this.light=a;this.light.updateMatrixWorld();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;a=new THREE.CylinderGeometry(0,1,1,8,1,!0);a.applyMatrix((new THREE.Matrix4).makeTranslation(0,-.5,0));a.applyMatrix((new THREE.Matrix4).makeRotationX(-Math.PI/2));var b=new THREE.MeshBasicMaterial({wireframe:!0,fog:!1});this.cone=new THREE.Mesh(a,b);this.add(this.cone);this.update()};THREE.SpotLightHelper.prototype=Object.create(THREE.Object3D.prototype);\nTHREE.SpotLightHelper.prototype.constructor=THREE.SpotLightHelper;THREE.SpotLightHelper.prototype.dispose=function(){this.cone.geometry.dispose();this.cone.material.dispose()};\nTHREE.SpotLightHelper.prototype.update=function(){var a=new THREE.Vector3,b=new THREE.Vector3;return function(){var c=this.light.distance?this.light.distance:1E4,d=c*Math.tan(this.light.angle);this.cone.scale.set(d,d,c);a.setFromMatrixPosition(this.light.matrixWorld);b.setFromMatrixPosition(this.light.target.matrixWorld);this.cone.lookAt(b.sub(a));this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)}}();\nTHREE.VertexNormalsHelper=function(a,b,c,d){this.object=a;this.size=void 0!==b?b:1;b=void 0!==c?c:16711680;d=void 0!==d?d:1;c=new THREE.Geometry;a=a.geometry.faces;for(var e=0,f=a.length;e<f;e++)for(var g=0,h=a[e].vertexNormals.length;g<h;g++)c.vertices.push(new THREE.Vector3,new THREE.Vector3);THREE.Line.call(this,c,new THREE.LineBasicMaterial({color:b,linewidth:d}),THREE.LinePieces);this.matrixAutoUpdate=!1;this.normalMatrix=new THREE.Matrix3;this.update()};THREE.VertexNormalsHelper.prototype=Object.create(THREE.Line.prototype);\nTHREE.VertexNormalsHelper.prototype.constructor=THREE.VertexNormalsHelper;\nTHREE.VertexNormalsHelper.prototype.update=function(a){var b=new THREE.Vector3;return function(a){a=[\"a\",\"b\",\"c\",\"d\"];this.object.updateMatrixWorld(!0);this.normalMatrix.getNormalMatrix(this.object.matrixWorld);for(var d=this.geometry.vertices,e=this.object.geometry.vertices,f=this.object.geometry.faces,g=this.object.matrixWorld,h=0,k=0,l=f.length;k<l;k++)for(var p=f[k],q=0,n=p.vertexNormals.length;q<n;q++){var t=p.vertexNormals[q];d[h].copy(e[p[a[q]]]).applyMatrix4(g);b.copy(t).applyMatrix3(this.normalMatrix).normalize().multiplyScalar(this.size);\nb.add(d[h]);h+=1;d[h].copy(b);h+=1}this.geometry.verticesNeedUpdate=!0;return this}}();\nTHREE.VertexTangentsHelper=function(a,b,c,d){this.object=a;this.size=void 0!==b?b:1;b=void 0!==c?c:255;d=void 0!==d?d:1;c=new THREE.Geometry;a=a.geometry.faces;for(var e=0,f=a.length;e<f;e++)for(var g=0,h=a[e].vertexTangents.length;g<h;g++)c.vertices.push(new THREE.Vector3),c.vertices.push(new THREE.Vector3);THREE.Line.call(this,c,new THREE.LineBasicMaterial({color:b,linewidth:d}),THREE.LinePieces);this.matrixAutoUpdate=!1;this.update()};THREE.VertexTangentsHelper.prototype=Object.create(THREE.Line.prototype);\nTHREE.VertexTangentsHelper.prototype.constructor=THREE.VertexTangentsHelper;\nTHREE.VertexTangentsHelper.prototype.update=function(a){var b=new THREE.Vector3;return function(a){a=[\"a\",\"b\",\"c\",\"d\"];this.object.updateMatrixWorld(!0);for(var d=this.geometry.vertices,e=this.object.geometry.vertices,f=this.object.geometry.faces,g=this.object.matrixWorld,h=0,k=0,l=f.length;k<l;k++)for(var p=f[k],q=0,n=p.vertexTangents.length;q<n;q++){var t=p.vertexTangents[q];d[h].copy(e[p[a[q]]]).applyMatrix4(g);b.copy(t).transformDirection(g).multiplyScalar(this.size);b.add(d[h]);h+=1;d[h].copy(b);\nh+=1}this.geometry.verticesNeedUpdate=!0;return this}}();\nTHREE.WireframeHelper=function(a,b){var c=void 0!==b?b:16777215,d=[0,0],e={},f=function(a,b){return a-b},g=[\"a\",\"b\",\"c\"],h=new THREE.BufferGeometry;if(a.geometry instanceof THREE.Geometry){for(var k=a.geometry.vertices,l=a.geometry.faces,p=0,q=new Uint32Array(6*l.length),n=0,t=l.length;n<t;n++)for(var r=l[n],s=0;3>s;s++){d[0]=r[g[s]];d[1]=r[g[(s+1)%3]];d.sort(f);var u=d.toString();void 0===e[u]&&(q[2*p]=d[0],q[2*p+1]=d[1],e[u]=!0,p++)}d=new Float32Array(6*p);n=0;for(t=p;n<t;n++)for(s=0;2>s;s++)p=\nk[q[2*n+s]],g=6*n+3*s,d[g+0]=p.x,d[g+1]=p.y,d[g+2]=p.z;h.addAttribute(\"position\",new THREE.BufferAttribute(d,3))}else if(a.geometry instanceof THREE.BufferGeometry){if(void 0!==a.geometry.attributes.index){k=a.geometry.attributes.position.array;t=a.geometry.attributes.index.array;l=a.geometry.drawcalls;p=0;0===l.length&&(l=[{count:t.length,index:0,start:0}]);for(var q=new Uint32Array(2*t.length),r=0,v=l.length;r<v;++r)for(var s=l[r].start,u=l[r].count,g=l[r].index,n=s,x=s+u;n<x;n+=3)for(s=0;3>s;s++)d[0]=\ng+t[n+s],d[1]=g+t[n+(s+1)%3],d.sort(f),u=d.toString(),void 0===e[u]&&(q[2*p]=d[0],q[2*p+1]=d[1],e[u]=!0,p++);d=new Float32Array(6*p);n=0;for(t=p;n<t;n++)for(s=0;2>s;s++)g=6*n+3*s,p=3*q[2*n+s],d[g+0]=k[p],d[g+1]=k[p+1],d[g+2]=k[p+2]}else for(k=a.geometry.attributes.position.array,p=k.length/3,q=p/3,d=new Float32Array(6*p),n=0,t=q;n<t;n++)for(s=0;3>s;s++)g=18*n+6*s,q=9*n+3*s,d[g+0]=k[q],d[g+1]=k[q+1],d[g+2]=k[q+2],p=9*n+(s+1)%3*3,d[g+3]=k[p],d[g+4]=k[p+1],d[g+5]=k[p+2];h.addAttribute(\"position\",new THREE.BufferAttribute(d,\n3))}THREE.Line.call(this,h,new THREE.LineBasicMaterial({color:c}),THREE.LinePieces);this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1};THREE.WireframeHelper.prototype=Object.create(THREE.Line.prototype);THREE.WireframeHelper.prototype.constructor=THREE.WireframeHelper;THREE.ImmediateRenderObject=function(){THREE.Object3D.call(this);this.render=function(a){}};THREE.ImmediateRenderObject.prototype=Object.create(THREE.Object3D.prototype);THREE.ImmediateRenderObject.prototype.constructor=THREE.ImmediateRenderObject;\nTHREE.MorphBlendMesh=function(a,b){THREE.Mesh.call(this,a,b);this.animationsMap={};this.animationsList=[];var c=this.geometry.morphTargets.length;this.createAnimation(\"__default\",0,c-1,c/1);this.setAnimationWeight(\"__default\",1)};THREE.MorphBlendMesh.prototype=Object.create(THREE.Mesh.prototype);THREE.MorphBlendMesh.prototype.constructor=THREE.MorphBlendMesh;\nTHREE.MorphBlendMesh.prototype.createAnimation=function(a,b,c,d){b={startFrame:b,endFrame:c,length:c-b+1,fps:d,duration:(c-b)/d,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1};this.animationsMap[a]=b;this.animationsList.push(b)};\nTHREE.MorphBlendMesh.prototype.autoCreateAnimations=function(a){for(var b=/([a-z]+)_?(\\d+)/,c,d={},e=this.geometry,f=0,g=e.morphTargets.length;f<g;f++){var h=e.morphTargets[f].name.match(b);if(h&&1<h.length){var k=h[1];d[k]||(d[k]={start:Infinity,end:-Infinity});h=d[k];f<h.start&&(h.start=f);f>h.end&&(h.end=f);c||(c=k)}}for(k in d)h=d[k],this.createAnimation(k,h.start,h.end,a);this.firstAnimation=c};\nTHREE.MorphBlendMesh.prototype.setAnimationDirectionForward=function(a){if(a=this.animationsMap[a])a.direction=1,a.directionBackwards=!1};THREE.MorphBlendMesh.prototype.setAnimationDirectionBackward=function(a){if(a=this.animationsMap[a])a.direction=-1,a.directionBackwards=!0};THREE.MorphBlendMesh.prototype.setAnimationFPS=function(a,b){var c=this.animationsMap[a];c&&(c.fps=b,c.duration=(c.end-c.start)/c.fps)};\nTHREE.MorphBlendMesh.prototype.setAnimationDuration=function(a,b){var c=this.animationsMap[a];c&&(c.duration=b,c.fps=(c.end-c.start)/c.duration)};THREE.MorphBlendMesh.prototype.setAnimationWeight=function(a,b){var c=this.animationsMap[a];c&&(c.weight=b)};THREE.MorphBlendMesh.prototype.setAnimationTime=function(a,b){var c=this.animationsMap[a];c&&(c.time=b)};THREE.MorphBlendMesh.prototype.getAnimationTime=function(a){var b=0;if(a=this.animationsMap[a])b=a.time;return b};\nTHREE.MorphBlendMesh.prototype.getAnimationDuration=function(a){var b=-1;if(a=this.animationsMap[a])b=a.duration;return b};THREE.MorphBlendMesh.prototype.playAnimation=function(a){var b=this.animationsMap[a];b?(b.time=0,b.active=!0):THREE.warn(\"THREE.MorphBlendMesh: animation[\"+a+\"] undefined in .playAnimation()\")};THREE.MorphBlendMesh.prototype.stopAnimation=function(a){if(a=this.animationsMap[a])a.active=!1};\nTHREE.MorphBlendMesh.prototype.update=function(a){for(var b=0,c=this.animationsList.length;b<c;b++){var d=this.animationsList[b];if(d.active){var e=d.duration/d.length;d.time+=d.direction*a;if(d.mirroredLoop){if(d.time>d.duration||0>d.time)d.direction*=-1,d.time>d.duration&&(d.time=d.duration,d.directionBackwards=!0),0>d.time&&(d.time=0,d.directionBackwards=!1)}else d.time%=d.duration,0>d.time&&(d.time+=d.duration);var f=d.startFrame+THREE.Math.clamp(Math.floor(d.time/e),0,d.length-1),g=d.weight;\nf!==d.currentFrame&&(this.morphTargetInfluences[d.lastFrame]=0,this.morphTargetInfluences[d.currentFrame]=1*g,this.morphTargetInfluences[f]=0,d.lastFrame=d.currentFrame,d.currentFrame=f);e=d.time%e/e;d.directionBackwards&&(e=1-e);this.morphTargetInfluences[d.currentFrame]=e*g;this.morphTargetInfluences[d.lastFrame]=(1-e)*g}}};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./deps/three.min-r71.js\n ** module id = 54\n ** module chunks = 1\n **/","var THREE = require(\"THREE\");\nTHREE.CopyShader={uniforms:{tDiffuse:{type:\"t\",value:null},opacity:{type:\"f\",value:1}},vertexShader:\"varying vec2 vUv;\\nvoid main() {\\nvUv = uv;\\ngl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n}\",fragmentShader:\"uniform float opacity;\\nuniform sampler2D tDiffuse;\\nvarying vec2 vUv;\\nvoid main() {\\nvec4 texel = texture2D( tDiffuse, vUv );\\ngl_FragColor = opacity * texel;\\n}\"};THREE.EffectComposer=function(a,c){this.renderer=a;if(void 0===c){var d=a.getPixelRatio();c=new THREE.WebGLRenderTarget(Math.floor(a.context.canvas.width/d)||1,Math.floor(a.context.canvas.height/d)||1,{minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter,format:THREE.RGBFormat,stencilBuffer:!1})}this.renderTarget1=c;this.renderTarget2=c.clone();this.writeBuffer=this.renderTarget1;this.readBuffer=this.renderTarget2;this.passes=[];void 0===THREE.CopyShader&&console.error(\"THREE.EffectComposer relies on THREE.CopyShader\");\nthis.copyPass=new THREE.ShaderPass(THREE.CopyShader)};\nTHREE.EffectComposer.prototype={swapBuffers:function(){var a=this.readBuffer;this.readBuffer=this.writeBuffer;this.writeBuffer=a},addPass:function(a){this.passes.push(a)},insertPass:function(a,c){this.passes.splice(c,0,a)},render:function(a){this.writeBuffer=this.renderTarget1;this.readBuffer=this.renderTarget2;var c=!1,d,b,e=this.passes.length;for(b=0;b<e;b++)if(d=this.passes[b],d.enabled){d.render(this.renderer,this.writeBuffer,this.readBuffer,a,c);if(d.needsSwap){if(c){var f=this.renderer.context;\nf.stencilFunc(f.NOTEQUAL,1,4294967295);this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,a);f.stencilFunc(f.EQUAL,1,4294967295)}this.swapBuffers()}d instanceof THREE.MaskPass?c=!0:d instanceof THREE.ClearMaskPass&&(c=!1)}},reset:function(a){if(void 0===a){a=this.renderTarget1.clone();var c=renderer.getPixelRatio();a.width=Math.floor(this.renderer.context.canvas.width/c);a.height=Math.floor(this.renderer.context.canvas.height/c)}this.renderTarget1=a;this.renderTarget2=a.clone();this.writeBuffer=\nthis.renderTarget1;this.readBuffer=this.renderTarget2},setSize:function(a,c){var d=this.renderTarget1.clone();d.width=a;d.height=c;this.reset(d)}};THREE.RenderPass=function(a,c,d,b,e){this.scene=a;this.camera=c;this.overrideMaterial=d;this.clearColor=b;this.clearAlpha=void 0!==e?e:1;this.oldClearColor=new THREE.Color;this.oldClearAlpha=1;this.clear=this.enabled=!0;this.needsSwap=!1};\nTHREE.RenderPass.prototype={render:function(a,c,d,b){this.scene.overrideMaterial=this.overrideMaterial;this.clearColor&&(this.oldClearColor.copy(a.getClearColor()),this.oldClearAlpha=a.getClearAlpha(),a.setClearColor(this.clearColor,this.clearAlpha));a.render(this.scene,this.camera,d,this.clear);this.clearColor&&a.setClearColor(this.oldClearColor,this.oldClearAlpha);this.scene.overrideMaterial=null}};THREE.MaskPass=function(a,c){this.scene=a;this.camera=c;this.clear=this.enabled=!0;this.inverse=this.needsSwap=!1};\nTHREE.MaskPass.prototype={render:function(a,c,d,b){b=a.context;b.colorMask(!1,!1,!1,!1);b.depthMask(!1);var e,f;this.inverse?(e=0,f=1):(e=1,f=0);b.enable(b.STENCIL_TEST);b.stencilOp(b.REPLACE,b.REPLACE,b.REPLACE);b.stencilFunc(b.ALWAYS,e,4294967295);b.clearStencil(f);a.render(this.scene,this.camera,d,this.clear);a.render(this.scene,this.camera,c,this.clear);b.colorMask(!0,!0,!0,!0);b.depthMask(!0);b.stencilFunc(b.EQUAL,1,4294967295);b.stencilOp(b.KEEP,b.KEEP,b.KEEP)}};\nTHREE.ClearMaskPass=function(){this.enabled=!0};THREE.ClearMaskPass.prototype={render:function(a,c,d,b){a=a.context;a.disable(a.STENCIL_TEST)}};THREE.ShaderPass=function(a,c){this.textureID=void 0!==c?c:\"tDiffuse\";this.uniforms=THREE.UniformsUtils.clone(a.uniforms);this.material=new THREE.ShaderMaterial({defines:a.defines||{},uniforms:this.uniforms,vertexShader:a.vertexShader,fragmentShader:a.fragmentShader});this.renderToScreen=!1;this.needsSwap=this.enabled=!0;this.clear=!1;this.camera=new THREE.OrthographicCamera(-1,1,1,-1,0,1);this.scene=new THREE.Scene;this.quad=new THREE.Mesh(new THREE.PlaneBufferGeometry(2,2),null);this.scene.add(this.quad)};\nTHREE.ShaderPass.prototype={render:function(a,c,d,b){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=d);this.quad.material=this.material;this.renderToScreen?a.render(this.scene,this.camera):a.render(this.scene,this.camera,c,this.clear)}};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./deps/three.shader.min.js\n ** module id = 55\n ** module chunks = 1\n **/","define([\"preset/Interpolator\", \"interface/VisualGUI\"], function(Interpolator, GUI){\n\n\treturn new Interpolator(\n\t[\n\t\t{\n\t\t\t\"color\": [\n\t\t\t\t1,\n\t\t\t\t0,\n\t\t\t\t1\n\t\t\t],\n\t\t\t\"angle\": -1.5707963267948966,\n\t\t\t\"growth\": -1.4,\n\t\t\t\"size\": 1.6\n\t\t},\n\t\t{\n\t\t\t\"color\": [\n\t\t\t\t1,\n\t\t\t\t0,\n\t\t\t\t0.03529411764705881\n\t\t\t],\n\t\t\t\"angle\": 0,\n\t\t\t\"growth\": 1.9,\n\t\t\t\"size\": 0.5\n\t\t}\n\t], \"Arp Visuals\", GUI);\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/preset/ArpVisuals.js\n ** module id = 56\n ** module chunks = 1\n **/","define([\"TERP\", \"controller/Mediator\", \"controller/Conductor\", \"util/Config\"], \n\tfunction(TERP, Mediator, Conductor, Config){\n\n\t\"use strict\";\n\n\t/**\n\t *  the array of presets to interpolate between\n\t *  @param {Array.<Object>} presetarray\n\t */\n\tvar Interpolator = function(presetarray, name, GUI){\n\t\tthis.presetarray = presetarray.slice(0).reverse();\n\t\tif (this.presetarray.length < 2){\n\t\t\tthrow new Error(\"Interpolator needs more than 1 argument in the array\");\n\t\t}\n\t\t//start at 50%\n\t\tthis._hasChanged = true;\n\t\tthis.position = 0.5;\n\t\tthis._stepWisePosition = 0;\n\t\tMediator.route(\"scroll\", this._onupdate.bind(this));\n\t\t//add it to the gui\n\t\tif (Config.GUI && GUI && GUI.addPreset){\n\t\t\tGUI.addPreset(name, presetarray);\n\t\t}\n\t\tthis._updateFunc = null;\n\t\tMediator.route(\"Movement\", function(){\n\t\t\tthis._hasChanged = true;\n\t\t\tthis._onupdate(this.position);\n\t\t}.bind(this));\n\t};\n\n\t/**\n\t *  given a position between 0-1, returns the interpolated object\n\t *  @return {Object}          the interpolated values\n\t */\n\tInterpolator.prototype.get = function(){\n\t\tvar position = this.position;\n\t\tposition *= (this.presetarray.length - 1);\n\t\tvar posA = Math.floor(position);\n\t\tvar posB = Math.ceil(position);\n\t\tvar amount = position - posA;\n\t\treturn this.interpolateBetweenObjects(amount, this.presetarray[posA], this.presetarray[posB]);\n\t};\n\n\t/**\n\t *  interpolate between the two nearest objects\n\t *  sets the results to the value\n\t */\n\tInterpolator.prototype._onupdate = function(pos){\n\t\tthis._hasChanged = true;\n\t\tthis.position = pos;\n\t\tif (this._updateFunc !== null){\n\t\t\tthis._updateFunc(this.get(pos));\n\t\t}\n\t};\n\n\t/**\n\t *  if the value has changed, invoke the callback func\n\t *  with the new preset value\n\t *  @param  {function} func \n\t */\n\tInterpolator.prototype.update = function(func){\n\t\tif (this._hasChanged || Config.PRESET_UPDATE){\n\t\t\tthis._hasChanged = false;\n\t\t\tfunc(this.get(this.position));\n\t\t}\n\t};\n\n\t/**\n\t *  when the value has changed, invoke the callback func\n\t *  with the new preset value\n\t *  @param  {function} func \n\t */\n\tInterpolator.prototype.onupdate = function(func){\n\t\tthis._updateFunc = func;\n\t\t//call it initially\n\t\tthis._updateFunc(this.get());\n\t};\n\n\t/**\n\t *  interpolate between two objects\n\t *  assumes both objects have the same properties and types\n\t *  @private\n\t *  @param {number} amount the amount of interpolation (between 0-1)\n\t *  @param  {Object} A \n\t *  @param  {Object} B \n\t *  @return {Object}  \n\t */\n\tInterpolator.prototype.interpolateBetweenObjects = function(amount, A, B){\n\t\tvar ret = {};\n\t\tfor (var attr in A){\n\t\t\t//interpolate between the two\n\t\t\tvar propA = A[attr];\n\t\t\tvar propB = B[attr];\n\t\t\tif (typeof propA === \"number\"){\n\t\t\t\tret[attr] = TERP.scale(amount, propA, propB); \n\t\t\t} else if (Array.isArray(propA)){\n\t\t\t\tvar len = propA.length;\n\t\t\t\tvar retArr = new Array(len);\n\t\t\t\tvar movement = Conductor.getMovement();\n\t\t\t\tvar i;\n\t\t\t\tif (movement !== 1){\n\t\t\t\t\tfor (i = 0; i < len; i++){\n\t\t\t\t\t\tretArr[i] = TERP.scale(amount, propA[i], propB[i]); \n\t\t\t\t\t}\n\n\t\t\t\t\tif (movement === 0){\n\t\t\t\t\t\tvar bTransition = Conductor.getBTransitionProgress();\n\t\t\t\t\t\tif (bTransition > 0){\n\t\t\t\t\t\t\tfor (i = 0; i < len; i++){\n\t\t\t\t\t\t\t\tretArr[i] = TERP.scale(bTransition, retArr[i], 1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (movement === 2){\n\t\t\t\t\t\tvar rebTransition = Conductor.getEndTransitionProgress();\n\t\t\t\t\t\tif (rebTransition > 0){\n\t\t\t\t\t\t\tfor (i = 0; i < len; i++){\n\t\t\t\t\t\t\t\tretArr[i] = TERP.scale(rebTransition, retArr[i], 1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (Config.MOBILE){\n\t\t\t\t\t\tfor (i = 0; i < len; i++){\n\t\t\t\t\t\t\tretArr[i] = 1 - retArr[i];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tretArr = [1, 1, 1];\n\t\t\t\t}\n\t\t\t\tret[attr] = retArr; \n\t\t\t} else if (typeof propA === \"object\"){\n\t\t\t\tret[attr] = this.interpolateBetweenObjects(amount, propA, propB);\n\t\t\t} else {\n\t\t\t\tret[attr] = amount < 0.5 ? propA : propB;\n\t\t\t}\n\t\t}\n\t\treturn ret;\n\t};\n\n\t/**\n\t *  clean up\n\t */\n\tInterpolator.prototype.dispose = function(){\n\t\tthis.presetarray = null;\n\t};\n\n\treturn Interpolator;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/preset/Interpolator.js\n ** module id = 57\n ** module chunks = 1\n **/","define([\"dat\", \"util/Config\"], function(dat, Config){\n\n\tvar VISUALS;\n\tif (Config.GUI){\n\t\t VISUALS = new dat.GUI();\n\t}\n\n\tfunction makeFolder(title, parent){\n\t\treturn parent.addFolder(title);\n\t}\n\n\t//drop in an array\n\tfunction addPresets(title, presets){\n\t\tvar topFolder = makeFolder(title, VISUALS);\n\t\t//iterate over the preset, \n\t\tfor (var i = 0; i < presets.length; i++){\n\t\t\tvar level = presets[i];\n\t\t\taddObject(topFolder, \"Level \"+i, level);\n\t\t}\n\t\t//add an print button\n\t\ttopFolder.add({\n\t\t\t\"print\" : function(){\n\t\t\t\tconsole.log(JSON.stringify(presets, undefined, \"\\t\"));\n\t\t\t}\n\t\t}, \"print\");\n\t}\n\n\tfunction addData(obj, name, value){\n\t\tobj[name] = value;\n\t}\n\n\tfunction addObject(parentFolder, name, obj){\n\t\tvar folder = makeFolder(name, parentFolder);\n\t\tfor (var param in obj){\n\t\t\tvar child = obj[param];\n\t\t\tif(Array.isArray(child)){\n\t\t\t\taddColor(folder, param, child);\n\t\t\t} else if (typeof child === \"object\"){\n\t\t\t\taddObject(folder, param, child);\n\t\t\t} else {\n\t\t\t\tfolder.add(obj, param);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction hexToRgb(hex) {\n\t    var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n\t    return result ? [\n\t        parseInt(result[1], 16),\n\t        parseInt(result[2], 16),\n\t        parseInt(result[3], 16)\n\t    ] : null;\n\t}\n\n\tfunction addColor(folder, title, color){\n\t\tvar obj = {};\n\t\tvar colorCopy = [];\n\t\tfor (var i = 0; i < color.length; i++){\n\t\t\tcolorCopy[i] = (1 - color[i])*255;\n\t\t}\n\t\tobj[title] = colorCopy;\n\t\tfolder.addColor(obj, title)\n\t\t\t.onChange(function(val){\n\t\t\t\tif (typeof val === \"string\"){\n\t\t\t\t\tval = hexToRgb(val);\n\t\t\t\t} \n\t\t\t\tvar closedColor = color;\n\t\t\t\tfor (var i = 0; i < closedColor.length; i++){\n\t\t\t\t\tclosedColor[i] = 1 - val[i]/255;\n\t\t\t\t}\t\t\n\t\t\t});\n\t}\n\n\treturn {\n\t\tGUI : VISUALS,\n\t\taddPreset : addPresets,\n\t};\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/interface/VisualGUI.js\n ** module id = 58\n ** module chunks = 1\n **/","define([\"visuals/Context\", \"controller/Mediator\", \"preset/BassVisual\", \"controller/Conductor\", \"THREE\", \"TWEEN\"], \nfunction(Context, Mediator, BassPreset, Conductor, THREE, TWEEN){\n\n\t\"use strict\";\n\n\t/**\n\t *  the bass visuals singleton\n\t */\n\tvar BassVisuals = function(){\n\t\tMediator.route(\"bass\", this.note.bind(this));\n\t};\n\n\tBassVisuals.prototype.note = function(){\n\t\tnew BassNote(Context.background);\n\t};\n\n\tBassVisuals.prototype.dispose = function(){\n\t\tmaterial.dispose();\n\t};\n\n\t/**\n\t *  bass bar helper class\n\t */\n\t\n\tvar material = new THREE.MeshLambertMaterial({\n\t\ttransparent: Context.transparent,\n\t\topacity: Context.opacity,\n\t\tblending : Context.blending,\n\t\tblendSrc : Context.blendSrc,\n\t\tblendDst : Context.blendDst,\n\t\tblendEquation : Context.blendEq,\n\t\tdepthTest : false,\n\t\tdepthWrite : false,\n\t\t// side : THREE.DoubleSide,\n\t\t// wireframe : true,\n\t\tcolor : 0x00ff00,\n\t\temissive : 0x000000\n\t});\n\n\tvar geometry = new THREE.BoxGeometry( 1, 10, 10, 1, 1);\n\n\tvar startSize, endSize, rotation, duration;\n\n\tMediator.route(\"B\", function(){\n\t\tmaterial.color.setRGB(1, 1, 1);\n\t\tmaterial.emissive.setRGB(0.5, 0.5, 0.5);\n\t});\n\n\tBassPreset.onupdate(function(preset){\n\t\tif (Conductor.getMovement() !== 1){\n\t\t\tvar color = preset.color;\n\t\t\tmaterial.color.setRGB(color[0], color[1], color[2]);\n\t\t\tmaterial.emissive.setRGB(color[0] - 0.5, color[1] - 0.5, color[2] - 0.5);\n\t\t}\n\t\tstartSize = preset.startSize;\n\t\tendSize = preset.endSize;\n\t\trotation = preset.rotation;\n\t\tduration = preset.duration;\n\t});\n\n\tvar BassNote = function(scene){\n\t\tvar object = new THREE.Mesh( geometry, material);\n\t\tvar initialSize = 0.001;\n\t\tvar initialY = -(Context.height / 2 - startSize * 3);\n\t\tobject.scale.set(Context.width * 1.1, initialSize, initialSize);\n\t\tobject.position.y = initialY;\n\t\tscene.add(object);\n\t\tvar tween = new TWEEN.Tween({y : initialY, rotation : 0, size : startSize})\n\t\t\t.to({y : 50, rotation : rotation, size : endSize}, duration)\n\t\t\t.onUpdate(function(){\n\t\t\t\tobject.position.y = this.y;\n\t\t\t\tobject.rotation.x = this.rotation;\n\t\t\t\tobject.scale.setY(this.size);\n\t\t\t\tobject.scale.setZ(this.size);\n\t\t\t})\n\t\t\t.onComplete(function(){\n\t\t\t\tscene.remove(object);\n\t\t\t\tobject = null;\n\t\t\t\tscene = null;\n\t\t\t\ttween = null;\n\t\t\t\tattack = null;\n\t\t\t})\n\t\t\t.easing( TWEEN.Easing.Linear.None);\n\t\tvar attack = new TWEEN.Tween({size : initialSize})\n\t\t\t.to({size : startSize}, 300)\n\t\t\t.onUpdate(function(){\n\t\t\t\tobject.scale.setY(this.size);\n\t\t\t\tobject.scale.setZ(this.size);\n\t\t\t})\n\t\t\t.onComplete(function(){\n\t\t\t\tattack = null;\n\t\t\t})\n\t\t\t.easing( TWEEN.Easing.Elastic.Out)\n\t\t\t.chain(tween)\n\t\t\t.start();\n\t};\n\n\treturn BassVisuals;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/visuals/Bass.js\n ** module id = 59\n ** module chunks = 1\n **/","define([\"preset/Interpolator\", \"interface/VisualGUI\"], function(Interpolator, GUI){\n\n\treturn new Interpolator(\n\t[\n\t\t{\n\t\t\t\"rotation\": -1,\n\t\t\t\"duration\": 1000,\n\t\t\t\"color\": [\n\t\t\t\t1,\n\t\t\t\t0,\n\t\t\t\t1\n\t\t\t],\n\t\t\t\"startSize\": 0.13,\n\t\t\t\"endSize\": 0.001,\n\t\t\t\"attackTime\": 300\n\t\t},\n\t\t{\n\t\t\t\"rotation\": 0,\n\t\t\t\"duration\": 1600,\n\t\t\t\"color\": [\n\t\t\t\t0.5764705882352941,\n\t\t\t\t1,\n\t\t\t\t0\n\t\t\t],\n\t\t\t\"startSize\": 0.43,\n\t\t\t\"endSize\": 0.14,\n\t\t\t\"attackTime\": 500\n\t\t},\n\t\t{\n\t\t\t\"rotation\": 2,\n\t\t\t\"duration\": 2400,\n\t\t\t\"color\": [\n\t\t\t\t0,\n\t\t\t\t1,\n\t\t\t\t0\n\t\t\t],\n\t\t\t\"startSize\": 1,\n\t\t\t\"endSize\": 2.2,\n\t\t\t\"attackTime\": 700\n\t\t}\n\t], \"Bass Visuals\", GUI);\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/preset/BassVisual.js\n ** module id = 60\n ** module chunks = 1\n **/","define([\"visuals/Context\", \"TERP\", \"controller/Mediator\", \n\t\"TWEEN\", \"util/Config\", \"interface/Scroll\", \"preset/PictureFrame\", \n\t\"interface/Window\", \"controller/Conductor\", \"THREE\"], \n\tfunction(Context, TERP, Mediator, TWEEN, Config, Scroll, \n\t\tPictureFramePreset, Window, Conductor, THREE){\n\n\t\"use strict\";\n\n\n\t// MATERIALS\n\n\tvar texture = new THREE.Texture();\n\tvar blankTexture = new THREE.Texture();\n\t/*texture.magFilter = THREE.NearestFilter;\n\ttexture.minFilter = THREE.NearestMipMapNearestFilter;*/\n\n\tvar blending = \"SubtractiveBlending\";\n\t// var blending = \"CustomBlending\";\n\tif (Config.MOBILE){\n\t\t// blending = \"NormalBlending\";\n\t\tblending = \"MultiplyBlending\";\n\t}\n\n\tvar material = new THREE.SpriteMaterial({\n\t\ttransparent: true,\n\t\topacity : 0.5,\n\t\tmap: texture,\n\t\tblending : THREE[blending],\n\t\tblendSrc : Context.blendSrc,\n\t\tblendDst : Context.blendDst,\n\t\tblendEquation : Context.blendEq,\n\t\tdepthTest : true,\n\t\talphaTest : 0.05,\n\t\tcolor : 0xffffff\n\t});\n\n\twindow.pictureMaterial = material;\n\n\tvar frameBlending = \"CustomBlending\";\n\tif (Config.MOBILE){\n\t\tframeBlending = \"NormalBlending\";\n\t}\n\n\tvar frameMaterial = new THREE.MeshBasicMaterial({\n\t\ttransparent: Context.transparent,\n\t\topacity: 0.2,\n\t\tblending : THREE[frameBlending],\n\t\tblendSrc : Context.blendSrc,\n\t\tblendDst : Context.blendDst,\n\t\tblendEquation : Context.blendEq,\n\t\tdepthTest : false,\n\t\tdepthWrite : false,\n\t\t// side: THREE.DoubleSide,\n\t\tcolor : 0x00ED00,\n\t});\n\n\n\tvar frameGeometry = new THREE.PlaneBufferGeometry(1, 1, 2, 2);\n\n\t//set the initial values\n\tvar pre = PictureFramePreset.get();\n\tvar color = pre.frame;\n\tframeMaterial.color.setRGB(color[0], color[1], color[2]);\n\n\tMediator.route(\"scroll\", function(){\n\t\tvar pre = PictureFramePreset.get();\n\t\tvar color = pre.frame;\n\t\tframeMaterial.color.setRGB(color[0], color[1], color[2]);\n\t});\n\n\t//reset the color after the B sectiono\n\tMediator.route(\"C\", function(){\n\t\tmaterial.map = texture;\n\t\tvar pre = PictureFramePreset.get();\n\t\tvar color = pre.frame;\n\t\tframeMaterial.color.setRGB(color[0], color[1], color[2]);\n\t});\n\n\tMediator.route(\"B\", function(){\n\t\tmaterial.map = blankTexture;\n\t});\n\n\n\t// PICTURES\n\n\tvar Pictures = function(parameters){\n\t\tthis.pictures = new THREE.Object3D();\n\n\t\tif (!Config.MOBILE){\n\t\t\tthis.scale = Context.pictureWidth;\n\t\t} else {\n\t\t\tthis.scale = Context.width - 8;\n\t\t}\n\n\t\tthis.level = 0;\n\t\tthis.loader = new THREE.ImageLoader();\t\t\n\t\tthis.images = [];\n\t\tthis.scrollMultipler = 100;\n\t\tthis.previousPosition = 0.5;\n\t\tthis.pictureCount = 3;\n\t\tthis.distance = 1.2;\n\t\tthis.modDistance = this.distance * this.pictureCount;\n\n\t\tthis.makePictures();\n\n\t\t//load the first one\n\t\tthis.load(7, function(){\n\t\t\tMediator.send(\"imageloaded\");\n\t\t});\n\n\t\t//setup the events\n\t\tMediator.route(\"rawscroll\", this.scroll.bind(this));\n\t\tMediator.route(\"voice\", this.setWord.bind(this));\n\t\tWindow.resize(this.resize.bind(this));\n\n\t\t//load the gray image into the blank texture\n\t\tthis.loader.load(\"./images/black.png\", function(img){\n\t\t\tblankTexture.image = img;\n\t\t\tblankTexture.needsUpdate = true;\n\t\t});\n\t};\n\n\tPictures.prototype.makePictures = function() {\n\t\t//make the pictures\n\t\tvar pictureCount = this.pictureCount;\n\t\t//make all of the images\n\t\tvar scale = this.scale;\n\t\tthis.picDist = scale * pictureCount * 0.8;\n\t\tvar increment = this.previousPosition * this.scrollMultipler;\n\t\t//original 3590  3615 pixels 1.006\n\t\tvar frameTopMargin = 0.55;\n\t\tvar frameWidth = 0.1;\n\t\tvar picScale = 1 - frameWidth * 2;\n\t\tvar frameScaleX = 1 + frameWidth * 2;\n\t\tvar frameLeftMargin = 0.55;\n\t\tfor(var i = 0; i < pictureCount; i++){\n\t\t\tvar pic = new THREE.Sprite(material);\n\t\t\t//make the frame\n\t\t\tvar frame = new THREE.Object3D();\n\t\t\t//top\n\t\t\tvar top = new THREE.Mesh(frameGeometry, frameMaterial);\n\t\t\ttop.position.y = frameTopMargin;\n\t\t\ttop.scale.setX(frameScaleX);\n\t\t\ttop.scale.setY(frameWidth);\n\t\t\tframe.add(top);\n\t\t\t//left\n\t\t\tvar left = new THREE.Mesh(frameGeometry, frameMaterial);\n\t\t\tleft.position.x = frameLeftMargin;\n\t\t\tleft.scale.setX(frameWidth);\n\t\t\tleft.scale.setY(frameTopMargin * 2 - frameWidth);\n\t\t\tframe.add(left);\n\t\t\t//right\n\t\t\tvar right = new THREE.Mesh(frameGeometry, frameMaterial);\n\t\t\tright.position.x = -frameLeftMargin;\n\t\t\tright.scale.setX(frameWidth);\n\t\t\tright.scale.setY(frameTopMargin * 2 - frameWidth);\n\t\t\tframe.add(right);\n\t\t\t//bottom\n\t\t\tvar bottom = new THREE.Mesh(frameGeometry, frameMaterial);\n\t\t\tbottom.position.y = -frameTopMargin;\n\t\t\tbottom.scale.setX(frameScaleX);\n\t\t\tbottom.scale.setY(frameWidth);\n\t\t\tframe.add(bottom);\n\t\t\tframe.scale.setX(-1);\n\t\t\tpic.scale.setX(picScale);\n\t\t\tpic.scale.setY(picScale);\n\t\t\tpic.add(frame);\n\t\t\tpic.position.setY(((i * this.distance + increment) % (this.modDistance)));\n\t\t\tthis.pictures.add(pic);\n\t\t}\n\t\tthis.pictures.position.y = -Context.height / 3 - this.scale;\n\t\t//picture original size 680 x 1163. \n\t\tthis.pictures.scale.set(this.scale, this.scale, 1);\n\t\t//and make the frames\n\t\tContext.layer2.add(this.pictures);\n\t\tthis.scroll(0.5);\n\t};\n\n\tPictures.prototype.resize = function(){\n\t\tthis.pictures.scale.set(this.scale, this.scale, 1);\n\t};\n\n\tPictures.prototype.scroll = function(position) {\n\t\t// if (Conductor.getMovement() !== 1){\n\t\t\tposition += 0.00515;\n\t\t\t//load the level\n\t\t\tvar level = Math.round(Scroll.getDirectionPosition() * 13);\n\t\t\tif (this.level !== level){\n\t\t\t\tthis.load(level);\n\t\t\t}\n\t\t\t//set the position of the individual frames\n\t\t\tposition = 1 - position;\n\t\t\tvar max = this.modDistance;\n\t\t\tvar increment = (position * this.scrollMultipler);\n\t\t\tvar children = this.pictures.children;\n\t\t\tvar currentPos = this.previousPosition * this.scrollMultipler;\n\t\t\tthis.previousPosition = position;\n\t\t\tvar distance = this.distance;\n\t\t\tfor (var i = 0; i < children.length; i++){\n\t\t\t\tvar child = children[i];\n\t\t\t\tvar newY = i * distance + increment;\n\t\t\t\tchild.position.setY((newY % max));\n\t\t\t}\n\t};\n\n\tPictures.prototype.load = function(level, callback){\n\t\tthis.level = level;\n\t\tvar images = [];\n\t\tvar count = 0;\n\t\tvar self = this;\n\t\tvar onLoad = function(position, total){\n\t\t\tvar pos = position;\n\t\t\treturn function(img){\n\t\t\t\tcount++;\n\t\t\t\timages[pos] = img;\n\t\t\t\tif (count === total && self.level === level){\n\t\t\t\t\tself.images = images;\n\t\t\t\t\ttexture.image = self.images[0];\n\t\t\t\t\ttexture.needsUpdate = true;\n\t\t\t\t\tif (callback){\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\t\tvar picC = \"./smallerImages/\"+level+\"_c.png\";\n\t\tvar picO = \"./smallerImages/\"+level+\"_a.png\";\n\t\tvar picOo = \"./smallerImages/\"+level+\"_o.png\";\n\t\tvar picDow = \"./smallerImages/\"+level+\"_d.png\";\n\t\tvar picOwn = \"./smallerImages/\"+level+\"_w.png\";\n\n\t\tvar totalImages = 3;\n\t\tif (level < 7){\n\t\t\ttotalImages = 5;\n\t\t}\n\t\t\n\t\tthis.loader.load(picC, onLoad(0, totalImages));\n\t\tthis.loader.load(picO, onLoad(1, totalImages));\n\t\tthis.loader.load(picOo, onLoad(2, totalImages));\n\t\tif (level < 7){\n\t\t\tthis.loader.load(picDow, onLoad(3, totalImages));\n\t\t\tthis.loader.load(picOwn, onLoad(4, totalImages));\n\t\t}\n\t};\n\n\tPictures.prototype.setWord = function(word, duration) {\n\t\tvar start = word.substr(word.indexOf(\".\") + 1, 1);\n\t\tduration *= 1000;\n\t\tif (start === \"l\"){\n\t\t\tthis.setImage(2, 0);\n\t\t} else if (start === \"d\"){\n\t\t\tthis.setImage(3, 0);\n\t\t\tthis.setImage(4, duration / 10);\n\t\t\tthis.setImage(0, duration / 1.7);\n\t\t} else if (start === \"u\"){\n\t\t\tthis.setImage(1, 0);\n\t\t\tthis.setImage(0, duration / 1.5);\n\t\t} else {\n\t\t\tthis.setImage(1, 0);\n\t\t\tthis.setImage(0, duration / 3);\n\t\t}\n\t};\n\n\tPictures.prototype.setImage = function(pos, wait){\n\t\tsetTimeout(function(){\n\t\t\ttexture.image = this.images[pos];\n\t\t\ttexture.needsUpdate = true;\n\t\t}.bind(this), wait);\n\t};\n\n\tPictures.prototype.dispose = function(){\n\t\t\t\n\t};\n\n\tPictures.frameMaterial = frameMaterial;\n\n\treturn Pictures;\n});\t\t\t\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/visuals/Pictures.js\n ** module id = 61\n ** module chunks = 1\n **/","define([\"preset/Interpolator\", \"interface/VisualGUI\"], function(Interpolator, GUI){\n\n\treturn new Interpolator(\n\t[\n\t\t{\n\t\t\t\"frame\": [\n\t\t\t\t1,\n\t\t\t\t0,\n\t\t\t\t0.03529411764705881\n\t\t\t],\n\t\t\t\"accent\": [\n\t\t\t\t0,\n\t\t\t\t1,\n\t\t\t\t0\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"frame\": [\n\t\t\t\t0.9529411764705882,\n\t\t\t\t1,\n\t\t\t\t0\n\t\t\t],\n\t\t\t\"accent\": [\n\t\t\t\t0,\n\t\t\t\t1,\n\t\t\t\t0.45882352941176474\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"frame\": [\n\t\t\t\t0.8117647058823529,\n\t\t\t\t1,\n\t\t\t\t0\n\t\t\t],\n\t\t\t\"accent\": [\n\t\t\t\t0.5764705882352941,\n\t\t\t\t1,\n\t\t\t\t0\n\t\t\t]\n\t\t}\n\t], \"Picture Frame Preset\", GUI);\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/preset/PictureFrame.js\n ** module id = 62\n ** module chunks = 1\n **/","define([\"controller/Mediator\", \"visuals/Context\", \"interface/Window\", \n\t\"TERP\", \"preset/PianoVisuals\", \"controller/Conductor\", \"util/Config\", \"THREE\", \"TWEEN\"], \n\tfunction(Mediator, Context, Window, TERP, Preset, Conductor, Config, THREE, TWEEN){\n\n\t\"use strict\";\n\n\tvar position = 0.5;\n\t\n\tvar PianoVisuals = function(parameters){\n\t\tMediator.route(\"piano\", this.note.bind(this));\n\t};\n\n\tPianoVisuals.prototype.note = function(vals){\n\t\tfor (var i = 0; i < vals.length; i++){\n\t\t\tvar speed = TERP.scale(vals[i], 250, 800, minSpeed, minSpeed * 1.5);\n\t\t\tvar offset = TERP.scale(i, 0, vals.length, -10 * spread, 10 * spread);\n\t\t\tnew PianoNote(Context.background, speed, offset, width, length);\n\t\t}\n\t};\n\n\t/**\n\t *  bass bar helper class\n\t */\n\t\n\tvar material = new THREE.MeshBasicMaterial({\n\t\ttransparent: Context.transparent,\n\t\topacity: Context.opacity,\n\t\tblending : Context.blending,\n\t\tblendSrc : Context.blendSrc,\n\t\tblendDst : Context.blendDst,\n\t\tblendEquation : Context.blendEq,\n\t\tdepthTest : false,\n\t\tdepthWrite : false,\n\t\t// side: THREE.DoubleSide,\n\t\tcolor : 0xff0f00,\n\t\temissive : 0x000000\n\t});\n\n\tvar geometry = new THREE.PlaneBufferGeometry(10, 3, 2, 2);\n\n\tvar minSpeed, maxSpeed, width, length;\n\n\tvar spread = 1;\n\n\tPreset.onupdate(function(pre){\n\t\tif (Conductor.getMovement() !== 1){\n\t\t\tvar color = pre.color;\n\t\t\tmaterial.color.setRGB(color[0], color[1], color[2]);\n\t\t}\n\t\tminSpeed = pre.minSpeed;\n\t\tlength = pre.length;\n\t\twidth = pre.width;\n\t\tif (!Config.MOBILE){\n\t\t\tspread = pre.spread;\n\t\t}\n\t});\n\n\tvar startX, startY, endX, endY, angle;\n\tstartX = -Context.width * 0.4;\n\tendX = Context.width * 0.4;\n\tstartY = Context.height;\n\tendY = -Context.height;\n\tangle = Math.atan2(endY - startY, endX - startX);\n\n\tWindow.resize(function(){\n\t\tstartX = -Context.width * 0.4;\n\t\tendX = Context.width * 0.4;\n\t\tstartY = Context.height;\n\t\tendY = -Context.height;\n\t\tangle = Math.atan2(endY - startY, endX - startX);\n\t});\n\n\tvar PianoNote = function(scene, speed, offset, width, length){\n\t\t// var preset = BassPreset.get(Scroll.getPosition());\n\t\tvar object = new THREE.Mesh( geometry, material);\n\t\tobject.rotation.z = angle;\n\t\tobject.position.x = startX + offset;\n\t\tobject.position.y = startY;\n\t\tobject.scale.setX(-length * TERP.scale(Math.random(), 0.3, 1));\n\t\tobject.scale.setY(width * TERP.scale(Math.random(), 0.3, 1));\n\t\tscene.add(object);\n\t\tvar tween = new TWEEN.Tween({x : startX + offset, y : startY})\n\t\t\t.to({x : endX + offset, y : endY}, speed)\n\t\t\t.onUpdate(function(){\n\t\t\t\tobject.position.setX(this.x);\t\n\t\t\t\tobject.position.setY(this.y);\t\n\t\t\t})\n\t\t\t.onComplete(function(){\n\t\t\t\tscene.remove(object);\n\t\t\t\tobject = null;\n\t\t\t\tscene = null;\n\t\t\t\ttween = null;\n\t\t\t})\n\t\t\t.easing( TWEEN.Easing.Quartic.Out )\n\t\t\t.start();\n\t};\n\n\t/**\n\t *  Make a note on the first sustained chord\n\t */\n\tvar startKeys = [];\n\tMediator.route(\"start\", function(){\n\t\tfor (var i = 0; i < 4 ; i++){\n\t\t\tvar obj = new THREE.Mesh( geometry, material);\n\t\t\tobj.position.x = TERP.scale(i, 0, 3, -10, 10);\n\t\t\tobj.rotation.z = Math.PI / 2;\n\t\t\tstartKeys[i] = obj;\n\t\t\tContext.background.add(obj);\n\t\t\tanimateInKey(obj);\n\t\t}\n\t});\n\n\tfunction animateInKey(object){\n\t\tvar tween = new TWEEN.Tween({scale : 0.001})\n\t\t\t.to({scale : Math.random() * 2 + 1.5}, 1500)\n\t\t\t.onUpdate(function(){\n\t\t\t\tobject.scale.setX(-this.scale);\t\n\t\t\t})\n\t\t\t.onComplete(function(){\n\t\t\t\ttween = null;\n\t\t\t})\n\t\t\t.easing( TWEEN.Easing.Elastic.Out)\n\t\t\t.start();\n\t}\n\n\tfunction animateOutKey(object){\n\t\tvar currentScale = object.scale.x;\n\t\tvar tween = new TWEEN.Tween({scale : currentScale})\n\t\t\t.to({scale : -0.001}, 400)\n\t\t\t.onUpdate(function(){\n\t\t\t\tobject.scale.setX(this.scale);\t\n\t\t\t})\n\t\t\t.onComplete(function(){\n\t\t\t\tContext.background.remove(object);\n\t\t\t})\n\t\t\t.easing( TWEEN.Easing.Linear.None)\n\t\t\t.start();\n\t}\n\n\tMediator.route(\"firstScroll\", function(){\n\t\tfor (var i = 0; i < startKeys.length ; i++){\n\t\t\tvar obj = startKeys[i];\n\t\t\tanimateOutKey(obj);\n\t\t}\n\t});\n\n\treturn PianoVisuals;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/visuals/Piano.js\n ** module id = 63\n ** module chunks = 1\n **/","define([\"preset/Interpolator\", \"interface/VisualGUI\"], function(Interpolator, GUI){\n\n\treturn new Interpolator(\n\t[\n\t\t{\n\t\t\t\"minSpeed\": 1800,\n\t\t\t\"color\": [\n\t\t\t\t0.5764705882352941,\n\t\t\t\t1,\n\t\t\t\t0\n\t\t\t],\n\t\t\t\"width\": 0.2,\n\t\t\t\"length\": 3,\n\t\t\t\"spread\": 0.8\n\t\t},\n\t\t{\n\t\t\t\"minSpeed\": 1400,\n\t\t\t\"color\": [\n\t\t\t\t0.14901960784313728,\n\t\t\t\t0,\n\t\t\t\t1\n\t\t\t],\n\t\t\t\"width\": 0.7,\n\t\t\t\"length\": 4,\n\t\t\t\"spread\": 1\n\t\t},\n\t\t{\n\t\t\t\"minSpeed\": 2800,\n\t\t\t\"color\": [\n\t\t\t\t0.06862745098039214,\n\t\t\t\t0.06862745098039214,\n\t\t\t\t0.06862745098039214\n\t\t\t],\n\t\t\t\"width\": 4.4,\n\t\t\t\"length\": 8,\n\t\t\t\"spread\": 4\n\t\t}\n\t], \"Piano Visuals\", GUI);\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/preset/PianoVisuals.js\n ** module id = 64\n ** module chunks = 1\n **/","define([\"visuals/Context\", \"controller/Mediator\", \"shader/KickWave\", \n\t\"TWEEN\", \"interface/Window\", \"preset/KickVisual\", \"controller/Conductor\", \"util/Config\", \"THREE\"], \n\tfunction(Context, Mediator, KickMaterial, TWEEN, Window, Preset, Conductor, Config, THREE){\n\n\t\"use strict\";\n\n\tvar geometry = new THREE.PlaneBufferGeometry(1, 1, 2, 16);\n\n\tvar width = 0.001;\n\n\t/**\n\t *  the bass visuals singleton\n\t */\n\tvar KickVisuals = function(){\n\n\t\tvar objectScale = new THREE.Vector3(width, -Context.height, 1);\n\t\tvar objectPosition = -Context.width;\n\n\t\tthis.object = new THREE.Mesh( geometry, KickMaterial);\n\t\tContext.background.add(this.object);\n\t\tthis.object.scale.set(objectScale.x, objectScale.y, 1);\n\t\tthis.object.position.setX(objectPosition);\n\n\t\t//second stripe\n\t\tthis.object2 = new THREE.Mesh( geometry, KickMaterial);\n\t\tContext.background.add(this.object2);\n\t\tthis.object2.scale.set(objectScale.x * 2, objectScale.y, 1);\n\t\tthis.object2.position.setX(objectPosition + 3);\n\n\t\tthis.amplitude = KickMaterial.uniforms.amplitude;\n\t\tthis.time = KickMaterial.uniforms.time;\n\n\t\tthis.onscreen = false;\n\n\t\tMediator.route(\"kick\", this.note.bind(this));\n\t\tMediator.route(\"update\", this.update.bind(this));\n\t\tPreset.onupdate(this.presetUpdate.bind(this));\n\n\t\tWindow.resize(this.resize.bind(this));\n\t};\n\n\tKickVisuals.prototype.note = function(){\n\t\tvar maxAmp = 5;\n\t\tvar amplitude = this.amplitude;\n\t\tif (this.tween){\n\t\t\tthis.tween.stop();\n\t\t}\n\t\tthis.tween = new TWEEN.Tween({amp : maxAmp})\n\t\t\t.to({amp: 0}, 240)\n\t\t\t.onUpdate(function(){\n\t\t\t\tamplitude.value = this.amp;\n\t\t\t})\n\t\t\t.onComplete(function(){\n\t\t\t\tamplitude = null;\t\n\t\t\t})\n\t\t\t.easing( TWEEN.Easing.Quadratic.Out );\n\t\tvar attack = new TWEEN.Tween({amp : amplitude.value})\n\t\t\t.to({amp : maxAmp}, 40)\n\t\t\t.onUpdate(function(){\n\t\t\t\tamplitude.value = this.amp;\n\t\t\t})\n\t\t\t.onComplete(function(){\n\t\t\t\tattack = null;\n\t\t\t})\n\t\t\t.easing( TWEEN.Easing.Linear.None)\n\t\t\t.chain(this.tween)\n\t\t\t.start();\n\t\tif (!this.onscreen){\n\t\t\tthis.resize();\n\t\t\tthis.onscreen = true;\n\t\t\tvar obj = this.object;\n\t\t\tvar obj2 = this.object2;\n\t\t\tvar tween = new TWEEN.Tween({width : 0.001})\n\t\t\t\t.to({width: width}, 200)\n\t\t\t\t.onUpdate(function(){\n\t\t\t\t\tobj.scale.setX(this.width);\n\t\t\t\t\tobj2.scale.setX(this.width * 2);\n\t\t\t\t})\n\t\t\t\t.easing( TWEEN.Easing.Quadratic.Out )\n\t\t\t\t.start();\n\t\t}\n\t};\n\n\tKickVisuals.prototype.update = function(){\n\t\tif (this.amplitude.value > 0.0001){\n\t\t\tif (Config.HD){\n\t\t\t\tthis.time.value += 1;\n\t\t\t} else {\n\t\t\t\tthis.time.value += 1.5;\n\t\t\t}\n\t\t}\n\t};\n\n\tKickVisuals.prototype.dispose = function(){\n\t\tmaterial.dispose();\n\t};\n\n\tKickVisuals.prototype.resize = function(w, h){\n\t\tvar objectPosition = -(Context.pictureWidth / 2 + Context.sidebarWidth / 3 + 1);\n\t\tthis.object.position.setX(objectPosition);\n\t\tthis.object2.position.setX(objectPosition + 3);\n\t};\n\n\tMediator.route(\"B\", function(){\n\t\tKickMaterial.uniforms.color.value.setRGB(1, 1, 1);\n\t});\n\n\tKickVisuals.prototype.presetUpdate = function(pre){\n\t\tif (this.onscreen){\n\t\t\tthis.object.scale.setX(width);\n\t\t\tthis.object2.scale.setX(width * 2);\n\t\t}\n\t\tif (Conductor.getMovement() !== 1){\n\t\t\tvar color = pre.color;\n\t\t\tKickMaterial.uniforms.color.value.setRGB(color[0], color[1], color[2]);\n\t\t\twidth = pre.width;\n\t\t} \n\t};\n\n\treturn KickVisuals;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/visuals/Kick.js\n ** module id = 65\n ** module chunks = 1\n **/","define([\"shader/kickwave.frag\",  \"shader/kickwave.vert\", \"visuals/Context\", \"THREE\"], \nfunction(fragShader, vertShader, Context, THREE){\n\n\treturn new THREE.ShaderMaterial({\n\n\t\ttransparent: Context.transparent,\n\t\topacity: Context.opacity,\n\t\tblending : Context.blending,\n\t\tblendSrc : Context.blendSrc,\n\t\tblendDst : Context.blendDst,\n\t\tblendEquation : Context.blendEq,\n\t\t// side: THREE.DoubleSide,\n\t\tdepthTest : false,\n\t\tdepthWrite : false,\n\t\t// wireframe : true,\n\n\t\tuniforms: {\n\t\t\t\"amplitude\":   { type: \"f\", value: 0 },\n\t\t\t\"time\":   { type: \"f\", value: 0 },\n\t\t\t\"color\" : { type: \"c\", value: new THREE.Color( 0xffaa00 ) }\n\t\t},\n\t\tvertexShader: vertShader,\n\t\tfragmentShader: fragShader\n\n\t});\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/shader/KickWave.js\n ** module id = 66\n ** module chunks = 1\n **/","module.exports = \"uniform vec3 color;\\n\\nvoid main() {\\n\\tgl_FragColor = vec4(color, 1.0);\\n}\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/shader/kickwave.frag\n ** module id = 67\n ** module chunks = 1\n **/","module.exports = \"uniform lowp float amplitude;\\nuniform lowp float time;\\n\\nvoid main() {\\n\\tvec3 squiggle = vec3(position.x + sin(position.y * 9.0 + time) * amplitude, position.y, position.z);\\n\\tgl_Position = projectionMatrix * modelViewMatrix * vec4(squiggle, 1.0 );\\n}\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/shader/kickwave.vert\n ** module id = 68\n ** module chunks = 1\n **/","define([\"preset/Interpolator\", \"interface/VisualGUI\"], function(Interpolator, GUI){\n\n\treturn new Interpolator(\n\t[\n\t\t{\n\t\t\t\"width\": 0.3,\n\t\t\t\"color\": [\n\t\t\t\t0.800557477893118,\n\t\t\t\t0.18627450980392157,\n\t\t\t\t0.547617432209331\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"width\": 0.84,\n\t\t\t\"color\": [\n\t\t\t\t0.584313725490196,\n\t\t\t\t0.7764705882352941,\n\t\t\t\t0\n\t\t\t]\n\t\t}\n\t], \"Kick Preset\", GUI);\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/preset/KickVisual.js\n ** module id = 69\n ** module chunks = 1\n **/","define([\"visuals/Context\", \"controller/Mediator\", \"shader/SnareWave\", \n\t\"TWEEN\", \"interface/Window\", \"preset/SnareVisuals\", \"controller/Conductor\", \"util/Config\", \"THREE\"], \n\tfunction(Context, Mediator, SnareMaterial, TWEEN, Window, Preset, Conductor, Config, THREE){\n\n\t\"use strict\";\n\n\tvar geometry = new THREE.PlaneBufferGeometry(1, 1, 2, 32);\n\n\tvar width = 0.001;\n\n\t/**\n\t *  the bass visuals singleton\n\t */\n\tvar SnareVisuals = function(){\n\n\t\tvar objectScale = new THREE.Vector3(width, -Context.height, 1);\n\t\tvar objectPosition = -Context.width;\n\t\tthis.object = new THREE.Mesh( geometry, SnareMaterial);\n\t\tContext.background.add(this.object);\n\t\tthis.object.scale.set(objectScale.x, objectScale.y, 1);\n\t\tthis.object.position.setX(objectPosition);\n\n\t\tthis.amplitude = SnareMaterial.uniforms.amplitude;\n\t\tthis.time = SnareMaterial.uniforms.time;\n\n\t\tMediator.route(\"snare\", this.note.bind(this));\n\t\tMediator.route(\"update\", this.update.bind(this));\n\t\tthis.update();\n\n\t\tthis.onscreen = false;\n\t\tPreset.onupdate(this.presetUpdate.bind(this));\n\t\tWindow.resize(this.resize.bind(this));\n\t};\n\n\tSnareVisuals.prototype.note = function(){\n\t\tvar maxAmp = 1;\n\t\tvar amplitude = this.amplitude;\n\t\tif (this.tween){\n\t\t\tthis.tween.stop();\n\t\t}\n\t\tthis.tween = new TWEEN.Tween({amp : maxAmp})\n\t\t\t.to({amp: 0}, this.decayTime)\n\t\t\t.onUpdate(function(){\n\t\t\t\tamplitude.value = this.amp;\n\t\t\t})\n\t\t\t.onComplete(function(){\n\t\t\t\tamplitude = null;\t\n\t\t\t})\n\t\t\t.easing( TWEEN.Easing.Quadratic.Out );\n\t\tvar attack = new TWEEN.Tween({amp : amplitude.value})\n\t\t\t.to({amp : maxAmp}, 100)\n\t\t\t.onUpdate(function(){\n\t\t\t\tamplitude.value = this.amp;\n\t\t\t})\n\t\t\t.easing( TWEEN.Easing.Elastic.Out)\n\t\t\t.chain(this.tween)\n\t\t\t.start();\n\t\tif (!this.onscreen){\n\t\t\tthis.resize();\n\t\t\tthis.onscreen = true;\n\t\t\tvar obj = this.object;\n\t\t\tvar tween = new TWEEN.Tween({width : 0.001})\n\t\t\t\t.to({width: width}, 100)\n\t\t\t\t.onUpdate(function(){\n\t\t\t\t\tobj.scale.setX(this.width);\n\t\t\t\t})\n\t\t\t\t.onComplete(function(){\n\t\t\t\t\ttween = null;\n\t\t\t\t})\n\t\t\t\t.easing( TWEEN.Easing.Quadratic.Out )\n\t\t\t\t.start();\n\t\t}\n\t};\n\n\tSnareVisuals.prototype.update = function(){\n\t\tif (this.amplitude.value > 0.0001){\n\t\t\tif (Config.HD){\n\t\t\t\tthis.time.value += 1;\n\t\t\t} else {\n\t\t\t\tthis.time.value += 2;\n\t\t\t}\n\t\t}\n\t};\n\n\tSnareVisuals.prototype.resize = function(){\n\t\tvar objectPosition = -(Context.pictureWidth / 2 + 2 * Context.sidebarWidth / 3) + 1;\n\t\tthis.object.position.setX(objectPosition);\n\t};\n\n\tMediator.route(\"B\", function(){\n\t\tSnareMaterial.uniforms.color.value.setRGB(1, 1, 1);\n\t});\n\n\tSnareVisuals.prototype.presetUpdate = function(pre){\n\t\tif (this.onscreen){\n\t\t\tthis.object.scale.setX(width);\n\t\t}\n\t\tif (Conductor.getMovement() !== 1){\n\t\t\tvar color = pre.color;\n\t\t\tSnareMaterial.uniforms.color.value.setRGB(color[0], color[1], color[2]);\n\t\t}\n\t\twidth = pre.width;\n\t\tthis.decayTime = pre.decay;\n\t};\n\n\tSnareVisuals.prototype.dispose = function(){\n\t\tmaterial.dispose();\n\t};\n\n\treturn SnareVisuals;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/visuals/Snare.js\n ** module id = 70\n ** module chunks = 1\n **/","define([\"shader/kickwave.frag\",  \"shader/snarewave.vert\", \"visuals/Context\", \"THREE\"], \nfunction(fragShader, vertShader, Context, THREE){\n\n\treturn new THREE.ShaderMaterial({\n\n\t\ttransparent: Context.transparent,\n\t\topacity: Context.opacity,\n\t\tblending : Context.blending,\n\t\tblendSrc : Context.blendSrc,\n\t\tblendDst : Context.blendDst,\n\t\tblendEquation : Context.blendEq,\n\t\tdepthTest : false,\n\t\tdepthWrite : false,\n\t\t// side: THREE.DoubleSide,\n\t\t// wireframe : true,\n\n\t\tuniforms: {\n\t\t\t\"amplitude\":   { type: \"f\", value: 0 },\n\t\t\t\"time\":   { type: \"f\", value: 0 },\n\t\t\t\"color\" : { type: \"c\", value: new THREE.Color( 0xaa00ff ) }\n\t\t},\n\t\tvertexShader: vertShader,\n\t\tfragmentShader: fragShader\n\n\t});\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/shader/SnareWave.js\n ** module id = 71\n ** module chunks = 1\n **/","module.exports = \"uniform lowp float amplitude;\\nuniform lowp float time;\\n\\n\\nvoid main() {\\n\\tvec3 squiggle = position;\\n\\tfloat sinAmp = sin(time) * amplitude;\\n\\tif (mod(position.y, 0.0625) == 0.0){\\n\\t\\tsquiggle.x += sinAmp;\\n\\t} else {\\n\\t\\tsquiggle.x -= sinAmp;\\n\\t}\\n\\tgl_Position = projectionMatrix * modelViewMatrix * vec4(squiggle, 1.0 );\\n}\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/shader/snarewave.vert\n ** module id = 72\n ** module chunks = 1\n **/","define([\"preset/Interpolator\", \"interface/VisualGUI\"], function(Interpolator, GUI){\n\n\treturn new Interpolator(\n\t[\n\t\t{\n\t\t\t\"decay\": 230,\n\t\t\t\"width\": 0.7,\n\t\t\t\"color\": [\n\t\t\t\t0.800557477893118,\n\t\t\t\t0.18627450980392157,\n\t\t\t\t0.547617432209331\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"decay\": 650,\n\t\t\t\"width\": 5.8,\n\t\t\t\"color\": [\n\t\t\t\t0.584313725490196,\n\t\t\t\t0.7764705882352941,\n\t\t\t\t0\n\t\t\t]\n\t\t}\n\t], \"Snare Preset\", GUI);\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/preset/SnareVisuals.js\n ** module id = 73\n ** module chunks = 1\n **/","define([\"visuals/Context\", \"controller/Mediator\", \"preset/VoiceVisual\", \"controller/Conductor\", \"THREE\", \"TWEEN\"], \n\tfunction(Context, Mediator, VoicePreset, Conductor, THREE, TWEEN){\n\n\t\"use strict\";\n\n\tvar material = new THREE.MeshLambertMaterial({\n\t\ttransparent: Context.transparent,\n\t\topacity: Context.opacity,\n\t\tblending : Context.blending,\n\t\tblendSrc : Context.blendSrc,\n\t\tblendDst : Context.blendDst,\n\t\tblendEquation : Context.blendEq,\n\t\tdepthTest : false,\n\t\tdepthWrite : false,\n\t\tcolor : 0xff0f00,\n\t\temissive : 0xff0f00\n\t});\n\n\twindow.material = material;\n\n\tvar geometry = new THREE.SphereGeometry(10, 16, 16);\n\n\tMediator.route(\"B\", function(){\n\t\tmaterial.color.setRGB(1, 1, 1);\n\t\tmaterial.emissive.setRGB(0.5, 0.5, 0.5);\n\t});\n\n\tvar duration, attackTime;\n\n\tVoicePreset.onupdate(function(preset){\n\t\tif (Conductor.getMovement() !== 1){\n\t\t\tvar color = preset.color;\n\t\t\tmaterial.color.setRGB(color[0], color[1], color[2]);\n\t\t\tmaterial.emissive.setRGB(color[0], color[1], color[2]);\n\t\t}\n\t\tduration = preset.duration;\n\t\tattackTime = preset.attackTime;\n\t});\n\n\t/**\n\t *  the bass visuals singleton\n\t */\n\tvar VoiceVisuals = function(){\n\t\tthis.object = new THREE.Mesh( geometry, material);\n\t\tthis.object.scale.set(0.01, 0.01, 0.01);\n\t\tthis.object.position.x = -1000;\n\t\tContext.background.add(this.object);\n\t\tMediator.route(\"voice\", this.note.bind(this));\n\t};\n\n\tVoiceVisuals.prototype.note = function(){\n\t\tif (Conductor.getMovement() === 1){\n\t\t\treturn;\n\t\t}\n\t\t// new VoiceNote(Context.scene);\n\t\tif (this.tween){\n\t\t\tthis.tween.stop();\n\t\t}\n\t\tvar object = this.object;\n\t\tobject.position.x = 0;\n\t\tvar currentSize = object.scale.x;\n\t\tvar maxSize = 3;\n\t\tthis.tween = new TWEEN.Tween({size : maxSize})\n\t\t\t.to({size : 0.001}, duration)\n\t\t\t.easing( TWEEN.Easing.Quadratic.Out)\n\t\t\t.onUpdate(function(){\n\t\t\t\tobject.scale.set(this.size, this.size, this.size);\t\n\t\t\t})\n\t\t\t.onComplete(function(){\n\t\t\t\tobject.position.x = -1000;\n\t\t\t});\n\t\tvar attack = new TWEEN.Tween({size : currentSize})\n\t\t\t.to({size : maxSize}, attackTime)\n\t\t\t.onUpdate(function(){\n\t\t\t\tobject.scale.set(this.size, this.size, this.size);\t\n\t\t\t})\n\t\t\t.easing( TWEEN.Easing.Quadratic.Out)\n\t\t\t.chain(this.tween)\n\t\t\t.start();\n\t};\n\n\tVoiceVisuals.prototype.dispose = function(){\n\t\tmaterial.dispose();\n\t};\n\n\n\treturn VoiceVisuals;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/visuals/Voice.js\n ** module id = 74\n ** module chunks = 1\n **/","define([\"preset/Interpolator\", \"interface/VisualGUI\"], function(Interpolator, GUI){\n\n\treturn new Interpolator(\n\t[\n\t\t{\n\t\t\t\"attackTime\": 100,\n\t\t\t\"duration\": 1000,\n\t\t\t\"color\": [\n\t\t\t\t1,\n\t\t\t\t0,\n\t\t\t\t0\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"duration\": 1600,\n\t\t\t\"color\": [\n\t\t\t\t0.8117647058823529,\n\t\t\t\t1,\n\t\t\t\t0\n\t\t\t],\n\t\t\t\"attackTime\": 200\n\t\t},\n\t\t{\n\t\t\t\"duration\": 2400,\n\t\t\t\"attackTime\": 300,\n\t\t\t\"color\": [\n\t\t\t\t1,\n\t\t\t\t1,\n\t\t\t\t0\n\t\t\t]\n\t\t}\n\t], \"Voice Visuals\", GUI);\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/preset/VoiceVisual.js\n ** module id = 75\n ** module chunks = 1\n **/","define([\"visuals/Context\", \"controller/Mediator\", \"interface/Window\", \n\t\"TERP\", \"preset/HighHatVisual\", \"controller/Conductor\", \"THREE\", \"TWEEN\"],\n function(Context, Mediator, Window, TERP, Preset, Conductor, THREE, TWEEN){\n\n\t\"use strict\";\n\n\tvar material = new THREE.MeshBasicMaterial({\n\t\ttransparent: Context.transparent,\n\t\topacity: 0.6,\n\t\tblending : Context.blending,\n\t\tblendSrc : Context.blendSrc,\n\t\tblendDst : Context.blendDst,\n\t\tblendEquation : Context.blendEq,\n\t\t// side: THREE.DoubleSide,\n\t\tdepthTest : false,\n\t\tdepthWrite : false,\n\t\tcolor : 0xf00a0a,\n\t\temissive : 0x000000\n\t});\n\n\tvar sideLen = 10;\n\n\tvar geom = new THREE.Geometry();\n\tvar v1 = new THREE.Vector3(0,sideLen/3,0);\n\tvar v2 = new THREE.Vector3(sideLen/3,-sideLen/3,0);\n\tvar v3 = new THREE.Vector3(-sideLen/3,-sideLen/3,0);\n\tgeom.vertices.push( v1 );\n\tgeom.vertices.push( v2 );\n\tgeom.vertices.push( v3 );\n\tgeom.faces.push( new THREE.Face3( 0, 1, 2 ) );\n\tgeom.computeFaceNormals();\n\n\tvar horizontalScale = 1;\n\tvar decayTime = 400;\n\n\tMediator.route(\"B\", function(){\n\t\tmaterial.color.setRGB(1, 1, 1);\n\t});\n\n\tPreset.onupdate(function(pre){\n\t\thorizontalScale = pre.width;\n\t\tif (Conductor.getMovement() !== 1){\n\t\t\tvar color = pre.color;\n\t\t\tmaterial.color.setRGB(color[0], color[1], color[2]);\n\t\t}\n\t\tdecayTime = pre.decay;\n\t});\n\n\t/**\n\t *  the bass visuals singleton\n\t */\n\tvar HighHatVisuals = function(){\n\t\tMediator.route(\"highhat\", this.note.bind(this));\n\t};\n\n\tHighHatVisuals.prototype.note = function(velocity, pan){\n\t\tnew HighHatNote(velocity, pan);\n\t};\n\n\t/**\n\t *  A highat note\n\t */\n\tvar HighHatNote = function(velocity, pan){\n\t\tvar object = new THREE.Mesh( geom, material);\n\t\tobject.position.setX(TERP.scale(pan, -Context.width/6, Context.width/2.5));\n\t\tobject.position.setY(TERP.scale(Math.random(), Context.height/3, 0));\n\t\tvar scale = TERP.scale(velocity, 0.4, 1);\n\t\tContext.background.add(object);\n\t\tvar tween = new TWEEN.Tween({scale : scale})\n\t\t\t.to({scale : 0}, decayTime)\n\t\t\t.onUpdate(function(){\n\t\t\t\tobject.scale.set(this.scale/horizontalScale, this.scale, this.scale);\n\t\t\t})\n\t\t\t.onComplete(function(){\n\t\t\t\tContext.background.remove(object);\n\t\t\t\tobject = null;\n\t\t\t\ttween = null;\n\t\t\t\tattack = null;\n\t\t\t})\n\t\t\t.easing( TWEEN.Easing.Linear.None);\n\t\tvar attack = new TWEEN.Tween({scale : 0})\n\t\t\t.to({scale : scale}, scale * 20)\n\t\t\t.onUpdate(function(){\n\t\t\t\tobject.scale.set(this.scale/horizontalScale, this.scale, this.scale);\n\t\t\t})\n\t\t\t.onComplete(function(){\n\t\t\t\tattack = null;\n\t\t\t})\n\t\t\t.easing( TWEEN.Easing.Elastic.Out)\n\t\t\t.chain(tween)\n\t\t\t.start();\n\t};\n\t\n\n\treturn HighHatVisuals;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/visuals/HighHat.js\n ** module id = 76\n ** module chunks = 1\n **/","define([\"preset/Interpolator\", \"interface/VisualGUI\"], function(Interpolator, GUI){\n\n\treturn new Interpolator(\n\t[\n\t\t{\n\t\t\t\"width\": 3,\n\t\t\t\"color\": [\n\t\t\t\t1,\n\t\t\t\t0,\n\t\t\t\t1\n\t\t\t],\n\t\t\t\"decay\": 120\n\t\t},\n\t\t{\n\t\t\t\"width\": 0.89,\n\t\t\t\"color\": [\n\t\t\t\t0,\n\t\t\t\t0.7176470588235294,\n\t\t\t\t1\n\t\t\t],\n\t\t\t\"decay\": 470\n\t\t},\n\t\t{\n\t\t\t\"width\": 0.85,\n\t\t\t\"color\": [\n\t\t\t\t0.8,\n\t\t\t\t0.4,\n\t\t\t\t0\n\t\t\t],\n\t\t\t\"decay\": 700\n\t\t}\n\t], \"HighHat Preset\", GUI);\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/preset/HighHatVisual.js\n ** module id = 77\n ** module chunks = 1\n **/","define([\"visuals/Context\",\"controller/Mediator\", \"util/Config\", \n\t\"interface/Window\", \"preset/PictureFrame\", \"TWEEN\", \"THREE\", \"jquery\"], \n\tfunction(Context, Mediator, Config, Window, PicturePreset, TWEEN, THREE, $){\n\n\t\"use strict\";\n\n\t/**\n\t *  materials\n\t */\n\t\n\tvar materialA = new THREE.MeshBasicMaterial({\n\t\ttransparent: Context.transparent,\n\t\topacity: Context.opacity,\n\t\tblending : Context.blending,\n\t\tblendSrc : Context.blendSrc,\n\t\tblendDst : Context.blendDst,\n\t\tblendEquation : Context.blendEq,\n\t\t// map: frameTexture,\n\t\t// side: THREE.DoubleSide,\n\t\tside: THREE.FrontSide,\n\t\tdepthTest : false,\n\t\tdepthWrite : false,\n\t\tcolor : 0xffffff,\n\t\t// emissive : 0xff0000\n\t});\n\n\n\tvar materialB = new THREE.MeshBasicMaterial({\n\t\ttransparent: Context.transparent,\n\t\topacity: Context.opacity,\n\t\tblending : Context.blending,\n\t\tblendSrc : Context.blendSrc,\n\t\tblendDst : Context.blendDst,\n\t\tblendEquation : Context.blendEq,\n\t\tside: THREE.FrontSide,\n\t\t// map: frameTexture,\n\t\tdepthTest : false,\n\t\tdepthWrite : false,\n\t\tcolor : 0xffffff,\n\t\t// emissive : 0xff0000\n\t});\n\n\tPicturePreset.onupdate(function(preset){\n\t\tvar frame = preset.frame;\n\t\tvar accent = preset.accent;\n\t\tmaterialA.color.setRGB(frame[0], frame[1], frame[2]);\n\t\t// materialA.emissive.setRGB(frame[0] - 0.5, frame[1] - 0.5, frame[2] - 0.5);\n\t\tmaterialB.color.setRGB(accent[0], accent[1], accent[2]);\n\t\t// materialB.emissive.setRGB(accent[0] - 0.5, accent[1] - 0.5, accent[2] - 0.5);\n\t});\n\n\tvar geometry = new THREE.PlaneBufferGeometry(1, 1, 2, 2);\n\n\t// var BBox = new THREE.Mesh( geometry, materialB);\n\t// Context.layer0.add(BBox);\n\n\t// BBox.scale.setX(10);\n\t// BBox.scale.setY(10);\n\n\t// window.BBox = BBox;\n\n\tMediator.route(\"B\", function(){\n\t\t// Context.layer1.position.set(-100, 0, 0);\n\t\tmaterialA.side = THREE.DoubleSide;\n\t\tmaterialB.side = THREE.DoubleSide;\n\t\tvar out = new TWEEN.Tween({angle : 0})\n\t\t\t.to({angle : -5 * Math.PI / 2}, 1700)\n\t\t\t.onUpdate(function(){\n\t\t\t\t// obj.scale.set(this.size, this.size, 1);\t\n\t\t\t\tContext.layer1.rotation.x = this.angle;\n\t\t\t\tContext.layer2.rotation.x = this.angle / 5;\n\t\t\t})\n\t\t\t.onComplete(function(){\n\t\t\t\tmaterialA.side = THREE.FrontSide;\n\t\t\t\tmaterialB.side = THREE.FrontSide;\n\t\t\t})\n\t\t\t.easing( TWEEN.Easing.Quadratic.In)\n\t\t\t.start();\n\t});\n\n\tMediator.route(\"C\", function(){\n\t\tContext.layer1.rotation.x = 0;\n\t\tContext.layer2.rotation.x = 0;\n\t});\n\n\tvar FrameVisuals = function(){\n\t\t//topbar\n\t\tthis.topbar = new THREE.Mesh( geometry, materialB);\n\t\tContext.layer1.add(this.topbar);\n\t\tif (!Config.MOBILE){\n\t\t\t//left size\n\t\t\tthis.leftTop = new THREE.Mesh( geometry, materialA);\n\t\t\tContext.layer1.add(this.leftTop);\n\t\t\t//right size\n\t\t\tthis.rightTop = new THREE.Mesh( geometry, materialB);\n\t\t\tContext.layer1.add(this.rightTop);\n\t\t\tthis.rightBottom = new THREE.Mesh( geometry, materialB);\n\t\t\tContext.layer1.add(this.rightBottom);\n\t\t}\n\t\tthis.resize();\n\t\tWindow.resize(this.resize.bind(this));\n\t};\n\n\tFrameVisuals.prototype.resize = function(){\n\t\t//top\n\t\tvar topbarHeight = 5;\n\t\tif (Config.MOBILE){\n\t\t\ttopbarHeight = 7;\n\t\t}\n\t\tthis.topbar.position.y = Context.height / 2 - topbarHeight / 2;\n\t\tthis.topbar.scale.setY(-topbarHeight);\n\t\tthis.topbar.scale.setX(Context.width);\n\n\t\tif (!Config.MOBILE){\n\t\t\t//left\n\t\t\tvar sideHeight = 45;\n\t\t\tvar bottomSideHeight = 10;\n\t\t\tvar centerWidth = Context.pictureWidth;\n\t\t\tvar sideWidth = Context.sidebarWidth;\n\n\t\t\tvar topSideHeight = sideHeight - bottomSideHeight;\n\t\t\tvar leftSideHeight = Context.height - topbarHeight - 3;\n\t\t\tthis.leftTop.scale.setX(sideWidth);\n\t\t\tthis.leftTop.scale.setY(-leftSideHeight);\n\t\t\tthis.leftTop.position.x =  centerWidth / 2 + sideWidth / 2 + 1;\n\t\t\tthis.leftTop.position.y = Context.height / 2 - topbarHeight - 2 - leftSideHeight / 2;\n\t\t\t//right\n\t\t\tvar tmp = bottomSideHeight;\n\t\t\tbottomSideHeight = topSideHeight;\n\t\t\ttopSideHeight = tmp;\n\t\t\tthis.rightTop.scale.setX(sideWidth);\n\t\t\tthis.rightTop.scale.setY(-topSideHeight);\n\t\t\tthis.rightTop.position.x = -(centerWidth / 2 + sideWidth / 2 + 1);\n\t\t\tthis.rightTop.position.y = Context.height / 2 - topbarHeight - 2 - topSideHeight / 2;\n\t\t\t//left / bottom\n\t\t\tthis.rightBottom.scale.setX(sideWidth);\n\t\t\tthis.rightBottom.scale.setY(-bottomSideHeight);\n\t\t\tthis.rightBottom.position.x = -(centerWidth / 2 + sideWidth / 2 + 1);\n\t\t\tthis.rightBottom.position.y = Context.height / 2 - topbarHeight - 3 - topSideHeight - bottomSideHeight / 2;\n\t\t}\n\n\t};\n\n\treturn FrameVisuals;\n});\t\t\t\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/visuals/Frame.js\n ** module id = 78\n ** module chunks = 1\n **/","define([\"visuals/Context\", \"controller/Mediator\", \"util/Config\", \n\t\"interface/Window\", \"controller/Conductor\", \"interface/Scroll\", \n\t\"TERP\", \"TWEEN\", \"THREE\"], \n\tfunction(Context, Mediator, Config, Window, Conductor, Scroll, TERP, TWEEN, THREE){\n\n\t\"use strict\";\n\n\tvar texture = new THREE.Texture();\n\ttexture.wrapS = THREE.RepeatWrapping;\n\ttexture.wrapT = THREE.RepeatWrapping;\n\ttexture.repeat.set(50, 50);\n\n\tvar blending = \"SubtractiveBlending\";\n\n\tvar material = new THREE.SpriteMaterial({\n\t\ttransparent: true,\n\t\topacity : 1,\n\t\tmap: texture,\n\t\tblending : THREE[blending],\n\t\tblendSrc : Context.blendSrc,\n\t\tblendDst : Context.blendDst,\n\t\tblendEquation : Context.blendEq,\n\t\tdepthTest : false,\n\t\talphaTest : 0.1,\n\t\tcolor : 0xffffff\n\t});\n\n\tvar coverMaterial = new THREE.MeshBasicMaterial({\n\t\ttransparent: Context.transparent,\n\t\topacity: Context.opacity,\n\t\tblending : Context.blending,\n\t\tblendSrc : Context.blendSrc,\n\t\tblendDst : Context.blendDst,\n\t\tblendEquation : Context.blendEq,\n\t\tdepthTest : false,\n\t\tdepthWrite : false,\n\t\tcolor : 0xffffff,\n\t\temissive : 0x000000\n\t});\n\n\tvar geometry = new THREE.PlaneBufferGeometry(1, 1, 2, 2);\n\tvar BBox = new THREE.Mesh( geometry, coverMaterial);\n\tBBox.scale.setX(-1000);\n\tBBox.scale.setY(1000);\n\twindow.BBox = BBox;\n\n\tvar thumbImageCount = 15;\n\tvar starImageCount = 13;\n\tvar heartImageCount = 5;\n\n\n\n\tvar BackgroundImage = function(){\n\t\tthis.loader = new THREE.ImageLoader();\n\t\tthis.pic = new THREE.Sprite(material);\n\n\t\twindow.pic = this.pic;\n\t\t\n\t\tthis.setSize();\n\t\tWindow.resize(this.setSize.bind(this));\n\t\tthis.imageNumber = 0;\n\t\tMediator.route(\"scroll\",this.scroll.bind(this));\n\t\t// Mediator.route(\"rawscroll\",this.rawscroll.bind(this));\n\t\tMediator.route(\"BDrop\",this.add.bind(this));\n\t\tMediator.route(\"B\",this.BSetup.bind(this));\n\t\tMediator.route(\"flip\",this.flip.bind(this));\n\t\tMediator.route(\"C\",this.remove.bind(this));\n\n\t\tthis.lastPosition = -1;\n\t\tthis.loadedCount = 0;\n\n\t\tthis.section = \"heart\";\n\n\t\t//preload the images\n\t\tthis.images = {\n\t\t\t\"star\" : [],\n\t\t\t\"thumb\" : [],\n\t\t\t\"heart\" : []\n\t\t};\n\t\tvar i;\n\t\tfor (i = 0; i < thumbImageCount; i++){\n\t\t\tthis.loader.load(\"./smallerImages/thumbs/\"+i+\".png\", this.storeImage(\"thumb\", i));\n\t\t}\n\t\tfor (i = 0; i < starImageCount; i++){\n\t\t\tthis.loader.load(\"./smallerImages/star/\"+i+\".png\", this.storeImage(\"star\", i));\n\t\t}\n\t\tfor (i = 0; i < heartImageCount; i++){\n\t\t\tthis.loader.load(\"./smallerImages/heart/\"+i+\".png\", this.storeImage(\"heart\", i));\n\t\t}\n\n\t\tthis.imagesAdded = false;\n\t};\n\n\tvar scrollDist = 0.5;\n\n\tBackgroundImage.prototype.setSize = function(){\n\t\tvar times = 14;\n\t\tvar max = Math.max(Context.width * times, Context.height * times);\n\t\tthis.pic.scale.set(max, -max, 1);\n\t};\n\n\tBackgroundImage.prototype.storeImage = function(section, position){\n\t\treturn function(img){\n\t\t\tthis.loadedCount++;\n\t\t\tvar progress =  this.loadedCount / (thumbImageCount + starImageCount + heartImageCount);\n\t\t\tthis.images[section][position] = img;\n\t\t}.bind(this);\n\t};\n\n\tBackgroundImage.prototype.add = function(){\n\t\tthis.setImage();\n\t\tContext.layer1.add(this.pic);\n\t\tContext.background.add(BBox);\n\t\tthis.interval = setInterval(this.updateLoop.bind(this), 100);\n\t};\n\n\tBackgroundImage.prototype.BSetup = function(){\n\t\tContext.layer1.remove(this.pic);\n\t};\n\n\tBackgroundImage.prototype.remove = function(){\n\t\t// Context.layer1.remove(this.pic);\t\n\t\tContext.background.remove(BBox);\n\t\tclearInterval(this.interval);\n\t};\n\n\tBackgroundImage.prototype.flip = function(dir){\n\t\tif (this.section === \"thumb\"){\n\t\t\tvar first = 0; \n\t\t\tvar last = thumbImageCount - 1;\n\t\t\tif (dir > 0){\n\t\t\t\tfirst = thumbImageCount - 1;\n\t\t\t\tlast = 0;\n\t\t\t} \n\t\t\tif (this.tween){\n\t\t\t\tthis.tween.stop();\n\t\t\t}\n\t\t\tvar self = this;\n\t\t\tthis.tween = new TWEEN.Tween({imgNum : first})\n\t\t\t\t.to({imgNum : last}, 300)\n\t\t\t\t.onUpdate(function(){\n\t\t\t\t\tvar imgNumber = Math.floor(this.imgNum);\n\t\t\t\t\tif (self.imageNumber !== imgNumber){\n\t\t\t\t\t\tself.imageNumber = imgNumber;\n\t\t\t\t\t\tself.setImage();\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.easing( TWEEN.Easing.Linear.None)\n\t\t\t\t.start();\n\t\t}\n\t};\n\n\tBackgroundImage.prototype.updateLoop = function(){\n\t\tif (Conductor.getMovement() === 1){\n\t\t\tif (this.section !== \"thumb\"){\n\t\t\t\tvar scrollPos = Scroll.getPosition();\n\t\t\t\tif (this.lastPosition !== scrollPos){\n\t\t\t\t\tthis.lastPosition = scrollPos;\n\t\t\t\t\tthis.imageNumber++;\n\t\t\t\t\tthis.setImage();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tBackgroundImage.prototype.rawscroll = function(pos){\n\t\tif (Conductor.getMovement() === 1){\n\t\t\t\n\t\t}\n\t};\n\n\tBackgroundImage.prototype.scroll = function(pos){\n\t\tif (Conductor.getMovement() === 1){\n\t\t\tif (Conductor.getBProgress() < 1){\n\t\t\t\tvar order = [\"heart\", \"star\", \"thumb\"];\n\t\t\t\tvar newSec = order[Math.floor(Conductor.getBProgress() * 3)];\n\t\t\t\tif (newSec !== this.section){\n\t\t\t\t\tthis.section = newSec;\n\t\t\t\t\tif (this.section === \"thumb\"){\n\t\t\t\t\t\tthis.flip(Scroll.getDirection());\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tBackgroundImage.prototype.setImage = function(){\n\t\tvar imagelen = this.images[this.section].length;\n\t\ttexture.image = this.images[this.section][this.imageNumber % imagelen];\n\t\ttexture.needsUpdate = true;\n\t};\n\n\treturn BackgroundImage;\n});\t\t\t\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/visuals/BackgroundImages.js\n ** module id = 79\n ** module chunks = 1\n **/","define([\"score/Bass\", \"score/Piano\", \"score/Voice\", \"score/Drums\", \"score/Arp\"], function(Bass, Piano, Voice, Drums, Arp){\n\t\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/score/Main.js\n ** module id = 80\n ** module chunks = 1\n **/","define([\"channel/Bass\", \"controller/Conductor\", \"controller/Mediator\"], function(Bass, Conductor, Mediator){\n\n\tvar bassSynth = [\n\n\t\t[\"0:0\", 0, \"4n\"], [\"0:1\", 0, \"4n\"], [\"0:2\", 0, \"4n\"], [\"0:3\", 0, \"4n\"],\n\t\t[\"1:0\", 0, \"4n\"], [\"1:1\", 0, \"4n\"], [\"1:2\", 0, \"4n\"], [\"1:3\", 0, \"4n\"],\n\t\t[\"2:0\", 0, \"4n\"], [\"2:1\", 0, \"4n\"], [\"2:2\", 0, \"4n\"],[ \"2:3\", 0, \"4n\"],\n\t\t\n\t\t[\"3:0\", 0, \"4n\"], [\"3:2\", 0, \"4n\"], \n\t\t[\"4:0\", 0, \"4n\"], [\"4:1\", 0, \"4n\"], [\"4:3\", 0, \"4n\"], \n\t\t[\"5:0\", 0, \"4n\"], [\"5:2\", 0, \"4n\"],[ \"5:3\", 2, \"4n\"],\n\t\t\n\t\t[\"6:0\", 0, \"4n\"], [\"6:1:2\",0, \"4n\"],[\"6:3\", 0, \"4n\"], \n\t\t[\"7:0\", 0, \"4n\"], [\"7:1:2\",0, \"4n\"], [\"7:3\", 0, \"4n\"], \n\t\t[\"8:0:2\", 0, \"4n\"], [\"8:2\", 0, \"4n\"],[ \"8:3\", 0, \"4n\"],\n\t\t\n\t\t[\"9:0\", 0, \"4n\"], [\"9:1:2\", 0, \"4n\"],[\"9:3\", 0, \"4n\"], \n\t\t[\"10:0\", 0, \"4n\"], [\"10:1:2\", 0, \"4n\"], [\"10:3\", 0, \"4n\"], \n\t\t[\"11:0:2\", 0, \"4n\"], [\"11:2\", 0, \"4n\"],[ \"11:3\", 0, \"4n\"],\n\n\t\t//B\n\t\t[\"12:0\", 0, \"4n\"], [\"12:0:2\", 0, \"4n\", 0.6], [\"12:1:2\", 0, \"4n\", 0.6], \n\t\t[\"12:2\", 0, \"4n\"], [\"12:2:2\", 0, \"4n\", 0.6], [\"12:3:0\", 0, \"4n\", 0.4],\n\t\t[\"13:0\", 0, \"4n\"], [\"13:0:2\", 0, \"4n\", 0.6], [\"13:1:2\", 0, \"4n\", 0.6], \n\t\t[\"13:2\", 0, \"4n\"], [\"13:2:2\", 0, \"4n\", 0.6], [\"13:3\", 0, \"4n\", 0.4],\n\t\t[\"14:0\", 0, \"4n\"], [\"14:0:2\", 0, \"4n\", 0.6], [\"14:1:2\", 0, \"4n\", 0.6], \n\t\t[\"14:2\", 0, \"4n\"], [\"14:2:2\", 0, \"4n\", 0.6], [\"14:3\", 0, \"4n\", 0.4],\n\n\t\t[\"15:0\", 0, \"16n\", 1], [\"15:1\", 0, \"16n\", 0.5], [\"15:2\", 0, \"16n\", 0.5], [\"15:3\", 0, \"16n\", 0.5],\n\t\t[\"15:0:2\", 0, \"16n\", 0.5], [\"15:1:2\", 0, \"16n\", 0.5], [\"15:2:2\", 0, \"16n\", 0.5], [\"15:3:2\", 0, \"16n\", 0.5],\n\t\t[\"16:0\", 0, \"16n\", 1], [\"16:1\", 0, \"16n\", 0.5], [\"16:2\", 0, \"16n\", 0.5], [\"16:3\", 0, \"16n\", 0.5],\n\t\t[\"16:0:2\", 0, \"16n:2\"], [\"16:1:2\", 0, \"16n\", 0.5], [\"16:2:2\", 0, \"16n\", 0.5], [\"16:3:2\", 0, \"16n\", 0.5],\n\t\t[\"17:0\", 0, \"16n\", 1], [\"17:1\", 0, \"16n\", 0.5], [\"17:2\", 0, \"16n\", 0.5],[ \"17:3\", 0, \"16n\", 0.5],\n\t\t[\"17:0:2\", 0, \"16n:2\"], [\"17:1:2\", 0, \"16n\", 0.5], [\"17:2:2\", 0, \"16n\", 0.5],[ \"17:3:2\", 0, \"16n\", 0.5],\n\n\t\t[\"18:0\", 0, \"4n\"], [\"18:2\", 2, \"4n\"],\n\t\t[\"19:0\", 0, \"4n\"], [\"19:2\", 2, \"4n\"],\n\t\t[\"20:0\", 0, \"4n\"], [\"20:2\", 2, \"4n\"],\n\n\t\t[\"21:0\", 0, \"4n\"], [\"21:2\", 1, \"16n\"], [\"21:2:1\", 2, \"4n\"],\n\t\t[\"22:0\", 0, \"4n\"], [\"22:2\", 1, \"16n\"], [\"22:2:1\", 2, \"4n\"],\n\t\t[\"23:0\", 0, \"4n\"], [\"23:2\", 1, \"16n\"], [\"22:2:1\", 2, \"4n\"],\n\t];\t\t\n\n\tvar chordNotes = {\n\t\t\"Dm\" : [\"D2\", \"A1\", \"D3\", \"F2\"],\n\t\t\"A7\" : [\"A2\", \"E2\", \"G3\", \"A3\"],\n\t\t\"C7\" : [\"C2\", \"Bb1\", \"C3\", \"D2\"],\n\t\t\"Fmaj\" : [\"F2\", \"C2\", \"F3\", \"G2\"],\n\t\t\"D7\" : [\"D2\", \"C2\", \"D3\", \"E2\"],\n\t\t\"Gmaj\" : [\"G2\", \"D2\", \"B2\", \"G3\"],\n\t\t\"Cmaj\" : [\"C3\", \"G2\", \"D3\", \"G4\"],\n\t};\n\n\tConductor.parseScore(bassSynth, function(time, note, duration, probability, velocity){\n\t\tif (Conductor.hasBass()){\n\t\t\tvar chordNote = chordNotes[Conductor.getChord()];\n\t\t\tif (!probability || Math.random() < probability){\n\t\t\t\tBass.triggerAttackRelease(chordNote[note], duration, time, velocity);\n\t\t\t\tMediator.deferSend(\"bass\");\n\t\t\t}\n\t\t}\n\t});\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/score/Bass.js\n ** module id = 81\n ** module chunks = 1\n **/","define([\"Tone/instrument/MonoSynth\", \"Tone/core/Master\", \"Tone/component/Filter\", \n\t\"preset/BassSoundA\", \"preset/BassSoundB\", \"controller/Conductor\", \"interface/GUI\", \"Tone/component/Compressor\", \n\t\"Tone/component/LFO\", \"Tone/signal/Expr\", \"Tone/source/Oscillator\", \"controller/Mediator\", \"util/Config\"], \nfunction(MonoSynth, Master, Filter, PresetA, PresetB, Conductor, GUI, \n\tCompressor, LFO, Expr, Oscillator, Mediator, Config){\n\n\tvar filter = new Filter({\n\t\t\"frequency\": 300,\n\t\t\"type\": \"lowpass\",\n\t\t\"Q\": 1.5\n\t});\n\n\tvar monoSynth = new MonoSynth({\n\t\t\"oscillator\": {\n\t\t\t\"type\": \"sawtooth\"\n\t\t},\n\t\t\"envelope\": {\n\t\t\t\"attack\": 0.214,\n\t\t\t\"decay\": 0.098,\n\t\t\t\"sustain\": 1,\n\t\t\t\"release\": 0.5\n\t\t},\n\t\t\"filterEnvelope\": {\n\t\t\t\"attack\": 0.01,\n\t\t\t\"decay\": 0.1,\n\t\t\t\"sustain\": 0.4,\n\t\t\t\"release\": 0.5,\n\t\t\t\"min\": 9000,\n\t\t\t\"max\": 2000\n\t\t},\n\t\t\"filter\" : {\n\t\t\t\"type\" : \"lowpass\",\n\t\t\t\"rolloff\" : -12,\n\t\t\t\"Q\" : 4,\n\t\t}\n\t});\n\t\n\t// var lfo = new LFO(\"8n\", 0, 200);\n\t// lfo.connect(filter.frequency);\n\t// filter.frequency.value = \"G2\";\n\t// lfo.sync();\n\n\n\tvar volume = filter.context.createGain();\n\n\tif (!Config.MOBILE) {\n\t\tvar ampLFO = new LFO({\n\t\t\t\"frequency\": \"16n\", \n\t\t\t\"type\": \"triangle\", \n\t\t\t\"min\" : 1,\n\t\t\t\"max\" : 0\n\t\t}).connect(volume.gain).sync();\n\t\tampLFO.amplitude.value = 0;\n\t\t\n\t\tMediator.route(\"scroll\", function(position, rampTime){\n\t\t\tif (Conductor.getMovement() === 0){\n\t\t\t\tvar progress = Conductor.getBTransitionProgress();\n\t\t\t\tif (progress > 0){\n\t\t\t\t\t// ampLFO.amplitude.rampTo(progress / 1.5, Config.SLOW_UPDATE);\n\t\t\t\t\tampLFO.amplitude.value = progress / 1.5;\n\t\t\t\t}\n\t\t\t} \n\t\t});\n\n\t\tMediator.route(\"replay\", function(){\n\t\t\tampLFO.amplitude.value = 0;\n\t\t});\n\t}\n\n\t\t\n\tmonoSynth.chain(filter, volume, Master);\n\n\t//GUI\n\tif (Config.GUI){\n\t\tvar bassFolder = GUI.getFolder(\"Bass\");\n\t\tGUI.addTone2(bassFolder, \"filter\", filter);\n\t\t// GUI.addTone2(bassFolder, \"compressor\", compressor);\n\t\tGUI.addTone2(bassFolder, \"synth\", monoSynth);\n\t}\n\n\treturn {\n\t\ttriggerAttackRelease : function(note, duration, time, velocity){\n\t\t\tvar Preset;\n\t\t\tif (Conductor.getMovement() === 1){\n\t\t\t\tPreset = PresetB;\n\t\t\t} else {\n\t\t\t\tPreset = PresetA;\n\t\t\t}\n\t\t\tPreset.update(function(preset){\n\t\t\t\tmonoSynth.set(preset.synth);\n\t\t\t});\n\t\t\t//add some randomness in the duration\n\t\t\tmonoSynth.triggerAttackRelease(note, duration, time, velocity);\n\t\t},\n\t\tvolume : monoSynth.volume\n\t};\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/channel/Bass.js\n ** module id = 82\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/signal/Signal\"], function(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t *  @class A thin wrapper around the DynamicsCompressorNode\n\t *\n\t *  @extends {Tone}\n\t *  @constructor\n\t *  @param {number} [threshold=-24] threshold in decibels\n\t *  @param {number} [ratio=12] gain reduction ratio\n\t *  @example\n\t *  var comp = new Tone.Compressor(-30, 3);\n\t */\n\tTone.Compressor = function(){\n\n\t\tvar options = this.optionsObject(arguments, [\"threshold\", \"ratio\"], Tone.Compressor.defaults);\n\n\t\t/**\n\t\t *  the compressor node\n\t\t *  @type {DynamicsCompressorNode}\n\t\t *  @private\n\t\t */\n\t\tthis._compressor = this.input = this.output = this.context.createDynamicsCompressor();\n\n\t\t/**\n\t\t *  the threshold vaue\n\t\t *  @type {AudioParam}\n\t\t */\n\t\tthis.threshold = this._compressor.threshold;\n\n\t\t/**\n\t\t *  The attack parameter\n\t\t *  @type {Tone.Signal}\n\t\t */\n\t\tthis.attack = new Tone.Signal(this._compressor.attack, Tone.Type.Time);\n\n\t\t/**\n\t\t *  The release parameter\n\t\t *  @type {Tone.Signal}\n\t\t */\n\t\tthis.release = new Tone.Signal(this._compressor.release, Tone.Type.Time);\n\n\t\t/**\n\t\t *  The knee parameter\n\t\t *  @type {AudioParam}\n\t\t */\n\t\tthis.knee = this._compressor.knee;\n\n\t\t/**\n\t\t *  The ratio value\n\t\t *  @type {AudioParam}\n\t\t */\n\t\tthis.ratio = this._compressor.ratio;\n\n\t\t//set the defaults\n\t\tthis._readOnly([\"knee\", \"release\", \"attack\", \"ratio\", \"threshold\"]);\n\t\tthis.set(options);\n\t};\n\n\tTone.extend(Tone.Compressor);\n\n\t/**\n\t *  @static\n\t *  @const\n\t *  @type {Object}\n\t */\n\tTone.Compressor.defaults = {\n\t\t\"ratio\" : 12,\n\t\t\"threshold\" : -24,\n\t\t\"release\" : 0.25,\n\t\t\"attack\" : 0.003,\n\t\t\"knee\" : 30\n\t};\n\n\t/**\n\t *  clean up\n\t *  @returns {Tone.Compressor} `this`\n\t */\n\tTone.Compressor.prototype.dispose = function(){\n\t\tTone.prototype.dispose.call(this);\n\t\tthis._writable([\"knee\", \"release\", \"attack\", \"ratio\", \"threshold\"]);\n\t\tthis._compressor.disconnect();\n\t\tthis._compressor = null;\n\t\tthis.attack.dispose();\n\t\tthis.attack = null;\n\t\tthis.release.dispose();\n\t\tthis.release = null;\n\t\tthis.threshold = null;\n\t\tthis.ratio = null;\n\t\tthis.knee = null;\n\t\treturn this;\n\t};\n\n\treturn Tone.Compressor;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/component/Compressor.js\n ** module id = 83\n ** module chunks = 1\n **/","define([\"preset/Interpolator\", \"channel/Bass\", \"interface/PresetGUI\"], function(Interpolator, Bass, GUI){\n\n\treturn new Interpolator(\n\t[\n\t\t{\n\t\t\t\"volume\": -7.5,\n\t\t\t\"synth\": {\n\t\t\t\t\"envelope\": {\n\t\t\t\t\t\"attack\": 0.085,\n\t\t\t\t\t\"decay\": 0.2,\n\t\t\t\t\t\"sustain\": 0.4,\n\t\t\t\t\t\"release\": 0.077\n\t\t\t\t},\n\t\t\t\t\"filterEnvelope\": {\n\t\t\t\t\t\"attack\": 0.002,\n\t\t\t\t\t\"decay\": 0.201,\n\t\t\t\t\t\"sustain\": 0.01,\n\t\t\t\t\t\"release\": 0.13,\n\t\t\t\t\t\"min\": 120,\n\t\t\t\t\t\"max\": 4800\n\t\t\t\t},\n\t\t\t\t\"filter\": {\n\t\t\t\t\t\"Q\": 3.4\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"volume\": -2,\n\t\t\t\"synth\": {\n\t\t\t\t\"envelope\": {\n\t\t\t\t\t\"attack\": 0.001,\n\t\t\t\t\t\"decay\": 0.38,\n\t\t\t\t\t\"sustain\": 0.06,\n\t\t\t\t\t\"release\": 0.83\n\t\t\t\t},\n\t\t\t\t\"filterEnvelope\": {\n\t\t\t\t\t\"attack\": 0.024,\n\t\t\t\t\t\"decay\": 0.23,\n\t\t\t\t\t\"sustain\": 0.41,\n\t\t\t\t\t\"release\": 0.03,\n\t\t\t\t\t\"min\": 89,\n\t\t\t\t\t\"max\": 6500\n\t\t\t\t},\n\t\t\t\t\"filter\": {\n\t\t\t\t\t\"Q\": 5.2\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t], \"Bass Preset A\", GUI);\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/preset/BassSoundA.js\n ** module id = 84\n ** module chunks = 1\n **/","define([\"dat\", \"util/Config\"], function(dat, Config){\n\n\tvar PRESETS;\n\tif (Config.GUI){\n\t\t PRESETS = new dat.GUI();\n\t}\n\n\tfunction makeFolder(title, parent){\n\t\treturn parent.addFolder(title);\n\t}\n\n\t//drop in an array\n\tfunction addPresets(title, presets, interpolator){\n\t\tvar topFolder = makeFolder(title, PRESETS);\n\t\t//iterate over the preset, \n\t\tfor (var i = 0; i < presets.length; i++){\n\t\t\tvar level = presets[i];\n\t\t\taddObject(topFolder, \"Level \"+i, level);\n\t\t}\n\t\t//add an print button\n\t\ttopFolder.add({\n\t\t\t\"print\" : function(){\n\t\t\t\tconsole.log(JSON.stringify(presets, undefined, \"\\t\"));\n\t\t\t}\n\t\t}, \"print\");\n\t}\n\n\tfunction addData(obj, name, value){\n\t\tobj[name] = value;\n\t}\n\n\tfunction addObject(parentFolder, name, obj){\n\t\tvar folder = makeFolder(name, parentFolder);\n\t\tfor (var param in obj){\n\t\t\tvar child = obj[param];\n\t\t\tif (typeof child === \"object\"){\n\t\t\t\taddObject(folder, param, child);\n\t\t\t} else {\n\t\t\t\tfolder.add(obj, param);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction addDisplay(parentFolder, interpolator){\n\t\tvar folder = makeFolder(\"Display\", parentFolder);\n\t\tinterpolator.update(function(pre){\n\t\t\t\n\t\t\t/*for (var i in folder.__controllers) {\n\t\t\t   folder.__controllers[i].updateDisplay();\n\t\t\t }*/\n\t\t});\n\t\tfor (var param in obj){\n\t\t\tvar child = obj[param];\n\t\t\tif (typeof child === \"object\"){\n\t\t\t\taddObject(folder, param, child);\n\t\t\t} else {\n\t\t\t\tfolder.add(obj, param);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\tGUI : PRESETS,\n\t\taddPreset : addPresets,\n\t};\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/interface/PresetGUI.js\n ** module id = 85\n ** module chunks = 1\n **/","define([\"preset/Interpolator\", \"channel/Bass\", \"interface/PresetGUI\"], function(Interpolator, Bass, GUI){\n\n\treturn new Interpolator(\n\t[\n\t\t{\n\t\t\t\"volume\": -4,\n\t\t\t\"synth\": {\n\t\t\t\t\"envelope\": {\n\t\t\t\t\t\"attack\": 0.092,\n\t\t\t\t\t\"decay\": 0.011,\n\t\t\t\t\t\"sustain\": 0.62,\n\t\t\t\t\t\"release\": 0.106\n\t\t\t\t},\n\t\t\t\t\"filterEnvelope\": {\n\t\t\t\t\t\"attack\": 0.0149,\n\t\t\t\t\t\"decay\": 0.05,\n\t\t\t\t\t\"sustain\": 0.101,\n\t\t\t\t\t\"release\": 0.13,\n\t\t\t\t\t\"min\": 110,\n\t\t\t\t\t\"max\": 2800\n\t\t\t\t},\n\t\t\t\t\"filter\": {\n\t\t\t\t\t\"Q\": 5.2\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"volume\": 0,\n\t\t\t\"synth\": {\n\t\t\t\t\"envelope\": {\n\t\t\t\t\t\"attack\": 0.1308,\n\t\t\t\t\t\"decay\": 0.55,\n\t\t\t\t\t\"sustain\": 0.12,\n\t\t\t\t\t\"release\": 0.35\n\t\t\t\t},\n\t\t\t\t\"filterEnvelope\": {\n\t\t\t\t\t\"attack\": 0.023,\n\t\t\t\t\t\"decay\": 0.107,\n\t\t\t\t\t\"sustain\": 0.45,\n\t\t\t\t\t\"release\": 0.147,\n\t\t\t\t\t\"min\": 263,\n\t\t\t\t\t\"max\": 7000\n\t\t\t\t},\n\t\t\t\t\"filter\": {\n\t\t\t\t\t\"Q\": 4\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t], \"Bass Preset B\", GUI);\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/preset/BassSoundB.js\n ** module id = 86\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/source/Oscillator\", \"Tone/signal/Scale\", \"Tone/signal/Signal\", \"Tone/signal/AudioToGain\"], \nfunction(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t *  @class  The Low Frequency Oscillator produces an output signal \n\t *          which can be attached to an AudioParam or Tone.Signal \n\t *          for constant control over that parameter. the LFO can \n\t *          also be synced to the transport to start/stop/pause\n\t *          and change when the tempo changes. The LFO starts at \n\t *          it's minimal value.\n\t *\n\t *  @constructor\n\t *  @extends {Tone.Oscillator}\n\t *  @param {Tone.Type.Time} [frequency=\"4n\"]\n\t *  @param {number} [outputMin=0]\n\t *  @param {number} [outputMax=1]\n\t *  @example\n\t *  var lfo = new Tone.LFO(\"4n\", 400, 4000);\n\t *  lfo.connect(filter.frequency);\n\t */\n\tTone.LFO = function(){\n\n\t\tvar options = this.optionsObject(arguments, [\"frequency\", \"min\", \"max\"], Tone.LFO.defaults);\n\n\t\t/** \n\t\t *  the oscillator\n\t\t *  @type {Tone.Oscillator}\n\t\t */\n\t\tthis.oscillator = new Tone.Oscillator({\n\t\t\t\"frequency\" : options.frequency, \n\t\t\t\"type\" : options.type, \n\t\t\t\"phase\" : options.phase + 90\n\t\t});\n\n\t\t/**\n\t\t *  the lfo's frequency\n\t\t *  @type {Tone.Signal}\n\t\t */\n\t\tthis.frequency = this.oscillator.frequency;\n\n\t\t/**\n\t\t * The amplitude of the LFO, which controls the output range between\n\t\t * the min and max output. For example if the min is -10 and the max \n\t\t * is 10, setting the amplitude to 0.5 would make the LFO modulate\n\t\t * between -5 and 5. \n\t\t * @type {Tone.Signal}\n\t\t */\n\t\tthis.amplitude = this.oscillator.volume;\n\t\tthis.amplitude.units = Tone.Type.NormalRange;\n\t\tthis.amplitude.value = options.amplitude;\n\n\t\t/**\n\t\t *  @type {Tone.AudioToGain} \n\t\t *  @private\n\t\t */\n\t\tthis._a2g = new Tone.AudioToGain();\n\n\t\t/**\n\t\t *  @type {Tone.Scale} \n\t\t *  @private\n\t\t */\n\t\tthis._scaler = this.output = new Tone.Scale(options.min, options.max);\n\n\t\t/**\n\t\t *  the units of the LFO (used for converting)\n\t\t *  @type {string} \n\t\t *  @private\n\t\t */\n\t\tthis._units = Tone.Type.Default;\n\n\t\t//connect it up\n\t\tthis.oscillator.chain(this._a2g, this._scaler);\n\t\tthis._readOnly([\"amplitude\", \"frequency\", \"oscillator\"]);\n\t};\n\n\tTone.extend(Tone.LFO, Tone.Oscillator);\n\n\t/**\n\t *  the default parameters\n\t *\n\t *  @static\n\t *  @const\n\t *  @type {Object}\n\t */\n\tTone.LFO.defaults = {\n\t\t\"type\" : \"sine\",\n\t\t\"min\" : 0,\n\t\t\"max\" : 1,\n\t\t\"phase\" : 0,\n\t\t\"frequency\" : \"4n\",\n\t\t\"amplitude\" : 1\n\t};\n\n\t/**\n\t *  Start the LFO. \n\t *  @param  {Tone.Type.Time} [time=now] the time the LFO will start\n\t *  @returns {Tone.LFO} `this`\n\t */\n\tTone.LFO.prototype.start = function(time){\n\t\tthis.oscillator.start(time);\n\t\treturn this;\n\t};\n\n\t/**\n\t *  Stop the LFO. \n\t *  @param  {Tone.Type.Time} [time=now] the time the LFO will stop\n\t *  @returns {Tone.LFO} `this`\n\t */\n\tTone.LFO.prototype.stop = function(time){\n\t\tthis.oscillator.stop(time);\n\t\treturn this;\n\t};\n\n\t/**\n\t *  Sync the start/stop/pause to the transport \n\t *  and the frequency to the bpm of the transport\n\t *\n\t *  @param {Tone.Type.Time} [delay=0] the time to delay the start of the\n\t *                                LFO from the start of the transport\n\t *  @returns {Tone.LFO} `this`\n\t *  @example\n\t *  lfo.frequency.value = \"8n\";\n\t *  lfo.sync();\n\t *  // the rate of the LFO will always be an eighth note, \n\t *  // even as the tempo changes\n\t */\n\tTone.LFO.prototype.sync = function(delay){\n\t\tthis.oscillator.sync(delay);\n\t\tthis.oscillator.syncFrequency();\n\t\treturn this;\n\t};\n\n\t/**\n\t *  unsync the LFO from transport control\n\t *  @returns {Tone.LFO} `this`\n\t */\n\tTone.LFO.prototype.unsync = function(){\n\t\tthis.oscillator.unsync();\n\t\tthis.oscillator.unsyncFrequency();\n\t\treturn this;\n\t};\n\n\t/**\n\t * The miniumum output of the LFO.\n\t * @memberOf Tone.LFO#\n\t * @type {number}\n\t * @name min\n\t */\n\tObject.defineProperty(Tone.LFO.prototype, \"min\", {\n\t\tget : function(){\n\t\t\treturn this._toUnits(this._scaler.min);\n\t\t},\n\t\tset : function(min){\n\t\t\tmin = this._fromUnits(min);\n\t\t\tthis._scaler.min = min;\n\t\t}\n\t});\n\n\t/**\n\t * The maximum output of the LFO.\n\t * @memberOf Tone.LFO#\n\t * @type {number}\n\t * @name max\n\t */\n\tObject.defineProperty(Tone.LFO.prototype, \"max\", {\n\t\tget : function(){\n\t\t\treturn this._toUnits(this._scaler.max);\n\t\t},\n\t\tset : function(max){\n\t\t\tmax = this._fromUnits(max);\n\t\t\tthis._scaler.max = max;\n\t\t}\n\t});\n\n\t/**\n\t * The type of the oscillator: sine, square, sawtooth, triangle. \n\t * @memberOf Tone.LFO#\n\t * @type {string}\n\t * @name type\n\t */\n\t Object.defineProperty(Tone.LFO.prototype, \"type\", {\n\t\tget : function(){\n\t\t\treturn this.oscillator.type;\n\t\t},\n\t\tset : function(type){\n\t\t\tthis.oscillator.type = type;\n\t\t}\n\t});\n\n\t/**\n\t * The phase of the LFO\n\t * @memberOf Tone.LFO#\n\t * @type {number}\n\t * @name phase\n\t */\n\t Object.defineProperty(Tone.LFO.prototype, \"phase\", {\n\t\tget : function(){\n\t\t\treturn this.oscillator.phase - 90;\n\t\t},\n\t\tset : function(phase){\n\t\t\tthis.oscillator.phase = phase + 90;\n\t\t}\n\t});\n\n\t/**\n\t * The output units of the LFO\n\t * @memberOf Tone.LFO#\n\t * @type {Tone.Type}\n\t * @name units\n\t */\n\t Object.defineProperty(Tone.LFO.prototype, \"units\", {\n\t\tget : function(){\n\t\t\treturn this._units;\n\t\t},\n\t\tset : function(val){\n\t\t\tvar currentMin = this.min;\n\t\t\tvar currentMax = this.max;\n\t\t\t//convert the min and the max\n\t\t\tthis._units = val;\n\t\t\tthis.min = currentMin;\n\t\t\tthis.max = currentMax;\n\t\t}\n\t});\n\n\t/**\n\t *  Connect the output of a ToneNode to an AudioParam, AudioNode, or Tone Node. \n\t *  will get the units from the connected node.\n\t *  @param  {Tone | AudioParam | AudioNode} node \n\t *  @param {number} [outputNum=0] optionally which output to connect from\n\t *  @param {number} [inputNum=0] optionally which input to connect to\n\t *  @returns {Tone.LFO} `this`\n\t */\n\tTone.LFO.prototype.connect = function(node){\n\t\tif (node.constructor === Tone.Signal){\n\t\t\tthis.convert = node.convert;\n\t\t\tthis.units = node.units;\n\t\t}\n\t\tTone.Signal.prototype.connect.apply(this, arguments);\n\t\treturn this;\n\t};\n\n\t/**\n\t *  private method borroed from Signal converts \n\t *  units from their destination value\n\t *  @function\n\t *  @private\n\t */\n\tTone.LFO.prototype._fromUnits = Tone.Signal.prototype._fromUnits;\n\n\t/**\n\t *  private method borroed from Signal converts \n\t *  units to their destination value\n\t *  @function\n\t *  @private\n\t */\n\tTone.LFO.prototype._toUnits = Tone.Signal.prototype._toUnits;\n\n\t/**\n\t *  disconnect and dispose\n\t *  @returns {Tone.LFO} `this`\n\t */\n\tTone.LFO.prototype.dispose = function(){\n\t\tTone.prototype.dispose.call(this);\n\t\tthis._writable([\"amplitude\", \"frequency\", \"oscillator\"]);\n\t\tthis.oscillator.dispose();\n\t\tthis.oscillator = null;\n\t\tthis._scaler.dispose();\n\t\tthis._scaler = null;\n\t\tthis._a2g.dispose();\n\t\tthis._a2g = null;\n\t\tthis.frequency = null;\n\t\tthis.amplitude = null;\n\t\treturn this;\n\t};\n\n\treturn Tone.LFO;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/component/LFO.js\n ** module id = 87\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/signal/WaveShaper\", \"Tone/signal/Signal\"], function(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t *  @class AudioToGain converts an input range of -1,1 to 0,1\n\t *\n\t *  @extends {Tone.SignalBase}\n\t *  @constructor\n\t *  @example\n\t *  var a2g = new Tone.AudioToGain();\n\t */\n\tTone.AudioToGain = function(){\n\n\t\t/**\n\t\t *  @type {WaveShaperNode}\n\t\t *  @private\n\t\t */\n\t\tthis._norm = this.input = this.output = new Tone.WaveShaper(function(x){\n\t\t\treturn (x + 1) / 2;\n\t\t});\n\t};\n\n\tTone.extend(Tone.AudioToGain, Tone.SignalBase);\n\n\t/**\n\t *  clean up\n\t *  @returns {Tone.AudioToGain} `this`\n\t */\n\tTone.AudioToGain.prototype.dispose = function(){\n\t\tTone.prototype.dispose.call(this);\n\t\tthis._norm.dispose();\n\t\tthis._norm = null;\n\t\treturn this;\n\t};\n\n\treturn Tone.AudioToGain;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/signal/AudioToGain.js\n ** module id = 88\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/signal/Add\", \"Tone/signal/Subtract\", \"Tone/signal/Multiply\", \n\t\"Tone/signal/IfThenElse\", \"Tone/signal/OR\", \"Tone/signal/AND\", \"Tone/signal/NOT\", \n\t\"Tone/signal/GreaterThan\", \"Tone/signal/LessThan\", \"Tone/signal/Equal\", \"Tone/signal/EqualZero\", \n\t\"Tone/signal/GreaterThanZero\", \"Tone/signal/Abs\", \"Tone/signal/Negate\", \"Tone/signal/Max\", \n\t\"Tone/signal/Min\", \"Tone/signal/Modulo\", \"Tone/signal/Pow\"], \n\tfunction(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t *  @class evaluate an expression at audio rate. \n\t *         parsing code modified from https://code.google.com/p/tapdigit/\n\t *         Copyright 2011 2012 Ariya Hidayat, New BSD License\n\t *\n\t *  @extends {Tone.SignalBase}\n\t *  @constructor\n\t *  @param {string} expr the expression to generate\n\t *  @example\n\t *  //adds the signals from input 0 and input 1.\n\t *  var expr = new Tone.Expr(\"$0 + $1\");\n\t */\n\tTone.Expr = function(){\n\n\t\tvar expr = this._replacements(Array.prototype.slice.call(arguments));\n\t\tvar inputCount = this._parseInputs(expr);\n\n\t\t/**\n\t\t *  hold onto all of the nodes for disposal\n\t\t *  @type {Array}\n\t\t *  @private\n\t\t */\n\t\tthis._nodes = [];\n\n\t\t/**\n\t\t *  The inputs. The length is determined by the expression. \n\t\t *  @type {Array}\n\t\t */\n\t\tthis.input = new Array(inputCount);\n\n\t\t//create a gain for each input\n\t\tfor (var i = 0; i < inputCount; i++){\n\t\t\tthis.input[i] = this.context.createGain();\n\t\t}\n\n\t\t//parse the syntax tree\n\t\tvar tree = this._parseTree(expr);\n\t\t//evaluate the results\n\t\tvar result;\n\t\ttry {\n\t\t\tresult = this._eval(tree);\n\t\t} catch (e){\n\t\t\tthis._disposeNodes();\n\t\t\tthrow new Error(\"Could evaluate expression: \"+expr);\n\t\t}\n\n\t\t/**\n\t\t *  The output node is the result of the expression\n\t\t *  @type {Tone}\n\t\t */\n\t\tthis.output = result;\n\t};\n\n\tTone.extend(Tone.Expr, Tone.SignalBase);\n\n\t//some helpers to cut down the amount of code\n\tfunction applyBinary(Constructor, args, self){\n\t\tvar op = new Constructor();\n\t\tself._eval(args[0]).connect(op, 0, 0);\n\t\tself._eval(args[1]).connect(op, 0, 1);\n\t\treturn op;\n\t}\n\tfunction applyUnary(Constructor, args, self){\n\t\tvar op = new Constructor();\n\t\tself._eval(args[0]).connect(op, 0, 0);\n\t\treturn op;\n\t}\n\tfunction getNumber(arg){\n\t\treturn arg ? parseFloat(arg) : undefined;\n\t}\n\tfunction literalNumber(arg){\n\t\treturn arg && arg.args ? parseFloat(arg.args) : undefined;\n\t}\n\n\t/*\n\t *  the Expressions that Tone.Expr can parse.\n\t *\n\t *  each expression belongs to a group and contains a regexp \n\t *  for selecting the operator as well as that operators method\n\t *  \n\t *  @type {Object}\n\t *  @private\n\t */\n\tTone.Expr._Expressions = {\n\t\t//values\n\t\t\"value\" : {\n\t\t\t\"signal\" : {\n\t\t\t\tregexp : /^\\d+\\.\\d+|^\\d+/,\n\t\t\t\tmethod : function(arg){\n\t\t\t\t\tvar sig = new Tone.Signal(getNumber(arg));\n\t\t\t\t\treturn sig;\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"input\" : {\n\t\t\t\tregexp : /^\\$\\d/,\n\t\t\t\tmethod : function(arg, self){\n\t\t\t\t\treturn self.input[getNumber(arg.substr(1))];\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t//syntactic glue\n\t\t\"glue\" : {\n\t\t\t\"(\" : {\n\t\t\t\tregexp : /^\\(/,\n\t\t\t},\n\t\t\t\")\" : {\n\t\t\t\tregexp : /^\\)/,\n\t\t\t},\n\t\t\t\",\" : {\n\t\t\t\tregexp : /^,/,\n\t\t\t}\n\t\t},\n\t\t//functions\n\t\t\"func\" : {\n\t\t\t\"abs\" :  {\n\t\t\t\tregexp : /^abs/,\n\t\t\t\tmethod : applyUnary.bind(this, Tone.Abs)\n\t\t\t},\n\t\t\t\"min\" : {\n\t\t\t\tregexp : /^min/,\n\t\t\t\tmethod : applyBinary.bind(this, Tone.Min)\n\t\t\t},\n\t\t\t\"max\" : {\n\t\t\t\tregexp : /^max/,\n\t\t\t\tmethod : applyBinary.bind(this, Tone.Max)\n\t\t\t},\n\t\t\t\"if\" :  {\n\t\t\t\tregexp : /^if/,\n\t\t\t\tmethod : function(args, self){\n\t\t\t\t\tvar op = new Tone.IfThenElse();\n\t\t\t\t\tself._eval(args[0]).connect(op.if);\n\t\t\t\t\tself._eval(args[1]).connect(op.then);\n\t\t\t\t\tself._eval(args[2]).connect(op.else);\n\t\t\t\t\treturn op;\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"gt0\" : {\n\t\t\t\tregexp : /^gt0/,\n\t\t\t\tmethod : applyUnary.bind(this, Tone.GreaterThanZero)\n\t\t\t},\n\t\t\t\"eq0\" : {\n\t\t\t\tregexp : /^eq0/,\n\t\t\t\tmethod : applyUnary.bind(this, Tone.EqualZero)\n\t\t\t},\n\t\t\t\"mod\" : {\n\t\t\t\tregexp : /^mod/,\n\t\t\t\tmethod : function(args, self){\n\t\t\t\t\tvar modulus = literalNumber(args[1]);\n\t\t\t\t\tvar op = new Tone.Modulo(modulus);\n\t\t\t\t\tself._eval(args[0]).connect(op);\n\t\t\t\t\treturn op;\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"pow\" : {\n\t\t\t\tregexp : /^pow/,\n\t\t\t\tmethod : function(args, self){\n\t\t\t\t\tvar exp = literalNumber(args[1]);\n\t\t\t\t\tvar op = new Tone.Pow(exp);\n\t\t\t\t\tself._eval(args[0]).connect(op);\n\t\t\t\t\treturn op;\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t\t//binary expressions\n\t\t\"binary\" : {\n\t\t\t\"+\" : {\n\t\t\t\tregexp : /^\\+/,\n\t\t\t\tprecedence : 1,\n\t\t\t\tmethod : applyBinary.bind(this, Tone.Add)\n\t\t\t},\n\t\t\t\"-\" : {\n\t\t\t\tregexp : /^\\-/,\n\t\t\t\tprecedence : 1,\n\t\t\t\tmethod : function(args, self){\n\t\t\t\t\t//both unary and binary op\n\t\t\t\t\tif (args.length === 1){\n\t\t\t\t\t\treturn applyUnary(Tone.Negate, args, self);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn applyBinary(Tone.Subtract, args, self);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"*\" : {\n\t\t\t\tregexp : /^\\*/,\n\t\t\t\tprecedence : 0,\n\t\t\t\tmethod : applyBinary.bind(this, Tone.Multiply)\n\t\t\t},\n\t\t\t\">\" : {\n\t\t\t\tregexp : /^\\>/,\n\t\t\t\tprecedence : 2,\n\t\t\t\tmethod : applyBinary.bind(this, Tone.GreaterThan)\n\t\t\t},\n\t\t\t\"<\" : {\n\t\t\t\tregexp : /^</,\n\t\t\t\tprecedence : 2,\n\t\t\t\tmethod : applyBinary.bind(this, Tone.LessThan)\n\t\t\t},\n\t\t\t\"==\" : {\n\t\t\t\tregexp : /^==/,\n\t\t\t\tprecedence : 3,\n\t\t\t\tmethod : applyBinary.bind(this, Tone.Equal)\n\t\t\t},\n\t\t\t\"&&\" : {\n\t\t\t\tregexp : /^&&/,\n\t\t\t\tprecedence : 4,\n\t\t\t\tmethod : applyBinary.bind(this, Tone.AND)\n\t\t\t},\n\t\t\t\"||\" : {\n\t\t\t\tregexp : /^\\|\\|/,\n\t\t\t\tprecedence : 5,\n\t\t\t\tmethod : applyBinary.bind(this, Tone.OR)\n\t\t\t},\n\t\t},\n\t\t//unary expressions\n\t\t\"unary\" : {\n\t\t\t\"-\" : {\n\t\t\t\tregexp : /^\\-/,\n\t\t\t\tmethod : applyUnary.bind(this, Tone.Negate)\n\t\t\t},\n\t\t\t\"!\" : {\n\t\t\t\tregexp : /^\\!/,\n\t\t\t\tmethod : applyUnary.bind(this, Tone.NOT)\n\t\t\t},\n\t\t},\n\t};\n\t\t\n\t/**\n\t *  @param   {string} expr the expression string\n\t *  @return  {number}      the input count\n\t *  @private\n\t */\n\tTone.Expr.prototype._parseInputs = function(expr){\n\t\tvar inputArray = expr.match(/\\$\\d/g);\n\t\tvar inputMax = 0;\n\t\tif (inputArray !== null){\n\t\t\tfor (var i = 0; i < inputArray.length; i++){\n\t\t\t\tvar inputNum = parseInt(inputArray[i].substr(1)) + 1;\n\t\t\t\tinputMax = Math.max(inputMax, inputNum);\n\t\t\t}\n\t\t}\n\t\treturn inputMax;\n\t};\n\n\t/**\n\t *  @param   {Array} args \tan array of arguments\n\t *  @return  {string} the results of the replacements being replaced\n\t *  @private\n\t */\n\tTone.Expr.prototype._replacements = function(args){\n\t\tvar expr = args.shift();\n\t\tfor (var i = 0; i < args.length; i++){\n\t\t\texpr = expr.replace(/\\%/i, args[i]);\n\t\t}\n\t\treturn expr;\n\t};\n\n\t/**\n\t *  tokenize the expression based on the Expressions object\n\t *  @param   {string} expr \n\t *  @return  {Object}      returns two methods on the tokenized list, next and peek\n\t *  @private\n\t */\n\tTone.Expr.prototype._tokenize = function(expr){\n\t\tvar position = -1;\n\t\tvar tokens = [];\n\n\t\twhile(expr.length > 0){\n\t\t\texpr = expr.trim();\n\t\t\tvar token =  getNextToken(expr);\n\t\t\ttokens.push(token);\n\t\t\texpr = expr.substr(token.value.length);\n\t\t}\n\n\t\tfunction getNextToken(expr){\n\t\t\tfor (var type in Tone.Expr._Expressions){\n\t\t\t\tvar group = Tone.Expr._Expressions[type];\n\t\t\t\tfor (var opName in group){\n\t\t\t\t\tvar op = group[opName];\n\t\t\t\t\tvar reg = op.regexp;\n\t\t\t\t\tvar match = expr.match(reg);\n\t\t\t\t\tif (match !== null){\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\ttype : type,\n\t\t\t\t\t\t\tvalue : match[0],\n\t\t\t\t\t\t\tmethod : op.method\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthrow new SyntaxError(\"Unexpected token \"+expr);\n\t\t}\n\n\t\treturn {\n\t\t\tnext : function(){\n\t\t\t\treturn tokens[++position];\n\t\t\t},\n\t\t\tpeek : function(){\n\t\t\t\treturn tokens[position + 1];\n\t\t\t}\n\t\t};\n\t};\n\n\t/**\n\t *  recursively parse the string expression into a syntax tree\n\t *  \n\t *  @param   {string} expr \n\t *  @return  {Object}\n\t *  @private\n\t */\n\tTone.Expr.prototype._parseTree = function(expr){\n\t\tvar lexer = this._tokenize(expr);\n\t\tvar isUndef = this.isUndef.bind(this);\n\n\t\tfunction matchSyntax(token, syn) {\n\t\t\treturn !isUndef(token) && \n\t\t\t\ttoken.type === \"glue\" &&\n\t\t\t\ttoken.value === syn;\n\t\t}\n\n\t\tfunction matchGroup(token, groupName, prec) {\n\t\t\tvar ret = false;\n\t\t\tvar group = Tone.Expr._Expressions[groupName];\n\t\t\tif (!isUndef(token)){\n\t\t\t\tfor (var opName in group){\n\t\t\t\t\tvar op = group[opName];\n\t\t\t\t\tif (op.regexp.test(token.value)){\n\t\t\t\t\t\tif (!isUndef(prec)){\n\t\t\t\t\t\t\tif(op.precedence === prec){\t\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn ret;\n\t\t}\n\n\t\tfunction parseExpression(precedence) {\n\t\t\tif (isUndef(precedence)){\n\t\t\t\tprecedence = 5;\n\t\t\t}\n\t\t\tvar expr;\n\t\t\tif (precedence < 0){\n\t\t\t\texpr = parseUnary();\n\t\t\t} else {\n\t\t\t\texpr = parseExpression(precedence-1);\n\t\t\t}\n\t\t\tvar token = lexer.peek();\n\t\t\twhile (matchGroup(token, \"binary\", precedence)) {\n\t\t\t\ttoken = lexer.next();\n\t\t\t\texpr = {\n\t\t\t\t\toperator: token.value,\n\t\t\t\t\tmethod : token.method,\n\t\t\t\t\targs : [\n\t\t\t\t\t\texpr,\n\t\t\t\t\t\tparseExpression(precedence)\n\t\t\t\t\t]\n\t\t\t\t};\n\t\t\t\ttoken = lexer.peek();\n\t\t\t}\n\t\t\treturn expr;\n\t\t}\n\n\t\tfunction parseUnary() {\n\t\t\tvar token, expr;\n\t\t\ttoken = lexer.peek();\n\t\t\tif (matchGroup(token, \"unary\")) {\n\t\t\t\ttoken = lexer.next();\n\t\t\t\texpr = parseUnary();\n\t\t\t\treturn {\n\t\t\t\t\toperator: token.value,\n\t\t\t\t\tmethod : token.method,\n\t\t\t\t\targs : [expr]\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn parsePrimary();\n\t\t}\n\n\t\tfunction parsePrimary() {\n\t\t\tvar token, expr;\n\t\t\ttoken = lexer.peek();\n\t\t\tif (isUndef(token)) {\n\t\t\t\tthrow new SyntaxError(\"Unexpected termination of expression\");\n\t\t\t}\n\t\t\tif (token.type === \"func\") {\n\t\t\t\ttoken = lexer.next();\n\t\t\t\treturn parseFunctionCall(token);\n\t\t\t}\n\t\t\tif (token.type === \"value\") {\n\t\t\t\ttoken = lexer.next();\n\t\t\t\treturn {\n\t\t\t\t\tmethod : token.method,\n\t\t\t\t\targs : token.value\n\t\t\t\t};\n\t\t\t}\n\t\t\tif (matchSyntax(token, \"(\")) {\n\t\t\t\tlexer.next();\n\t\t\t\texpr = parseExpression();\n\t\t\t\ttoken = lexer.next();\n\t\t\t\tif (!matchSyntax(token, \")\")) {\n\t\t\t\t\tthrow new SyntaxError(\"Expected )\");\n\t\t\t\t}\n\t\t\t\treturn expr;\n\t\t\t}\n\t\t\tthrow new SyntaxError(\"Parse error, cannot process token \" + token.value);\n\t\t}\n\n\t\tfunction parseFunctionCall(func) {\n\t\t\tvar token, args = [];\n\t\t\ttoken = lexer.next();\n\t\t\tif (!matchSyntax(token, \"(\")) {\n\t\t\t\tthrow new SyntaxError(\"Expected ( in a function call \\\"\" + func.value + \"\\\"\");\n\t\t\t}\n\t\t\ttoken = lexer.peek();\n\t\t\tif (!matchSyntax(token, \")\")) {\n\t\t\t\targs = parseArgumentList();\n\t\t\t}\n\t\t\ttoken = lexer.next();\n\t\t\tif (!matchSyntax(token, \")\")) {\n\t\t\t\tthrow new SyntaxError(\"Expected ) in a function call \\\"\" + func.value + \"\\\"\");\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tmethod : func.method,\n\t\t\t\targs : args,\n\t\t\t\tname : name\n\t\t\t};\n\t\t}\n\n\t\tfunction parseArgumentList() {\n\t\t\tvar token, expr, args = [];\n\t\t\twhile (true) {\n\t\t\t\texpr = parseExpression();\n\t\t\t\tif (isUndef(expr)) {\n\t\t\t\t\t// TODO maybe throw exception?\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\targs.push(expr);\n\t\t\t\ttoken = lexer.peek();\n\t\t\t\tif (!matchSyntax(token, \",\")) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tlexer.next();\n\t\t\t}\n\t\t\treturn args;\n\t\t}\n\n\t\treturn parseExpression();\n\t};\n\n\t/**\n\t *  recursively evaluate the expression tree\n\t *  @param   {Object} tree \n\t *  @return  {AudioNode}      the resulting audio node from the expression\n\t *  @private\n\t */\n\tTone.Expr.prototype._eval = function(tree){\n\t\tif (!this.isUndef(tree)){\n\t\t\tvar node = tree.method(tree.args, this);\n\t\t\tthis._nodes.push(node);\n\t\t\treturn node;\n\t\t} \n\t};\n\n\t/**\n\t *  dispose all the nodes\n\t *  @private\n\t */\n\tTone.Expr.prototype._disposeNodes = function(){\n\t\tfor (var i = 0; i < this._nodes.length; i++){\n\t\t\tvar node = this._nodes[i];\n\t\t\tif (this.isFunction(node.dispose)) {\n\t\t\t\tnode.dispose();\n\t\t\t} else if (this.isFunction(node.disconnect)) {\n\t\t\t\tnode.disconnect();\n\t\t\t}\n\t\t\tnode = null;\n\t\t\tthis._nodes[i] = null;\n\t\t}\n\t\tthis._nodes = null;\n\t};\n\n\t/**\n\t *  clean up\n\t */\n\tTone.Expr.prototype.dispose = function(){\n\t\tTone.prototype.dispose.call(this);\n\t\tthis._disposeNodes();\n\t};\n\n\treturn Tone.Expr;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/signal/Expr.js\n ** module id = 89\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/signal/EqualZero\", \"Tone/signal/Subtract\", \"Tone/signal/Signal\"], function(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t *  @class  Output 1 if the signal is equal to the value, otherwise outputs 0. \n\t *          Can accept two signals if connected to inputs 0 and 1.\n\t *  \n\t *  @constructor\n\t *  @extends {Tone.SignalBase}\n\t *  @param {number} value the number to compare the incoming signal to\n\t *  @example\n\t *  var eq = new Tone.Equal(3);\n\t *  var sig = new Tone.Signal(3).connect(eq);\n\t *  //the output of eq is 1. \n\t */\n\tTone.Equal = function(value){\n\n\t\tTone.call(this, 2, 0);\n\n\t\t/**\n\t\t *  subtract the value from the incoming signal\n\t\t *  \n\t\t *  @type {Tone.Add}\n\t\t *  @private\n\t\t */\n\t\tthis._sub = this.input[0] = new Tone.Subtract(value);\n\n\t\t/**\n\t\t *  @type {Tone.EqualZero}\n\t\t *  @private\n\t\t */\n\t\tthis._equals = this.output = new Tone.EqualZero();\n\n\t\tthis._sub.connect(this._equals);\n\t\tthis.input[1] = this._sub.input[1];\n\t};\n\n\tTone.extend(Tone.Equal, Tone.SignalBase);\n\n\t/**\n\t * The value to compare to the incoming signal.\n\t * @memberOf Tone.Equal#\n\t * @type {number}\n\t * @name value\n\t */\n\tObject.defineProperty(Tone.Equal.prototype, \"value\", {\n\t\tget : function(){\n\t\t\treturn this._sub.value;\n\t\t},\n\t\tset : function(value){\n\t\t\tthis._sub.value = value;\n\t\t}\n\t});\n\n\t/**\n\t *  dispose method\n\t *  @returns {Tone.Equal} `this`\n\t */\n\tTone.Equal.prototype.dispose = function(){\n\t\tTone.prototype.dispose.call(this);\n\t\tthis._equals.dispose();\n\t\tthis._equals = null;\n\t\tthis._sub.dispose();\n\t\tthis._sub = null;\n\t\treturn this;\n\t};\n\n\treturn Tone.Equal;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/signal/Equal.js\n ** module id = 90\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/signal/Signal\", \"Tone/signal/GreaterThanZero\", \"Tone/signal/WaveShaper\"], \nfunction(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t *  @class  EqualZero outputs 1 when the input is strictly greater than zero\n\t *  \n\t *  @constructor\n\t *  @extends {Tone.SignalBase}\n\t *  @example\n\t *  var eq0 = new Tone.EqualZero();\n\t *  var sig = new Tone.Signal(0).connect(eq0);\n\t *  //the output of eq0 is 1. \n\t */\n\tTone.EqualZero = function(){\n\n\t\t/**\n\t\t *  scale the incoming signal by a large factor\n\t\t *  @private\n\t\t *  @type {Tone.Multiply}\n\t\t */\n\t\tthis._scale = this.input = new Tone.Multiply(10000);\n\t\t\n\t\t/**\n\t\t *  @type {Tone.WaveShaper}\n\t\t *  @private\n\t\t */\n\t\tthis._thresh = new Tone.WaveShaper(function(val){\n\t\t\tif (val === 0){\n\t\t\t\treturn 1;\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}, 128);\n\n\t\t/**\n\t\t *  threshold the output so that it's 0 or 1\n\t\t *  @type {Tone.GreaterThanZero}\n\t\t *  @private\n\t\t */\n\t\tthis._gtz = this.output = new Tone.GreaterThanZero();\n\n\t\t//connections\n\t\tthis._scale.chain(this._thresh, this._gtz);\n\t};\n\n\tTone.extend(Tone.EqualZero, Tone.SignalBase);\n\n\t/**\n\t *  dispose method\n\t *  @returns {Tone.EqualZero} `this`\n\t */\n\tTone.EqualZero.prototype.dispose = function(){\n\t\tTone.prototype.dispose.call(this);\n\t\tthis._gtz.dispose();\n\t\tthis._gtz = null;\n\t\tthis._scale.dispose();\n\t\tthis._scale = null;\n\t\tthis._thresh.dispose();\n\t\tthis._thresh = null;\n\t\treturn this;\n\t};\n\n\treturn Tone.EqualZero;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/signal/EqualZero.js\n ** module id = 91\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/signal/Signal\", \"Tone/signal/Multiply\", \"Tone/signal/WaveShaper\"], \nfunction(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t *  @class  GreaterThanZero outputs 1 when the input is strictly greater than zero\n\t *  \n\t *  @constructor\n\t *  @extends {Tone.SignalBase}\n\t *  @example\n\t *  var gt0 = new Tone.GreaterThanZero();\n\t *  var sig = new Tone.Signal(0.01).connect(gt0);\n\t *  //the output of gt0 is 1. \n\t *  sig.value = 0;\n\t *  //the output of gt0 is 0. \n\t */\n\tTone.GreaterThanZero = function(){\n\t\t\n\t\t/**\n\t\t *  @type {Tone.WaveShaper}\n\t\t *  @private\n\t\t */\n\t\tthis._thresh = this.output = new Tone.WaveShaper(function(val){\n\t\t\tif (val <= 0){\n\t\t\t\treturn 0;\n\t\t\t} else {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t});\n\n\t\t/**\n\t\t *  scale the first thresholded signal by a large value.\n\t\t *  this will help with values which are very close to 0\n\t\t *  @type {Tone.Multiply}\n\t\t *  @private\n\t\t */\n\t\tthis._scale = this.input = new Tone.Multiply(10000);\n\n\t\t//connections\n\t\tthis._scale.connect(this._thresh);\n\t};\n\n\tTone.extend(Tone.GreaterThanZero, Tone.SignalBase);\n\n\t/**\n\t *  dispose method\n\t *  @returns {Tone.GreaterThanZero} `this`\n\t */\n\tTone.GreaterThanZero.prototype.dispose = function(){\n\t\tTone.prototype.dispose.call(this);\n\t\tthis._scale.dispose();\n\t\tthis._scale = null;\n\t\tthis._thresh.dispose();\n\t\tthis._thresh = null;\n\t\treturn this;\n\t};\n\n\treturn Tone.GreaterThanZero;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/signal/GreaterThanZero.js\n ** module id = 92\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/signal/Add\", \"Tone/signal/Negate\", \"Tone/signal/Signal\"], function(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t *  @class Subtract a signal and a number or two signals. \n\t *         input 0 : minuend.\n\t *         input 1 : subtrahend\n\t *\n\t *  @extends {Tone.Signal}\n\t *  @constructor\n\t *  @param {number=} value value to subtract from the incoming signal. If the value\n\t *                         is omitted, it will subtract the second signal from the first\n\t *  @example\n\t *  var sub = new Tone.Subtract(1);\n\t *  var sig = new Tone.Signal(4).connect(sub);\n\t *  //the output of sub is 3. \n\t */\n\tTone.Subtract = function(value){\n\n\t\tTone.call(this, 2, 0);\n\n\t\t/**\n\t\t *  the summing node\n\t\t *  @type {GainNode}\n\t\t *  @private\n\t\t */\n\t\tthis._sum = this.input[0] = this.output = this.context.createGain();\n\n\t\t/**\n\t\t *  negate the input of the second input before connecting it\n\t\t *  to the summing node.\n\t\t *  @type {Tone.Negate}\n\t\t *  @private\n\t\t */\n\t\tthis._neg = new Tone.Negate();\n\n\t\t/**\n\t\t *  the node where the value is set\n\t\t *  @private\n\t\t *  @type {Tone.Signal}\n\t\t */\n\t\tthis._value = this.input[1] = new Tone.Signal(value);\n\n\t\tthis._value.chain(this._neg, this._sum);\n\t};\n\n\tTone.extend(Tone.Subtract, Tone.Signal);\n\n\t/**\n\t *  clean up\n\t *  @returns {Tone.SignalBase} `this`\n\t */\n\tTone.Subtract.prototype.dispose = function(){\n\t\tTone.prototype.dispose.call(this);\n\t\tthis._neg.dispose();\n\t\tthis._neg = null;\n\t\tthis._sum.disconnect();\n\t\tthis._sum = null;\n\t\tthis._value.dispose();\n\t\tthis._value = null;\n\t\treturn this;\n\t};\n\n\treturn Tone.Subtract;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/signal/Subtract.js\n ** module id = 93\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/signal/Multiply\", \"Tone/signal/Signal\"], function(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t *  @class Negate the incoming signal. i.e. an input signal of 10 will output -10\n\t *\n\t *  @constructor\n\t *  @extends {Tone.SignalBase}\n\t *  @example\n\t *  var neg = new Tone.Negate();\n\t *  var sig = new Tone.Signal(-2).connect(neg);\n\t *  //output of neg is positive 2. \n\t */\n\tTone.Negate = function(){\n\t\t/**\n\t\t *  negation is done by multiplying by -1\n\t\t *  @type {Tone.Multiply}\n\t\t *  @private\n\t\t */\n\t\tthis._multiply = this.input = this.output = new Tone.Multiply(-1);\n\t};\n\n\tTone.extend(Tone.Negate, Tone.SignalBase);\n\n\t/**\n\t *  clean up\n\t *  @returns {Tone.Negate} `this`\n\t */\n\tTone.Negate.prototype.dispose = function(){\n\t\tTone.prototype.dispose.call(this);\n\t\tthis._multiply.dispose();\n\t\tthis._multiply = null;\n\t\treturn this;\n\t}; \n\n\treturn Tone.Negate;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/signal/Negate.js\n ** module id = 94\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/signal/Select\", \"Tone/signal/Equal\"], function(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t *  @class IfThenElse has three inputs. When the first input (if) is true (i.e. === 1), \n\t *         then it will pass the second input (then) through to the output, otherwise, \n\t *         if it's not true (i.e. === 0) then it will pass the third input (else) \n\t *         through to the output. \n\t *\n\t *  @extends {Tone.SignalBase}\n\t *  @constructor\n\t *  @example\n\t *  var ifThenElse = new Tone.IfThenElse();\n\t *  var ifSignal = new Tone.Signal(1).connect(ifThenElse, 0, 0);\n\t *  var thenSignal = new Tone.PWMOscillator().connect(ifThenElse, 0, 1);\n\t *  var elseSignal = new Tone.PulseOscillator().connect(ifThenElse, 0, 2);\n\t *  //ifThenElse outputs thenSignal\n\t *  signal.value = 0;\n\t *  //now ifThenElse outputs elseSignal\n\t */\n\tTone.IfThenElse = function(){\n\n\t\tTone.call(this, 3, 0);\n\n\t\t/**\n\t\t *  the selector node which is responsible for the routing\n\t\t *  @type {Tone.Select}\n\t\t *  @private\n\t\t */\n\t\tthis._selector = this.output = new Tone.Select(2);\n\n\t\t//the input mapping\n\t\tthis.if = this.input[0] = this._selector.gate;\n\t\tthis.then = this.input[1] = this._selector.input[1];\n\t\tthis.else = this.input[2] = this._selector.input[0];\n\t};\n\n\tTone.extend(Tone.IfThenElse, Tone.SignalBase);\n\n\t/**\n\t *  clean up\n\t *  @returns {Tone.IfThenElse} `this`\n\t */\n\tTone.IfThenElse.prototype.dispose = function(){\n\t\tTone.prototype.dispose.call(this);\n\t\tthis._selector.dispose();\n\t\tthis._selector = null;\n\t\tthis.if = null;\n\t\tthis.then = null;\n\t\tthis.else = null;\n\t\treturn this;\n\t};\n\n\treturn Tone.IfThenElse;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/signal/IfThenElse.js\n ** module id = 95\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/signal/Equal\", \"Tone/signal/Signal\"], function(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t *  @class Select between any number of inputs, sending the one \n\t *         selected by the gate signal to the output\n\t *\n\t *  @constructor\n\t *  @extends {Tone.SignalBase}\n\t *  @param {number} [sourceCount=2] the number of inputs the switch accepts\n\t *  @example\n\t *  var sel = new Tone.Select(2);\n\t *  var sigA = new Tone.Signal(10).connect(sel, 0, 0);\n\t *  var sigB = new Tone.Signal(20).connect(sel, 0, 1);\n\t *  sel.gate.value = 0;\n\t *  //sel outputs 10 (the value of sigA);\n\t *  sel.gate.value = 1;\n\t *  //sel outputs 20 (the value of sigB);\n\t */\n\tTone.Select = function(sourceCount){\n\n\t\tsourceCount = this.defaultArg(sourceCount, 2);\n\n\t\tTone.call(this, sourceCount, 1);\n\n\t\t/**\n\t\t *  the control signal\n\t\t *  @type {Tone.Signal}\n\t\t */\n\t\tthis.gate = new Tone.Signal(0);\n\t\tthis._readOnly(\"gate\");\n\n\t\t//make all the inputs and connect them\n\t\tfor (var i = 0; i < sourceCount; i++){\n\t\t\tvar switchGate = new SelectGate(i);\n\t\t\tthis.input[i] = switchGate;\n\t\t\tthis.gate.connect(switchGate.selecter);\n\t\t\tswitchGate.connect(this.output);\n\t\t}\n\t};\n\n\tTone.extend(Tone.Select, Tone.SignalBase);\n\n\t/**\n\t *  open one of the inputs and close the other\n\t *  @param {number} which open one of the gates (closes the other)\n\t *  @param {Tone.Type.Time=} time the time when the switch will open\n\t *  @returns {Tone.Select} `this`\n\t *  @example\n\t *  //open input 1 in a half second from now\n\t *  sel.select(1, \"+0.5\");\n\t */\n\tTone.Select.prototype.select = function(which, time){\n\t\t//make sure it's an integer\n\t\twhich = Math.floor(which);\n\t\tthis.gate.setValueAtTime(which, this.toSeconds(time));\n\t\treturn this;\n\t};\n\n\t/**\n\t *  dispose method\n\t *  @returns {Tone.Select} `this`\n\t */\n\tTone.Select.prototype.dispose = function(){\n\t\tthis._writable(\"gate\");\n\t\tthis.gate.dispose();\n\t\tthis.gate = null;\n\t\tfor (var i = 0; i < this.input.length; i++){\n\t\t\tthis.input[i].dispose();\n\t\t\tthis.input[i] = null;\n\t\t}\n\t\tTone.prototype.dispose.call(this);\n\t\treturn this;\n\t}; \n\n\t////////////START HELPER////////////\n\n\t/**\n\t *  helper class for Tone.Select representing a single gate\n\t *  @constructor\n\t *  @extends {Tone}\n\t *  @private\n\t */\n\tvar SelectGate = function(num){\n\n\t\t/**\n\t\t *  the selector\n\t\t *  @type {Tone.Equal}\n\t\t */\n\t\tthis.selecter = new Tone.Equal(num);\n\n\t\t/**\n\t\t *  the gate\n\t\t *  @type {GainNode}\n\t\t */\n\t\tthis.gate = this.input = this.output = this.context.createGain();\n\n\t\t//connect the selecter to the gate gain\n\t\tthis.selecter.connect(this.gate.gain);\n\t};\n\n\tTone.extend(SelectGate);\n\n\t/**\n\t *  clean up\n\t *  @private\n\t */\n\tSelectGate.prototype.dispose = function(){\n\t\tTone.prototype.dispose.call(this);\n\t\tthis.selecter.dispose();\n\t\tthis.gate.disconnect();\n\t\tthis.selecter = null;\n\t\tthis.gate = null;\n\t};\n\n\t////////////END HELPER////////////\n\n\t//return Tone.Select\n\treturn Tone.Select;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/signal/Select.js\n ** module id = 96\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/signal/GreaterThanZero\"], function(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t *  @class OR the inputs together. True if at least one of the inputs is true. \n\t *\n\t *  @extends {Tone.SignalBase}\n\t *  @constructor\n\t *  @param {number} inputCount the input count\n\t *  @example\n\t *  var or = new Tone.OR(2);\n\t *  var sigA = new Tone.Signal(0)connect(or, 0, 0);\n\t *  var sigB = new Tone.Signal(1)connect(or, 0, 1);\n\t *  //output of or is 1 because at least\n\t *  //one of the inputs is equal to 1. \n\t */\n\tTone.OR = function(inputCount){\n\n\t\tinputCount = this.defaultArg(inputCount, 2);\n\t\tTone.call(this, inputCount, 0);\n\n\t\t/**\n\t\t *  a private summing node\n\t\t *  @type {GainNode}\n\t\t *  @private\n\t\t */\n\t\tthis._sum = this.context.createGain();\n\n\t\t/**\n\t\t *  @type {Tone.Equal}\n\t\t *  @private\n\t\t */\n\t\tthis._gtz = this.output = new Tone.GreaterThanZero();\n\n\t\t//make each of the inputs an alias\n\t\tfor (var i = 0; i < inputCount; i++){\n\t\t\tthis.input[i] = this._sum;\n\t\t}\n\t\tthis._sum.connect(this._gtz);\n\t};\n\n\tTone.extend(Tone.OR, Tone.SignalBase);\n\n\t/**\n\t *  clean up\n\t *  @returns {Tone.OR} `this`\n\t */\n\tTone.OR.prototype.dispose = function(){\n\t\tTone.prototype.dispose.call(this);\n\t\tthis._gtz.dispose();\n\t\tthis._gtz = null;\n\t\tthis._sum.disconnect();\n\t\tthis._sum = null;\n\t\treturn this;\n\t};\n\n\treturn Tone.OR;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/signal/OR.js\n ** module id = 97\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/signal/Equal\"], function(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t *  @class and returns 1 when all the inputs are equal to 1\n\t *\n\t *  @extends {Tone.SignalBase}\n\t *  @constructor\n\t *  @param {number} [inputCount=2] the number of inputs. NOTE: all inputs are\n\t *                                 connected to the single AND input node\n\t *  @example\n\t *  var and = new Tone.AND(2);\n\t *  var sigA = new Tone.Signal(0).connect(and, 0, 0);\n\t *  var sigB = new Tone.Signal(1).connect(and, 0, 1);\n\t *  //the output of and is 0. \n\t */\n\tTone.AND = function(inputCount){\n\n\t\tinputCount = this.defaultArg(inputCount, 2);\n\n\t\tTone.call(this, inputCount, 0);\n\n\t\t/**\n\t\t *  @type {Tone.Equal}\n\t\t *  @private\n\t\t */\n\t\tthis._equals = this.output = new Tone.Equal(inputCount);\n\n\t\t//make each of the inputs an alias\n\t\tfor (var i = 0; i < inputCount; i++){\n\t\t\tthis.input[i] = this._equals;\n\t\t}\n\t};\n\n\tTone.extend(Tone.AND, Tone.SignalBase);\n\n\t/**\n\t *  clean up\n\t *  @returns {Tone.AND} `this`\n\t */\n\tTone.AND.prototype.dispose = function(){\n\t\tTone.prototype.dispose.call(this);\n\t\tthis._equals.dispose();\n\t\tthis._equals = null;\n\t\treturn this;\n\t};\n\n\treturn Tone.AND;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/signal/AND.js\n ** module id = 98\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/signal/EqualZero\"], function(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t *  @class  Just an alias for EqualZero. but has the same effect as a NOT operator. \n\t *          Outputs 1 when input equals 0. \n\t *  \n\t *  @constructor\n\t *  @extends {Tone.SignalBase}\n\t *  @example\n\t *  var not = new Tone.NOT();\n\t *  var sig = new Tone.Signal(1).connect(not);\n\t *  //output of not equals 0. \n\t *  sig.value = 0;\n\t *  //output of not equals 1.\n\t */\n\tTone.NOT = Tone.EqualZero;\n\n\treturn Tone.NOT;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/signal/NOT.js\n ** module id = 99\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/signal/GreaterThanZero\", \"Tone/signal/Subtract\", \"Tone/signal/Signal\"], \n\tfunction(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t *  @class  Output 1 if the signal is greater than the value, otherwise outputs 0.\n\t *          can compare two signals or a signal and a number. \n\t *  \n\t *  @constructor\n\t *  @extends {Tone.Signal}\n\t *  @param {number} [value=0] the value to compare to the incoming signal\n\t *  @example\n\t *  var gt = new Tone.GreaterThan(2);\n\t *  var sig = new Tone.Signal(4).connect(gt);\n\t *  //output of gt is equal 1. \n\t */\n\tTone.GreaterThan = function(value){\n\n\t\tTone.call(this, 2, 0);\n\t\t\n\t\t/**\n\t\t *  subtract the amount from the incoming signal\n\t\t *  @type {Tone.Subtract}\n\t\t *  @private\n\t\t */\n\t\tthis._value = this.input[0] = new Tone.Subtract(value);\n\t\tthis.input[1] = this._value.input[1];\n\n\t\t/**\n\t\t *  compare that amount to zero\n\t\t *  @type {Tone.GreaterThanZero}\n\t\t *  @private\n\t\t */\n\t\tthis._gtz = this.output = new Tone.GreaterThanZero();\n\n\t\t//connect\n\t\tthis._value.connect(this._gtz);\n\t};\n\n\tTone.extend(Tone.GreaterThan, Tone.Signal);\n\n\t/**\n\t *  dispose method\n\t *  @returns {Tone.GreaterThan} `this`\n\t */\n\tTone.GreaterThan.prototype.dispose = function(){\n\t\tTone.prototype.dispose.call(this);\n\t\tthis._value.dispose();\n\t\tthis._value = null;\n\t\tthis._gtz.dispose();\n\t\tthis._gtz = null;\n\t\treturn this;\n\t};\n\n\treturn Tone.GreaterThan;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/signal/GreaterThan.js\n ** module id = 100\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/signal/GreaterThan\", \"Tone/signal/Negate\", \"Tone/signal/Signal\"], \nfunction(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t *  @class  Output 1 if the signal is less than the value, otherwise outputs 0.\n\t *          Can compare two signals or a signal and a number. <br><br>\n\t *          input 0: left hand side of comparison.<br><br>\n\t *          input 1: right hand side of comparison.\n\t *  \n\t *  @constructor\n\t *  @extends {Tone.Signal}\n\t *  @param {number} [value=0] the value to compare to the incoming signal\n\t *  @example\n\t *  var lt = new Tone.LessThan(2);\n\t *  var sig = new Tone.Signal(-1).connect(lt);\n\t *  //lt outputs 1 because sig < 2\n\t */\n\tTone.LessThan = function(value){\n\n\t\tTone.call(this, 2, 0);\n\n\t\t/**\n\t\t *  negate the incoming signal\n\t\t *  @type {Tone.Negate}\n\t\t *  @private\n\t\t */\n\t\tthis._neg = this.input[0] = new Tone.Negate();\n\n\t\t/**\n\t\t *  input < value === -input > -value\n\t\t *  @type {Tone.GreaterThan}\n\t\t *  @private\n\t\t */\n\t\tthis._gt = this.output = new Tone.GreaterThan();\n\n\t\t/**\n\t\t *  negate the signal coming from the second input\n\t\t *  @private\n\t\t *  @type {Tone.Negate}\n\t\t */\n\t\tthis._rhNeg = new Tone.Negate();\n\n\t\t/**\n\t\t *  the node where the value is set\n\t\t *  @private\n\t\t *  @type {Tone.Signal}\n\t\t */\n\t\tthis._value = this.input[1] = new Tone.Signal(value);\n\n\t\t//connect\n\t\tthis._neg.connect(this._gt);\n\t\tthis._value.connect(this._rhNeg);\t\n\t\tthis._rhNeg.connect(this._gt, 0, 1);\n\t};\n\n\tTone.extend(Tone.LessThan, Tone.Signal);\n\n\t/**\n\t *  dispose method\n\t *  @returns {Tone.LessThan} `this`\n\t */\n\tTone.LessThan.prototype.dispose = function(){\n\t\tTone.prototype.dispose.call(this);\n\t\tthis._neg.dispose();\n\t\tthis._neg = null;\n\t\tthis._gt.dispose();\n\t\tthis._gt = null;\n\t\tthis._rhNeg.dispose();\n\t\tthis._rhNeg = null;\n\t\tthis._value.dispose();\n\t\tthis._value = null;\n\t\treturn this;\n\t};\n\n\treturn Tone.LessThan;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/signal/LessThan.js\n ** module id = 101\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/signal/Select\", \"Tone/signal/Negate\", \"Tone/signal/LessThan\", \"Tone/signal/Signal\"], \nfunction(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t *  @class return the absolute value of an incoming signal\n\t *  @constructor\n\t *  @extends {Tone.SignalBase}\n\t *  @example\n\t *  var signal = new Tone.Signal(-1);\n\t *  var abs = new Tone.Abs();\n\t *  signal.connect(abs);\n\t *  //the output of abs is 1. \n\t */\n\tTone.Abs = function(){\n\t\tTone.call(this, 1, 0);\n\n\t\t/**\n\t\t *  @type {Tone.LessThan}\n\t\t *  @private\n\t\t */\n\t\tthis._ltz = new Tone.LessThan(0);\n\n\t\t/**\n\t\t *  @type {Tone.Select}\n\t\t *  @private\n\t\t */\n\t\tthis._switch = this.output = new Tone.Select(2);\n\t\t\n\t\t/**\n\t\t *  @type {Tone.Negate}\n\t\t *  @private\n\t\t */\n\t\tthis._negate = new Tone.Negate();\n\n\t\t//two signal paths, positive and negative\n\t\tthis.input.connect(this._switch, 0, 0);\n\t\tthis.input.connect(this._negate);\n\t\tthis._negate.connect(this._switch, 0, 1);\n\t\t\n\t\t//the control signal\n\t\tthis.input.chain(this._ltz, this._switch.gate);\n\t};\n\n\tTone.extend(Tone.Abs, Tone.SignalBase);\n\n\t/**\n\t *  dispose method\n\t *  @returns {Tone.Abs} `this`\n\t */\n\tTone.Abs.prototype.dispose = function(){\n\t\tTone.prototype.dispose.call(this);\n\t\tthis._switch.dispose();\n\t\tthis._switch = null;\n\t\tthis._ltz.dispose();\n\t\tthis._ltz = null;\n\t\tthis._negate.dispose();\n\t\tthis._negate = null;\n\t\treturn this;\n\t}; \n\n\treturn Tone.Abs;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/signal/Abs.js\n ** module id = 102\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/signal/GreaterThan\", \"Tone/signal/IfThenElse\", \"Tone/signal/Signal\"], function(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t * \t@class  outputs the greater of two signals. If a number is provided in the constructor\n\t * \t        it will use that instead of the signal. \n\t * \t\n\t *  @constructor\n\t *  @extends {Tone.Signal}\n\t *  @param {number=} max max value if provided. if not provided, it will use the\n\t *                       signal value from input 1. \n\t *  @example\n\t *  var max = new Tone.Max(2);\n\t *  var sig = new Tone.Signal(3).connect(max);\n\t *  //max outputs 3\n\t *  sig.value = 1;\n\t *  //max outputs 2\n\t */\n\tTone.Max = function(max){\n\n\t\tTone.call(this, 2, 0);\n\t\tthis.input[0] = this.context.createGain();\n\n\t\t/**\n\t\t *  the max signal\n\t\t *  @type {Tone.Signal}\n\t\t *  @private\n\t\t */\n\t\tthis._value = this.input[1] = new Tone.Signal(max);\n\n\t\t/**\n\t\t *  @type {Tone.Select}\n\t\t *  @private\n\t\t */\n\t\tthis._ifThenElse = this.output = new Tone.IfThenElse();\n\n\t\t/**\n\t\t *  @type {Tone.Select}\n\t\t *  @private\n\t\t */\n\t\tthis._gt = new Tone.GreaterThan();\n\n\t\t//connections\n\t\tthis.input[0].chain(this._gt, this._ifThenElse.if);\n\t\tthis.input[0].connect(this._ifThenElse.then);\n\t\tthis._value.connect(this._ifThenElse.else);\n\t\tthis._value.connect(this._gt, 0, 1);\n\t};\n\n\tTone.extend(Tone.Max, Tone.Signal);\n\n\t/**\n\t *  clean up\n\t *  @returns {Tone.Max} `this`\n\t */\n\tTone.Max.prototype.dispose = function(){\n\t\tTone.prototype.dispose.call(this);\n\t\tthis._value.dispose();\n\t\tthis._ifThenElse.dispose();\n\t\tthis._gt.dispose();\n\t\tthis._value = null;\n\t\tthis._ifThenElse = null;\n\t\tthis._gt = null;\n\t\treturn this;\n\t};\n\n\treturn Tone.Max;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/signal/Max.js\n ** module id = 103\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/signal/LessThan\", \"Tone/signal/IfThenElse\", \"Tone/signal/Signal\"], function(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t * \t@class  Outputs the lesser of two signals. If a number is given \n\t * \t        in the constructor, it will use a signal and a number. \n\t * \t\n\t *  @constructor\n\t *  @extends {Tone.Signal}\n\t *  @param {number} min the minimum to compare to the incoming signal\n\t *  @example\n\t *  var min = new Tone.Min(2);\n\t *  var sig = new Tone.Signal(3).connect(min);\n\t *  //min outputs 2\n\t *  sig.value = 1;\n\t *  //min outputs 1\n\t */\n\tTone.Min = function(min){\n\n\t\tTone.call(this, 2, 0);\n\t\tthis.input[0] = this.context.createGain();\n\n\t\t/**\n\t\t *  @type {Tone.Select}\n\t\t *  @private\n\t\t */\n\t\tthis._ifThenElse = this.output = new Tone.IfThenElse();\n\n\t\t/**\n\t\t *  @type {Tone.Select}\n\t\t *  @private\n\t\t */\n\t\tthis._lt = new Tone.LessThan();\n\n\t\t/**\n\t\t *  the min signal\n\t\t *  @type {Tone.Signal}\n\t\t *  @private\n\t\t */\n\t\tthis._value = this.input[1] = new Tone.Signal(min);\n\n\t\t//connections\n\t\tthis.input[0].chain(this._lt, this._ifThenElse.if);\n\t\tthis.input[0].connect(this._ifThenElse.then);\n\t\tthis._value.connect(this._ifThenElse.else);\n\t\tthis._value.connect(this._lt, 0, 1);\n\t};\n\n\tTone.extend(Tone.Min, Tone.Signal);\n\n\t/**\n\t *  clean up\n\t *  @returns {Tone.Min} `this`\n\t */\n\tTone.Min.prototype.dispose = function(){\n\t\tTone.prototype.dispose.call(this);\n\t\tthis._value.dispose();\n\t\tthis._ifThenElse.dispose();\n\t\tthis._lt.dispose();\n\t\tthis._value = null;\n\t\tthis._ifThenElse = null;\n\t\tthis._lt = null;\n\t\treturn this;\n\t};\n\n\treturn Tone.Min;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/signal/Min.js\n ** module id = 104\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/signal/WaveShaper\", \"Tone/signal/Multiply\", \"Tone/signal/Subtract\"], \nfunction(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t *  @class Signal-rate modulo operator. Only works in audio range [-1, 1] and for modulus\n\t *         values less than 1. \n\t *\n\t *  @constructor\n\t *  @extends {Tone.SignalBase}\n\t *  @param {number} modulus the modulus to apply\n\t *  @example\n\t *  var mod = new Tone.Modulo(0.2)\n\t *  var sig = new Tone.Signal(0.5).connect(mod);\n\t *  //mod outputs 0.1\n\t */\n\tTone.Modulo = function(modulus){\n\n\t\tTone.call(this, 1, 1);\n\n\t\t/**\n\t\t *  A waveshaper gets the integer multiple of \n\t\t *  the input signal and the modulus.\n\t\t *  @private\n\t\t *  @type {Tone.WaveShaper}\n\t\t */\n\t\tthis._shaper = new Tone.WaveShaper(Math.pow(2, 16));\n\n\t\t/**\n\t\t *  the integer multiple is multiplied by the modulus\n\t\t *  @type  {Tone.Multiply}\n\t\t *  @private\n\t\t */\n\t\tthis._multiply = new Tone.Multiply();\n\n\t\t/**\n\t\t *  and subtracted from the input signal\n\t\t *  @type  {Tone.Subtract}\n\t\t *  @private\n\t\t */\n\t\tthis._subtract = this.output = new Tone.Subtract();\n\n\t\t/**\n\t\t *  the modulus signal\n\t\t *  @type  {Tone.Signal}\n\t\t *  @private\n\t\t */\n\t\tthis._modSignal = new Tone.Signal(modulus);\n\n\t\t//connections\n\t\tthis.input.fan(this._shaper, this._subtract);\n\t\tthis._modSignal.connect(this._multiply, 0, 0);\n\t\tthis._shaper.connect(this._multiply, 0, 1);\n\t\tthis._multiply.connect(this._subtract, 0, 1);\n\t\tthis._setWaveShaper(modulus);\n\t};\n\n\tTone.extend(Tone.Modulo, Tone.SignalBase);\n\n\t/**\n\t *  @param  {number}  mod  the modulus to apply\n\t *  @private\n\t */\n\tTone.Modulo.prototype._setWaveShaper = function(mod){\n\t\tthis._shaper.setMap(function(val){\n\t\t\tvar multiple = Math.floor((val + 0.0001) / mod);\n\t\t\treturn multiple;\n\t\t});\n\t};\n\n\t/**\n\t * The modulus value.\n\t * @memberOf Tone.Modulo#\n\t * @type {number}\n\t * @name value\n\t */\n\tObject.defineProperty(Tone.Modulo.prototype, \"value\", {\n\t\tget : function(){\n\t\t\treturn this._modSignal.value;\n\t\t},\n\t\tset : function(mod){\n\t\t\tthis._modSignal.value = mod;\n\t\t\tthis._setWaveShaper(mod);\n\t\t}\n\t});\n\n\t/**\n\t * clean up\n\t *  @returns {Tone.Modulo} `this`\n\t */\n\tTone.Modulo.prototype.dispose = function(){\n\t\tTone.prototype.dispose.call(this);\n\t\tthis._shaper.dispose();\n\t\tthis._shaper = null;\n\t\tthis._multiply.dispose();\n\t\tthis._multiply = null;\n\t\tthis._subtract.dispose();\n\t\tthis._subtract = null;\n\t\tthis._modSignal.dispose();\n\t\tthis._modSignal = null;\n\t\treturn this;\n\t};\n\n\treturn Tone.Modulo;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/signal/Modulo.js\n ** module id = 105\n ** module chunks = 1\n **/","define([\"channel/Piano\", \"controller/Conductor\", \"controller/Mediator\", \"Tone/core/Note\", \"Tone/core/Tone\"], \n\tfunction(Piano, Conductor, Mediator, Note, Tone){\n\n\tvar pianoNotes = [\n\t\t[\"0:0\", \"4n + 8n\"], [\"0:2\", \"4n + 8n\"],\n\t\t[\"1:0\", \"4n + 8n\"], [\"1:2\", \"4n + 8n\"],\n\t\t[\"2:0\", \"4n + 8n\"], [\"2:2\", \"4n + 8n\"],\n\t\t\n\t\t[\"3:0\", \"8n\"], [\"3:1\", \"8n\"], [\"3:2\", \"8n\"], [\"3:3\", \"8n\"],\n\t\t[\"4:0\", \"8n\"], [\"4:1\", \"8n\"], [\"4:2\", \"8n\"], [\"4:3\", \"8n\"],\n\t\t[\"5:0\", \"8n\"], [\"5:1\", \"8n\"], [\"5:2\", \"8n\"], [\"5:3\", \"8n\"],\n\t\t\n\t\t[\"6:0\", \"8n\"], [\"6:1\", \"8n\"], [\"6:2\", \"8n\"], [\"6:3\", \"8n\"],\n\t\t[\"7:0\", \"8n\"], [\"7:1\", \"8n\"], [\"7:2\", \"8n\"], [\"7:3\", \"8n\"],\n\t\t[\"8:0\", \"8n\"], [\"8:1\", \"8n\"], [\"8:2\", \"8n\"], [\"8:3\", \"8n\"],\n\t\t\n\t\t[\"9:1\", \"4n + 8n\"], [\"9:3\", \"4n + 8n\"], \n\t\t[\"10:1\", \"4n + 8n\"], [\"10:3\", \"4n + 8n\"],\n\t\t[\"11:1\", \"4n + 8n\"], [ \"11:3\", \"4n + 8n\"],\n\n\t\t[\"12:0:2\", \"8n\"], [\"12:1:1\", \"8n\"], [\"12:2\", \"8n\"],\n\t\t[\"13:0:2\", \"8n\"], [\"13:1:1\", \"8n\"], [\"13:2\", \"8n\"],\n\t\t[\"14:0:2\", \"8n\"], [\"14:1:1\", \"8n\"], [\"14:2\", \"8n\"],\n\n\t\t[\"15:0:3\", \"8n\"], [\"15:1:2\", \"8n\"], [\"15:2:2\", \"4n\"], \n\t\t[\"16:0:3\", \"8n\"], [\"16:1:2\", \"8n\"], [\"16:2:2\", \"4n\"], \n\t\t[\"17:0:3\", \"8n\"], [\"17:1:2\", \"8n\"], [\"17:2:2\", \"4n\"], \n\n\t\t[\"18:0:2\", \"4n\"], [\"18:1:3\", \"16n\"],\n\t\t[\"19:0:2\", \"4n\"], [\"19:1:3\", \"16n\"],\n\t\t[\"20:0:2\", \"4n\"], [\"20:1:3\", \"16n\"],\n\n\t\t[\"21:0:0 + 4t\", \"8n\"], [\"21:0:0 + 2 * 4t\", \"4n\"], [\"21:2:1\", \"16n\"],\n\t\t[\"22:0:0 + 4t\", \"8n\"], [\"22:0:0 + 2 * 4t\", \"4n\"], [\"22:2:1\", \"16n\"],\n\t\t[\"23:0:0 + 4t\", \"8n\"], [\"23:0:0 + 2 * 4t\", \"4n\"], [\"23:2:1\", \"16n\"],\n\t];\n\n\tvar chordNotes = {\n\t\t\"Dm\" : [\"D4\", \"F4\", \"C4\", \"A4\"],\n\t\t\"A7\" : [\"G4\", \"C#4\", \"A4\", \"E4\"],\n\t\t\"C7\" : [\"C4\", \"A#4\", \"E4\", \"F#4\"],\n\t\t\"Fmaj\" : [ \"F4\", \"C4\",\"D4\", \"A4\"],\n\t\t\"D7\" : [\"C5\", \"F#4\", \"E5\", \"A#4\"],\n\t\t\"Gmaj\" : [\"A4\",\"D5\", \"F#4\",  \"B4\"],\n\t\t\"Cmaj\" : [\"G4\", \"C5\", \"E5\", \"B4\"],\n\t};\n\t\n\t//convert them to frequencies\n\tfor (var chord in chordNotes){\n\t\tvar arr = chordNotes[chord];\n\t\tfor (var i = 0; i < arr.length; i++){\n\t\t\tarr[i] = Tone.prototype.noteToFrequency(arr[i]);\n\t\t}\n\t}\n\n\tConductor.parseScore(pianoNotes, function(time, duration){\n\t\tif (Conductor.hasPiano()){\n\t\t\tvar chord = chordNotes[Conductor.getChord()];\n\t\t\tPiano.triggerAttackRelease(chord, duration, time);\n\t\t\tMediator.deferSend(\"piano\", chord);\n\t\t}\n\t});\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/score/Piano.js\n ** module id = 106\n ** module chunks = 1\n **/","define([\"Tone/instrument/MonoSynth\", \"Tone/core/Master\", \"Tone/instrument/PolySynth\", \n\t\"Tone/component/Panner\", \"preset/PianoSoundA\", \"preset/PianoSoundB\", \"Tone/component/LFO\", \"interface/GUI\", \n\t\"Tone/signal/Signal\", \"controller/Mediator\", \"controller/Conductor\", \"util/Config\", \"Tone/component/Volume\", \n\t\"Tone/component/Meter\", \"Tone/core/Bus\", \"Tone/component/Filter\"], \nfunction(MonoSynth, Master, PolySynth, Panner, PresetA, PresetB, LFO, GUI, Signal, \n\tMediator, Conductor, Config, Volume, Meter, Bus, Filter){\n\n\t\"use strict\";\n\n\tvar monoSynth = new PolySynth(4, MonoSynth, {\n\t\t\"envelope\" : {\n\t\t\t\"attack\" : 0.1\n\t\t}\n\t});\n\tvar synthVolume = new Volume();\n\n\tvar volume = monoSynth.context.createGain();\n\n\tvar vibrato = new LFO(\"32n\", -40, 40);\n\tvibrato.sync();\n\t//connect it to each of the voices\n\tfor (var i = 0; i < monoSynth.voices.length; i++){\n\t\tvar voice = monoSynth.voices[i];\n\t\tvibrato.connect(voice.detune);\n\t}\n\n\t// effects\n\tvar effectLevels = {\n\t\t\"reverb\" : -16,\n\t\t\"delay\" : -24\n\t};\n\n\tvar revAmount, delayAmount, panner, midLFO, midFreqLFO;\n\tif (!Config.MOBILE){\n\t\tvar midBump = new Filter({\n\t\t\t\"frequency\" : 540,\n\t\t\t\"type\" : \"peaking\",\n\t\t\t\"Q\" : 0.5\n\t\t});\n\n\t\tmidLFO = new LFO(3, 3, -10).start();\n\t\tmidFreqLFO = new LFO(0.02, 8, 1).start().connect(midLFO.frequency);\n\t\tmidLFO.connect(midBump.gain);\n\t\twindow.eq = midBump;\n\t\twindow.midLFO = midLFO;\n\n\t\tpanner = new Panner(0.2);\n\t\trevAmount = panner.send(\"reverb\", effectLevels.reverb);\n\t\tdelayAmount = panner.send(\"delay\", effectLevels.delay);\n\t\tmonoSynth.chain(synthVolume, midBump, panner, volume, Master);\n\t} else {\n\t\tmonoSynth.chain(synthVolume, Master);\n\t}\n\n\t//GUI\n\tif (Config.GUI){\n\t\tvar reverbControl = new Signal(revAmount.gain, Signal.Units.Decibels);\n\t\treverbControl.value = effectLevels.reverb;\n\t\tvar delayControl = new Signal(delayAmount.gain, Signal.Units.Decibels);\n\t\tdelayControl.value = effectLevels.delay;\n\t\tvar pianoFolder = GUI.getFolder(\"Piano\");\n\t\tGUI.addTone2(pianoFolder, \"vibrato\", vibrato);\n\t\tpianoFolder.add(reverbControl, \"value\", -100, 1).name(\"reverb\");\n\t\tpianoFolder.add(delayControl, \"value\", -100, 10).name(\"delay\");\n\n\t\tGUI.addTone2(pianoFolder, \"midBump\", midBump);\n\t\tGUI.addTone2(pianoFolder, \"midLFO\", midLFO);\n\t}\n\n\t//return\n\tvar velocity = 1;\n\tvar vibratoParams = {};\n\n\t//set the preset initially\n\tvar pre = PresetA.get();\n\tmonoSynth.set(pre);\n\tvibratoParams = pre.vibrato;\n\tvelocity = pre.velocity;\n\n\tMediator.route(\"start\", function(){\n\t\t//trigger the attack\n\t\tmonoSynth.set({\n\t\t\t\"envelope\" : {\n\t\t\t\t\"release\" : \"4n\"\n\t\t\t},\n\t\t\t\"filterEnvelope\" : {\n\t\t\t\t\"min\" : 200,\n\t\t\t\t\"max\" : 2500,\n\t\t\t\t\"sustain\" : 0.4,\n\t\t\t\t\"release\" : \"4n\"\n\t\t\t}\n\t\t});\n\t\tmonoSynth.triggerAttack([\"C4\", \"A#4\", \"E4\", \"F#4\"], 0, 0.8);\n\t\tvibratoParams = pre.vibrato;\n\t\tvibrato.amplitude.setValueAtTime(0, 0);\n\t\tvibrato.amplitude.linearRampToValueAtTime(vibratoParams.amount, vibratoParams.amount);\n\t});\n\n\tMediator.route(\"firstScroll\", function(){\n\t\tmonoSynth.triggerRelease([\"C4\", \"A#4\", \"E4\", \"F#4\"]);\n\t});\n\n\treturn {\n\t\ttriggerAttackRelease : function(note, duration, time){\n\t\t\tvar Preset;\n\t\t\tif (Conductor.getMovement() === 1){\n\t\t\t\tPreset = PresetB;\n\t\t\t} else {\n\t\t\t\tPreset = PresetA;\n\t\t\t}\n\t\t\tPreset.update(function(pre){\n\t\t\t\tif (monoSynth.voices[0].oscillator.type !== pre.oscillator.type){\n\t\t\t\t\t//duck the volume for a second\n\t\t\t\t\tvar now = monoSynth.now();\n\t\t\t\t\tmonoSynth.output.gain.setValueAtTime(1, now);\n\t\t\t\t\tmonoSynth.output.gain.linearRampToValueAtTime(0, now + 0.01);\n\t\t\t\t\tmonoSynth.output.gain.setValueAtTime(0, time);\n\t\t\t\t\tmonoSynth.output.gain.linearRampToValueAtTime(1, time + 0.1);\n\t\t\t\t}\n\t\t\t\tmonoSynth.set(pre);\n\t\t\t\t/*if (pre.oscillator.type === \"pwm\"){\n\t\t\t\t\tmonoSynth.set({\n\t\t\t\t\t\t\"modulationFrequency\" : 0.7\n\t\t\t\t\t});\n\t\t\t\t}*/\n\t\t\t\tvibratoParams = pre.vibrato;\n\t\t\t\tvelocity = pre.velocity;\n\t\t\t});\n\t\t\tvibrato.amplitude.setValueAtTime(0, time);\n\t\t\tvibrato.amplitude.linearRampToValueAtTime(vibratoParams.amount, time + vibratoParams.amount);\n\t\t\tmonoSynth.triggerAttackRelease(note, duration, time, velocity);\n\t\t},\n\t\tvolume : synthVolume.volume\n\t};\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/channel/Piano.js\n ** module id = 107\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/component/CrossFade\", \"Tone/component/Merge\", \n\t\"Tone/component/Split\", \"Tone/signal/Signal\", \"Tone/signal/GainToAudio\"], \nfunction(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t *  Panner. \n\t *  \n\t *  @class  Equal Power Gain L/R Panner. Not 3D. \n\t *          0 = 100% Left\n\t *          1 = 100% Right\n\t *  \n\t *  @constructor\n\t *  @extends {Tone}\n\t *  @param {number} [initialPan=0.5] the initail panner value (defaults to 0.5 = center)\n\t *  @example\n\t *  var panner = new Tone.Panner(1);\n\t *  // ^ pan the input signal hard right. \n\t */\n\tTone.Panner = function(initialPan){\n\n\t\tTone.call(this);\n\n\t\t/**\n\t\t *  indicates if the panner is using the new StereoPannerNode internally\n\t\t *  @type  {boolean}\n\t\t *  @private\n\t\t */\n\t\tthis._hasStereoPanner = this.isFunction(this.context.createStereoPanner);\n\n\t\tif (this._hasStereoPanner){\n\n\t\t\t/**\n\t\t\t *  the panner node\n\t\t\t *  @type {StereoPannerNode}\n\t\t\t *  @private\n\t\t\t */\n\t\t\tthis._panner = this.input = this.output = this.context.createStereoPanner();\n\n\t\t\t/**\n\t\t\t *  the pan control\n\t\t\t *  @type {Tone.Signal}\n\t\t\t */\t\n\t\t\tthis.pan = new Tone.Signal(0, Tone.Type.NormalRange);\n\n\t\t\t/**\n\t\t\t *  scale the pan signal to between -1 and 1\n\t\t\t *  @type {Tone.WaveShaper}\n\t\t\t *  @private\n\t\t\t */\n\t\t\tthis._scalePan = new Tone.GainToAudio();\n\n\t\t\t//connections\n\t\t\tthis.pan.chain(this._scalePan, this._panner.pan);\n\t\t\t\n\t\t} else {\n\n\t\t\t/**\n\t\t\t *  the dry/wet knob\n\t\t\t *  @type {Tone.CrossFade}\n\t\t\t *  @private\n\t\t\t */\n\t\t\tthis._crossFade = new Tone.CrossFade();\n\t\t\t\n\t\t\t/**\n\t\t\t *  @type {Tone.Merge}\n\t\t\t *  @private\n\t\t\t */\n\t\t\tthis._merger = this.output = new Tone.Merge();\n\t\t\t\n\t\t\t/**\n\t\t\t *  @type {Tone.Split}\n\t\t\t *  @private\n\t\t\t */\n\t\t\tthis._splitter = this.input = new Tone.Split();\n\t\t\t\n\t\t\t/**\n\t\t\t *  the pan control\n\t\t\t *  @type {Tone.Signal}\n\t\t\t */\t\n\t\t\tthis.pan = this._crossFade.fade;\n\n\t\t\t//CONNECTIONS:\n\t\t\t//left channel is a, right channel is b\n\t\t\tthis._splitter.connect(this._crossFade, 0, 0);\n\t\t\tthis._splitter.connect(this._crossFade, 1, 1);\n\t\t\t//merge it back together\n\t\t\tthis._crossFade.a.connect(this._merger, 0, 0);\n\t\t\tthis._crossFade.b.connect(this._merger, 0, 1);\n\t\t}\n\n\t\t//initial value\n\t\tthis.pan.value = this.defaultArg(initialPan, 0.5);\n\t\tthis._readOnly(\"pan\");\n\t};\n\n\tTone.extend(Tone.Panner);\n\n\t/**\n\t *  clean up\n\t *  @returns {Tone.Panner} `this`\n\t */\n\tTone.Panner.prototype.dispose = function(){\n\t\tTone.prototype.dispose.call(this);\n\t\tthis._writable(\"pan\");\n\t\tif (this._hasStereoPanner){\n\t\t\tthis._panner.disconnect();\n\t\t\tthis._panner = null;\n\t\t\tthis.pan.dispose();\n\t\t\tthis.pan = null;\n\t\t\tthis._scalePan.dispose();\n\t\t\tthis._scalePan = null;\n\t\t} else {\n\t\t\tthis._crossFade.dispose();\n\t\t\tthis._crossFade = null;\n\t\t\tthis._splitter.dispose();\n\t\t\tthis._splitter = null;\n\t\t\tthis._merger.dispose();\n\t\t\tthis._merger = null;\n\t\t\tthis.pan = null;\n\t\t}\n\t\treturn this;\n\t};\n\n\treturn Tone.Panner;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/component/Panner.js\n ** module id = 108\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/signal/Signal\", \"Tone/signal/Expr\", \"Tone/signal/EqualPowerGain\"], function(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t * @class  Equal power fading control values:<br>\n\t * \t       0 = 100% input 0<br>\n\t * \t       1 = 100% input 1<br>\n\t *\n\t * @constructor\n\t * @extends {Tone}\n\t * @param {number} [initialFade=0.5]\n\t * @example\n\t * var crossFade = new Tone.CrossFade(0.5);\n\t * effectA.connect(crossFade, 0, 0);\n\t * effectB.connect(crossFade, 0, 1);\n\t * crossFade.fade.value = 0;\n\t * // ^ only effectA is output\n\t * crossFade.fade.value = 1;\n\t * // ^ only effectB is output\n\t * crossFade.fade.value = 0.5;\n\t * // ^ the two signals are mixed equally. \n\t */\t\t\n\tTone.CrossFade = function(initialFade){\n\n\t\tTone.call(this, 2, 1);\n\n\t\t/**\n\t\t *  the first input. input \"a\".\n\t\t *  @type {GainNode}\n\t\t */\n\t\tthis.a = this.input[0] = this.context.createGain();\n\n\t\t/**\n\t\t *  the second input. input \"b\"\n\t\t *  @type {GainNode}\n\t\t */\n\t\tthis.b = this.input[1] = this.context.createGain();\n\n\t\t/**\n\t\t *  0 is 100% signal `a` (input 0) and 1 is 100% signal `b` (input 1).\n\t\t *  Values between 0-1.\n\t\t *  \n\t\t *  @type {Tone.Signal}\n\t\t */\n\t\tthis.fade = new Tone.Signal(this.defaultArg(initialFade, 0.5), Tone.Type.NormalRange);\n\n\t\t/**\n\t\t *  equal power gain cross fade\n\t\t *  @private\n\t\t *  @type {Tone.EqualPowerGain}\n\t\t */\n\t\tthis._equalPowerA = new Tone.EqualPowerGain();\n\n\t\t/**\n\t\t *  equal power gain cross fade\n\t\t *  @private\n\t\t *  @type {Tone.EqualPowerGain}\n\t\t */\n\t\tthis._equalPowerB = new Tone.EqualPowerGain();\n\t\t\n\t\t/**\n\t\t *  invert the incoming signal\n\t\t *  @private\n\t\t *  @type {Tone}\n\t\t */\n\t\tthis._invert = new Tone.Expr(\"1 - $0\");\n\n\t\t//connections\n\t\tthis.a.connect(this.output);\n\t\tthis.b.connect(this.output);\n\t\tthis.fade.chain(this._equalPowerB, this.b.gain);\n\t\tthis.fade.chain(this._invert, this._equalPowerA, this.a.gain);\n\t\tthis._readOnly(\"fade\");\n\t};\n\n\tTone.extend(Tone.CrossFade);\n\n\t/**\n\t *  clean up\n\t *  @returns {Tone.CrossFade} `this`\n\t */\n\tTone.CrossFade.prototype.dispose = function(){\n\t\tTone.prototype.dispose.call(this);\n\t\tthis._writable(\"fade\");\n\t\tthis._equalPowerA.dispose();\n\t\tthis._equalPowerA = null;\n\t\tthis._equalPowerB.dispose();\n\t\tthis._equalPowerB = null;\n\t\tthis.fade.dispose();\n\t\tthis.fade = null;\n\t\tthis._invert.dispose();\n\t\tthis._invert = null;\n\t\tthis.a.disconnect();\n\t\tthis.a = null;\n\t\tthis.b.disconnect();\n\t\tthis.b = null;\n\t\treturn this;\n\t};\n\n\treturn Tone.CrossFade;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/component/CrossFade.js\n ** module id = 109\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/signal/WaveShaper\"], function(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t *  @class Convert an incoming signal between 0, 1 to an equal power gain scale.\n\t *\n\t *  @extends {Tone.SignalBase}\n\t *  @constructor\n\t *  @example\n\t *  var eqPowGain = new Tone.EqualPowerGain();\n\t */\n\tTone.EqualPowerGain = function(){\n\n\t\t/**\n\t\t *  @type {Tone.WaveShaper}\n\t\t *  @private\n\t\t */\n\t\tthis._eqPower = this.input = this.output = new Tone.WaveShaper(function(val){\n\t\t\tif (Math.abs(val) < 0.001){\n\t\t\t\t//should output 0 when input is 0\n\t\t\t\treturn 0;\n\t\t\t} else {\n\t\t\t\treturn this.equalPowerScale(val);\n\t\t\t}\n\t\t}.bind(this), 4096);\n\t};\n\n\tTone.extend(Tone.EqualPowerGain, Tone.SignalBase);\n\n\t/**\n\t *  clean up\n\t *  @returns {Tone.EqualPowerGain} `this`\n\t */\n\tTone.EqualPowerGain.prototype.dispose = function(){\n\t\tTone.prototype.dispose.call(this);\n\t\tthis._eqPower.dispose();\n\t\tthis._eqPower = null;\n\t\treturn this;\n\t};\n\n\treturn Tone.EqualPowerGain;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/signal/EqualPowerGain.js\n ** module id = 110\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\"], function(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t *  @class  Merge a left and a right channel into a single stereo channel.\n\t *\n\t *  @constructor\n\t *  @extends {Tone}\n\t *  @example\n\t *  var merge = new Tone.Merge();\n\t *  sigLeft.connect(merge.left);\n\t *  sigRight.connect(merge.right);\n\t */\n\tTone.Merge = function(){\n\n\t\tTone.call(this, 2, 0);\n\n\t\t/**\n\t\t *  The left input channel.\n\t\t *  Alias for input 0\n\t\t *  @type {GainNode}\n\t\t */\n\t\tthis.left = this.input[0] = this.context.createGain();\n\n\t\t/**\n\t\t *  The right input channel.\n\t\t *  Alias for input 1.\n\t\t *  @type {GainNode}\n\t\t */\n\t\tthis.right = this.input[1] = this.context.createGain();\n\n\t\t/**\n\t\t *  the merger node for the two channels\n\t\t *  @type {ChannelMergerNode}\n\t\t *  @private\n\t\t */\n\t\tthis._merger = this.output = this.context.createChannelMerger(2);\n\n\t\t//connections\n\t\tthis.left.connect(this._merger, 0, 0);\n\t\tthis.right.connect(this._merger, 0, 1);\n\t};\n\n\tTone.extend(Tone.Merge);\n\n\t/**\n\t *  clean up\n\t *  @returns {Tone.Merge} `this`\n\t */\n\tTone.Merge.prototype.dispose = function(){\n\t\tTone.prototype.dispose.call(this);\n\t\tthis.left.disconnect();\n\t\tthis.left = null;\n\t\tthis.right.disconnect();\n\t\tthis.right = null;\n\t\tthis._merger.disconnect();\n\t\tthis._merger = null;\n\t\treturn this;\n\t}; \n\n\treturn Tone.Merge;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/component/Merge.js\n ** module id = 111\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\"], function(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t *\t@class  Split the incoming signal into left and right channels\n\t *\t\n\t *  @constructor\n\t *  @extends {Tone}\n\t *  @example\n\t *  var split = new Tone.Split();\n\t *  stereoSignal.connect(split);\n\t */\n\tTone.Split = function(){\n\n\t\tTone.call(this, 0, 2);\n\n\t\t/** \n\t\t *  @type {ChannelSplitterNode}\n\t\t *  @private\n\t\t */\n\t\tthis._splitter = this.input = this.context.createChannelSplitter(2);\n\n\t\t/** \n\t\t *  left channel output\n\t\t *  alais for the first output\n\t\t *  @type {GainNode}\n\t\t */\n\t\tthis.left = this.output[0] = this.context.createGain();\n\n\t\t/**\n\t\t *  the right channel output\n\t\t *  alais for the second output\n\t\t *  @type {GainNode}\n\t\t */\n\t\tthis.right = this.output[1] = this.context.createGain();\n\t\t\n\t\t//connections\n\t\tthis._splitter.connect(this.left, 0, 0);\n\t\tthis._splitter.connect(this.right, 1, 0);\n\t};\n\n\tTone.extend(Tone.Split);\n\n\t/**\n\t *  dispose method\n\t *  @returns {Tone.Split} `this`\n\t */\n\tTone.Split.prototype.dispose = function(){\n\t\tTone.prototype.dispose.call(this);\n\t\tthis._splitter.disconnect();\n\t\tthis.left.disconnect();\n\t\tthis.right.disconnect();\n\t\tthis.left = null;\n\t\tthis.right = null;\n\t\tthis._splitter = null;\n\t\treturn this;\n\t}; \n\n\treturn Tone.Split;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/component/Split.js\n ** module id = 112\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/signal/WaveShaper\", \"Tone/signal/Signal\"], function(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t *  @class Maps a gain value [0, 1] to an audio value [-1, 1]\n\t *\n\t *  @extends {Tone.SignalBase}\n\t *  @constructor\n\t *  @example\n\t *  var g2a = new Tone.GainToAudio();\n\t */\n\tTone.GainToAudio = function(){\n\n\t\t/**\n\t\t *  @type {WaveShaperNode}\n\t\t *  @private\n\t\t */\n\t\tthis._norm = this.input = this.output = new Tone.WaveShaper(function(x){\n\t\t\treturn Math.abs(x) * 2 - 1;\n\t\t});\n\t};\n\n\tTone.extend(Tone.GainToAudio, Tone.SignalBase);\n\n\t/**\n\t *  clean up\n\t *  @returns {Tone.GainToAudio} `this`\n\t */\n\tTone.GainToAudio.prototype.dispose = function(){\n\t\tTone.prototype.dispose.call(this);\n\t\tthis._norm.dispose();\n\t\tthis._norm = null;\n\t\treturn this;\n\t};\n\n\treturn Tone.GainToAudio;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/signal/GainToAudio.js\n ** module id = 113\n ** module chunks = 1\n **/","define([\"preset/Interpolator\", \"interface/PresetGUI\"], function(Interpolator, GUI){\n\n\treturn new Interpolator([\n\t\t{\n\t\t\t\"velocity\": 0.5,\n\t\t\t\"oscillator\": {\n\t\t\t\t\"type\": \"triangle\"\n\t\t\t},\n\t\t\t\"vibrato\": {\n\t\t\t\t\"delay\": 0.195,\n\t\t\t\t\"amount\": 0.3\n\t\t\t},\n\t\t\t\"envelope\": {\n\t\t\t\t\"attack\": 0.039,\n\t\t\t\t\"decay\": 0.023,\n\t\t\t\t\"sustain\": 1,\n\t\t\t\t\"release\": 0.05\n\t\t\t},\n\t\t\t\"filterEnvelope\": {\n\t\t\t\t\"attack\": 0.098,\n\t\t\t\t\"decay\": 0,\n\t\t\t\t\"sustain\": 1,\n\t\t\t\t\"release\": 0.08,\n\t\t\t\t\"min\": 3000,\n\t\t\t\t\"max\": 16000\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"velocity\": 0.4,\n\t\t\t\"oscillator\": {\n\t\t\t\t\"type\": \"sawtooth\"\n\t\t\t},\n\t\t\t\"vibrato\": {\n\t\t\t\t\"delay\": 0.001,\n\t\t\t\t\"amount\": 0.5\n\t\t\t},\n\t\t\t\"envelope\": {\n\t\t\t\t\"attack\": 0.234,\n\t\t\t\t\"decay\": 0.018,\n\t\t\t\t\"sustain\": 0.69,\n\t\t\t\t\"release\": 0.76\n\t\t\t},\n\t\t\t\"filterEnvelope\": {\n\t\t\t\t\"attack\": 0.63,\n\t\t\t\t\"decay\": 0.7,\n\t\t\t\t\"sustain\": 0.1,\n\t\t\t\t\"release\": 1.79,\n\t\t\t\t\"min\": 1900,\n\t\t\t\t\"max\": 100\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"velocity\": 0.2,\n\t\t\t\"oscillator\": {\n\t\t\t\t\"type\": \"pwm\"\n\t\t\t},\n\t\t\t\"vibrato\": {\n\t\t\t\t\"delay\": 0.446,\n\t\t\t\t\"amount\": 1\n\t\t\t},\n\t\t\t\"envelope\": {\n\t\t\t\t\"attack\": 0.31,\n\t\t\t\t\"decay\": 0.031,\n\t\t\t\t\"sustain\": 0.64,\n\t\t\t\t\"release\": 3.3\n\t\t\t},\n\t\t\t\"filterEnvelope\": {\n\t\t\t\t\"attack\": 0.7,\n\t\t\t\t\"decay\": 0.2,\n\t\t\t\t\"sustain\": 0.3,\n\t\t\t\t\"release\": 3,\n\t\t\t\t\"min\": 2000,\n\t\t\t\t\"max\": 20000\n\t\t\t}\n\t\t}\n\t], \"Piano Preset A\", GUI);\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/preset/PianoSoundA.js\n ** module id = 114\n ** module chunks = 1\n **/","define([\"preset/Interpolator\", \"interface/PresetGUI\"], function(Interpolator, GUI){\n\n\treturn new Interpolator(\n\t[\n\t\t{\n\t\t\t\"velocity\": 0.2,\n\t\t\t\"oscillator\": {\n\t\t\t\t\"type\": \"pulse\",\n\t\t\t\t\"width\": 0.5\n\t\t\t},\n\t\t\t\"vibrato\": {\n\t\t\t\t\"delay\": 0.0131,\n\t\t\t\t\"amount\": 0.18\n\t\t\t},\n\t\t\t\"envelope\": {\n\t\t\t\t\"attack\": 0.02,\n\t\t\t\t\"decay\": 0.005,\n\t\t\t\t\"sustain\": 0.47,\n\t\t\t\t\"release\": 0.47\n\t\t\t},\n\t\t\t\"filterEnvelope\": {\n\t\t\t\t\"attack\": 0.37,\n\t\t\t\t\"decay\": 0.05,\n\t\t\t\t\"sustain\": 0.1,\n\t\t\t\t\"release\": 1.1,\n\t\t\t\t\"min\": 400,\n\t\t\t\t\"max\": 1850\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"velocity\": 0.1,\n\t\t\t\"oscillator\": {\n\t\t\t\t\"type\": \"pulse\",\n\t\t\t\t\"width\": 0.128\n\t\t\t},\n\t\t\t\"vibrato\": {\n\t\t\t\t\"delay\": 0.06,\n\t\t\t\t\"amount\": 1.7\n\t\t\t},\n\t\t\t\"envelope\": {\n\t\t\t\t\"attack\": 0.177,\n\t\t\t\t\"decay\": 0.04,\n\t\t\t\t\"sustain\": 0.59,\n\t\t\t\t\"release\": 0.02\n\t\t\t},\n\t\t\t\"filterEnvelope\": {\n\t\t\t\t\"attack\": 0.005,\n\t\t\t\t\"decay\": 0.06,\n\t\t\t\t\"sustain\": 0.21,\n\t\t\t\t\"release\": 0.1,\n\t\t\t\t\"min\": 700,\n\t\t\t\t\"max\": 9000\n\t\t\t}\n\t\t}\n\t], \"Piano Preset B\", GUI);\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/preset/PianoSoundB.js\n ** module id = 115\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/signal/Signal\", \"Tone/core/Master\"], function(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t *  @class A simple volume node. Volume value in decibels. \n\t *\n\t *  @extends {Tone}\n\t *  @constructor\n\t *  @param {number} [volume=0] the initial volume\n\t *  @example\n\t *  var vol = new Tone.Volume(-12);\n\t *  instrument.chain(vol, Tone.Master);\n\t */\n\tTone.Volume = function(volume){\n\n\t\t/**\n\t\t * the output node\n\t\t * @type {GainNode}\n\t\t * @private\n\t\t */\n\t\tthis.output = this.input = this.context.createGain();\n\n\t\t/**\n\t\t *  The volume control in decibels. \n\t\t *  @type {Tone.Signal}\n\t\t */\n\t\tthis.volume = new Tone.Signal(this.output.gain, Tone.Type.Decibels);\n\t\tthis.volume.value = this.defaultArg(volume, 0);\n\n\t\tthis._readOnly(\"volume\");\n\t};\n\n\tTone.extend(Tone.Volume);\n\n\t/**\n\t *  clean up\n\t *  @returns {Tone.Volume} `this`\n\t */\n\tTone.Volume.prototype.dispose = function(){\n\t\tTone.prototype.dispose.call(this);\n\t\tthis._writable(\"volume\");\n\t\tthis.volume.dispose();\n\t\tthis.volume = null;\n\t\treturn this;\n\t};\n\n\treturn Tone.Volume;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/component/Volume.js\n ** module id = 116\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/core/Master\"], function(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t *  @class  Get the rms of the input signal with some averaging.\n\t *          Can also just get the value of the signal\n\t *          or the value in dB. inspired by https://github.com/cwilso/volume-meter/blob/master/volume-meter.js<br><br>\n\t *          Note that for signal processing, it's better to use {@link Tone.Follower} which will produce\n\t *          an audio-rate envelope follower instead of needing to poll the Meter to get the output.\n\t *\n\t *  @constructor\n\t *  @extends {Tone}\n\t *  @param {number} [channels=1] number of channels being metered\n\t *  @param {number} [smoothing=0.8] amount of smoothing applied to the volume\n\t *  @param {number} [clipMemory=0.5] number in seconds that a \"clip\" should be remembered\n\t */\n\tTone.Meter = function(channels, smoothing, clipMemory){\n\t\t//extends Unit\n\t\tTone.call(this);\n\n\t\t/** \n\t\t *  The channel count\n\t\t *  @type  {number}\n\t\t *  @private\n\t\t */\n\t\tthis._channels = this.defaultArg(channels, 1);\n\n\t\t/** \n\t\t *  the smoothing value\n\t\t *  @type  {number}\n\t\t *  @private\n\t\t */\n\t\tthis._smoothing = this.defaultArg(smoothing, 0.8);\n\n\t\t/** \n\t\t *  the amount of time a clip is remember for. \n\t\t *  @type  {number}\n\t\t *  @private\n\t\t */\n\t\tthis._clipMemory = this.defaultArg(clipMemory, 0.5) * 1000;\n\n\t\t/** \n\t\t *  the rms for each of the channels\n\t\t *  @private\n\t\t *  @type {Array<number>}\n\t\t */\n\t\tthis._volume = new Array(this._channels);\n\n\t\t/** \n\t\t *  the raw values for each of the channels\n\t\t *  @private\n\t\t *  @type {Array<number>}\n\t\t */\n\t\tthis._values = new Array(this._channels);\n\n\t\t//zero out the volume array\n\t\tfor (var i = 0; i < this._channels; i++){\n\t\t\tthis._volume[i] = 0;\n\t\t\tthis._values[i] = 0;\n\t\t}\n\n\t\t/** \n\t\t *  last time the values clipped\n\t\t *  @private\n\t\t *  @type {number}\n\t\t */\n\t\tthis._lastClip = 0;\n\t\t\n\t\t/** \n\t\t *  @private\n\t\t *  @type {ScriptProcessorNode}\n\t\t */\n\t\tthis._jsNode = this.context.createScriptProcessor(this.bufferSize, this._channels, 1);\n\t\tthis._jsNode.onaudioprocess = this._onprocess.bind(this);\n\t\t//so it doesn't get garbage collected\n\t\tthis._jsNode.noGC();\n\n\t\t//signal just passes\n\t\tthis.input.connect(this.output);\n\t\tthis.input.connect(this._jsNode);\n\t};\n\n\tTone.extend(Tone.Meter);\n\n\t/**\n\t *  called on each processing frame\n\t *  @private\n\t *  @param  {AudioProcessingEvent} event \n\t */\n\tTone.Meter.prototype._onprocess = function(event){\n\t\tvar bufferSize = this._jsNode.bufferSize;\n\t\tvar smoothing = this._smoothing;\n\t\tfor (var channel = 0; channel < this._channels; channel++){\n\t\t\tvar input = event.inputBuffer.getChannelData(channel);\n\t\t\tvar sum = 0;\n\t\t\tvar total = 0;\n\t\t\tvar x;\n\t\t\tvar clipped = false;\n\t\t\tfor (var i = 0; i < bufferSize; i++){\n\t\t\t\tx = input[i];\n\t\t\t\tif (!clipped && x > 0.95){\n\t\t\t\t\tclipped = true;\n\t\t\t\t\tthis._lastClip = Date.now();\n\t\t\t\t}\n\t\t\t\ttotal += x;\n\t\t    \tsum += x * x;\n\t\t\t}\n\t\t\tvar average = total / bufferSize;\n\t\t\tvar rms = Math.sqrt(sum / bufferSize);\n\t\t\tthis._volume[channel] = Math.max(rms, this._volume[channel] * smoothing);\n\t\t\tthis._values[channel] = average;\n\t\t}\n\t};\n\n\t/**\n\t *  get the rms of the signal\n\t *  \t\n\t *  @param  {number} [channel=0] which channel\n\t *  @return {number}         the value\n\t */\n\tTone.Meter.prototype.getLevel = function(channel){\n\t\tchannel = this.defaultArg(channel, 0);\n\t\tvar vol = this._volume[channel];\n\t\tif (vol < 0.00001){\n\t\t\treturn 0;\n\t\t} else {\n\t\t\treturn vol;\n\t\t}\n\t};\n\n\t/**\n\t *  get the value of the signal\n\t *  @param  {number=} channel \n\t *  @return {number}         \n\t */\n\tTone.Meter.prototype.getValue = function(channel){\n\t\tchannel = this.defaultArg(channel, 0);\n\t\treturn this._values[channel];\n\t};\n\n\t/**\n\t *  get the volume of the signal in dB\n\t *  @param  {number=} channel \n\t *  @return {number}         \n\t */\n\tTone.Meter.prototype.getDb = function(channel){\n\t\treturn this.gainToDb(this.getLevel(channel));\n\t};\n\n\t/**\n\t * @returns {boolean} if the audio has clipped in the last 500ms\n\t */\n\tTone.Meter.prototype.isClipped = function(){\n\t\treturn Date.now() - this._lastClip < this._clipMemory;\n\t};\n\n\t/**\n\t *  clean up\n\t *  @returns {Tone.Meter} `this`\n\t */\n\tTone.Meter.prototype.dispose = function(){\n\t\tTone.prototype.dispose.call(this);\n\t\tthis._jsNode.disconnect();\n\t\tthis._jsNode.onaudioprocess = null;\n\t\tthis._volume = null;\n\t\tthis._values = null;\n\t\treturn this;\n\t};\n\n\treturn Tone.Meter;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/component/Meter.js\n ** module id = 117\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\"], function(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t *  buses are another way of routing audio\n\t *\n\t *  augments Tone.prototype to include send and recieve\n\t */\n\n\t /**\n\t  *  All of the routes\n\t  *  \n\t  *  @type {Object}\n\t  *  @static\n\t  *  @private\n\t  */\n\tvar Buses = {};\n\n\t/**\n\t *  send signal to a channel name\n\t *  defined in \"Tone/core/Bus\"\n\t *\n\t *  @param  {string} channelName \n\t *  @param  {number} amount the amount of the source to send to the bus. in Decibels. \n\t *  @return {GainNode}             \n\t */\n\tTone.prototype.send = function(channelName, amount){\n\t\tif (!Buses.hasOwnProperty(channelName)){\n\t\t\tBuses[channelName] = this.context.createGain();\n\t\t}\n\t\tvar sendKnob = this.context.createGain();\n\t\tsendKnob.gain.value = this.dbToGain(this.defaultArg(amount, 1));\n\t\tthis.output.chain(sendKnob, Buses[channelName]);\n\t\treturn sendKnob;\t\t\n\t};\n\n\t/**\n\t *  recieve the input from the desired channelName to the input\n\t *  defined in \"Tone/core/Bus\"\n\t *\n\t *  @param  {string} channelName \n\t *  @param {AudioNode} [input=this.input] if no input is selected, the\n\t *                                         input of the current node is\n\t *                                         chosen. \n\t *  @returns {Tone} `this`\n\t */\n\tTone.prototype.receive = function(channelName, input){\n\t\tif (!Buses.hasOwnProperty(channelName)){\n\t\t\tBuses[channelName] = this.context.createGain();\t\n\t\t}\n\t\tif (this.isUndef(input)){\n\t\t\tinput = this.input;\n\t\t}\n\t\tBuses[channelName].connect(input);\n\t\treturn this;\n\t};\n\n\treturn Tone;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/core/Bus.js\n ** module id = 118\n ** module chunks = 1\n **/","define([\"channel/Voice\", \"controller/Conductor\"], function(Voice, Conductor){\n\n\tvar voiceScore = [\n\n\t\t[\"0:0:2\", \"4n+4t\", \"some\"], [\"0:2\", \"4n\", \"times\"],[\"0:3\", \"4n\", \"i\"], \n\t\t[\"1:0\", \"8n\", \"look\"], [\"1:0:2\", \"3 * 4n\", \"down\"],\n\t\t\n\t\t[\"3:0:2\", \"4n+8n\", \"some\"], [\"3:2\", \"4n\", \"times\"],[\"3:3\", \"4n\", \"i\"], \n\t\t[\"4:0\", \"8n\", \"look\"], [\"4:0:2\", \"3 * 4n\", \"down\"],\n\t\t\n\t\t[\"6:0:2\", \"4n+8n\", \"some\"], [\"6:2\", \"4n\", \"times\"],[\"6:3\", \"4n\", \"i\"], \n\t\t[\"7:0\", \"8n\", \"look\"], [\"7:0:2\", \"3 * 4n\", \"up\"],\n\t\t\n\t\t[\"9:0:2\", \"4n+8n\", \"some\"], [\"9:2\", \"4n\", \"times\"],[\"9:3\", \"4n\", \"i\"], \n\t\t[\"10:0\", \"8n\", \"look\"], [\"10:0:2\", \"3 * 4n\", \"up\"],\n\n\t\t//B part\n\t\t[\"12:0:2\", \"4n+4t\", \"some\"], [\"12:2\", \"4n\", \"times\"],[\"12:3\", \"4n\", \"i\"], \n\t\t[\"13:0\", \"8n\", \"look\"], [\"13:0:2\", \"3 * 4n\", \"down\"],\n\t\t\n\t\t[\"15:0:2\", \"4n+8n\", \"some\"], [\"15:2\", \"4n\", \"times\"],[\"15:3\", \"4n\", \"i\"], \n\t\t[\"16:0\", \"8n\", \"look\"], [\"16:0:2\", \"3 * 4n\", \"down\"],\n\t\t\n\t\t[\"18:0:2\", \"4n+8n\", \"some\"], [\"18:2\", \"4n\", \"times\"],[\"18:3\", \"4n\", \"i\"], \n\t\t[\"19:0\", \"8n\", \"look\"], [\"19:0:2\", \"3 * 4n\", \"up\"],\n\t\t\n\t\t[\"21:0:2\", \"4n+8n\", \"some\"], [\"21:2\", \"4n\", \"times\"],[\"21:3\", \"4n\", \"i\"], \n\t\t[\"22:0\", \"8n\", \"look\"], [\"22:0:2\", \"3 * 4n\", \"up\"],\n\t];\t\t\n\n\tvar noteGroup = \"up\";\n\n\tConductor.parseScore(voiceScore, function(time, duration, word, section){\n\t\tif (Conductor.hasVoice()){\n\t\t\tif (Conductor.getSection() < 2){\n\t\t\t\tnoteGroup = \"down\";\n\t\t\t} else {\n\t\t\t\tnoteGroup = \"up\";\n\t\t\t}\n\t\t\tvar voiceName = noteGroup+\".\"+word;\n\t\t\tVoice.triggerAttackRelease(voiceName, duration, time);\n\t\t}\n\t});\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/score/Voice.js\n ** module id = 119\n ** module chunks = 1\n **/","define([\"Tone/instrument/Sampler\", \"controller/Mediator\",\n \"preset/Voice\", \"controller/Conductor\", \"Tone/core/Master\", \n \"effect/Main\", \"interface/GUI\", \"Tone/instrument/PolySynth\", \n \"Tone/signal/Signal\", \"Tone/component/Volume\", \"util/Config\", \n \"Tone/core/Transport\", \"TERP\", \"preset/VoiceB\", \"Tone/component/Filter\"], \nfunction(Sampler, Mediator, Preset, Conductor, Master, Effects, \n\tGUI, PolySynth, Signal, Volume, Config, Transport, TERP, PresetB, Filter){\n\n\tvar audioFolder = \"./audio/\";\n\n\tvar filter = new Filter({\n\t\t\"frequency\" : 240,\n\t\t\"type\" : \"highpass\", \n\t\t\"Q\" : 2\n\t});\n\n\tvar volume = new Volume().chain(filter, Master);\n\n\twindow.filter = filter;\n\n\tvar samplerA = new Sampler({\n\t\t\"A\" : {\n\t\t\t\"down\" : {\n\t\t\t\t\"some\" : audioFolder+\"down/some.mp3\",\n\t\t\t\t\"times\" : audioFolder+\"down/times.mp3\",\n\t\t\t\t\"i\" : audioFolder+\"down/i.mp3\",\n\t\t\t\t\"look\" : audioFolder+\"down/look.mp3\",\n\t\t\t\t\"down\" : audioFolder+\"down/down.mp3\",\n\t\t\t},\n\t\t\t\"up\" : {\n\t\t\t\t\"some\" : audioFolder+\"up/some.mp3\",\n\t\t\t\t\"times\" : audioFolder+\"up/times.mp3\",\n\t\t\t\t\"i\" : audioFolder+\"up/i.mp3\",\n\t\t\t\t\"look\" : audioFolder+\"up/look.mp3\",\n\t\t\t\t\"up\" : audioFolder+\"up/up.mp3\",\n\t\t\t}\n\t\t}\n\t}, {\n\t\t\"filter\" : {\n\t\t\t\"type\" : \"lowpass\",\n\t\t\t\"rolloff\" : -48,\n\t\t},\n\t\t\"filterEnvelope\" : {\n\t\t\t\"exponent\" : 2\n\t\t}\n\t}).connect(volume);\n\n\tvar samplerB = new Sampler({\n\t\t\"B\" : {\n\t\t\t\"down\" : {\n\t\t\t\t\"some\" : audioFolder+\"B/G/some.mp3\",\n\t\t\t\t\"times\" : audioFolder+\"B/G/times.mp3\",\n\t\t\t\t\"i\" : audioFolder+\"B/G/i.mp3\",\n\t\t\t\t\"look\" : audioFolder+\"B/G/look.mp3\",\n\t\t\t\t\"down\" : audioFolder+\"B/G/down.mp3\",\n\t\t\t\t\"up\" : audioFolder+\"B/G/up.mp3\",\n\t\t\t},\n\t\t\t\"up\" : {\n\t\t\t\t\"some\" : audioFolder+\"B/F/some.mp3\",\n\t\t\t\t\"times\" : audioFolder+\"B/F/times.mp3\",\n\t\t\t\t\"i\" : audioFolder+\"B/F/i.mp3\",\n\t\t\t\t\"look\" : audioFolder+\"B/F/look.mp3\",\n\t\t\t\t\"up\" : audioFolder+\"B/F/up.mp3\",\n\t\t\t\t\"down\" : audioFolder+\"B/F/down.mp3\",\n\t\t\t}\n\t\t},\n\t\t\"C\" : {\n\t\t\t\"down\" : {\n\t\t\t\t\"some\" : audioFolder+\"B/F/some.mp3\",\n\t\t\t\t\"times\" : audioFolder+\"B/F/times.mp3\",\n\t\t\t\t\"i\" : audioFolder+\"B/F/i.mp3\",\n\t\t\t\t\"look\" : audioFolder+\"B/F/look.mp3\",\n\t\t\t\t\"down\" : audioFolder+\"B/F/down.mp3\",\n\t\t\t},\n\t\t\t\"up\" : {\n\t\t\t\t\"some\" : audioFolder+\"B/G/some.mp3\",\n\t\t\t\t\"times\" : audioFolder+\"B/G/times.mp3\",\n\t\t\t\t\"i\" : audioFolder+\"B/G/i.mp3\",\n\t\t\t\t\"look\" : audioFolder+\"B/G/look.mp3\",\n\t\t\t\t\"up\" : audioFolder+\"B/G/up.mp3\",\n\t\t\t},\n\t\t},\n\t}, {\n\t\t\"filter\" : {\n\t\t\t\"type\" : \"lowpass\",\n\t\t\t\"rolloff\" : -12,\n\t\t},\n\t\t\"filterEnvelope\" : {\n\t\t\t\"exponent\" : 2\n\t\t}\n\t}).connect(volume);\n\n\t/*//repitch the sampler for the C section\n\tMediator.route(\"replay\", function(){\n\t\tsamplerB.pitch = 0;\n\t\tsamplerB.volume.value = -5;\n\t});*/\n\n\t// window.VoiceBVolume = samplerB.volume;\n\n\t// SETUP //\n\n\t//set special loop points for the somes\n\t\n\n\tvar loopPoints = {\n\t\t\"A.down.some\" : 0.804,\n\t\t\"A.down.times\" : 0.536,\n\t\t\"A.down.i\" : 0.188,\n\t\t\"A.down.look\" : 0.107,\n\t\t\"A.down.down\" : 1.179,\n\t\t\"A.up.some\" : 0.777,\n\t\t\"A.up.times\" : 0.375,\n\t\t\"A.up.i\" : 0.536,\n\t\t\"A.up.look\" : 0.268,\n\t\t\"A.up.up\" : 0.723,\n\t\t//B\n\t\t\"B.down.some\" : 0.912,\n\t\t\"B.down.times\" : 0.429,\n\t\t\"B.down.i\" : 0.321,\n\t\t\"B.down.look\" : 0.080,\n\t\t\"B.down.down\" : 0.985,\n\t\t\"B.up.some\" : 0.612,\n\t\t\"B.up.times\" : 0.549,\n\t\t\"B.up.i\" : 0.429,\n\t\t\"B.up.look\" : 0.020,\n\t\t\"B.up.up\" : 0.670,\n\t\t//C\n\t\t\"C.up.some\" : 0.912,\n\t\t\"C.up.times\" : 0.429,\n\t\t\"C.up.i\" : 0.321,\n\t\t\"C.up.look\" : 0.080,\n\t\t\"C.up.up\" : 0.763,\n\t\t\"C.down.some\" : 0.612,\n\t\t\"C.down.times\" : 0.549,\n\t\t\"C.down.i\" : 0.429,\n\t\t\"C.down.look\" : 0.020,\n\t\t\"C.down.down\" : 1.365,\n\t};\n\n\tfunction setLoopPoints(sampler, time){\n\t\tvar sampleDuration = \"+32n\";\n\t\tvar startTime = time;\n\t\tvar endTime = time + sampleDuration;\n\t\tif (Conductor.getMovement() === 1){\n\t\t\t/*startTime = sampler.player.buffer.duration;\n\t\t\tconsole.log(startTime);\n\t\t\tendTime = startTime + sampleDuration;\n\t\t\t// sampler.player.offset = startTime;\n\t\t\tsampler.player.loop = true;*/\n\t\t} else {\n\t\t\t// sampler.player.offset = 0;\n\t\t}\n\t\tsampler.player.set({\n\t\t\t\"loopStart\" : startTime,\n\t\t\t\"loopEnd\" : endTime\n\t\t});\n\t}\n\n\n\t// EFFECTS //\n\n\tvar effectLevels = {\n\t\t\"A\" : {\n\t\t\t\"reverb\" : -2,\n\t\t\t\"delay\" : -7,\n\t\t},\n\t\t\"B\" : {\n\t\t\t\"reverb\" : 3,\n\t\t\t\"delay\" : 0,\n\t\t}\n\t};\n\n\tvar reverbAmount = filter.send(\"reverb\", effectLevels.A.reverb);\n\tvar delayAmount = volume.send(\"delay\", effectLevels.A.delay);\n\n\t//GUI\n\tif (Config.GUI){\n\t\tvar reverbControl = new Signal(reverbAmount.gain, Signal.Units.Decibels);\n\t\treverbControl.value = effectLevels.A.reverb;\n\t\tvar delayControl = new Signal(delayAmount.gain, Signal.Units.Decibels);\n\t\tdelayControl.value = effectLevels.A.delay;\n\t\tvar voiceFolder = GUI.getFolder(\"Voice\");\n\t\tvoiceFolder.add(reverbControl, \"value\", -100, 6).name(\"reverb\");\n\t\tvoiceFolder.add(delayControl, \"value\", -100, 6).name(\"delay\");\n\t\tvoiceFolder.add(samplerB.volume, \"value\", -100, 10).name(\"samplerB\");\n\t\t// voiceFolder.addTone2(filter, \"value\", -100, 1).name(\"reverb\");\n\t}\n\n\n\tMediator.route(\"B\", function(){\n\t\tsamplerB.volume.value = 5;\n\t\tsamplerB.pitch = 0;\n\t\treverbAmount.gain.value = samplerB.dbToGain(effectLevels.B.reverb);\n\t\tdelayAmount.gain.value = samplerB.dbToGain(effectLevels.B.delay);\n\t\tsamplerB.filter.type = \"bandpass\";\n\t});\n\n\t//repitch the sampler for the C section\n\tMediator.route(\"C\", function(){\n\t\tsamplerB.pitch = 12;\n\t\tsamplerB.volume.value = -11;\n\t\tsamplerB.filter.type = \"lowpass\";\n\t\treverbAmount.gain.value = samplerB.dbToGain(effectLevels.A.reverb);\n\t\tdelayAmount.gain.value = samplerB.dbToGain(effectLevels.A.delay);\n\t});\n\n\tvar interval = -1;\n\n\tfunction shuffleLoopPosition(duration, startPosition){\n\t\tvar progress = Conductor.getBProgress();\n\t\tstartPosition = Math.max(startPosition + TERP.scale(Math.random(), -0.1, 0.1), 0);\n\t\tvar grainSize = TERP.map(progress, 0.1, 0.03, 0.5);\n\t\tif (isFinite(grainSize) && isFinite(startPosition)){\n\t\t\tsamplerB.player.set({\n\t\t\t\t\"loopStart\" : startPosition,\n\t\t\t\t\"loopEnd\" : startPosition + grainSize,\n\t\t\t});\n\t\t}\n\t}\n\n\tvar vocalRound = 0;\n\t\n\treturn {\n\t\ttriggerAttackRelease : function(name, duration, time){\n\t\t\tif (name === \"up.down\" || name === \"down.up\"){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar section, noteDur;\n\t\t\tif (Conductor.getMovement() !== 1){\n\t\t\t\tPreset.update(function(pre){\n\t\t\t\t\tsamplerA.set(pre);\n\t\t\t\t\tsamplerB.set(pre);\n\t\t\t\t});\n\t\t\t\tsection = \"A.\";\n\t\t\t\tnoteDur = samplerA.toSeconds(duration);\n\t\t\t\t// setLoopPoints(samplerA, loopPoints[section+name]);\n\t\t\t\tsamplerA.triggerAttackRelease(section + name,\n\t\t\t\t\tnoteDur - samplerA.toSeconds(\"16n\"), \n\t\t\t\t\ttime);\n\t\t\t\tif (Conductor.getMovement() === 2){\n\t\t\t\t\tsection = \"C.\";\n\t\t\t\t\t// setLoopPoints(samplerB, loopPoints[section+name]);\n\t\t\t\t\tsamplerB.player.loop = false;\n\t\t\t\t\tif (name === \"down.some\" || name === \"up.some\"){\n\t\t\t\t\t\ttime  = time + \" + 8n\";\n\t\t\t\t\t}\n\t\t\t\t\tsamplerB.triggerAttackRelease(section + name,\n\t\t\t\t\t\tnoteDur - samplerB.toSeconds(\"16n\"), \n\t\t\t\t\t\ttime);\n\t\t\t\t} \n\t\t\t} else {\n\t\t\t\tPresetB.update(function(pre){\n\t\t\t\t\tsamplerB.set(pre);\n\t\t\t\t});\n\t\t\t\tsection = \"B.\";\n\t\t\t\tnoteDur = samplerB.toSeconds(duration);\n\t\t\t\tvar noteName = section + name;\n\t\t\t\tvar startPosition = loopPoints[section+name];\n\t\t\t\tvar bufferDuration = samplerB._buffers[noteName].duration;\n\n\t\t\t\tshuffleLoopPosition(bufferDuration, startPosition);\n\t\t\t\tsamplerB.player.loop = true;\n\t\t\t\tsamplerB.triggerAttackRelease(noteName,\n\t\t\t\t\tnoteDur - samplerB.toSeconds(\"16n\"), \n\t\t\t\t\ttime);\n\t\t\t}\n\t\t\t//set the loop points\n\t\t\tif (name === \"down.some\" || name === \"up.some\"){\n\t\t\t\tsetTimeout(function(){\n\t\t\t\t\tMediator.deferSend(\"voice\", name, noteDur);\n\t\t\t\t}, 400);\n\t\t\t} else if (name === \"down.down\"){\n\t\t\t\tsetTimeout(function(){\n\t\t\t\t\tMediator.deferSend(\"voice\", name, noteDur);\n\t\t\t\t}, 200);\n\t\t\t} else {\n\t\t\t\tMediator.deferSend(\"voice\", name, noteDur);\n\t\t\t}\n\t\t},\n\t\tvolume : volume.volume\n\t};\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/channel/Voice.js\n ** module id = 120\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/source/Player\", \"Tone/component/AmplitudeEnvelope\", \"Tone/component/ScaledEnvelope\",\n\t\"Tone/component/Filter\", \"Tone/instrument/Instrument\"], \nfunction(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t *  @class A simple sampler instrument which plays an audio buffer \n\t *         through an amplitude envelope and a filter envelope. Nested\n\t *         lists will be flattened.\n\t *\n\t *  @constructor\n\t *  @extends {Tone.Instrument}\n\t *  @param {Object|string} urls the urls of the audio file\n\t *  @param {Object} options the options object for the synth\n\t *  @example\n\t *  var sampler = new Sampler({\n\t *  \tA : {\n\t *  \t\t1 : {\"./audio/casio/A1.mp3\",\n\t *  \t\t2 : \"./audio/casio/A2.mp3\",\n\t *  \t},\n\t *  \t\"B.1\" : \"./audio/casio/B1.mp3\",\n\t *  });\n\t *  //...once samples have loaded\n\t *  sampler.triggerAttack(\"A.1\", time, velocity);\n\t */\n\tTone.Sampler = function(urls, options){\n\n\t\tTone.Instrument.call(this);\n\t\toptions = this.defaultArg(options, Tone.Sampler.defaults);\n\n\t\t/**\n\t\t *  the sample player\n\t\t *  @type {Tone.Player}\n\t\t */\n\t\tthis.player = new Tone.Player(options.player);\n\t\tthis.player.retrigger = true;\n\n\t\t/**\n\t\t *  the buffers\n\t\t *  @type {Object<Tone.Buffer>}\n\t\t *  @private\n\t\t */\n\t\tthis._buffers = {};\n\n\t\t/**\n\t\t *  The amplitude envelope. \n\t\t *  @type {Tone.Envelope}\n\t\t */\n\t\tthis.envelope = new Tone.AmplitudeEnvelope(options.envelope);\n\n\t\t/**\n\t\t *  The filter envelope. \n\t\t *  @type {Tone.Envelope}\n\t\t */\n\t\tthis.filterEnvelope = new Tone.ScaledEnvelope(options.filterEnvelope);\n\n\t\t/**\n\t\t *  The name of the current sample. \n\t\t *  @type {string}\n\t\t */\n\t\tthis._sample = options.sample;\n\n\t\t/**\n\t\t * the private reference to the pitch\n\t\t * @type {number}\n\t\t * @private\n\t\t */\n\t\tthis._pitch = options.pitch;\n\n\t\t/**\n\t\t *  The filter.\n\t\t *  @type {BiquadFilterNode}\n\t\t */\n\t\tthis.filter = new Tone.Filter(options.filter);\n\n\t\t//connections / setup\n\t\tthis._loadBuffers(urls);\n\t\tthis.pitch = options.pitch;\n\t\tthis.player.chain(this.filter, this.envelope, this.output);\n\t\tthis.filterEnvelope.connect(this.filter.frequency);\n\t\tthis._readOnly([\"player\", \"filterEnvelope\", \"envelope\", \"filter\"]);\n\t};\n\n\tTone.extend(Tone.Sampler, Tone.Instrument);\n\n\t/**\n\t *  the default parameters\n\t *  @static\n\t */\n\tTone.Sampler.defaults = {\n\t\t\"sample\" : 0,\n\t\t\"pitch\" : 0,\n\t\t\"player\" : {\n\t\t\t\"loop\" : false,\n\t\t},\n\t\t\"envelope\" : {\n\t\t\t\"attack\" : 0.001,\n\t\t\t\"decay\" : 0,\n\t\t\t\"sustain\" : 1,\n\t\t\t\"release\" : 0.1\n\t\t},\n\t\t\"filterEnvelope\" : {\n\t\t\t\"attack\" : 0.001,\n\t\t\t\"decay\" : 0.001,\n\t\t\t\"sustain\" : 1,\n\t\t\t\"release\" : 0.5,\n\t\t\t\"min\" : 20,\n\t\t\t\"max\" : 20000,\n\t\t\t\"exponent\" : 2,\n\t\t},\n\t\t\"filter\" : {\n\t\t\t\"type\" : \"lowpass\"\n\t\t}\n\t};\n\n\t/**\n\t *  load the buffers\n\t *  @param   {Object} urls   the urls\n\t *  @private\n\t */\n\tTone.Sampler.prototype._loadBuffers = function(urls){\n\t\tif (typeof urls === \"string\"){\n\t\t\tthis._buffers[\"0\"] = new Tone.Buffer(urls, function(){\n\t\t\t\tthis.sample = \"0\";\n\t\t\t}.bind(this));\n\t\t} else {\n\t\t\turls = this._flattenUrls(urls);\n\t\t\tfor (var buffName in urls){\n\t\t\t\tthis._sample = buffName;\n\t\t\t\tvar urlString = urls[buffName];\n\t\t\t\tthis._buffers[buffName] = new Tone.Buffer(urlString);\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t *  flatten an object into a single depth object\n\t *  https://gist.github.com/penguinboy/762197\n\t *  @param   {Object} ob \t\n\t *  @return  {Object}    \n\t *  @private\n\t */\n\tTone.Sampler.prototype._flattenUrls = function(ob) {\n\t\tvar toReturn = {};\n\t\tfor (var i in ob) {\n\t\t\tif (!ob.hasOwnProperty(i)) continue;\n\t\t\tif ((typeof ob[i]) == \"object\") {\n\t\t\t\tvar flatObject = this._flattenUrls(ob[i]);\n\t\t\t\tfor (var x in flatObject) {\n\t\t\t\t\tif (!flatObject.hasOwnProperty(x)) continue;\n\t\t\t\t\ttoReturn[i + \".\" + x] = flatObject[x];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\ttoReturn[i] = ob[i];\n\t\t\t}\n\t\t}\n\t\treturn toReturn;\n\t};\n\n\t/**\n\t *  start the sample.\n\t *  @param {string=} sample the name of the samle to trigger, defaults to\n\t *                          the last sample used\n\t *  @param {Tone.Type.Time} [time=now] the time when the note should start\n\t *  @param {number} [velocity=1] the velocity of the note\n\t *  @returns {Tone.Sampler} `this`\n\t */\n\tTone.Sampler.prototype.triggerAttack = function(name, time, velocity){\n\t\ttime = this.toSeconds(time);\n\t\tif (name){\n\t\t\tthis.sample = name;\n\t\t}\n\t\tthis.player.start(time);\n\t\tthis.envelope.triggerAttack(time, velocity);\n\t\tthis.filterEnvelope.triggerAttack(time);\n\t\treturn this;\n\t};\n\n\t/**\n\t *  start the release portion of the sample\n\t *  \n\t *  @param {Tone.Type.Time} [time=now] the time when the note should release\n\t *  @returns {Tone.Sampler} `this`\n\t */\n\tTone.Sampler.prototype.triggerRelease = function(time){\n\t\ttime = this.toSeconds(time);\n\t\tthis.filterEnvelope.triggerRelease(time);\n\t\tthis.envelope.triggerRelease(time);\n\t\tthis.player.stop(this.toSeconds(this.envelope.release) + time);\n\t\treturn this;\n\t};\n\n\t/**\n\t * The name of the sample to trigger.\n\t * @memberOf Tone.Sampler#\n\t * @type {number|string}\n\t * @name sample\n\t */\n\tObject.defineProperty(Tone.Sampler.prototype, \"sample\", {\n\t\tget : function(){\n\t\t\treturn this._sample;\n\t\t},\n\t\tset : function(name){\n\t\t\tif (this._buffers.hasOwnProperty(name)){\n\t\t\t\tthis._sample = name;\n\t\t\t\tthis.player.buffer = this._buffers[name];\n\t\t\t} else {\n\t\t\t\tthrow new Error(\"Sampler does not have a sample named \"+name);\n\t\t\t}\n\t\t}\n\t});\n\n\t/**\n\t * The direction the buffer should play in\n\t * @memberOf Tone.Sampler#\n\t * @type {boolean}\n\t * @name reverse\n\t */\n\tObject.defineProperty(Tone.Sampler.prototype, \"reverse\", {\n\t\tget : function(){\n\t\t\tfor (var i in this._buffers){\n\t\t\t\treturn this._buffers[i].reverse;\n\t\t\t}\n\t\t}, \n\t\tset : function(rev){\n\t\t\tfor (var i in this._buffers){\n\t\t\t\tthis._buffers[i].reverse = rev;\n\t\t\t}\n\t\t}\n\t});\n\n\t/**\n\t * Repitch the sampled note by some interval (measured\n\t * in semi-tones). \n\t * @memberOf Tone.Sampler#\n\t * @type {number}\n\t * @name pitch\n\t * @example\n\t * sampler.pitch = -12; //down one octave\n\t * sampler.pitch = 7; //up a fifth\n\t */\n\tObject.defineProperty(Tone.Sampler.prototype, \"pitch\", {\n\t\tget : function(){\n\t\t\treturn this._pitch;\n\t\t},\n\t\tset : function(interval){\n\t\t\tthis._pitch = interval;\n\t\t\tthis.player.playbackRate = this.intervalToFrequencyRatio(interval);\n\t\t}\n\t});\n\n\t/**\n\t *  clean up\n\t *  @returns {Tone.Sampler} `this`\n\t */\n\tTone.Sampler.prototype.dispose = function(){\n\t\tTone.Instrument.prototype.dispose.call(this);\n\t\tthis._writable([\"player\", \"filterEnvelope\", \"envelope\", \"filter\"]);\n\t\tthis.player.dispose();\n\t\tthis.filterEnvelope.dispose();\n\t\tthis.envelope.dispose();\n\t\tthis.filter.dispose();\n\t\tthis.player = null;\n\t\tthis.filterEnvelope = null;\n\t\tthis.envelope = null;\n\t\tthis.filter = null;\n\t\tfor (var sample in this._buffers){\n\t\t\tthis._buffers[sample].dispose();\n\t\t\tthis._buffers[sample] = null;\n\t\t}\n\t\tthis._buffers = null;\n\t\treturn this;\n\t};\n\n\treturn Tone.Sampler;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/instrument/Sampler.js\n ** module id = 121\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/core/Buffer\", \"Tone/source/Source\"], function(Tone){\n\n\t\"use strict\";\n\t\n\t/**\n\t *  @class  Audio file player with start, loop, stop.\n\t *  \n\t *  @constructor\n\t *  @extends {Tone.Source} \n\t *  @param {string|AudioBuffer} url Either the AudioBuffer or the url from\n\t *                                  which to load the AudioBuffer\n\t *  @param {function=} onload The function to invoke when the buffer is loaded. \n\t *                            Recommended to use {@link Tone.Buffer#onload} instead.\n\t *  @example\n\t *  var player = new Tone.Player(\"./path/to/sample.mp3\");\n\t */\n\tTone.Player = function(){\n\t\t\n\t\tvar options = this.optionsObject(arguments, [\"url\", \"onload\"], Tone.Player.defaults);\n\t\tTone.Source.call(this, options);\n\n\t\t/**\n\t\t *  @private\n\t\t *  @type {AudioBufferSourceNode}\n\t\t */\n\t\tthis._source = null;\n\n\t\t/**\n\t\t *  If the file should play as soon\n\t\t *  as the buffer is loaded. \n\t\t *  @type {boolean}\n\t\t */\n\t\tthis.autostart = options.autostart;\n\t\t\n\t\t/**\n\t\t *  the buffer\n\t\t *  @private\n\t\t *  @type {Tone.Buffer}\n\t\t */\n\t\tthis._buffer = new Tone.Buffer({\n\t\t\t\"url\" : options.url, \n\t\t\t\"onload\" : this._onload.bind(this, options.onload),\n\t\t\t\"reverse\" : options.reverse\n\t\t});\n\n\t\t/**\n\t\t *  if the buffer should loop once it's over\n\t\t *  @type {boolean}\n\t\t *  @private\n\t\t */\n\t\tthis._loop = options.loop;\n\n\t\t/**\n\t\t *  if 'loop' is true, the loop will start at this position\n\t\t *  @type {Tone.Type.Time}\n\t\t *  @private\n\t\t */\n\t\tthis._loopStart = options.loopStart;\n\n\t\t/**\n\t\t *  if 'loop' is true, the loop will end at this position\n\t\t *  @type {Tone.Type.Time}\n\t\t *  @private\n\t\t */\n\t\tthis._loopEnd = options.loopEnd;\n\n\t\t/**\n\t\t *  the playback rate\n\t\t *  @private\n\t\t *  @type {number}\n\t\t */\n\t\tthis._playbackRate = options.playbackRate;\n\n\t\t/**\n\t\t *  Enabling retrigger will allow a player to be restarted\n\t\t *  before the the previous 'start' is done playing.\n\t\t *  @type {boolean}\n\t\t */\n\t\tthis.retrigger = options.retrigger;\n\t};\n\n\tTone.extend(Tone.Player, Tone.Source);\n\t\n\t/**\n\t *  the default parameters\n\t *  @static\n\t *  @const\n\t *  @type {Object}\n\t */\n\tTone.Player.defaults = {\n\t\t\"onload\" : function(){},\n\t\t\"playbackRate\" : 1,\n\t\t\"loop\" : false,\n\t\t\"autostart\" : false,\n\t\t\"loopStart\" : 0,\n\t\t\"loopEnd\" : 0,\n\t\t\"retrigger\" : false,\n\t\t\"reverse\" : false,\n\t};\n\n\t/**\n\t *  Load the audio file as an audio buffer.\n\t *  Decodes the audio asynchronously and invokes\n\t *  the callback once the audio buffer loads. \n\t *  Note: this does not need to be called, if a url\n\t *  was passed in to the constructor. Only use this\n\t *  if you want to manually load a new url. \n\t * @param {string} url The url of the buffer to load.\n\t *                     filetype support depends on the\n\t *                     browser.\n\t *  @param  {function(Tone.Player)=} callback\n\t *  @returns {Tone.Player} `this`\n\t */\n\tTone.Player.prototype.load = function(url, callback){\n\t\tthis._buffer.load(url, this._onload.bind(this, callback));\n\t\treturn this;\n\t};\n\n\t/**\n\t * Internal callback when the buffer is loaded.\n\t * @private\n\t */\n\tTone.Player.prototype._onload = function(callback){\n\t\tcallback(this);\n\t\tif (this.autostart){\n\t\t\tthis.start();\n\t\t}\n\t};\n\n\t/**\n\t *  play the buffer between the desired positions\n\t *  \n\t *  @private\n\t *  @param  {Tone.Type.Time} [startTime=now] when the player should start.\n\t *  @param  {Tone.Type.Time} [offset=0] the offset from the beginning of the sample\n\t *                                 to start at. \n\t *  @param  {Tone.Type.Time=} duration how long the sample should play. If no duration\n\t *                                is given, it will default to the full length \n\t *                                of the sample (minus any offset)\n\t *  @returns {Tone.Player} `this`\n\t */\n\tTone.Player.prototype._start = function(startTime, offset, duration){\n\t\tif (this._buffer.loaded){\n\t\t\t//if it's a loop the default offset is the loopstart point\n\t\t\tif (this._loop){\n\t\t\t\toffset = this.defaultArg(offset, this._loopStart);\n\t\t\t} else {\n\t\t\t\t//otherwise the default offset is 0\n\t\t\t\toffset = this.defaultArg(offset, 0);\n\t\t\t}\n\t\t\toffset = this.toSeconds(offset);\n\t\t\tduration = this.defaultArg(duration, this._buffer.duration - offset);\n\t\t\t//the values in seconds\n\t\t\tstartTime = this.toSeconds(startTime);\n\t\t\tduration = this.toSeconds(duration);\n\t\t\t//make the source\n\t\t\tthis._source = this.context.createBufferSource();\n\t\t\tthis._source.buffer = this._buffer.get();\n\t\t\t//set the looping properties\n\t\t\tif (this._loop){\n\t\t\t\tthis._source.loop = this._loop;\n\t\t\t\tthis._source.loopStart = this.toSeconds(this._loopStart);\n\t\t\t\tthis._source.loopEnd = this.toSeconds(this._loopEnd);\n\t\t\t\t// this fixes a bug in chrome 42 that breaks looping\n\t\t\t\t// https://code.google.com/p/chromium/issues/detail?id=457099\n\t\t\t\tduration = 65536;\n\t\t\t} else {\n\t\t\t\tthis._nextStop = startTime + duration;\n\t\t\t}\n\t\t\t//and other properties\n\t\t\tthis._source.playbackRate.value = this._playbackRate;\n\t\t\tthis._source.onended = this.onended;\n\t\t\tthis._source.connect(this.output);\n\t\t\t//start it\n\t\t\tthis._source.start(startTime, offset, duration);\n\t\t} else {\n\t\t\tthrow Error(\"tried to start Player before the buffer was loaded\");\n\t\t}\n\t\treturn this;\n\t};\n\n\t/**\n\t *  Stop playback.\n\t *  @private\n\t *  @param  {Tone.Type.Time} [time=now]\n\t *  @returns {Tone.Player} `this`\n\t */\n\tTone.Player.prototype._stop = function(time){\n\t\tif (this._source){\n\t\t\tthis._source.stop(this.toSeconds(time));\n\t\t\tthis._source = null;\n\t\t}\n\t\treturn this;\n\t};\n\n\t/**\n\t *  Set the loop start and end. Will only loop if `loop` is \n\t *  set to `true`. \n\t *  @param {Tone.Type.Time} loopStart The loop end time\n\t *  @param {Tone.Type.Time} loopEnd The loop end time\n\t *  @returns {Tone.Player} `this`\n\t *  @example\n\t *  player.setLoopPoints(0.2, 0.3);\n\t *  player.loop = true;\n\t */\n\tTone.Player.prototype.setLoopPoints = function(loopStart, loopEnd){\n\t\tthis.loopStart = loopStart;\n\t\tthis.loopEnd = loopEnd;\n\t\treturn this;\n\t};\n\n\t/**\n\t * If `loop` is true, the loop will start at this position. \n\t * @memberOf Tone.Player#\n\t * @type {Tone.Type.Time}\n\t * @name loopStart\n\t */\n\tObject.defineProperty(Tone.Player.prototype, \"loopStart\", {\n\t\tget : function(){\n\t\t\treturn this._loopStart;\n\t\t}, \n\t\tset : function(loopStart){\n\t\t\tthis._loopStart = loopStart;\n\t\t\tif (this._source){\n\t\t\t\tthis._source.loopStart = this.toSeconds(loopStart);\n\t\t\t}\n\t\t}\n\t});\n\n\t/**\n\t * If `loop` is true, the loop will end at this position.\n\t * @memberOf Tone.Player#\n\t * @type {Tone.Type.Time}\n\t * @name loopEnd\n\t */\n\tObject.defineProperty(Tone.Player.prototype, \"loopEnd\", {\n\t\tget : function(){\n\t\t\treturn this._loopEnd;\n\t\t}, \n\t\tset : function(loopEnd){\n\t\t\tthis._loopEnd = loopEnd;\n\t\t\tif (this._source){\n\t\t\t\tthis._source.loopEnd = this.toSeconds(loopEnd);\n\t\t\t}\n\t\t}\n\t});\n\n\t/**\n\t * The audio buffer belonging to the player. \n\t * @memberOf Tone.Player#\n\t * @type {AudioBuffer}\n\t * @name buffer\n\t */\n\tObject.defineProperty(Tone.Player.prototype, \"buffer\", {\n\t\tget : function(){\n\t\t\treturn this._buffer;\n\t\t}, \n\t\tset : function(buffer){\n\t\t\tthis._buffer.set(buffer);\n\t\t}\n\t});\n\n\t/**\n\t * If the buffer should loop once it's over. \n\t * @memberOf Tone.Player#\n\t * @type {boolean}\n\t * @name loop\n\t */\n\tObject.defineProperty(Tone.Player.prototype, \"loop\", {\n\t\tget : function(){\n\t\t\treturn this._loop;\n\t\t}, \n\t\tset : function(loop){\n\t\t\tthis._loop = loop;\n\t\t\tif (this._source){\n\t\t\t\tthis._source.loop = loop;\n\t\t\t}\n\t\t}\n\t});\n\n\t/**\n\t * The playback speed. 1 is normal speed. \n\t * Note that this is not a Tone.Signal because of a bug in Blink. \n\t * Please star this issue if this an important thing to you: \n\t * https://code.google.com/p/chromium/issues/detail?id=311284\n\t * \n\t * @memberOf Tone.Player#\n\t * @type {number}\n\t * @name playbackRate\n\t */\n\tObject.defineProperty(Tone.Player.prototype, \"playbackRate\", {\n\t\tget : function(){\n\t\t\treturn this._playbackRate;\n\t\t}, \n\t\tset : function(rate){\n\t\t\tthis._playbackRate = rate;\n\t\t\tif (this._source) {\n\t\t\t\tthis._source.playbackRate.value = rate;\n\t\t\t}\n\t\t}\n\t});\n\n\t/**\n\t * The direction the buffer should play in\n\t * @memberOf Tone.Player#\n\t * @type {boolean}\n\t * @name reverse\n\t */\n\tObject.defineProperty(Tone.Player.prototype, \"reverse\", {\n\t\tget : function(){\n\t\t\treturn this._buffer.reverse;\n\t\t}, \n\t\tset : function(rev){\n\t\t\tthis._buffer.reverse = rev;\n\t\t}\n\t});\n\n\t/**\n\t *  dispose and disconnect\n\t *  @return {Tone.Player} `this`\n\t */\n\tTone.Player.prototype.dispose = function(){\n\t\tTone.Source.prototype.dispose.call(this);\n\t\tif (this._source !== null){\n\t\t\tthis._source.disconnect();\n\t\t\tthis._source = null;\n\t\t}\n\t\tthis._buffer.dispose();\n\t\tthis._buffer = null;\n\t\treturn this;\n\t};\n\n\treturn Tone.Player;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/source/Player.js\n ** module id = 122\n ** module chunks = 1\n **/","define([\"preset/Interpolator\", \"interface/PresetGUI\"], function(Interpolator, GUI){\n\n\treturn new Interpolator(\n\t[\n\t\t{\n\t\t\t\"player\": {\n\t\t\t\t\"volume\": -6,\n\t\t\t\t// \"loop\": false\n\t\t\t},\n\t\t\t\"envelope\": {\n\t\t\t\t\"attack\": \"32t\",\n\t\t\t\t\"decay\": \"16n\",\n\t\t\t\t\"release\": \"16n\",\n\t\t\t\t\"sustain\": 0.3\n\t\t\t},\n\t\t\t\"filterEnvelope\": {\n\t\t\t\t\"attack\": \"32t\",\n\t\t\t\t\"decay\": \"16n\",\n\t\t\t\t\"release\": \"2n\",\n\t\t\t\t\"sustain\": 0.4,\n\t\t\t\t\"min\": 470,\n\t\t\t\t\"max\": 5500\n\t\t\t},\n\t\t\t\"filter\": {\n\t\t\t\t\"Q\": 7\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"player\": {\n\t\t\t\t\"volume\": -8,\n\t\t\t\t// \"loop\": false\n\t\t\t},\n\t\t\t\"envelope\": {\n\t\t\t\t\"attack\": \"32n\",\n\t\t\t\t\"decay\": \"8n\",\n\t\t\t\t\"release\": \"4n\",\n\t\t\t\t\"sustain\": 0.9\n\t\t\t},\n\t\t\t\"filterEnvelope\": {\n\t\t\t\t\"attack\": \"128n\",\n\t\t\t\t\"decay\": \"16t\",\n\t\t\t\t\"release\": \"1m\",\n\t\t\t\t\"sustain\": 1,\n\t\t\t\t\"min\": 330,\n\t\t\t\t\"max\": 8700\n\t\t\t},\n\t\t\t\"filter\": {\n\t\t\t\t\"Q\": 1.2\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"player\": {\n\t\t\t\t\"volume\": 0,\n\t\t\t\t// \"loop\": true\n\t\t\t},\n\t\t\t\"envelope\": {\n\t\t\t\t\"sustain\": 0.2,\n\t\t\t\t\"attack\": \"64t\",\n\t\t\t\t\"decay\": \"64n\",\n\t\t\t\t\"release\": \"8n\"\n\t\t\t},\n\t\t\t\"filterEnvelope\": {\n\t\t\t\t\"sustain\": 1,\n\t\t\t\t\"min\": 941,\n\t\t\t\t\"max\": 3700,\n\t\t\t\t\"attack\": \"128n\",\n\t\t\t\t\"decay\": \"16t\",\n\t\t\t\t\"release\": \"4n\"\n\t\t\t},\n\t\t\t\"filter\": {\n\t\t\t\t\"Q\": 8.6\n\t\t\t}\n\t\t}\n\t], \"Voice Preset\", GUI);\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/preset/Voice.js\n ** module id = 123\n ** module chunks = 1\n **/","define([\"Tone/effect/Convolver\", \"Tone/core/Bus\", \"interface/GUI\", \n\t\"effect/Delay\", \"util/Config\", \"effect/Master\", \"effect/Drums\", \"Tone/component/Filter\", \"Tone/core/Master\"], \n\tfunction(Reverb, Bus, GUI, Delay, Config, MasterEffects, Drums, Filter, Master){\n\n\t//reverb\n\tif (!Config.MOBILE){\n\t\tvar reverb = new Reverb(\"./audio/IR4.wav\");\n\t\treverb.receive(\"reverb\");\n\n\t\tvar filter = new Filter({\n\t\t\t\"type\" : \"highpass\",\n\t\t\t\"frequency\" : 400,\n\t\t\t\"Q\" : 1,\n\t\t}).connect(reverb.context.destination);\n\n\t\t// reverb.connect(filter);\n\t\treverb.connect(reverb.context.destination);\n\t\t\n\t\tif (Config.GUI){\n\t\t\tvar effectFolder = GUI.getFolder(\"Effect\");\n\t\t\tGUI.addTone2(effectFolder, \"filter\", filter);\n\t\t}\n\t}\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/effect/Main.js\n ** module id = 124\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/core/Buffer\", \"Tone/effect/Effect\"], function(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t *  @class  Convolver wrapper for reverb and emulation.\n\t *  \n\t *  @constructor\n\t *  @extends {Tone.Effect}\n\t *  @param {string|AudioBuffer=} url\n\t *  @example\n\t *  var convolver = new Tone.Convolver(\"./path/to/ir.wav\");\n\t */\n\tTone.Convolver = function(){\n\n\t\tvar options = this.optionsObject(arguments, [\"url\"], Tone.Convolver.defaults);\n\t\tTone.Effect.call(this, options);\n\n\t  \t/**\n\t\t *  convolver node\n\t\t *  @type {ConvolverNode}\n\t\t *  @private\n\t\t */\n\t\tthis._convolver = this.context.createConvolver();\n\n\t\t/**\n\t\t *  the convolution buffer\n\t\t *  @type {Tone.Buffer}\n\t\t *  @private\n\t\t */\n\t\tthis._buffer = new Tone.Buffer(options.url, function(buffer){\n\t\t\tthis.buffer = buffer;\n\t\t\toptions.onload();\n\t\t}.bind(this));\n\n\t\tthis.connectEffect(this._convolver);\n\t};\n\n\tTone.extend(Tone.Convolver, Tone.Effect);\n\n\t/**\n\t *  @static\n\t *  @const\n\t *  @type  {Object}\n\t */\n\tTone.Convolver.defaults = {\n\t\t\"url\" : \"\",\n\t\t\"onload\" : function(){}\n\t};\n\n\t/**\n\t *  The convolver's buffer\n\t *  @memberOf Tone.Convolver#\n\t *  @type {AudioBuffer}\n\t *  @name buffer\n\t */\n\tObject.defineProperty(Tone.Convolver.prototype, \"buffer\", {\n\t\tget : function(){\n\t\t\treturn this._buffer.get();\n\t\t},\n\t\tset : function(buffer){\n\t\t\tthis._buffer.set(buffer);\n\t\t\tthis._convolver.buffer = this._buffer.get();\n\t\t}\n\t});\n\n\t/**\n\t *  Load an impulse response url as an audio buffer.\n\t *  Decodes the audio asynchronously and invokes\n\t *  the callback once the audio buffer loads.\n\t *  @param {string} url the url of the buffer to load.\n\t *                      filetype support depends on the\n\t *                      browser.\n\t *  @param  {function=} callback\n\t *  @returns {Tone.Convolver} `this`\n\t */\n\tTone.Convolver.prototype.load = function(url, callback){\n\t\tthis._buffer.load(url, function(buff){\n\t\t\tthis.buffer = buff;\n\t\t\tif (callback){\n\t\t\t\tcallback();\n\t\t\t}\n\t\t}.bind(this));\n\t\treturn this;\n\t};\n\n\t/**\n\t *  dispose and disconnect\n\t *  @returns {Tone.Convolver} `this`\n\t */\n\tTone.Convolver.prototype.dispose = function(){\n\t\tTone.Effect.prototype.dispose.call(this);\n\t\tthis._convolver.disconnect();\n\t\tthis._convolver = null;\n\t\tthis._buffer.dispose();\n\t\tthis._buffer = null;\n\t\treturn this;\n\t}; \n\n\treturn Tone.Convolver;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/effect/Convolver.js\n ** module id = 125\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/component/CrossFade\"], function(Tone){\n\n\t\"use strict\";\n\t\n\t/**\n\t * \t@class  Effect is the base class for effects. connect the effect between\n\t * \t        the effectSend and effectReturn GainNodes. then control the amount of\n\t * \t        effect which goes to the output using the dry/wet control.\n\t *\n\t *  @constructor\n\t *  @extends {Tone}\n\t *  @param {number} [initialWet=0] the starting wet value\n\t *                                 defaults to 100% wet\n\t */\n\tTone.Effect = function(){\n\n\t\tTone.call(this);\n\n\t\t//get all of the defaults\n\t\tvar options = this.optionsObject(arguments, [\"wet\"], Tone.Effect.defaults);\n\n\t\t/**\n\t\t *  the drywet knob to control the amount of effect\n\t\t *  @type {Tone.CrossFade}\n\t\t *  @private\n\t\t */\n\t\tthis._dryWet = new Tone.CrossFade(options.wet);\n\n\t\t/**\n\t\t *  The wet control, i.e. how much of the effected\n\t\t *  will pass through to the output. \n\t\t *  @type {Tone.Signal}\n\t\t */\n\t\tthis.wet = this._dryWet.fade;\n\n\t\t/**\n\t\t *  connect the effectSend to the input of hte effect\n\t\t *  \n\t\t *  @type {GainNode}\n\t\t *  @private\n\t\t */\n\t\tthis.effectSend = this.context.createGain();\n\n\t\t/**\n\t\t *  connect the output of the effect to the effectReturn\n\t\t *  \n\t\t *  @type {GainNode}\n\t\t *  @private\n\t\t */\n\t\tthis.effectReturn = this.context.createGain();\n\n\t\t//connections\n\t\tthis.input.connect(this._dryWet.a);\n\t\tthis.input.connect(this.effectSend);\n\t\tthis.effectReturn.connect(this._dryWet.b);\n\t\tthis._dryWet.connect(this.output);\n\t\tthis._readOnly([\"wet\"]);\n\t};\n\n\tTone.extend(Tone.Effect);\n\n\t/**\n\t *  @static\n\t *  @type {Object}\n\t */\n\tTone.Effect.defaults = {\n\t\t\"wet\" : 1\n\t};\n\n\t/**\n\t *  bypass the effect\n\t *  @returns {Tone.Effect} `this`\n\t */\n\tTone.Effect.prototype.bypass = function(){\n\t\tthis.wet.value = 0;\n\t\treturn this;\n\t};\n\n\t/**\n\t *  chains the effect in between the effectSend and effectReturn\n\t *  @param  {Tone} effect\n\t *  @private\n\t *  @returns {Tone.Effect} `this`\n\t */\n\tTone.Effect.prototype.connectEffect = function(effect){\n\t\tthis.effectSend.chain(effect, this.effectReturn);\n\t\treturn this;\n\t};\n\n\t/**\n\t *  tear down\n\t *  @returns {Tone.Effect} `this`\n\t */\n\tTone.Effect.prototype.dispose = function(){\n\t\tTone.prototype.dispose.call(this);\n\t\tthis._dryWet.dispose();\n\t\tthis._dryWet = null;\n\t\tthis.effectSend.disconnect();\n\t\tthis.effectSend = null;\n\t\tthis.effectReturn.disconnect();\n\t\tthis.effectReturn = null;\n\t\tthis._writable([\"wet\"]);\n\t\tthis.wet = null;\n\t\treturn this;\n\t};\n\n\treturn Tone.Effect;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/effect/Effect.js\n ** module id = 126\n ** module chunks = 1\n **/","define([\"Tone/core/Bus\", \"interface/GUI\", \"Tone/effect/PingPongDelay\", \"Tone/core/Transport\", \n\t\"controller/Mediator\", \"util/Config\"], \n\tfunction(Bus, GUI, PingPongDelay, Transport, Mediator, Config){\n\n/*\tif (!Config.MOBILE){\n\t\tvar delayTime = \"16n\";\n\t\tvar pingPong = new PingPongDelay(delayTime, 0.2).toMaster();\n\t\tpingPong.receive(\"delay\");\n\n\t\tMediator.route(\"scroll\", function(position){\n\t\t\tpingPong.delayTime.rampTo(\"16n\", Config.SLOW_UPDATE);\n\t\t});\n\n\t\tif (Config.GUI){\n\t\t\tvar effectFolder = GUI.getFolder(\"Effect\");\n\t\t\tGUI.addTone2(effectFolder, \"Delay\", pingPong, [\"feedback\"]);\n\t\t}\n\t}*/\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/effect/Delay.js\n ** module id = 127\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/effect/StereoXFeedbackEffect\", \"Tone/signal/Signal\"], \nfunction(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t *  @class  PingPongDelay is a dual delay effect where the echo is heard\n\t *          first in one channel and next in the opposite channel\n\t *\n\t * \t@constructor\n\t * \t@extends {Tone.StereoXFeedbackEffect}\n\t *  @param {Tone.Type.Time|Object} [delayTime=0.25] is the interval between consecutive echos\n\t *  @param {number=} feedback The amount of the effected signal which \n\t *                            is fed back through the delay.\n\t *  @example\n\t *  var pingPong = new Tone.PingPongDelay(\"4n\", 0.2);\n\t */\n\tTone.PingPongDelay = function(){\n\t\t\n\t\tvar options = this.optionsObject(arguments, [\"delayTime\", \"feedback\"], Tone.PingPongDelay.defaults);\n\t\tTone.StereoXFeedbackEffect.call(this, options);\n\n\t\t/**\n\t\t *  the delay node on the left side\n\t\t *  @type {DelayNode}\n\t\t *  @private\n\t\t */\n\t\tthis._leftDelay = this.context.createDelay(options.maxDelayTime);\n\n\t\t/**\n\t\t *  the delay node on the right side\n\t\t *  @type {DelayNode}\n\t\t *  @private\n\t\t */\n\t\tthis._rightDelay = this.context.createDelay(options.maxDelayTime);\n\n\t\t/**\n\t\t *  the predelay on the right side\n\t\t *  @type {DelayNode}\n\t\t *  @private\n\t\t */\n\t\tthis._rightPreDelay = this.context.createDelay(options.maxDelayTime);\n\n\t\t/**\n\t\t *  the delay time signal\n\t\t *  @type {Tone.Signal}\n\t\t */\n\t\tthis.delayTime = new Tone.Signal(options.delayTime, Tone.Type.Time);\n\n\t\t//connect it up\n\t\tthis.effectSendL.chain(this._leftDelay, this.effectReturnL);\n\t\tthis.effectSendR.chain(this._rightPreDelay, this._rightDelay, this.effectReturnR);\n\t\tthis.delayTime.fan(this._leftDelay.delayTime, this._rightDelay.delayTime, this._rightPreDelay.delayTime);\n\t\t//rearranged the feedback to be after the rightPreDelay\n\t\tthis._feedbackLR.disconnect();\n\t\tthis._feedbackLR.connect(this._rightDelay);\n\t\tthis._readOnly([\"delayTime\"]);\n\t};\n\n\tTone.extend(Tone.PingPongDelay, Tone.StereoXFeedbackEffect);\n\n\t/**\n\t *  @static\n\t *  @type {Object}\n\t */\n\tTone.PingPongDelay.defaults = {\n\t\t\"delayTime\" : 0.25,\n\t\t\"maxDelayTime\" : 1\n\t};\n\n\t/**\n\t *  clean up\n\t *  @returns {Tone.PingPongDelay} `this`\n\t */\n\tTone.PingPongDelay.prototype.dispose = function(){\n\t\tTone.StereoXFeedbackEffect.prototype.dispose.call(this);\n\t\tthis._leftDelay.disconnect();\n\t\tthis._leftDelay = null;\n\t\tthis._rightDelay.disconnect();\n\t\tthis._rightDelay = null;\n\t\tthis._rightPreDelay.disconnect();\n\t\tthis._rightPreDelay = null;\n\t\tthis._writable([\"delayTime\"]);\n\t\tthis.delayTime.dispose();\n\t\tthis.delayTime = null;\n\t\treturn this;\n\t};\n\n\treturn Tone.PingPongDelay;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/effect/PingPongDelay.js\n ** module id = 128\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/effect/StereoEffect\", \"Tone/effect/FeedbackEffect\"], \nfunction(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t *  @class Just like a stereo feedback effect, but the feedback is routed from left to right\n\t *         and right to left instead of on the same channel.\n\t *\n\t *\t@constructor\n\t *\t@extends {Tone.FeedbackEffect}\n\t */\n\tTone.StereoXFeedbackEffect = function(){\n\n\t\tvar options = this.optionsObject(arguments, [\"feedback\"], Tone.FeedbackEffect.defaults);\n\t\tTone.StereoEffect.call(this, options);\n\n\t\t/**\n\t\t *  controls the amount of feedback\n\t\t *  @type {Tone.Signal}\n\t\t */\n\t\tthis.feedback = new Tone.Signal(options.feedback);\n\n\t\t/**\n\t\t *  the left side feeback\n\t\t *  @type {GainNode}\n\t\t *  @private\n\t\t */\n\t\tthis._feedbackLR = this.context.createGain();\n\n\t\t/**\n\t\t *  the right side feeback\n\t\t *  @type {GainNode}\n\t\t *  @private\n\t\t */\n\t\tthis._feedbackRL = this.context.createGain();\n\n\t\t//connect it up\n\t\tthis.effectReturnL.chain(this._feedbackLR, this.effectSendR);\n\t\tthis.effectReturnR.chain(this._feedbackRL, this.effectSendL);\n\t\tthis.feedback.fan(this._feedbackLR.gain, this._feedbackRL.gain);\n\t\tthis._readOnly([\"feedback\"]);\n\t};\n\n\tTone.extend(Tone.StereoXFeedbackEffect, Tone.FeedbackEffect);\n\n\t/**\n\t *  clean up\n\t *  @returns {Tone.StereoXFeedbackEffect} `this`\n\t */\n\tTone.StereoXFeedbackEffect.prototype.dispose = function(){\n\t\tTone.StereoEffect.prototype.dispose.call(this);\n\t\tthis._writable([\"feedback\"]);\n\t\tthis.feedback.dispose();\n\t\tthis.feedback = null;\n\t\tthis._feedbackLR.disconnect();\n\t\tthis._feedbackLR = null;\n\t\tthis._feedbackRL.disconnect();\n\t\tthis._feedbackRL = null;\n\t\treturn this;\n\t};\n\n\treturn Tone.StereoXFeedbackEffect;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/effect/StereoXFeedbackEffect.js\n ** module id = 129\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/effect/Effect\", \"Tone/component/Split\", \n\t\"Tone/component/Merge\", \"Tone/component/CrossFade\"], \nfunction(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t *  @class Creates an effect with an effectSendL/R and effectReturnL/R\n\t *\n\t *\t@constructor\n\t *\t@extends {Tone.Effect}\n\t */\n\tTone.StereoEffect = function(){\n\n\t\tTone.call(this);\n\t\t//get the defaults\n\t\tvar options = this.optionsObject(arguments, [\"wet\"], Tone.Effect.defaults);\n\n\t\t/**\n\t\t *  the drywet knob to control the amount of effect\n\t\t *  @type {Tone.CrossFade}\n\t\t *  @private\n\t\t */\n\t\tthis._dryWet = new Tone.CrossFade(options.wet);\n\n\t\t/**\n\t\t *  The wet control, i.e. how much of the effected\n\t\t *  will pass through to the output. \n\t\t *  @type {Tone.Signal}\n\t\t */\n\t\tthis.wet = this._dryWet.fade;\n\n\t\t/**\n\t\t *  then split it\n\t\t *  @type {Tone.Split}\n\t\t *  @private\n\t\t */\n\t\tthis._split = new Tone.Split();\n\n\t\t/**\n\t\t *  the effects send LEFT\n\t\t *  @type {GainNode}\n\t\t *  @private\n\t\t */\n\t\tthis.effectSendL = this._split.left;\n\n\t\t/**\n\t\t *  the effects send RIGHT\n\t\t *  @type {GainNode}\n\t\t *  @private\n\t\t */\n\t\tthis.effectSendR = this._split.right;\n\n\t\t/**\n\t\t *  the stereo effect merger\n\t\t *  @type {Tone.Merge}\n\t\t *  @private\n\t\t */\n\t\tthis._merge = new Tone.Merge();\n\n\t\t/**\n\t\t *  the effect return LEFT\n\t\t *  @type {GainNode}\n\t\t */\n\t\tthis.effectReturnL = this._merge.left;\n\n\t\t/**\n\t\t *  the effect return RIGHT\n\t\t *  @type {GainNode}\n\t\t */\n\t\tthis.effectReturnR = this._merge.right;\n\n\t\t//connections\n\t\tthis.input.connect(this._split);\n\t\t//dry wet connections\n\t\tthis.input.connect(this._dryWet, 0, 0);\n\t\tthis._merge.connect(this._dryWet, 0, 1);\n\t\tthis._dryWet.connect(this.output);\n\t\tthis._readOnly([\"wet\"]);\n\t};\n\n\tTone.extend(Tone.StereoEffect, Tone.Effect);\n\n\t/**\n\t *  clean up\n\t *  @returns {Tone.StereoEffect} `this`\n\t */\n\tTone.StereoEffect.prototype.dispose = function(){\n\t\tTone.prototype.dispose.call(this);\n\t\tthis._dryWet.dispose();\n\t\tthis._dryWet = null;\n\t\tthis._split.dispose();\n\t\tthis._split = null;\n\t\tthis._merge.dispose();\n\t\tthis._merge = null;\n\t\tthis.effectSendL = null;\n\t\tthis.effectSendR = null;\n\t\tthis.effectReturnL = null;\n\t\tthis.effectReturnR = null;\n\t\tthis._writable([\"wet\"]);\n\t\tthis.wet = null;\n\t\treturn this;\n\t};\n\n\treturn Tone.StereoEffect;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/effect/StereoEffect.js\n ** module id = 130\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/effect/Effect\", \"Tone/signal/Signal\", \"Tone/signal/Multiply\"], function(Tone){\n\n\t\"use strict\";\n\t\n\t/**\n\t * \t@class  Feedback Effect (a sound loop between an audio source and its own output)\n\t *\n\t *  @constructor\n\t *  @extends {Tone.Effect}\n\t *  @param {number|Object} [initialFeedback=0.125] the initial feedback value\n\t */\n\tTone.FeedbackEffect = function(){\n\n\t\tvar options = this.optionsObject(arguments, [\"feedback\"]);\n\t\toptions = this.defaultArg(options, Tone.FeedbackEffect.defaults);\n\n\t\tTone.Effect.call(this, options);\n\n\t\t/**\n\t\t *  controls the amount of feedback\n\t\t *  @type {Tone.Signal}\n\t\t */\n\t\tthis.feedback = new Tone.Signal(options.feedback, Tone.Type.NormalRange);\n\t\t\n\t\t/**\n\t\t *  the gain which controls the feedback\n\t\t *  @type {GainNode}\n\t\t *  @private\n\t\t */\n\t\tthis._feedbackGain = this.context.createGain();\n\n\t\t//the feedback loop\n\t\tthis.effectReturn.chain(this._feedbackGain, this.effectSend);\n\t\tthis.feedback.connect(this._feedbackGain.gain);\n\t\tthis._readOnly([\"feedback\"]);\n\t};\n\n\tTone.extend(Tone.FeedbackEffect, Tone.Effect);\n\n\t/**\n\t *  @static\n\t *  @type {Object}\n\t */\n\tTone.FeedbackEffect.defaults = {\n\t\t\"feedback\" : 0.125\n\t};\n\n\t/**\n\t *  clean up\n\t *  @returns {Tone.FeedbackEffect} `this`\n\t */\n\tTone.FeedbackEffect.prototype.dispose = function(){\n\t\tTone.Effect.prototype.dispose.call(this);\n\t\tthis._writable([\"feedback\"]);\n\t\tthis.feedback.dispose();\n\t\tthis.feedback = null;\n\t\tthis._feedbackGain.disconnect();\n\t\tthis._feedbackGain = null;\n\t\treturn this;\n\t};\n\n\treturn Tone.FeedbackEffect;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/effect/FeedbackEffect.js\n ** module id = 131\n ** module chunks = 1\n **/","define([\"Tone/core/Master\", \"util/Config\", \"Tone/component/Filter\", \"controller/Mediator\", \n\t\"Tone/component/Compressor\", \"interface/GUI\", \"TERP\", \"controller/Conductor\" ,\"Tone/component/EQ3\", \n\t\"Tone/component/LFO\", \"Tone/effect/Distortion\"], \n\tfunction(Master, Config, Filter, Mediator, Compressor, GUI, TERP, Conductor, EQ3, LFO, Distortion){\n\n\tif (!Config.MOBILE){\n\t\tvar compressor = new Compressor({\n\t\t\t\"attack\" : 0.6,\n\t\t\t\"release\" : 0.1,\n\t\t\t\"threshold\" : -8,\n\t\t\t\"ratio\" : 3.4,\n\t\t\t\"knee\" : 24\n\t\t});\n\n\t\tvar filter = new Filter(20000, \"lowpass\");\n\t\tfilter.Q.value = 1;\n\n\t\tvar saturation = new Distortion({\n\t\t\t\"distortion\" : 0.1,\n\t\t\t\"wet\" : 0.1\n\t\t});\n\n\t\twindow.saturation = saturation;\n\n\t\t//master filtering\n\n\n\t\tvar lowBump = new Filter({\n\t\t\t\"frequency\" : 220,\n\t\t\t\"type\" : \"lowshelf\",\n\t\t\t\"Q\" : 2.1,\n\t\t\t\"gain\" : 6,\n\t\t});\n\n\t\tMaster.chain(filter, compressor, lowBump, saturation);\n\n\t\tMaster.volume.value = 2;\n\n\t\t//events\n\t\tMediator.route(\"B\", function(time){\n\t\t\tfilter.frequency.setCurrentValueNow(time);\n\t\t\tfilter.frequency.exponentialRampToValueAtTime(20000, time + \" + 2n\");\n\t\t});\n\n\t\t//test if it's time to transition to the B section\n\t\tMediator.route(\"scroll\", function(){\n\t\t\tvar movement = Conductor.getMovement();\n\t\t\tif (movement === 0){\n\t\t\t\tvar bTransition = Conductor.getBTransitionProgress();\n\t\t\t\tif (bTransition > 0){\n\t\t\t\t\tvar filterFreq = TERP.scale(bTransition, 20000, 350, 0.5);\n\t\t\t\t\tfilter.frequency.value = filterFreq;\n\t\t\t\t}\n\t\t\t} else if (movement === 2) {\n\t\t\t\tvar endTransition = Conductor.getEndTransitionProgress();\n\t\t\t\tif (endTransition > 0){\n\t\t\t\t\tvar endFilterFreq = TERP.scale(endTransition, 20000, 350, 0.5);\n\t\t\t\t\tfilter.frequency.value = endFilterFreq;\n\t\t\t\t}\n\t\t\t}\n\n\t\t});\n\n\t\tMediator.route(\"replay\", function(){\n\t\t\tMaster.volume.value = 0;\n\t\t});\n\n\t\tMediator.route(\"pause\", function(){\n\t\t\tMaster.mute = true;\n\t\t});\n\t\tMediator.route(\"play\", function(){\n\t\t\tMaster.mute = false;\n\t\t});\n\n\t\tif (Config.GUI){\n\t\t\tvar folder = GUI.getFolder(\"Master Effects\");\n\t\t\tGUI.addTone2(folder, \"Compressor\", compressor);\n\t\t\tGUI.addTone2(folder, \"lowBump\", lowBump);\n\t\t\tGUI.addTone2(folder, \"saturation\", saturation);\n\t\t}\n\t}\n\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/effect/Master.js\n ** module id = 132\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/component/MultibandSplit\", \"Tone/signal/Signal\"], function(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t *  @class A 3 band EQ with control over low, mid, and high gain as\n\t *         well as the low and high crossover frequencies. \n\t *\n\t *  @constructor\n\t *  @extends {Tone}\n\t *  \n\t *  @param {number|object} [lowLevel=0] the gain applied to the lows (in db)\n\t *  @param {number} [midLevel=0] the gain applied to the mid (in db)\n\t *  @param {number} [highLevel=0] the gain applied to the high (in db)\n\t *  @example\n\t *  var eq = new Tone.EQ3(-10, 3, -20);\n\t */\n\tTone.EQ3 = function(){\n\n\t\tvar options = this.optionsObject(arguments, [\"low\", \"mid\", \"high\"], Tone.EQ3.defaults);\n\n\t\t/**\n\t\t *  the output node\n\t\t *  @type {GainNode}\n\t\t *  @private\n\t\t */\n\t\tthis.output = this.context.createGain();\n\n\t\t/**\n\t\t *  the multiband split\n\t\t *  @type {Tone.MultibandSplit}\n\t\t *  @private\n\t\t */\n\t\tthis._multibandSplit = this.input = new Tone.MultibandSplit({\n\t\t\t\"lowFrequency\" : options.lowFrequency,\n\t\t\t\"highFrequency\" : options.highFrequency\n\t\t});\n\n\t\t/**\n\t\t *  the low gain\n\t\t *  @type {GainNode}\n\t\t *  @private\n\t\t */\n\t\tthis._lowGain = this.context.createGain();\n\n\t\t/**\n\t\t *  the mid gain\n\t\t *  @type {GainNode}\n\t\t *  @private\n\t\t */\n\t\tthis._midGain = this.context.createGain();\n\n\t\t/**\n\t\t *  the high gain\n\t\t *  @type {GainNode}\n\t\t *  @private\n\t\t */\n\t\tthis._highGain = this.context.createGain();\n\n\t\t/**\n\t\t * The gain in decibels of the low part\n\t\t * @type {Tone.Signal}\n\t\t */\n\t\tthis.low = new Tone.Signal(this._lowGain.gain, Tone.Type.Decibels);\n\n\t\t/**\n\t\t * The gain in decibels of the mid part\n\t\t * @type {Tone.Signal}\n\t\t */\n\t\tthis.mid = new Tone.Signal(this._midGain.gain, Tone.Type.Decibels);\n\n\t\t/**\n\t\t * The gain in decibels of the high part\n\t\t * @type {Tone.Signal}\n\t\t */\n\t\tthis.high = new Tone.Signal(this._highGain.gain, Tone.Type.Decibels);\n\n\t\t/**\n\t\t *  the Q value\n\t\t *  @type {Tone.Signal}\n\t\t */\n\t\tthis.Q = this._multibandSplit.Q;\n\n\t\t/**\n\t\t *  the low/mid crossover frequency\n\t\t *  @type {Tone.Signal}\n\t\t */\n\t\tthis.lowFrequency = this._multibandSplit.lowFrequency;\n\n\t\t/**\n\t\t *  the mid/high crossover frequency\n\t\t *  @type {Tone.Signal}\n\t\t */\n\t\tthis.highFrequency = this._multibandSplit.highFrequency;\n\n\t\t//the frequency bands\n\t\tthis._multibandSplit.low.chain(this._lowGain, this.output);\n\t\tthis._multibandSplit.mid.chain(this._midGain, this.output);\n\t\tthis._multibandSplit.high.chain(this._highGain, this.output);\n\t\t//set the gains\n\t\tthis.low.value = options.low;\n\t\tthis.mid.value = options.mid;\n\t\tthis.high.value = options.high;\n\t\tthis._readOnly([\"low\", \"mid\", \"high\", \"lowFrequency\", \"highFrequency\"]);\n\t};\n\n\tTone.extend(Tone.EQ3);\n\n\t/**\n\t *  the default values\n\t *  @type {Object}\n\t *  @static\n\t */\n\tTone.EQ3.defaults = {\n\t\t\"low\" : 0,\n\t\t\"mid\" : 0,\n\t\t\"high\" : 0,\n\t\t\"lowFrequency\" : 400,\n\t\t\"highFrequency\" : 2500\n\t};\n\n\t/**\n\t *  clean up\n\t *  @returns {Tone.EQ3} `this`\n\t */\n\tTone.EQ3.prototype.dispose = function(){\n\t\tTone.prototype.dispose.call(this);\n\t\tthis._writable([\"low\", \"mid\", \"high\", \"lowFrequency\", \"highFrequency\"]);\n\t\tthis._multibandSplit.dispose();\n\t\tthis._multibandSplit = null;\n\t\tthis.lowFrequency = null;\n\t\tthis.highFrequency = null;\n\t\tthis._lowGain.disconnect();\n\t\tthis._lowGain = null;\n\t\tthis._midGain.disconnect();\n\t\tthis._midGain = null;\n\t\tthis._highGain.disconnect();\n\t\tthis._highGain = null;\n\t\tthis.low.dispose();\n\t\tthis.low = null;\n\t\tthis.mid.dispose();\n\t\tthis.mid = null;\n\t\tthis.high.dispose();\n\t\tthis.high = null;\n\t\tthis.Q = null;\n\t\treturn this;\n\t};\n\n\treturn Tone.EQ3;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/component/EQ3.js\n ** module id = 133\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/component/Filter\", \"Tone/signal/Signal\"], function(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t *  @class Split the incoming signal into three bands (low, mid, high)\n\t *         with two crossover frequency controls. \n\t *\n\t *  @extends {Tone}\n\t *  @constructor\n\t *  @param {number} lowFrequency the low/mid crossover frequency\n\t *  @param {number} highFrequency the mid/high crossover frequency\n\t */\n\tTone.MultibandSplit = function(){\n\t\tvar options = this.optionsObject(arguments, [\"lowFrequency\", \"highFrequency\"], Tone.MultibandSplit.defaults);\n\n\t\t/**\n\t\t *  the input\n\t\t *  @type {GainNode}\n\t\t *  @private\n\t\t */\n\t\tthis.input = this.context.createGain();\n\n\t\t/**\n\t\t *  the outputs\n\t\t *  @type {Array}\n\t\t *  @private\n\t\t */\n\t\tthis.output = new Array(3);\n\n\t\t/**\n\t\t *  the low band\n\t\t *  @type {Tone.Filter}\n\t\t */\n\t\tthis.low = this.output[0] = new Tone.Filter(0, \"lowpass\");\n\n\t\t/**\n\t\t *  the lower filter of the mid band\n\t\t *  @type {Tone.Filter}\n\t\t *  @private\n\t\t */\n\t\tthis._lowMidFilter = new Tone.Filter(0, \"highpass\");\n\n\t\t/**\n\t\t *  the mid band\n\t\t *  @type {Tone.Filter}\n\t\t */\n\t\tthis.mid = this.output[1] = new Tone.Filter(0, \"lowpass\");\n\n\t\t/**\n\t\t *  the high band\n\t\t *  @type {Tone.Filter}\n\t\t */\n\t\tthis.high = this.output[2] = new Tone.Filter(0, \"highpass\");\n\n\t\t/**\n\t\t *  the low/mid crossover frequency\n\t\t *  @type {Tone.Signal}\n\t\t */\n\t\tthis.lowFrequency = new Tone.Signal(options.lowFrequency);\n\n\t\t/**\n\t\t *  the mid/high crossover frequency\n\t\t *  @type {Tone.Signal}\n\t\t */\n\t\tthis.highFrequency = new Tone.Signal(options.highFrequency);\n\n\t\t/**\n\t\t *  the quality of all the fitlers\n\t\t *  @type {Tone.Signal}\n\t\t */\n\t\tthis.Q = new Tone.Signal(options.Q);\n\n\t\tthis.input.fan(this.low, this.high);\n\t\tthis.input.chain(this._lowMidFilter, this.mid);\n\t\t//the frequency control signal\n\t\tthis.lowFrequency.connect(this.low.frequency);\n\t\tthis.lowFrequency.connect(this._lowMidFilter.frequency);\n\t\tthis.highFrequency.connect(this.mid.frequency);\n\t\tthis.highFrequency.connect(this.high.frequency);\n\t\t//the Q value\n\t\tthis.Q.connect(this.low.Q);\n\t\tthis.Q.connect(this._lowMidFilter.Q);\n\t\tthis.Q.connect(this.mid.Q);\n\t\tthis.Q.connect(this.high.Q);\n\n\t\tthis._readOnly([\"high\", \"mid\", \"low\", \"highFrequency\", \"lowFrequency\"]);\n\t};\n\n\tTone.extend(Tone.MultibandSplit);\n\n\t/**\n\t *  @private\n\t *  @static\n\t *  @type {Object}\n\t */\n\tTone.MultibandSplit.defaults = {\n\t\t\"lowFrequency\" : 400,\n\t\t\"highFrequency\" : 2500,\n\t\t\"Q\" : 1,\n\t};\n\n\t/**\n\t *  clean up\n\t *  @returns {Tone.MultibandSplit} `this`\n\t */\n\tTone.MultibandSplit.prototype.dispose = function(){\n\t\tTone.prototype.dispose.call(this);\n\t\tthis._writable([\"high\", \"mid\", \"low\", \"highFrequency\", \"lowFrequency\"]);\n\t\tthis.low.dispose();\n\t\tthis.low = null;\n\t\tthis._lowMidFilter.dispose();\n\t\tthis._lowMidFilter = null;\n\t\tthis.mid.dispose();\n\t\tthis.mid = null;\n\t\tthis.high.dispose();\n\t\tthis.high = null;\n\t\tthis.lowFrequency.dispose();\n\t\tthis.lowFrequency = null;\n\t\tthis.highFrequency.dispose();\n\t\tthis.highFrequency = null;\n\t\tthis.Q.dispose();\n\t\tthis.Q = null;\n\t\treturn this;\n\t};\n\n\treturn Tone.MultibandSplit;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/component/MultibandSplit.js\n ** module id = 134\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/effect/Effect\", \"Tone/signal/WaveShaper\"], function(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t *  @class A simple distortion effect using the waveshaper node\n\t *         algorithm from http://stackoverflow.com/a/22313408\n\t *\n\t *  @extends {Tone.Effect}\n\t *  @constructor\n\t *  @param {number} distortion the amount of distortion (nominal range of 0-1)\n\t *  @example\n\t *  var dist = new Tone.Distortion(0.8);\n\t */\n\tTone.Distortion = function(){\n\n\t\tvar options = this.optionsObject(arguments, [\"distortion\"], Tone.Distortion.defaults);\n\n\t\tTone.Effect.call(this, options);\n\n\t\t/**\n\t\t *  @type {Tone.WaveShaper}\n\t\t *  @private\n\t\t */\n\t\tthis._shaper = new Tone.WaveShaper(4096);\n\n\t\t/**\n\t\t * holds the distortion amount\n\t\t * @type {number}\n\t\t * @private\n\t\t */\n\t\tthis._distortion = options.distortion;\n\n\t\tthis.connectEffect(this._shaper);\n\t\tthis.distortion = options.distortion;\n\t\tthis.oversample = options.oversample;\n\t};\n\n\tTone.extend(Tone.Distortion, Tone.Effect);\n\n\t/**\n\t *  @static\n\t *  @const\n\t *  @type {Object}\n\t */\n\tTone.Distortion.defaults = {\n\t\t\"distortion\" : 0.4,\n\t\t\"oversample\" : \"none\"\n\t};\n\n\t/**\n\t * The amount of distortion. Range between 0-1. \n\t * @memberOf Tone.Distortion#\n\t * @type {number}\n\t * @name distortion\n\t */\n\tObject.defineProperty(Tone.Distortion.prototype, \"distortion\", {\n\t\tget : function(){\n\t\t\treturn this._distortion;\n\t\t},\n\t\tset : function(amount){\n\t\t\tthis._distortion = amount;\n\t\t\tvar k = amount * 100;\n\t\t\tvar deg = Math.PI / 180;\n\t\t\tthis._shaper.setMap(function(x){\n\t\t\t\tif (Math.abs(x) < 0.001){\n\t\t\t\t\t//should output 0 when input is 0\n\t\t\t\t\treturn 0;\n\t\t\t\t} else {\n\t\t\t\t\treturn ( 3 + k ) * x * 20 * deg / ( Math.PI + k * Math.abs(x) );\n\t\t\t\t}\n\t\t\t});\n\t\t} \n\t});\n\n\t/**\n\t * The oversampling of the effect. Can either be \"none\", \"2x\" or \"4x\".\n\t * @memberOf Tone.Distortion#\n\t * @type {string}\n\t * @name oversample\n\t */\n\tObject.defineProperty(Tone.Distortion.prototype, \"oversample\", {\n\t\tget : function(){\n\t\t\treturn this._shaper.oversample;\n\t\t},\n\t\tset : function(oversampling){\n\t\t\tthis._shaper.oversample = oversampling;\n\t\t} \n\t});\n\n\t/**\n\t *  clean up\n\t *  @returns {Tone.Distortion} `this`\n\t */\n\tTone.Distortion.prototype.dispose = function(){\n\t\tTone.Effect.prototype.dispose.call(this);\n\t\tthis._shaper.dispose();\n\t\tthis._shaper = null;\n\t\treturn this;\n\t};\n\n\treturn Tone.Distortion;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/effect/Distortion.js\n ** module id = 135\n ** module chunks = 1\n **/","define([\"Tone/core/Bus\", \"interface/GUI\", \"Tone/component/Compressor\", \n\t\"controller/Mediator\", \"util/Config\"], \n\tfunction(Bus, GUI, Compressor, Mediator, Config){\n\n\tvar comp = new Compressor({\n\t\t\"attack\": 0.29,\n\t\t\"release\": 0.07,\n\t\t\"threshold\": -10,\n\t\t\"ratio\": 6,\n\t\t\"knee\" : 8\n\t}).toMaster().receive(\"drums\");\n\n\tif (Config.GUI){\n\t\tvar effectFolder = GUI.getFolder(\"Effect\");\n\t\tGUI.addTone2(effectFolder, \"Drums Compressor\", comp);\n\t}\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/effect/Drums.js\n ** module id = 136\n ** module chunks = 1\n **/","define([\"preset/Interpolator\", \"interface/PresetGUI\"], function(Interpolator, GUI){\n\n\treturn new Interpolator(\n\t[\n\t\t{\n\t\t\t\"envelope\": {\n\t\t\t\t\"attack\": 0.081,\n\t\t\t\t\"decay\": 0.1,\n\t\t\t\t\"release\": 0.1,\n\t\t\t\t\"sustain\": 0.3\n\t\t\t},\n\t\t\t\"filterEnvelope\": {\n\t\t\t\t\"attack\": 0.006,\n\t\t\t\t\"decay\": 0.01,\n\t\t\t\t\"release\": 0.17,\n\t\t\t\t\"sustain\": 0.97,\n\t\t\t\t\"min\": 8000,\n\t\t\t\t\"max\": 20\n\t\t\t},\n\t\t\t\"filter\": {\n\t\t\t\t\"Q\": 2\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"envelope\": {\n\t\t\t\t\"attack\": 0.11,\n\t\t\t\t\"decay\": 0.07,\n\t\t\t\t\"release\": 0.1,\n\t\t\t\t\"sustain\": 0.35\n\t\t\t},\n\t\t\t\"filterEnvelope\": {\n\t\t\t\t\"attack\": 0.12,\n\t\t\t\t\"decay\": 0.22,\n\t\t\t\t\"release\": 0.18,\n\t\t\t\t\"sustain\": 0.84,\n\t\t\t\t\"min\": 4500,\n\t\t\t\t\"max\": 40\n\t\t\t},\n\t\t\t\"filter\": {\n\t\t\t\t\"Q\": 1\n\t\t\t}\n\t\t}\n\t], \"Voice B Preset\", GUI);\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/preset/VoiceB.js\n ** module id = 137\n ** module chunks = 1\n **/","define([\"channel/HighHat\", \"controller/Conductor\", \"controller/Mediator\", \n\t\"channel/Kick\", \"channel/Snare\", \"TERP\", \"Tone/core/Note\", \"Tone/core/Tone\"], \nfunction(HighHat, Conductor, Mediator, Kick, Snare, TERP, Note, Tone){\n\n\t//generate highhat patterns\n\tvar highhat = [];\n\tvar measure, eighth, beat, sixteenth;\n\t//0-2: tripplets\n\tfor (measure = 0; measure <= 2; measure++){\n\t\tfor (beat = 0; beat < 4; beat++){\n\t\t\tfor (eighth = 0; eighth < 3; eighth++){\n\t\t\t\tif (beat === 1 && eighth === 0){\n\n\t\t\t\t} else {\n\t\t\t\t\thighhat.push(measure + \":\" + beat +\"+8t*\"+eighth);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t//3-5 : eighth notes\n\tfor (measure = 3; measure <= 5; measure++){\n\t\tfor (beat = 0; beat < 4; beat++){\n\t\t\tfor (sixteenth = 0; sixteenth < 4; sixteenth++){\n\t\t\t\tif (beat === 1 && sixteenth === 0){\n\n\t\t\t\t} else {\n\t\t\t\t\t// sixteenth = eighth * 2;\n\t\t\t\t\thighhat.push(measure + \":\" + beat +\":\"+sixteenth);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t//6-9 : eighth notes\n\tfor (measure = 6; measure <= 8; measure++){\n\t\tfor (beat = 0; beat < 4; beat++){\n\t\t\tfor (eighth = 0; eighth < 2; eighth++){\n\t\t\t\tsixteenth = eighth * 2;\n\t\t\t\thighhat.push(measure + \":\" + beat +\":\"+sixteenth);\n\t\t\t}\n\t\t}\n\t}\n\t//10-12 : eighth notes\n\tfor (measure = 9; measure <= 11; measure++){\n\t\tfor (beat = 0; beat < 4; beat++){\n\t\t\tfor (sixteenth = 0; sixteenth < 4; sixteenth++){\n\t\t\t\tif (Math.random() < 0.8){\n\t\t\t\t\thighhat.push(measure + \":\" + beat +\":\"+sixteenth);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t//12-14 : eighth notes\n\tfor (measure = 12; measure <= 14; measure++){\n\t\tfor (beat = 0; beat < 4; beat++){\n\t\t\tfor (sixteenth = 0; sixteenth < 4; sixteenth++){\n\t\t\t\thighhat.push(measure + \":\" + beat +\":\"+sixteenth);\n\t\t\t}\n\t\t}\n\t}\n\n\t//15-17 : eighth notes\n\tfor (measure = 15; measure <= 17; measure++){\n\t\tfor (beat = 0; beat < 4; beat++){\n\t\t\tfor (sixteenth = 0; sixteenth < 4; sixteenth++){\n\t\t\t\thighhat.push(measure + \":\" + beat +\":\"+sixteenth);\n\t\t\t}\n\t\t}\n\t}\n\n\t//18-20 : sixteenth notes\n\tfor (measure = 18; measure <= 20; measure++){\n\t\tfor (beat = 0; beat < 4; beat++){\n\t\t\tfor (sixteenth = 0; sixteenth < 4; sixteenth++){\n\t\t\t\tif (sixteenth === 3 || sixteenth === 2){\n\t\t\t\t\thighhat.push(measure + \":\" + beat +\":\"+sixteenth);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t//21-23 : sixteenth notes\n\tfor (measure = 21; measure <= 23; measure++){\n\t\tfor (beat = 0; beat < 4; beat++){\n\t\t\tfor (sixteenth = 0; sixteenth < 4; sixteenth++){\n\t\t\t\tif (sixteenth === 1 || sixteenth === 3){\n\t\t\t\t\thighhat.push(measure + \":\" + beat +\":\"+sixteenth);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tvar kick = [\n\t\t[\"0:0\", \"D1\"], [\"0:1 + 2*8t\", \"D1\"], [\"0:2\", \"D1\"], \n\t\t[\"1:0\", \"D1\"], [\"1:1 + 2*8t\", \"D1\"], [\"1:2\", \"D1\"], \n\t\t[\"2:0\", \"D1\"], [\"2:1 + 2*8t\", \"D1\"], [\"2:2\", \"D1\"], \n\n\t\t[\"3:0\", \"C1\"], [\"3:1:2\", \"C1\"], [\"3:2\", \"C1\"], [\"3:3:2\", \"C1\"], \n\t\t[\"4:0\", \"C1\"], [\"4:1:2\", \"C1\"], [\"4:2\", \"C1\"], [\"4:3:2\", \"C1\"], \n\t\t[\"5:0\", \"C1\"], [\"5:1:2\", \"C1\"], [\"5:2\", \"C1\"], [\"5:3:2\", \"C1\"], \n\n\t\t[\"6:0:2\", \"D1\"], [\"6:1\", \"D1\"], [\"6:1:2\", \"D1\"], [\"6:3\", \"D1\"], \n\t\t[\"7:0:2\", \"D1\"], [\"7:1\", \"D1\"], [\"7:1:2\", \"D1\"], [\"7:3\", \"D1\"], \n\t\t[\"8:0:2\", \"D1\"], [\"8:1\", \"D1\"], [\"8:1:2\", \"D1\"], [\"8:3\", \"D1\"], \n\n\t\t[\"9:0\", \"D1\"], [\"9:1\", \"D1\"], [\"9:2\", \"D1\"], [\"9:3\", \"D1\"], \n\t\t[\"10:0\", \"D1\"], [\"10:1\", \"D1\"], [\"10:2\", \"D1\"], [\"10:3\", \"D1\"], \n\t\t[\"11:0\", \"D1\"], [\"11:1\", \"D1\"], [\"11:2\", \"D1\"], [\"11:3\", \"D1\"], \n\n\t\t//B Part\n\t\t[\"12:0\", \"G1\"], [\"12:1:3\", \"G1\", 0.85], [\"12:2\", \"G1\", 0.9], [\"12:3:1\", \"G1\", 0.8], \n\t\t[\"13:0\", \"G1\", 0.92], [\"13:1:3\", \"G1\", 0.7], [\"13:2\", \"G1\", 0.8], [\"13:3:2\", \"G1\", 0.6],\n\t\t[\"14:0\", \"G1\", 0.8], [\"14:1:3\", \"G1\", 0.85], [\"14:2\", \"G1\", 0.85], [\"14:3:3\", \"G1\", 0.92], \n\n\t\t[\"15:0\", \"C1\"], [\"15:0:3\", \"C1\", 0.8], [\"15:2\", \"C1\", 0.8], [\"15:2:3\", \"C1\", 0.8], \n\t\t[\"16:0\", \"C1\"], [\"16:0:3\", \"C1\", 0.8], [\"16:2\", \"C1\", 0.8], [\"16:2:3\", \"C1\", 0.8], \n\t\t[\"17:0\", \"C1\"], [\"17:0:3\", \"C1\", 0.8], [\"17:2\", \"C1\", 0.8], [\"17:2:3\", \"C1\", 0.8], \n\n\t\t[\"18:0\", \"D1\"], [\"18:0:2\", \"D1\"], [\"18:2:2\", \"D1\"],\n\t\t[\"19:0\", \"D1\"], [\"19:0:2\", \"D1\"], [\"19:2:2\", \"D1\"],\n\t\t[\"20:0\", \"D1\"], [\"20:0:2\", \"D1\"], [\"20:2:2\", \"D1\"],\n\n\t\t[\"21:0\", \"G1\"], [\"21:0:3\", \"G1\"], [\"21:1\", \"G1\"], [\"21:1:2\", \"G1\"], [\"21:2:2\", \"G1\"],\n\t\t[\"22:0\", \"G1\"], [\"22:1\", \"G1\"], [\"22:1:2\", \"G1\"], [\"22:2:2\", \"G1\"],\n\t\t[\"23:0\", \"G1\"], [\"23:1\", \"G1\"],\n\t];\n\n\tvar snare = [\n\t\t[\"0:1\"], [\"0:3\"], \n\t\t[\"1:1\"], [\"1:3\"], \n\t\t[\"2:1\"], [\"2:3\"], \n\n\t\t[\"3:1\"], [\"3:3\"], \n\t\t[\"4:1\"], [\"4:3\"], \n\t\t[\"5:1\"], [\"5:3\"], \n\n\t\t[\"6:1\"], [\"6:2:2\"], \n\t\t[\"7:1\"], [\"7:2:2\"], \n\t\t[\"8:1\"], [\"8:2:2\"], \n\n\t\t[\"9:1\"],   [\"9:2:2\"],  [\"9:3:1\"], \n\t\t[\"10:1\"], [\"10:2:2\"], [\"10:3:1\"], \n\t\t[\"11:1\"], [\"11:2:2\"], [\"11:3:1\"], \n\n\t\t[\"12:1\"], [\"12:2:2\"], \n\t\t[\"13:1\"], [\"13:3:1\"], \n\t\t[\"14:1\"], [\"14:2:2\"], [\"14:3:1\"],\n\n\t\t[\"15:1\"], [\"15:3\"], \n\t\t[\"16:1\"], [\"16:3\"], \n\t\t[\"17:1\"], [\"17:3\"], \n\n\t\t[\"18:1\"], [\"18:3\"], \n\t\t[\"19:1\"], [\"19:3\"], \n\t\t[\"20:1\"], [\"20:3\"], \n\n\t\t[\"21:1:2\"], [\"21:3\"], \n\t\t[\"22:1:2\"], [\"22:3\"], \n\t\t[\"23:1:2\"], [\"23:3\"], \n\t];\n\n\t//convert the kick notes to frequencies\n\tfor (var i = 0; i < kick.length; i++){\n\t\tkick[i][1] = Tone.prototype.noteToFrequency(kick[i][1]);\n\t}\n\n\tConductor.parseScore(highhat, function(time, note, chordName){\n\t\tif (Conductor.hasHH()){\n\t\t\tvar velocity = TERP.scale(Math.random(), 0.36, 1);\n\t\t\tvar pan = Math.random();\n\t\t\tHighHat.triggerAttackRelease(\"8n\", time, velocity, pan);\n\t\t\tMediator.deferSend(\"highhat\", velocity, pan);\n\t\t}\n\t});\n\n\tConductor.parseScore(kick, function(time, note, probability){\n\t\tif (Conductor.hasKick()){\n\t\t\tif (!probability || Math.random() < probability){\n\t\t\t\tKick.triggerAttackRelease(\"8n\", time, note);\n\t\t\t\tMediator.deferSend(\"kick\");\n\t\t\t}\n\t\t}\n\t});\n\n\tConductor.parseScore(snare, function(time){\n\t\tif (Conductor.hasSnare()){\n\t\t\tSnare.triggerAttack(time);\n\t\t\tMediator.deferSend(\"snare\");\n\t\t}\n\t});\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/score/Drums.js\n ** module id = 138\n ** module chunks = 1\n **/","define([\"Tone/instrument/NoiseSynth\", \"preset/HighHatSound\", \n\t\"controller/Conductor\", \"Tone/core/Master\", \"Tone/core/Transport\", \n \"Tone/component/Filter\", \"Tone/component/PanVol\", \"interface/GUI\", \n \"TERP\", \"Tone/signal/Signal\", \"Tone/component/Panner\", \"Tone/component/Mono\", \"util/Config\"], \nfunction(NoiseSynth, Preset, Conductor, Master, Transport, \n\tFilter, PanVol, GUI, TERP, Signal, Panner, Mono, Config){\n\n\tvar synth = new NoiseSynth({\n\t\t\"envelope\" : {\n\t\t\t\"sustain\" : 0.0,\n\t\t\t\"attack\" : 0.005,\n\t\t\t\"decay\" : 0.1,\n\t\t},\n\t\t\"filterEnvelope\" : {\n\t\t\t\"sustain\" : 0,\n\t\t\t\"min\": 13000,\n\t\t\t\"max\": 3900,\n\t\t\t\"exponent\" : 2\n\t\t},\n\t\t\"filter\" : {\n\t\t\t\"type\" : \"highpass\",\n\t\t\t\"rolloff\" : -12\n\t\t},\n\t\t\"noise\" : {\n\t\t\t\"type\" : \"white\"\n\t\t},\n\t});\n\n\tvar filt = new Filter( {\n\t\t\"frequency\" : 8500,\n\t\t\"type\" : \"highpass\",\n\t\t\"Q\" : 4,\n\t});\n\n\tvar panner = new Panner();\n\n\tpanner.send(\"drums\");\n\n\t// CONECTIONS //\n\n\tsynth.chain(filt, panner);\n\n\t//Effects\n\tvar effectLevels = {\n\t\t\"reverb\" : -50,\n\t};\n\n\tvar revAmount = filt.send(\"reverb\", effectLevels.reverb);\n\n\t// GUI\n\tif (Config.GUI){\n\t\tvar reverbControl = new Signal(revAmount.gain, Signal.Units.Decibels);\n\t\treverbControl.value = effectLevels.reverb;\n\t\tvar hhFolder = GUI.getFolder(\"High Hat\");\n\t\tGUI.addTone2(hhFolder, \"synth\", synth);\n\t\tGUI.addTone2(hhFolder, \"filter\", filt);\n\t\thhFolder.add(reverbControl, \"value\", -100, 1).name(\"reverb\");\n\t\t// hhFolder.addSignal(panner, \"pan\", 0, 1);\n\t}\n\t\n\treturn {\n\t\ttriggerAttackRelease : function(duration, time, velocity, pan){\n\t\t\tPreset.update(function(pres){\n\t\t\t\tsynth.set(pres);\n\t\t\t});\n\t\t\t//random pan\n\t\t\tpan = TERP.scale(pan, 0.2, 0.8);\n\t\t\t// panner.pan.rampTo(pan, 0.01);\n\t\t\tpanner.pan.value = pan;\n\t\t\tsynth.triggerAttack(time, velocity);\n\t\t},\n\t\tvolume : synth.volume\n\t};\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/channel/HighHat.js\n ** module id = 139\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/component/AmplitudeEnvelope\", \"Tone/component/ScaledEnvelope\", \n\t\"Tone/source/Noise\", \"Tone/signal/Signal\", \"Tone/component/Filter\", \"Tone/instrument/Instrument\"], \nfunction(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t *  @class  the NoiseSynth is a single oscillator, monophonic synthesizer\n\t *          with a filter, and two envelopes (on the filter and the amplitude)\n\t *\n\t *  @constructor\n\t *  @extends {Tone.Instrument}\n\t *  @param {Object} options the options available for the synth \n\t *                          see defaults below\n\t * @example\n\t * var noiseSynth = new Tone.NoiseSynth();\n\t */\n\tTone.NoiseSynth = function(options){\n\n\t\t//get the defaults\n\t\toptions = this.defaultArg(options, Tone.NoiseSynth.defaults);\n\t\tTone.Instrument.call(this);\n\n\t\t/**\n\t\t *  The noise source. Set the type by setting\n\t\t *  `noiseSynth.noise.type`. \n\t\t *  @type {Tone.Noise}\n\t\t */\n\t\tthis.noise = new Tone.Noise();\n\n\t\t/**\n\t\t *  The filter .\n\t\t *  @type {Tone.Filter}\n\t\t */\n\t\tthis.filter = new Tone.Filter(options.filter);\n\n\t\t/**\n\t\t *  The filter envelope. \n\t\t *  @type {Tone.Envelope}\n\t\t */\n\t\tthis.filterEnvelope = new Tone.ScaledEnvelope(options.filterEnvelope);\n\n\t\t/**\n\t\t *  The amplitude envelope. \n\t\t *  @type {Tone.Envelope}\n\t\t */\n\t\tthis.envelope = new Tone.AmplitudeEnvelope(options.envelope);\n\n\t\t//connect the noise to the output\n\t\tthis.noise.chain(this.filter, this.envelope, this.output);\n\t\t//start the noise\n\t\tthis.noise.start();\n\t\t//connect the filter envelope\n\t\tthis.filterEnvelope.connect(this.filter.frequency);\n\t\tthis._readOnly([\"noise\", \"filter\", \"filterEnvelope\", \"envelope\"]);\n\t};\n\n\tTone.extend(Tone.NoiseSynth, Tone.Instrument);\n\n\t/**\n\t *  @const\n\t *  @static\n\t *  @type {Object}\n\t */\n\tTone.NoiseSynth.defaults = {\n\t\t\"noise\" : {\n\t\t\t\"type\" : \"white\"\n\t\t},\n\t\t\"filter\" : {\n\t\t\t\"Q\" : 6,\n\t\t\t\"type\" : \"highpass\",\n\t\t\t\"rolloff\" : -24\n\t\t},\n\t\t\"envelope\" : {\n\t\t\t\"attack\" : 0.005,\n\t\t\t\"decay\" : 0.1,\n\t\t\t\"sustain\" : 0.0,\n\t\t},\n\t\t\"filterEnvelope\" : {\n\t\t\t\"attack\" : 0.06,\n\t\t\t\"decay\" : 0.2,\n\t\t\t\"sustain\" : 0,\n\t\t\t\"release\" : 2,\n\t\t\t\"min\" : 20,\n\t\t\t\"max\" : 4000,\n\t\t\t\"exponent\" : 2\n\t\t}\n\t};\n\n\t/**\n\t *  start the attack portion of the envelope\n\t *  @param {Tone.Type.Time} [time=now] the time the attack should start\n\t *  @param {number} [velocity=1] the velocity of the note (0-1)\n\t *  @returns {Tone.NoiseSynth} `this`\n\t */\n\tTone.NoiseSynth.prototype.triggerAttack = function(time, velocity){\n\t\t//the envelopes\n\t\tthis.envelope.triggerAttack(time, velocity);\n\t\tthis.filterEnvelope.triggerAttack(time);\t\n\t\treturn this;\t\n\t};\n\n\t/**\n\t *  start the release portion of the envelope\n\t *  @param {Tone.Type.Time} [time=now] the time the release should start\n\t *  @returns {Tone.NoiseSynth} `this`\n\t */\n\tTone.NoiseSynth.prototype.triggerRelease = function(time){\n\t\tthis.envelope.triggerRelease(time);\n\t\tthis.filterEnvelope.triggerRelease(time);\n\t\treturn this;\n\t};\n\n\t/**\n\t *  trigger the attack and then the release\n\t *  @param  {Tone.Type.Time} duration the duration of the note\n\t *  @param  {Tone.Type.Time} [time=now]     the time of the attack\n\t *  @param  {number} [velocity=1] the velocity\n\t *  @returns {Tone.NoiseSynth} `this`\n\t */\n\tTone.NoiseSynth.prototype.triggerAttackRelease = function(duration, time, velocity){\n\t\ttime = this.toSeconds(time);\n\t\tduration = this.toSeconds(duration);\n\t\tthis.triggerAttack(time, velocity);\n\t\tthis.triggerRelease(time + duration);\n\t\treturn this;\n\t};\n\n\t/**\n\t *  clean up\n\t *  @returns {Tone.NoiseSynth} `this`\n\t */\n\tTone.NoiseSynth.prototype.dispose = function(){\n\t\tTone.Instrument.prototype.dispose.call(this);\n\t\tthis._writable([\"noise\", \"filter\", \"filterEnvelope\", \"envelope\"]);\n\t\tthis.noise.dispose();\n\t\tthis.noise = null;\n\t\tthis.envelope.dispose();\n\t\tthis.envelope = null;\n\t\tthis.filterEnvelope.dispose();\n\t\tthis.filterEnvelope = null;\n\t\tthis.filter.dispose();\n\t\tthis.filter = null;\n\t\treturn this;\n\t};\n\n\treturn Tone.NoiseSynth;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/instrument/NoiseSynth.js\n ** module id = 140\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/component/Panner\", \"Tone/component/Volume\"], function(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t *  @class A Panner and volume in one.\n\t *\n\t *  @extends {Tone}\n\t *  @constructor\n\t *  @param {number} pan the initial pan\n\t *  @param {number} volume the volume\n\t *  @example\n\t *  var panVol = new Tone.PanVol(0.25, -12);\n\t */\n\tTone.PanVol = function(pan, volume){\n\t\t\n\t\t/**\n\t\t *  the panning node\n\t\t *  @type {Tone.Panner}\n\t\t *  @private\n\t\t */\n\t\tthis._panner = this.input = new Tone.Panner(pan);\n\n\t\t/**\n\t\t *  the panning control\n\t\t *  @type {Tone.Panner}\n\t\t *  @private\n\t\t */\n\t\tthis.pan = this._panner.pan;\n\n\t\t/**\n\t\t * the volume control\n\t\t * @type {Tone.Volume}\n\t\t * @private\n\t\t */\n\t\tthis._volume = this.output = new Tone.Volume(volume);\n\n\t\t/**\n\t\t *  The volume control in decibels. \n\t\t *  @type {Tone.Signal}\n\t\t */\n\t\tthis.volume = this._volume.volume;\n\n\t\t//connections\n\t\tthis._panner.connect(this._volume);\n\n\t\tthis._readOnly([\"pan\", \"volume\"]);\n\t};\n\n\tTone.extend(Tone.PanVol);\n\n\t/**\n\t *  clean up\n\t *  @returns {Tone.PanVol} `this`\n\t */\n\tTone.PanVol.prototype.dispose = function(){\n\t\tTone.prototype.dispose.call(this);\n\t\tthis._writable([\"pan\", \"volume\"]);\n\t\tthis._panner.dispose();\n\t\tthis._panner = null;\n\t\tthis._volume.dispose();\n\t\tthis._volume = null;\n\t\tthis.pan = null;\n\t\tthis.volume = null;\n\t\treturn this;\n\t};\n\n\treturn Tone.PanVol;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/component/PanVol.js\n ** module id = 141\n ** module chunks = 1\n **/","define([\"preset/Interpolator\", \"interface/PresetGUI\"], function(Interpolator, GUI){\n\n\treturn new Interpolator([\n\t\t{\n\t\t\t\"filter\": {\n\t\t\t\t\"Q\": 7.1\n\t\t\t},\n\t\t\t\"envelope\": {\n\t\t\t\t\"attack\": 0.0007,\n\t\t\t\t\"decay\": 0.009\n\t\t\t},\n\t\t\t\"filterEnvelope\": {\n\t\t\t\t\"attack\": 0.0033,\n\t\t\t\t\"decay\": 0.0119\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"filter\": {\n\t\t\t\t\"Q\": 10\n\t\t\t},\n\t\t\t\"envelope\": {\n\t\t\t\t\"attack\": 0.02,\n\t\t\t\t\"decay\": 0.065\n\t\t\t},\n\t\t\t\"filterEnvelope\": {\n\t\t\t\t\"attack\": 0.0002,\n\t\t\t\t\"decay\": 0.12\n\t\t\t}\n\t\t}\n\t], \"High Hat Preset\", GUI);\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/preset/HighHatSound.js\n ** module id = 142\n ** module chunks = 1\n **/","define([\"Tone/core/Tone\", \"Tone/component/Merge\"], function(Tone){\n\n\t\"use strict\";\n\n\t/**\n\t *  @class Coerces the incoming mono or stereo signal into a mono signal\n\t *         where both left and right channels have the same value. \n\t *\n\t *  @extends {Tone}\n\t *  @constructor\n\t */\n\tTone.Mono = function(){\n\t\tTone.call(this, 1, 0);\n\n\t\t/**\n\t\t *  merge the signal\n\t\t *  @type {Tone.Merge}\n\t\t *  @private\n\t\t */\n\t\tthis._merge = this.output = new Tone.Merge();\n\n\t\tthis.input.connect(this._merge, 0, 0);\n\t\tthis.input.connect(this._merge, 0, 1);\n\t\tthis.input.gain.value = this.dbToGain(-10);\n\t};\n\n\tTone.extend(Tone.Mono);\n\n\t/**\n\t *  clean up\n\t *  @returns {Tone.Mono} `this`\n\t */\n\tTone.Mono.prototype.dispose = function(){\n\t\tTone.prototype.dispose.call(this);\n\t\tthis._merge.dispose();\n\t\tthis._merge = null;\n\t\treturn this;\n\t};\n\n\treturn Tone.Mono;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../Tone.js/Tone/component/Mono.js\n ** module id = 143\n ** module chunks = 1\n **/","define([\"Tone/source/Oscillator\", \"controller/Mediator\",\n \"preset/KickSound\", \"controller/Conductor\", \"Tone/core/Master\", \"Tone/component/Compressor\", \n \"interface/GUI\", \"Tone/component/Filter\", \"Tone/component/AmplitudeEnvelope\",\n  \"Tone/component/ScaledEnvelope\", \"util/Config\"], \nfunction(Oscillator, Mediator, Preset, Conductor, Master, Compressor, GUI, Filter,\n AmplitudeEnvelope, ScaledEnvelope, Config){\n\n\tvar filter = new Filter({\n\t\t\"type\" : \"highpass\",\n\t\t\"frequency\": 55,\n\t\t\"Q\": 4\n\t});\n\n\t//oscillator\n\tvar oscillator = new Oscillator({\n\t\t\"type\" : \"sine\",\n\t});\n\toscillator.sync();\n\n\t//amplitude env\n\n\tvar ampEnv = new AmplitudeEnvelope({\n\t\t\"sustain\" : 0,\n\t\t\"attack\" : 0.0005\n\t});\n\n\t// CONECTIONS // \n\n\t// oscillator.chain(ampEnv, filter, comp, Master);\n\toscillator.chain(ampEnv, filter);\n\n\tfilter.send(\"drums\");\n\n\t// oscillator.chain(ampEnv);\n\n\t// ampEnv.send(\"drums\");\n\n\tvar kickFreqEnv = {\n\t\t\"startMult\": 10,\n\t\t\"attack\": 0.035\n\t};\n\n\t//GUI\n\tif (Config.GUI){\n\t\tvar kickFolder = GUI.getFolder(\"Kick\");\n\t\t// GUI.addTone2(kickFolder, \"Compressor\", comp);\n\t\tGUI.addTone2(kickFolder, \"Filter\", filter);\n\t\tGUI.addObject(kickFolder, \"Freq Env\", kickFreqEnv);\n\t}\n\t\n\treturn {\n\t\ttriggerAttackRelease : function(duration, time, freq){\n\t\t\tPreset.update(function(pre){\n\t\t\t\tampEnv.decay = pre.decay;\n\t\t\t\tkickFreqEnv.startMult = pre.startMult;\n\t\t\t\tkickFreqEnv.attack = pre.attack;\n\t\t\t});\n\t\t\tampEnv.triggerAttack(time);\n\t\t\t//the frequency ramp\n\t\t\t// var freq = oscillator.noteToFrequency(note);\n\t\t\toscillator.frequency.setValueAtTime(freq * kickFreqEnv.startMult, time);\n\t\t\toscillator.frequency.exponentialRampToValueAtTime(freq, time + kickFreqEnv.attack);\n\t\t},\n\t\tvolume : oscillator.volume\n\t};\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/channel/Kick.js\n ** module id = 144\n ** module chunks = 1\n **/","define([\"preset/Interpolator\", \"interface/PresetGUI\"], function(Interpolator, GUI){\n\n\treturn new Interpolator([\n\t\t{\n\t\t\t\"decay\": 0.27,\n\t\t\t\"startMult\": 10,\n\t\t\t\"attack\": 0.01\n\t\t},\n\t\t{\n\t\t\t\"decay\": 2.4,\n\t\t\t\"startMult\": 8,\n\t\t\t\"attack\": 0.08\n\t\t}\n\t], \"Kick Sound\", GUI);\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/preset/KickSound.js\n ** module id = 145\n ** module chunks = 1\n **/","define([\"Tone/source/Noise\", \"Tone/core/Master\", \"Tone/component/Filter\", \n\t\"Tone/component/AmplitudeEnvelope\", \"interface/GUI\", \"preset/SnareSound\", \n\t\"Tone/component/Compressor\", \"Tone/signal/Signal\", \"util/Config\"], \n\tfunction(Noise, Master, Filter, AmplitudeEnvelope, GUI, Preset, Compressor, Signal, Config){\n\n\tvar noise = new Noise({\n\t\t\"type\" : \"pink\"\n\t});\n\tnoise.sync();\n\n\t/*var comp = new Compressor({\n\t\t\"attack\": 0.001,\n\t\t\"release\": 0.05,\n\t\t\"threshold\": -44,\n\t\t\"ratio\": 7.2\n\t});*/\n\n\tvar filter = new Filter({\n\t\t\"type\" : \"highpass\",\n\t\t\"Q\": 4,\n\t\t\"rolloff\" : -12,\n\t\t\"frequency\": 510\n\t});\n\t\n\tvar ampEnv = new AmplitudeEnvelope({\n\t\t\"sustain\" : 0,\n\t});\n\n\t//effects\n\tvar effectLevels = {\n\t\t\"reverb\" : 0,\n\t\t\"delay\" : -30\n\t};\n\n\t// var revAmount = comp.send(\"reverb\", effectLevels.reverb);\n\t// var delayAmount = comp.send(\"delay\", effectLevels.delay);\n\tvar revAmount = filter.send(\"reverb\", effectLevels.reverb);\n\tvar delayAmount = filter.send(\"delay\", effectLevels.delay);\n\n\n\t// GUI\n\tif (Config.GUI){\n\t\tvar reverbControl = new Signal(revAmount.gain, Signal.Units.Decibels);\n\t\treverbControl.value = effectLevels.reverb;\n\t\tvar delayControl = new Signal(delayAmount.gain, Signal.Units.Decibels);\n\t\tdelayControl.value = effectLevels.delay;\n\t\tvar snareFolder = GUI.getFolder(\"Snare\");\n\t\t// GUI.addTone2(snareFolder, \"compressor\", comp);\n\t\tGUI.addTone2(snareFolder, \"filter\", filter);\n\t\tGUI.addTone2(snareFolder, \"envelope\", ampEnv);\n\t\tGUI.addTone2(snareFolder, \"noise\", noise);\n\t\tsnareFolder.add(reverbControl, \"value\", -100, 1).name(\"reverb\");\n\t\tsnareFolder.add(delayControl, \"value\", -100, 1).name(\"delay\");\n\t}\n\n\t// noise.chain(ampEnv, filter, comp, Master);\n\tnoise.chain(ampEnv, filter);\n\n\tfilter.send(\"drums\");\n\n\treturn  {\n\t\ttriggerAttack : function(time){\n\t\t\tPreset.update(function(pres){\n\t\t\t\tampEnv.set(pres.ampEnv);\n\t\t\t});\n\t\t\tampEnv.triggerAttack(time);\n\t\t},\n\t\tvolume : noise.volume\n\t};\n\t\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/channel/Snare.js\n ** module id = 146\n ** module chunks = 1\n **/","define([\"preset/Interpolator\", \"interface/PresetGUI\"], function(Interpolator, GUI){\n\n\treturn new Interpolator(\n\t[\n\t\t{\n\t\t\t\"ampEnv\": {\n\t\t\t\t\"attack\": 0.00083,\n\t\t\t\t\"decay\": 0.0572\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"ampEnv\": {\n\t\t\t\t\"attack\": 0.005,\n\t\t\t\t\"decay\": 0.37\n\t\t\t}\n\t\t}\n\t], \"Snare Preset\", GUI);\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/preset/SnareSound.js\n ** module id = 147\n ** module chunks = 1\n **/","define([\"channel/Arp\", \"controller/Conductor\", \"controller/Mediator\", \"util/Config\"], \n\tfunction(Arp, Conductor, Mediator, Config){\n\n\tvar arpSynth = [];\n\n\tvar subdivision0 = \"8t\";\n\tvar i = 0;\n\tfor (i = 0; i < 12 * 3; i++){\n\t\tarpSynth.push([\"9m + \" + i + \" * \" + subdivision0, subdivision0]);\n\t}\n\n\tvar subdivision1 = \"16n\";\n\tfor (i = 0; i < 16 * 3; i++){\n\t\tarpSynth.push([\"6m + \" + i + \" * \" + subdivision1, subdivision1]);\n\t}\n\n\tvar subdivision2 = \"32n\";\n\tfor (i = 0; i < 32 * 3; i++){\n\t\tarpSynth.push([\"3m + \" + i + \" * \" + subdivision2, subdivision2]);\n\t}\n\n\tvar subdivision3 = \"16t\";\n\tfor (i = 0; i < 24 * 3; i++){\n\t\tarpSynth.push([i + \" * \" + subdivision3, subdivision3]);\n\t}\n\n\t//B Part\n\tvar subdivision4 = \"8n\";\n\tfor (i = 0; i < 8 * 3; i++){\n\t\tarpSynth.push([\"12m + \" + i + \" * \" + subdivision4, subdivision4]);\n\t}\n\n\tvar subdivision5 = \"4n\";\n\tfor (i = 0; i < 4 * 3; i++){\n\t\tarpSynth.push([\"15m + \" + i + \" * \" + subdivision5, subdivision5]);\n\t}\n\n\tvar subdivision6 = \"8t\";\n\tfor (i = 0; i < 12 * 3; i++){\n\t\tarpSynth.push([\"18m + \" + i + \" * \" + subdivision6, subdivision6]);\n\t}\n\n\tvar subdivision7 = \"4t\";\n\tfor (i = 0; i < 6 * 3; i++){\n\t\tarpSynth.push([\"21m + \" + i + \" * \" + subdivision7, subdivision7]);\n\t}\n\n\tvar noteIndex = 0;\n\n\tvar octave = 5;\n\n\tvar chordNotes = {\n\t\t\"Dm\" : [\"C\", \"D\", \"E\", \"F\", \"A\"],\n\t\t\"A7\" : [\"C#\", \"E\", \"G\", \"A\", \"B\"],\n\t\t\"C7\" : [\"C\", \"D\", \"E\", \"F#\", \"A#\"],\n\t\t\"Fmaj\" : [\"C\",\"D\", \"F\", \"G\",  \"A\"],\n\t\t\"D7\" : [\"C\", \"D\", \"E\",  \"F#\",\"A#\"],\n\t\t\"Gmaj\" : [\"D\", \"F#\", \"G\", \"A\", \"B\"],\n\t\t\"Cmaj\" : [\"C\", \"E\", \"G\", \"A\", \"B\"],\n\t};\n\n\tif (!Config.MOBILE){\n\t\tConductor.parseScore(arpSynth, function(time, duration){\n\t\t\tif (Conductor.hasArp()){\n\t\t\t\tvar chordNote = chordNotes[Conductor.getChord()];\n\t\t\t\tArp.triggerAttackRelease(chordNote[noteIndex] + octave, duration, time);\n\t\t\t\tnoteIndex++;\n\t\t\t\tMediator.deferSend(\"arp\", noteIndex);\n\t\t\t\tnoteIndex = noteIndex % 5;\n\t\t\t}\n\t\t});\n\t}\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/score/Arp.js\n ** module id = 148\n ** module chunks = 1\n **/","define([\"Tone/instrument/MonoSynth\", \"Tone/core/Master\", \"interface/GUI\", \"preset/ArpSoundA\", \"preset/ArpSoundB\", \n\t\"Tone/signal/Signal\", \"util/Config\", \"controller/Conductor\"], \nfunction(MonoSynth, Master, GUI, PresetA, PresetB, Signal, Config, Conductor){\n\n\tvar monoSynth, volume;\n\tif (!Config.MOBILE){\n\t\tmonoSynth = new MonoSynth({\n\t\t\t\"oscillator\": {\n\t\t\t\t\"type\": \"pwm\"\n\t\t\t},\n\t\t\t\"filter\" : {\n\t\t\t\t\"type\" : \"highpass\"\n\t\t\t}\n\t\t});\n\t\t\n\t\tmonoSynth.chain(Master);\n\n\t\tvolume = monoSynth.volume;\n\n\t\t// EFFECTS //\n\n\t\tvar effectLevels = {\n\t\t\t\"reverb\" : -24,\n\t\t\t\"delay\" : -5\n\t\t};\n\n\t\tvar reverbAmount = monoSynth.send(\"reverb\", effectLevels.reverb);\n\t\tvar delayAmount = monoSynth.send(\"delay\", effectLevels.delay);\n\n\t\t//GUI\n\t\tif (Config.GUI){\n\t\t\tvar reverbControl = new Signal(reverbAmount.gain, Signal.Units.Decibels);\n\t\t\tvar delayControl = new Signal(delayAmount.gain, Signal.Units.Decibels);\n\t\t\tvar arpFolder = GUI.getFolder(\"ARP\");\n\t\t\tGUI.addTone2(arpFolder, \"synth\", monoSynth);\n\t\t\tarpFolder.add(reverbControl, \"value\", -100, 1).name(\"reverb\");\n\t\t\tarpFolder.add(delayControl, \"value\", -100, 1).name(\"delay\");\n\t\t}\n\t}\n\n\tvar velocity = 1;\n\n\n\treturn {\n\t\ttriggerAttackRelease : function(note, duration, time){\n\t\t\tif (!Config.MOBILE){\n\t\t\t\tvar Preset;\n\t\t\t\tif (Conductor.getMovement() === 1){\n\t\t\t\t\tPreset = PresetB;\n\t\t\t\t} else {\n\t\t\t\t\tPreset = PresetA;\n\t\t\t\t}\n\t\t\t\tPreset.update(function(preset){\n\t\t\t\t\tvelocity = preset.velocity;\n\t\t\t\t\tmonoSynth.set(preset.synth);\n\t\t\t\t});\n\t\t\t\t//add some randomness in the duration\n\t\t\t\tmonoSynth.triggerAttackRelease(note, duration, time, velocity);\n\t\t\t}\n\t\t},\n\t\tvolume : volume\n\t};\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/channel/Arp.js\n ** module id = 149\n ** module chunks = 1\n **/","define([\"preset/Interpolator\", \"channel/Bass\", \"interface/PresetGUI\"], function(Interpolator, Bass, GUI){\n\n\treturn new Interpolator(\n\t\t[\n\t\t\t{\n\t\t\t\t\"velocity\" : 0.15,\n\t\t\t\t\"synth\": {\n\t\t\t\t\t\"portamento\": 0.003,\n\t\t\t\t\t\"oscillator\": {\n\t\t\t\t\t\t\"modulationFrequency\": 8.6\n\t\t\t\t\t},\n\t\t\t\t\t\"envelope\": {\n\t\t\t\t\t\t\"attack\": 0.005,\n\t\t\t\t\t\t\"decay\": 0.054,\n\t\t\t\t\t\t\"sustain\": 0.98,\n\t\t\t\t\t\t\"release\": 0.064\n\t\t\t\t\t},\n\t\t\t\t\t\"filterEnvelope\": {\n\t\t\t\t\t\t\"attack\": 0.002,\n\t\t\t\t\t\t\"decay\": 0.29,\n\t\t\t\t\t\t\"sustain\": 0.276,\n\t\t\t\t\t\t\"release\": 0.13,\n\t\t\t\t\t\t\"min\": 7000,\n\t\t\t\t\t\t\"max\": 810\n\t\t\t\t\t},\n\t\t\t\t\t\"filter\": {\n\t\t\t\t\t\t\"Q\": 4.4\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"velocity\" : 0.15,\n\t\t\t\t\"synth\": {\n\t\t\t\t\t\"portamento\": 0.015,\n\t\t\t\t\t\"oscillator\": {\n\t\t\t\t\t\t\"modulationFrequency\": 1.1\n\t\t\t\t\t},\n\t\t\t\t\t\"envelope\": {\n\t\t\t\t\t\t\"attack\": 0.18,\n\t\t\t\t\t\t\"decay\": 0.04,\n\t\t\t\t\t\t\"sustain\": 0.034,\n\t\t\t\t\t\t\"release\": 0.05\n\t\t\t\t\t},\n\t\t\t\t\t\"filterEnvelope\": {\n\t\t\t\t\t\t\"attack\": 0.07,\n\t\t\t\t\t\t\"decay\": 0.04,\n\t\t\t\t\t\t\"sustain\": 0.09,\n\t\t\t\t\t\t\"release\": 0.049,\n\t\t\t\t\t\t\"min\": 2000,\n\t\t\t\t\t\t\"max\": 710\n\t\t\t\t\t},\n\t\t\t\t\t\"filter\": {\n\t\t\t\t\t\t\"Q\": 3.5\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t], \"Arp Preset A\", GUI);\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/preset/ArpSoundA.js\n ** module id = 150\n ** module chunks = 1\n **/","define([\"preset/Interpolator\", \"channel/Bass\", \"interface/PresetGUI\"], function(Interpolator, Bass, GUI){\n\n\treturn new Interpolator(\n\t\t[\n\t\t\t{\n\t\t\t\t\"velocity\" : 1,\n\t\t\t\t\"synth\": {\n\t\t\t\t\t\"portamento\": 0,\n\t\t\t\t\t\"oscillator\": {\n\t\t\t\t\t\t\"modulationFrequency\": 0.01\n\t\t\t\t\t},\n\t\t\t\t\t\"envelope\": {\n\t\t\t\t\t\t\"attack\": 0.03,\n\t\t\t\t\t\t\"decay\": 0.188,\n\t\t\t\t\t\t\"sustain\": 0.15,\n\t\t\t\t\t\t\"release\": 0.043\n\t\t\t\t\t},\n\t\t\t\t\t\"filterEnvelope\": {\n\t\t\t\t\t\t\"attack\": 0.0023,\n\t\t\t\t\t\t\"decay\": 0.14,\n\t\t\t\t\t\t\"sustain\": 0.12,\n\t\t\t\t\t\t\"release\": 0.21,\n\t\t\t\t\t\t\"min\": 300,\n\t\t\t\t\t\t\"max\": 1530\n\t\t\t\t\t},\n\t\t\t\t\t\"filter\": {\n\t\t\t\t\t\t\"Q\": 5.7\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"velocity\" : 1,\n\t\t\t\t\"synth\": {\n\t\t\t\t\t\"portamento\": 0.086,\n\t\t\t\t\t\"oscillator\": {\n\t\t\t\t\t\t\"modulationFrequency\": 0.2\n\t\t\t\t\t},\n\t\t\t\t\t\"envelope\": {\n\t\t\t\t\t\t\"attack\": 0.13,\n\t\t\t\t\t\t\"decay\": 0.12,\n\t\t\t\t\t\t\"sustain\": 0.35,\n\t\t\t\t\t\t\"release\": 0.098\n\t\t\t\t\t},\n\t\t\t\t\t\"filterEnvelope\": {\n\t\t\t\t\t\t\"attack\": 0.58,\n\t\t\t\t\t\t\"decay\": 0.122,\n\t\t\t\t\t\t\"sustain\": 0.151,\n\t\t\t\t\t\t\"release\": 0.49,\n\t\t\t\t\t\t\"min\": 3500,\n\t\t\t\t\t\t\"max\": 960\n\t\t\t\t\t},\n\t\t\t\t\t\"filter\": {\n\t\t\t\t\t\t\"Q\": 1.6\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t], \"Arp Preset B\", GUI);\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/preset/ArpSoundB.js\n ** module id = 151\n ** module chunks = 1\n **/","define([\"interface/ScrollIndicator\", \"interface/Loading\", \"interface/Splash\", \n\t\"interface/Password\", \"interface/Notification\", \"interface/Info\", \"interface/HD\"], \n\tfunction(ScrollIndicator, Loading, Splash, Password, Notification, Info, HD){\n\n\t\n\t\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/interface/Main.js\n ** module id = 152\n ** module chunks = 1\n **/","define([\"controller/Mediator\", \"TERP\", \"interface/Window\", \"jquery\", \"interface/Scroll\", \"util/Config\", \"scroll.scss\"], \n\tfunction(Mediator, TERP, Window, $, Scroll, Config, scrollStyle){\n\n\tvar scrollContainer = $(\"#ScrollContainer\");\n\tvar scrollChannel = $(\"<div>\", {\"id\" : \"Channel\"}).appendTo(scrollContainer);\n\tvar indicator = $(\"<div>\", {\"id\" : \"IndicatorContainer\"}).appendTo(scrollChannel);\n\tvar indicatorBar = $(\"<div>\", {\"id\" : \"Indicator\"}).appendTo(indicator);\n\tvar buble = $(\"<div>\", {\"id\" : \"Bubble\"}).appendTo(indicator);\n\tvar body = $(\"body\");\n\n\tvar indicatorHeight = indicator.height();\n\n\tvar channelWidth = scrollChannel.width();\n\tvar channelHeight = scrollChannel.height();\n\n\tvar inside = false;\n\tvar mousedown = false;\n\tvar ontop = false;\n\n\tvar dragging = false;\n\n\t//initial position\n\tvar top = TERP.scale(0.5, Window.height() - indicatorHeight, 0);\n\tindicator.css({\n\t\t\"transform\" : \"translateY(\"+top+\"px)\",\n\t});\n\n\tWindow.resize(function(){\n\t\tchannelHeight = scrollChannel.height();\n\t\tif (Scroll.isStarted() && !Config.MOBILE){\n\t\t\tindicator.css({\n\t\t\t\t\"width\" : Window.width() + channelWidth\n\t\t\t});\n\t\t}\n\t});\n\n\tindicator.on(\"mousedown\", function(e){\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\t\tdragging = true;\n\t\tindicator.addClass(\"Dragging\");\n\t});\n\n\tscrollContainer.on(\"mouseup\", function(e){\n\t\tif (dragging){\n\t\t\te.preventDefault();\n\t\t\tdragging = false;\n\t\t\tindicator.removeClass(\"Dragging\");\n\t\t}\n\t});\n\n\tscrollContainer.on(\"mousemove\", function(e){\n\t\tif (dragging){\n\t\t\te.preventDefault();\n\t\t\tvar position = e.clientY / channelHeight;\n\t\t\tScroll.scrollTop(position);\n\t\t}\n\t});\n\n\tMediator.route(\"rawscroll\", function(position){\n\t\tvar top = TERP.scale(position, Window.height() - indicatorHeight, 0);\n\t\tindicator.css({\n\t\t\t\"transform\" : \"translateY(\"+top+\"px)\",\n\t\t});\n\t});\n\n\tMediator.route(\"start\", function(){\n\t\tscrollContainer.css(\"background-color\", \"rgba(0, 0, 0, 0.0)\");\n\t\tif (!Config.MOBILE){\n\t\t\tindicator.css({\n\t\t\t\t\"width\" : Window.width() + channelWidth\n\t\t\t});\n\t\t}\n\t});\n\n\t// Mediator.route(\"scrollEnd\", scrollFlash);\n\tfunction scrollFlash(){\n\t\tscrollChannel.addClass(\"Highlight\");\n\t\tsetTimeout(function(){\n\t\t\tscrollChannel.removeClass(\"Highlight\");\n\t\t}, 100);\n\t}\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/interface/ScrollIndicator.js\n ** module id = 153\n ** module chunks = 1\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../node_modules/css-loader/index.js!./../node_modules/autoprefixer-loader/index.js!./../node_modules/sass-loader/index.js!./scroll.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js!./../node_modules/autoprefixer-loader/index.js!./../node_modules/sass-loader/index.js!./scroll.scss\", function() {\n\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js!./../node_modules/autoprefixer-loader/index.js!./../node_modules/sass-loader/index.js!./scroll.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./style/scroll.scss\n ** module id = 154\n ** module chunks = 1\n **/","exports = module.exports = require(\"./../node_modules/css-loader/lib/css-base.js\")();\nexports.push([module.id, \"/**\\n *  SCROLL STUFF\\n */\\n#ScrollContainer {\\n  width: 100%;\\n  position: absolute;\\n  left: 0px;\\n  top: 0px;\\n  height: 100%;\\n  /*z-index: 0;*/\\n  overflow: hidden;\\n  background-color: rgba(0, 0, 0, 0.6);\\n  -webkit-transition: background-color 0.2s;\\n          transition: background-color 0.2s; }\\n  #ScrollContainer #InnerScroll {\\n    height: 100%;\\n    width: calc(100% + 20px);\\n    overflow-y: scroll;\\n    /*-webkit-overflow-scrolling: touch;*/ }\\n    #ScrollContainer #InnerScroll #Scroller {\\n      /*height: 100000px;*/\\n      height: 100%;\\n      width: 100%; }\\n  #ScrollContainer #Channel {\\n    width: 24px;\\n    height: 100%;\\n    position: absolute;\\n    top: 0px;\\n    right: 0;\\n    background-color: #ff00d2;\\n    /*border-left: 1px dotted black;*/ }\\n    #ScrollContainer #Channel #IndicatorContainer {\\n      cursor: pointer;\\n      width: 20px;\\n      height: 30px;\\n      border-radius: 2px;\\n      position: absolute;\\n      /*top: calc(50% - 15px - 2px);*/\\n      top: 0px;\\n      right: 2px;\\n      -webkit-transition: width 0.4s;\\n              transition: width 0.4s; }\\n      #ScrollContainer #Channel #IndicatorContainer #Indicator {\\n        width: 20px;\\n        height: 100%;\\n        border-radius: 2px;\\n        position: absolute;\\n        top: 0px;\\n        left: 0px;\\n        background-color: #ff00d2;\\n        opacity: 0.8;\\n        width: 100%; }\\n      #ScrollContainer #Channel #IndicatorContainer #Bubble {\\n        width: 20px;\\n        height: 30px;\\n        border-radius: 2px;\\n        position: absolute;\\n        top: 0px;\\n        right: 0px;\\n        background-color: #1040FF;\\n        opacity: 1; }\\n    #ScrollContainer #Channel #IndicatorContainer:hover #Indicator, #ScrollContainer #Channel #IndicatorContainer:hover #Bubble {\\n      background-color: white; }\\n    #ScrollContainer #Channel #IndicatorContainer.Dragging #Indicator #Indicator, #ScrollContainer #Channel #IndicatorContainer.Dragging #Indicator #Bubble {\\n      background-color: black; }\\n  #ScrollContainer #Channel.Highlight {\\n    background-color: white; }\\n    #ScrollContainer #Channel.Highlight #IndicatorContainer #Bubble {\\n      background-color: black; }\\n\\n#ScrollContainer.B #Channel {\\n  background-color: black;\\n  /*border-left: 1px dotted black;*/ }\\n  #ScrollContainer.B #Channel #IndicatorContainer #Indicator, #ScrollContainer.B #Channel #IndicatorContainer #Bubble {\\n    background-color: white; }\\n  #ScrollContainer.B #Channel #IndicatorContainer:hover #Indicator, #ScrollContainer.B #Channel #IndicatorContainer:hover #Bubble {\\n    background-color: #1040FF; }\\n  #ScrollContainer.B #Channel #IndicatorContainer.Dragging #Indicator #Indicator, #ScrollContainer.B #Channel #IndicatorContainer.Dragging #Indicator #Bubble {\\n    background-color: #ff00d2; }\\n\\n#ScrollContainer.B #Channel.Highlight #IndicatorContainer #Bubble {\\n  background-color: white; }\\n\", \"\"]);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader!./~/autoprefixer-loader!./~/sass-loader!./style/scroll.scss\n ** module id = 155\n ** module chunks = 1\n **/","define([\"jquery\", \"controller/Mediator\", \"Tone/core/Buffer\", \"loading.scss\"], function($, Mediator, Buffer, loadingStyle){\n\n\tvar loadingScreen = $(\"<div>\").attr(\"id\", \"LoadingScreen\").appendTo(\"body\");\n\tvar loadingBar = $(\"<div>\").attr(\"id\", \"LoadingBar\").appendTo(loadingScreen);\n\tvar progressBar = $(\"<div>\").attr(\"id\", \"Progress\").appendTo(loadingBar);\n\tvar imagesLoaded = false;\n\n\tBuffer.onprogress = function(progress){\n\t\tvar total = 97;\n\t\tif (imagesLoaded){\n\t\t\ttotal = 100;\n\t\t}\n\t\tprogressBar.width((progress * total).toFixed(2) + \"%\");\n\t};\n\n\tMediator.route(\"imageloaded\", function(){\n\t\timagesLoaded = true;\n\t});\n\n\tBuffer.onload = function(){\n\t\ttestAllLoaded();\t\t\n\t};\n\n\tfunction testAllLoaded(){\n\t\tif (imagesLoaded){\n\t\t\tloadingScreen.fadeTo(200, 0, function(){\n\t\t\t\tloadingScreen.remove();\n\t\t\t});\n\t\t\tMediator.send(\"loaded\");\n\t\t} else {\n\t\t\tsetTimeout(testAllLoaded, 100);\n\t\t}\n\t}\n\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/interface/Loading.js\n ** module id = 156\n ** module chunks = 1\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../node_modules/css-loader/index.js!./../node_modules/autoprefixer-loader/index.js!./../node_modules/sass-loader/index.js!./loading.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js!./../node_modules/autoprefixer-loader/index.js!./../node_modules/sass-loader/index.js!./loading.scss\", function() {\n\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js!./../node_modules/autoprefixer-loader/index.js!./../node_modules/sass-loader/index.js!./loading.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./style/loading.scss\n ** module id = 157\n ** module chunks = 1\n **/","exports = module.exports = require(\"./../node_modules/css-loader/lib/css-base.js\")();\nexports.push([module.id, \"/**\\n *  LOADING\\n */\\n#LoadingScreen {\\n  position: absolute;\\n  top: 0px;\\n  left: 0px;\\n  height: 100%;\\n  width: 100%;\\n  background-color: #1040FF;\\n  z-index: 100; }\\n  #LoadingScreen #LoadingBar {\\n    -webkit-transform: translate(-50%, -50%);\\n    -ms-transform: translate(-50%, -50%);\\n        transform: translate(-50%, -50%);\\n    width: 60%;\\n    height: 70px;\\n    position: absolute;\\n    top: 50%;\\n    left: 50%;\\n    border: 4px solid white; }\\n    #LoadingScreen #LoadingBar #Progress {\\n      width: 20px;\\n      height: 100%;\\n      position: absolute;\\n      left: 0px;\\n      top: 0px;\\n      background-color: white; }\\n\", \"\"]);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader!./~/autoprefixer-loader!./~/sass-loader!./style/loading.scss\n ** module id = 158\n ** module chunks = 1\n **/","define([\"jquery\", \"controller/Mediator\", \"util/Config\", \"splash.scss\"], function($, Mediator, Config, splashStyle){\n\n\tif (Config.SPLASH){\n\n\t\tvar background = $(\"<div>\").attr(\"id\", \"SplashBackground\").appendTo(\"body\");\n\n\t/*\tvar firstPage = $(\"<div>\").attr(\"id\", \"First\")\n\t\t\t.addClass(\"SplashPage\")\n\t\t\t.appendTo(background);\n\t\tvar firstText = $(\"<div>\").attr(\"id\", \"Text\").appendTo(firstPage);*/\n\t\t\t// .text(\"play interactive music\");\n\n\t\tvar secondPage = $(\"<div>\").attr(\"id\", \"Second\")\n\t\t\t.addClass(\"SplashPage\")\n\t\t\t.appendTo(background);\n\t\tvar secondText = $(\"<div>\").attr(\"id\", \"Text\").appendTo(secondPage)\n\t\t\t.append(\"<span class='arrow'>&uarr;</span>scroll up and down to advance the music<span class='arrow'>&darr;</span>\");\n\n\t\tif (Config.MOBILE){\n\t\t\tsecondText.append(\"<br><span id='MobileDisclaimer'>for the full experience, use a desktop browser.</span>\");\n\t\t}\n\n\t\tif (navigator.userAgent.toLowerCase().indexOf(\"firefox\") > -1){\n\t\t\tsecondText.append(\"works best in Chrome or Safari\");\n\t\t}\n\n\t\tMediator.route(\"ready\", function(){\n\t\t\tvar fadeTime = 500;\n\t\t\tvar waitTime = 2000;\n\t\t\t/*firstPage.fadeTo(fadeTime, 1, function(){\n\t\t\t\tsetTimeout(function(){\n\t\t\t\t\tfirstPage.fadeTo(fadeTime, 0, function(){\n\t\t\t\t\t\tsecondPage.fadeTo(fadeTime, 1, function(){\n\t\t\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\t\t\tbackground.fadeTo(fadeTime, 0, function(){\n\t\t\t\t\t\t\t\t\tbackground.remove();\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}, waitTime);\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}, waitTime);\n\t\t\t});*/\n\t\t\tsecondPage.fadeTo(fadeTime, 1, function(){\n\t\t\t\tsetTimeout(function(){\n\t\t\t\t\tbackground.fadeTo(fadeTime, 0, function(){\n\t\t\t\t\t\tbackground.remove();\n\t\t\t\t\t});\n\t\t\t\t}, waitTime);\n\t\t\t});\n\t\t});\n\t}\n\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/interface/Splash.js\n ** module id = 159\n ** module chunks = 1\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../node_modules/css-loader/index.js!./../node_modules/autoprefixer-loader/index.js!./../node_modules/sass-loader/index.js!./splash.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js!./../node_modules/autoprefixer-loader/index.js!./../node_modules/sass-loader/index.js!./splash.scss\", function() {\n\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js!./../node_modules/autoprefixer-loader/index.js!./../node_modules/sass-loader/index.js!./splash.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./style/splash.scss\n ** module id = 160\n ** module chunks = 1\n **/","exports = module.exports = require(\"./../node_modules/css-loader/lib/css-base.js\")();\nexports.push([module.id, \"/**\\n *  SPLASH\\n */\\n#SplashBackground {\\n  position: absolute;\\n  top: 0px;\\n  left: 0px;\\n  height: 100%;\\n  width: 100%;\\n  background-color: white;\\n  z-index: 1000;\\n  opacity: 1; }\\n  #SplashBackground .SplashPage {\\n    position: absolute;\\n    left: 0px;\\n    top: 0px;\\n    opacity: 0;\\n    width: 100%;\\n    height: 100%; }\\n    #SplashBackground .SplashPage #Text {\\n      color: white;\\n      position: absolute;\\n      font-family: \\\"Courier New\\\", monospace;\\n      font-size: 36px;\\n      text-align: center;\\n      width: 80%;\\n      left: 50%;\\n      top: 50%;\\n      height: auto;\\n      -webkit-transform: translate(-50%, -50%);\\n      -ms-transform: translate(-50%, -50%);\\n          transform: translate(-50%, -50%); }\\n      #SplashBackground .SplashPage #Text .arrow {\\n        display: block; }\\n    #SplashBackground .SplashPage #MobileDisclaimer {\\n      font-size: 0.6em; }\\n  #SplashBackground #First {\\n    background-color: #ff00d2; }\\n  #SplashBackground #Second {\\n    background-color: #ff00d2; }\\n\\n/**\\n *  PASSWORD SCREEN\\n */\\n#PassWordScreen {\\n  position: absolute;\\n  top: 0px;\\n  left: 0px;\\n  height: 100%;\\n  width: 100%;\\n  background-color: black;\\n  z-index: 1000; }\\n  #PassWordScreen #Text {\\n    position: absolute;\\n    top: 50%;\\n    left: 50%;\\n    width: 200px;\\n    height: 60px;\\n    font-family: sans-serif;\\n    font-size: 24px;\\n    -webkit-transform: translate(-50%, -50%);\\n    -ms-transform: translate(-50%, -50%);\\n        transform: translate(-50%, -50%); }\\n\\n#TransportPosition {\\n  color: #aaaaaa;\\n  position: absolute;\\n  left: 10px;\\n  bottom: 100px; }\\n\", \"\"]);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader!./~/autoprefixer-loader!./~/sass-loader!./style/splash.scss\n ** module id = 161\n ** module chunks = 1\n **/","define([\"jquery\", \"controller/Mediator\", \"util/Config\"], function($, Mediator, Config){\n\n\tif (Config.PASSWORD){\n\n\t\tvar password = $(\"<div>\").attr(\"id\", \"PassWordScreen\").appendTo(\"body\");\n\t\tvar passwordBox = $(\"<input>\").attr(\"type\", \"text\").attr(\"id\", \"Text\").appendTo(password);\n\n\t\tpasswordBox.on(\"input\", function(e){\n\t\t\te.preventDefault();\n\t\t\tif (passwordBox.val() === \"computerjazz\"){\n\t\t\t\tpassword.remove();\n\t\t\t\tMediator.send(\"ready\");\n\t\t\t}\n\t\t});\n\t}\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/interface/Password.js\n ** module id = 162\n ** module chunks = 1\n **/","define([\"jquery\", \"controller/Mediator\", \"interface/Window\", \"interface/Scroll\", \n\t\"controller/Analytics\", \"notification.html\", \"buttons.scss\", \"notification.scss\", \"util/Config\"], \n\tfunction($, Mediator, Window, Scroll, Analytics, notificationHtml, buttonStyle, notificationStyle, Config){\n\n\tvar scrollDirection = 0;\n\n\tvar wentDown = false;\n\n\tvar wentUp = false;\n\n\tvar notifications = {\n\t\t\"changeDirection\" : false,\n\t\t\"clicking\" : false,\n\t\t\"faster\" : false,\n\t\t\"nicemoves\" : false,\n\t\t\"bsection\" : false,\n\t\t\"bintro\" : false,\n\t\t\"csection\" : false\n\t};\n\n\tvar notificationButton = $(notificationHtml).appendTo(Window.container)\n\t\t.on(\"click touchstart\", function(){\n\t\t\t$(this).addClass(\"Expanded\");\n\t\t\t$(this).removeClass(\"Notified\");\n\t\t})\n\t\t.on(\"mouseleave\", function(){\n\t\t\t$(this).removeClass(\"Expanded\");\n\t\t});\n\n\tvar onScreenNotifications = [];\n\n\tfunction showNotification(text){\n\t\tif (!Config.MOBILE){\n\t\t\tnotificationButton.addClass(\"Notified\");\n\t\t\tvar notificationBox = $(\"<div>\", {\n\t\t\t\t\"class\" : \"Notification\",\n\t\t\t\t\"html\" : text\n\t\t\t}).appendTo(Window.container);\n\n\t\t\t$(\"<img>\", {\n\t\t\t\t\"src\" : \"./images/thumb.png\"\n\t\t\t}).appendTo(notificationBox);\n\n\n\t\t\tvar bottomposition = 25;\n\t\t\tif (onScreenNotifications.length > 0){\n\t\t\t\tvar lastNotif = onScreenNotifications[onScreenNotifications.length - 1];\n\t\t\t\tbottomposition += parseInt(lastNotif.height()) + parseInt(lastNotif.css(\"bottom\")) + 20;\n\t\t\t\tif (bottomposition > Window.height() - notificationBox.height() - 20){\n\t\t\t\t\tbottomposition = 25;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tnotificationBox.css(\"bottom\", bottomposition);\n\n\t\t\tonScreenNotifications.push(notificationBox);\n\n\t\t\tnotificationBox.on(\"animationend webkitAnimationEnd\", function(){\n\t\t\t\tnotificationBox.remove();\n\t\t\t\tfor (var i = 0; i < onScreenNotifications.length; i++){\n\t\t\t\t\tif (onScreenNotifications[i] === notificationBox){\n\t\t\t\t\t\tonScreenNotifications.splice(i, 1);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tsetTimeout(function(){\n\t\t\t\tnotificationBox.addClass(\"Show\");\n\t\t\t}, 10);\n\t\t}\n\t}\n\n\t/**\n\t *  THE NOTIFICATION EVENTS\n\t */\n\n\t//SCROLL THE OTHER WAY NOTIFICATION\n\tvar endCount = 0;\n\tMediator.route(\"scrollEnd\", function(){\n\t\tendCount++;\n\t\tif (endCount > 12 && !notifications.changeDirection){\n\t\t\tendCount = 0;\n\t\t\tvar dir = Scroll.getDirection() > 0 ? \"top\" : \"bottom\";\n\t\t\tnotifications.changeDirection = true;\n\t\t\tshowNotification(\"Reminder: You can scroll in both directions.\");\n\t\t\tAnalytics.event(\"user\", \"notification\", \"scrollend\", dir);\n\t\t}\n\t});\n\tMediator.route(\"half\", function(half){\n\t\tendCount = 0;\n\t\tif (half === 0){\n\t\t\twentDown = true;\n\t\t} else if (half === 1){\n\t\t\twentUp = true;\n\t\t}\n\t});\n\tMediator.route(\"flip\", function(half){\n\t\t// if (notifications.changeDirection){\n\t\t\t//notify that they did it right\t\n\t\t\t// showNotification(\"yes. like that\");\n\t\t// }\n\t\tif (wentUp && wentDown && !notifications.nicemoves){\n\t\t\tnotifications.nicemoves = true;\n\t\t\t// showNotification(\"<strong>Jazz.Computer</strong> commented on your scroll.\");\n\t\t\t// Analytics.event(\"user\", \"notification\", \"nicemoves\");\n\t\t}\n\t});\n\n\tvar started = false;\n\tMediator.route(\"start\", function(){\n\t\tstarted = true;\n\t\tsetTimeout(function(){\n\t\t\tif (Scroll.getDistance() === 0){\n\t\t\t\tshowNotification(\"Scroll to advance the song.\");\n\t\t\t}\n\t\t}, 1500);\n\t\tsetTimeout(function(){\n\t\t\tif (Scroll.getDistance() === 0){\n\t\t\t\tshowNotification(\"Reminder: Don't forget to scroll.\");\n\t\t\t}\n\t\t}, 6000);\n\t});\n\n\tMediator.route(\"play\", function(){\n\t\tshowNotification(\"Unpaused\");\n\t});\n\n\tMediator.route(\"pause\", function(){\n\t\tshowNotification(\"Paused\");\n\t});\n\n\t//clicks\n\tvar clickCount = 0;\n\t$(\"#ScrollContainer\").on(\"mousedown\", function(){\n\t\tif (started){\n\t\t\tclickCount++;\n\t\t\tif (clickCount > 3){\n\t\t\t\tshowNotification(\"Reminder: Don't forget to scroll.\");\n\t\t\t\tAnalytics.event(\"user\", \"notification\", \"clicks\");\n\t\t\t\tclickCount = 0;\n\t\t\t}\n\t\t}\n\t});\n\n\t//HD\n\tMediator.route(\"HD\", function(hd){\n\t\tshowNotification(\"High Definition \"+(hd?\"ON.\" : \"OFF.\"));\n\t});\n\n\t//encouraging messages\n\tMediator.route(\"firstScroll\", function(){\n\t\tsetTimeout(function(){\n\t\t\tif (Scroll.getDistance() < 0.1){\n\t\t\t\tshowNotification(\"Reminder: Keep Scrolling.\");\n\t\t\t\tAnalytics.event(\"user\", \"notification\", \"keepscrolling\");\n\t\t\t} else {\n\t\t\t\tshowNotification(\"<strong>Jazz.Computer</strong> liked your scroll.\");\n\t\t\t}\n\t\t}, 5000);\n\n\t\tsetTimeout(function(){\n\t\t\tif (Scroll.getDistance() < 0.5){\n\t\t\t\tshowNotification(\"<strong>Jazz.Computer</strong> invited you to an event <strong>Scroll Faster</strong>. \");\n\t\t\t\tAnalytics.event(\"user\", \"notification\", \"scrollon\");\n\t\t\t} else {\n\t\t\t\tshowNotification(\"<strong>Jazz.Computer</strong> commented on your scroll: \\\"nice!\\\"\");\n\t\t\t}\n\t\t}, 15000);\n\n\t\tsetTimeout(function(){\n\t\t\tif (Scroll.getDistance() < 1){\n\t\t\t\tshowNotification(\"<strong>Jazz.Computer</strong> shared a link: <strong>www.scrollmore.com</strong>\");\n\t\t\t\tAnalytics.event(\"user\", \"notification\", \"moresong\");\n\t\t\t} else if (Scroll.getDistance() < 2){\n\t\t\t\tshowNotification(\"<strong>Jazz.Computer</strong> commented on your scroll: \\\"there's more.\\\"\");\n\t\t\t\tAnalytics.event(\"user\", \"notification\", \"theresmore\");\n\t\t\t}\n\t\t}, 40000);\n\t});\n\n\tMediator.route(\"B\", function(){\n\t\tif (!notifications.bsection){\n\t\t\tnotifications.bsection = true;\n\t\t\tshowNotification(\"Today is <strong>Jazz.Computer</strong>'s Birthday!\");\n\t\t}\n\t});\n\n\tMediator.route(\"BTransitionStart\", function(){\n\t\tif (!notifications.bintro){\n\t\t\tnotifications.bintro = true;\n\t\t\tshowNotification(\"You'll never believe what happens next.\");\n\t\t}\n\t});\n\n\tMediator.route(\"C\", function(){\n\t\tif (!notifications.csection){\n\t\t\tnotifications.csection = true;\n\t\t\tshowNotification(\"<strong>Jazz.Computer</strong> is going to an event <strong>Welcome Back</strong>.\");\n\t\t}\n\t});\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/interface/Notification.js\n ** module id = 163\n ** module chunks = 1\n **/","define([\"controller/Mediator\", \"interface/Scroll\", \"controller/Conductor\", \"util/Config\"], \n\tfunction(Mediator, Scroll, Conductor, Config){\n\n\t(function(i,s,o,g,r,a,m){i[\"GoogleAnalyticsObject\"]=r;i[r]=i[r]||function(){\n\t(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n\tm=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n\t})(window,document,\"script\",\"//www.google-analytics.com/analytics.js\",\"ga\");\n\n\tif (ga && Config.ANALYTICS){\n\t\tga(\"create\", \"UA-61158479-1\", \"auto\");\n\t\tga(\"send\", \"pageview\");\n\t}\n\n\tfunction sendEvent(category, action, label, value){\n\t\tif (ga && Config.ANALYTICS){\n\t\t\tga(\"send\", \"event\", category, action, label, value);\n\t\t}\n\t}\n\n\t/**\n\t *  error listening\n\t */\n\twindow.onerror = function(msg, file, lineno){\n\t\tvar filePath = file.split(\"/\");\n\t\tfile = filePath[filePath.length - 1];\n\t\tsendEvent(\"error\", msg, file +\" \"+ lineno);\n\t};\n\n\tvar lastSection = Date.now();\n\n\t//setup some timed events\n\tMediator.route(\"start\", function(){\n\t\tsendEvent(\"user\", \"start\", \"click\", Date.now() - lastSection);\n\t\tlastSection = Date.now();\n\t});\n\n\tMediator.route(\"B\", function(){\n\t\tsendEvent(\"song\", \"B\", \"change\", Date.now() - lastSection);\n\t\tlastSection = Date.now();\n\t});\n\n\tMediator.route(\"C\", function(){\n\t\tsendEvent(\"song\", \"C\", \"change\", Date.now() - lastSection);\n\t\tlastSection = Date.now();\n\t});\n\n\tMediator.route(\"end\", function(){\n\t\tsendEvent(\"song\", \"end\", \"change\", Date.now() - lastSection);\n\t\tlastSection = Date.now();\n\t});\n\n\tMediator.route(\"pause\", function(){\n\t\tsendEvent(\"user\", \"pause\", \"any\");\n\t});\n\n\tMediator.route(\"HD\", function(){\n\t\tsendEvent(\"user\", \"HD\", \"turned\"+Config.HD ? \"on\" : \"off\");\n\t});\n\n\tMediator.route(\"play\", function(){\n\t\tsendEvent(\"user\", \"play\", \"any\");\n\t});\n\n\tMediator.route(\"flip\", function(){\n\t\tsendEvent(\"song\", \"flip\", \"change\");\n\t});\n\n\tvar startLoading = Date.now();\n\tMediator.route(\"loaded\", function(){\n\t\tsendEvent(\"system\", \"loaded\", \"done\", Date.now() - startLoading);\n\t});\n\n\treturn {\n\t\tevent : sendEvent\n\t};\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/controller/Analytics.js\n ** module id = 164\n ** module chunks = 1\n **/","module.exports = \"<div id=\\\"NotificationButton\\\">\\n\\t<div id=\\\"Button\\\">\\n\\t\\t<div id=\\\"Flag\\\"></div>\\n\\t</div>\\n\\n\\t<div id=\\\"DropDown\\\">\\n\\t\\t<div class=\\\"Item\\\">\\n\\t\\t\\t<div id=\\\"Square\\\"></div>\\n\\t\\t\\t<div id=\\\"Text\\\">\\n\\t\\t\\t\\tkeep scrolling\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"Item\\\">\\n\\t\\t\\t<div id=\\\"Square\\\"></div>\\n\\t\\t\\t<div id=\\\"Text\\\">\\n\\t\\t\\t\\tsometimes up\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"Item\\\">\\n\\t\\t\\t<div id=\\\"Square\\\"></div>\\n\\t\\t\\t<div id=\\\"Text\\\">\\n\\t\\t\\t\\tsometimes down\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</div>\\n</div>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./fragment/notification.html\n ** module id = 165\n ** module chunks = 1\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../node_modules/css-loader/index.js!./../node_modules/autoprefixer-loader/index.js!./../node_modules/sass-loader/index.js!./buttons.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js!./../node_modules/autoprefixer-loader/index.js!./../node_modules/sass-loader/index.js!./buttons.scss\", function() {\n\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js!./../node_modules/autoprefixer-loader/index.js!./../node_modules/sass-loader/index.js!./buttons.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./style/buttons.scss\n ** module id = 166\n ** module chunks = 1\n **/","exports = module.exports = require(\"./../node_modules/css-loader/lib/css-base.js\")();\nexports.push([module.id, \"#StartButton {\\n  width: 250px;\\n  height: 250px;\\n  background-color: #1040FF;\\n  position: absolute;\\n  top: 50%;\\n  right: 50%;\\n  margin-right: -125px;\\n  margin-top: -125px;\\n  -webkit-transform-origin: 100% 0px;\\n      -ms-transform-origin: 100% 0px;\\n          transform-origin: 100% 0px;\\n  border-radius: 18px;\\n  cursor: pointer; }\\n  #StartButton #Triangle {\\n    opacity: 1;\\n    width: 0;\\n    height: 0;\\n    position: absolute;\\n    left: 50%;\\n    top: 50%;\\n    -webkit-transform: translate(-50%, -50%);\\n        -ms-transform: translate(-50%, -50%);\\n            transform: translate(-50%, -50%);\\n    border-top: 75px solid transparent;\\n    border-bottom: 75px solid transparent;\\n    border-left: 112.5px solid white;\\n    font-size: 150px; }\\n  #StartButton .PauseBar {\\n    opacity: 0;\\n    position: absolute;\\n    height: 150px;\\n    width: 37.5px;\\n    top: 50%;\\n    -webkit-transform: translate(-50%, -50%);\\n        -ms-transform: translate(-50%, -50%);\\n            transform: translate(-50%, -50%);\\n    background-color: white; }\\n  #StartButton #Pause0 {\\n    left: 33%; }\\n  #StartButton #Pause1 {\\n    left: 66%; }\\n\\n#StartButton.Playing #Triangle {\\n  opacity: 0; }\\n\\n#StartButton.Playing .PauseBar {\\n  opacity: 1; }\\n\\n#StartButton.Corner {\\n  top: 4px;\\n  right: 177.5px;\\n  -webkit-transform: scale(0.14);\\n      -ms-transform: scale(0.14);\\n          transform: scale(0.14);\\n  margin-right: 0px;\\n  margin-top: 0px;\\n  -webkit-transition: all 0.2s;\\n          transition: all 0.2s; }\\n\\n#StartButton.Corner:hover {\\n  background-color: white; }\\n  #StartButton.Corner:hover #Triangle {\\n    border-left-color: #1040FF; }\\n  #StartButton.Corner:hover .PauseBar {\\n    background-color: #1040FF; }\\n\\n#StartButton.Corner:hover:active {\\n  background-color: black; }\\n  #StartButton.Corner:hover:active #Triangle {\\n    border-left-color: white; }\\n  #StartButton.Corner:hover:active .PauseBar {\\n    background-color: white; }\\n\\n#StartButton.MobileCorner {\\n  top: 4px;\\n  right: 132.5px;\\n  -webkit-transform: scale(0.14);\\n      -ms-transform: scale(0.14);\\n          transform: scale(0.14);\\n  margin-right: 0px;\\n  margin-top: 0px;\\n  -webkit-transition: all 0.2s;\\n          transition: all 0.2s; }\\n\\n#StartButton:hover {\\n  background-color: #ff00d2; }\\n  #StartButton:hover #Triangle {\\n    border-left-color: black; }\\n  #StartButton:hover .PauseBar {\\n    background-color: black; }\\n\\n#StartButton:hover:active {\\n  background-color: black; }\\n  #StartButton:hover:active #Triangle {\\n    border-left-color: white; }\\n  #StartButton:hover:active .PauseBar {\\n    background-color: white; }\\n\\n/**\\n *  INFO BUTTON\\n */\\n#InfoContainer {\\n  overflow: hidden;\\n  position: absolute;\\n  top: 4px;\\n  right: 65px;\\n  background-color: #1040FF;\\n  width: 35px;\\n  height: 35px;\\n  border-radius: 3px;\\n  line-height: 35px;\\n  text-align: center;\\n  color: white;\\n  font-family: sans-serif;\\n  font-size: 20px;\\n  z-index: 101;\\n  -webkit-transition: all 0.25s;\\n          transition: all 0.25s; }\\n  #InfoContainer #Credits {\\n    font-family: monospace;\\n    position: absolute;\\n    top: 10%;\\n    left: 10%;\\n    width: 80%;\\n    height: 80%;\\n    opacity: 0;\\n    text-align: left;\\n    color: white;\\n    -webkit-transition: opacity 0.25s;\\n            transition: opacity 0.25s; }\\n    #InfoContainer #Credits a {\\n      font-weight: 900;\\n      text-decoration: none;\\n      color: white; }\\n    #InfoContainer #Credits a:hover {\\n      color: #ff00d2; }\\n    #InfoContainer #Credits a:hover:active {\\n      color: black; }\\n  #InfoContainer #InfoButton {\\n    width: 35px;\\n    height: 35px;\\n    position: absolute;\\n    top: 0px;\\n    right: 0px;\\n    z-index: 100;\\n    cursor: pointer;\\n    font-weight: lighter;\\n    border-radius: 3px; }\\n  #InfoContainer #InfoButton:hover {\\n    background-color: white;\\n    color: #1040FF; }\\n  #InfoContainer #InfoButton:hover:active {\\n    background-color: black;\\n    color: white; }\\n\\n.Mobile #InfoContainer #Credits {\\n  width: 90%;\\n  height: 90%;\\n  left: 5%;\\n  top: 10px;\\n  font-size: 12px; }\\n\\n#InfoContainer.Expanded {\\n  width: calc(100% - 15px * 2);\\n  height: calc(100% - 4px  - 15px);\\n  right: 15px;\\n  opacity: 0.85;\\n  cursor: inherit; }\\n  #InfoContainer.Expanded #Credits {\\n    opacity: 1; }\\n    #InfoContainer.Expanded #Credits .social {\\n      position: relative;\\n      margin-right: 10px;\\n      height: 50px;\\n      width: 50px;\\n      font-size: 50px;\\n      color: #ff00d2;\\n      cursor: pointer;\\n      text-align: left;\\n      float: left; }\\n    #InfoContainer.Expanded #Credits .social:hover {\\n      color: black; }\\n    #InfoContainer.Expanded #Credits .social:hover:active {\\n      color: white; }\\n\\n/**\\n *  HD BUTTON\\n */\\n#HDButton {\\n  position: absolute;\\n  top: 4px;\\n  right: 110px;\\n  background-color: transparent;\\n  width: 35px;\\n  height: 35px;\\n  border-radius: 3px;\\n  line-height: 35px;\\n  text-align: center;\\n  font-family: sans-serif;\\n  font-weight: lighter;\\n  font-size: 20px;\\n  z-index: 101;\\n  cursor: pointer;\\n  box-sizing: border-box;\\n  color: #1040FF;\\n  border: 2px solid #1040FF; }\\n\\n#HDButton:hover {\\n  background-color: transparent;\\n  border-color: white;\\n  color: white; }\\n\\n#HDButton.HD {\\n  background-color: #1040FF;\\n  color: white; }\\n\\n#HDButton.HD:hover {\\n  background-color: white;\\n  border-color: white;\\n  color: #1040FF; }\\n\\n#HDButton:hover:active {\\n  background-color: black;\\n  color: white; }\\n\\n/**\\n *  NOTIFICATION BUTTON\\n */\\n#NotificationButton {\\n  width: 35px;\\n  height: 35px;\\n  position: absolute;\\n  top: 4px;\\n  right: 20px;\\n  z-index: 100;\\n  cursor: pointer;\\n  font-weight: lighter;\\n  border-radius: 3px; }\\n  #NotificationButton #Flag {\\n    bottom: calc(50% + 2px);\\n    left: calc(50% + 2px);\\n    position: absolute;\\n    background-color: #f9ff00;\\n    width: 0px;\\n    height: 0px;\\n    border-radius: 3px;\\n    -webkit-transition: width 0.3s, height 0.3s;\\n            transition: width 0.3s, height 0.3s;\\n    -webkit-transition-delay: 0.5s;\\n            transition-delay: 0.5s;\\n    -webkit-transition-timing-function: cubic-bezier(0, 0, 0.56, 1.46);\\n            transition-timing-function: cubic-bezier(0, 0, 0.56, 1.46); }\\n  #NotificationButton #Button {\\n    z-index: 1;\\n    position: absolute;\\n    top: 0px;\\n    left: 0px;\\n    width: 100%;\\n    height: 100%;\\n    border-radius: 50%;\\n    background-color: #1040FF;\\n    cursor: pointer; }\\n  #NotificationButton #Button:hover {\\n    background-color: white; }\\n  #NotificationButton #Button:active:hover {\\n    background-color: black; }\\n  #NotificationButton #DropDown {\\n    position: absolute;\\n    right: 0px;\\n    top: 45px;\\n    width: 200px;\\n    height: 180px;\\n    text-align: right;\\n    padding: 10px;\\n    pointer-events: none;\\n    z-index: 10000;\\n    background-color: rgba(16, 64, 255, 0.8);\\n    opacity: 0;\\n    overflow: hidden;\\n    height: 0px;\\n    -webkit-transition: height 0.2s ease-in, opacity 0.2s ease-in;\\n            transition: height 0.2s ease-in, opacity 0.2s ease-in; }\\n    #NotificationButton #DropDown .Item {\\n      width: 100%;\\n      height: 60px;\\n      position: relative; }\\n      #NotificationButton #DropDown .Item #Square {\\n        width: 40px;\\n        height: 40px;\\n        margin-top: 10px;\\n        margin-right: 10px;\\n        background-color: #f9ff00;\\n        float: left; }\\n      #NotificationButton #DropDown .Item #Text {\\n        width: auto;\\n        height: 60px;\\n        line-height: 60px;\\n        float: left;\\n        color: #f9ff00;\\n        font-family: sans-serif;\\n        font-weight: lighter; }\\n\\n#NotificationButton.Expanded #DropDown {\\n  opacity: 1;\\n  height: 180px;\\n  -webkit-transition: height 0.2s ease-out, opacity 0.2s ease-out;\\n          transition: height 0.2s ease-out, opacity 0.2s ease-out; }\\n\\n#NotificationButton.Notified #Flag {\\n  width: 17.5px;\\n  height: 17.5px; }\\n\\n/**\\n *  JC LOGO\\n */\\n#Logo {\\n  position: absolute;\\n  top: 4px;\\n  left: 40px;\\n  background: url(\"+require(\"../images/logo.png\")+\");\\n  background-size: 100% 100%;\\n  width: 35px;\\n  height: 35px; }\\n\", \"\"]);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader!./~/autoprefixer-loader!./~/sass-loader!./style/buttons.scss\n ** module id = 167\n ** module chunks = 1\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAKQWlDQ1BJQ0MgUHJvZmlsZQAASA2dlndUU9kWh8+9N73QEiIgJfQaegkg0jtIFQRRiUmAUAKGhCZ2RAVGFBEpVmRUwAFHhyJjRRQLg4Ji1wnyEFDGwVFEReXdjGsJ7601896a/cdZ39nnt9fZZ+9917oAUPyCBMJ0WAGANKFYFO7rwVwSE8vE9wIYEAEOWAHA4WZmBEf4RALU/L09mZmoSMaz9u4ugGS72yy/UCZz1v9/kSI3QyQGAApF1TY8fiYX5QKUU7PFGTL/BMr0lSkyhjEyFqEJoqwi48SvbPan5iu7yZiXJuShGlnOGbw0noy7UN6aJeGjjAShXJgl4GejfAdlvVRJmgDl9yjT0/icTAAwFJlfzOcmoWyJMkUUGe6J8gIACJTEObxyDov5OWieAHimZ+SKBIlJYqYR15hp5ejIZvrxs1P5YjErlMNN4Yh4TM/0tAyOMBeAr2+WRQElWW2ZaJHtrRzt7VnW5mj5v9nfHn5T/T3IevtV8Sbsz55BjJ5Z32zsrC+9FgD2JFqbHbO+lVUAtG0GQOXhrE/vIADyBQC03pzzHoZsXpLE4gwnC4vs7GxzAZ9rLivoN/ufgm/Kv4Y595nL7vtWO6YXP4EjSRUzZUXlpqemS0TMzAwOl89k/fcQ/+PAOWnNycMsnJ/AF/GF6FVR6JQJhIlou4U8gViQLmQKhH/V4X8YNicHGX6daxRodV8AfYU5ULhJB8hvPQBDIwMkbj96An3rWxAxCsi+vGitka9zjzJ6/uf6Hwtcim7hTEEiU+b2DI9kciWiLBmj34RswQISkAd0oAo0gS4wAixgDRyAM3AD3iAAhIBIEAOWAy5IAmlABLJBPtgACkEx2AF2g2pwANSBetAEToI2cAZcBFfADXALDIBHQAqGwUswAd6BaQiC8BAVokGqkBakD5lC1hAbWgh5Q0FQOBQDxUOJkBCSQPnQJqgYKoOqoUNQPfQjdBq6CF2D+qAH0CA0Bv0BfYQRmALTYQ3YALaA2bA7HAhHwsvgRHgVnAcXwNvhSrgWPg63whfhG/AALIVfwpMIQMgIA9FGWAgb8URCkFgkAREha5EipAKpRZqQDqQbuY1IkXHkAwaHoWGYGBbGGeOHWYzhYlZh1mJKMNWYY5hWTBfmNmYQM4H5gqVi1bGmWCesP3YJNhGbjS3EVmCPYFuwl7ED2GHsOxwOx8AZ4hxwfrgYXDJuNa4Etw/XjLuA68MN4SbxeLwq3hTvgg/Bc/BifCG+Cn8cfx7fjx/GvyeQCVoEa4IPIZYgJGwkVBAaCOcI/YQRwjRRgahPdCKGEHnEXGIpsY7YQbxJHCZOkxRJhiQXUiQpmbSBVElqIl0mPSa9IZPJOmRHchhZQF5PriSfIF8lD5I/UJQoJhRPShxFQtlOOUq5QHlAeUOlUg2obtRYqpi6nVpPvUR9Sn0vR5Mzl/OX48mtk6uRa5Xrl3slT5TXl3eXXy6fJ18hf0r+pvy4AlHBQMFTgaOwVqFG4bTCPYVJRZqilWKIYppiiWKD4jXFUSW8koGStxJPqUDpsNIlpSEaQtOledK4tE20Otpl2jAdRzek+9OT6cX0H+i99AllJWVb5SjlHOUa5bPKUgbCMGD4M1IZpYyTjLuMj/M05rnP48/bNq9pXv+8KZX5Km4qfJUilWaVAZWPqkxVb9UU1Z2qbapP1DBqJmphatlq+9Uuq43Pp893ns+dXzT/5PyH6rC6iXq4+mr1w+o96pMamhq+GhkaVRqXNMY1GZpumsma5ZrnNMe0aFoLtQRa5VrntV4wlZnuzFRmJbOLOaGtru2nLdE+pN2rPa1jqLNYZ6NOs84TXZIuWzdBt1y3U3dCT0svWC9fr1HvoT5Rn62fpL9Hv1t/ysDQINpgi0GbwaihiqG/YZ5ho+FjI6qRq9Eqo1qjO8Y4Y7ZxivE+41smsImdSZJJjclNU9jU3lRgus+0zwxr5mgmNKs1u8eisNxZWaxG1qA5wzzIfKN5m/krCz2LWIudFt0WXyztLFMt6ywfWSlZBVhttOqw+sPaxJprXWN9x4Zq42Ozzqbd5rWtqS3fdr/tfTuaXbDdFrtOu8/2DvYi+yb7MQc9h3iHvQ732HR2KLuEfdUR6+jhuM7xjOMHJ3snsdNJp9+dWc4pzg3OowsMF/AX1C0YctFx4bgccpEuZC6MX3hwodRV25XjWuv6zE3Xjed2xG3E3dg92f24+ysPSw+RR4vHlKeT5xrPC16Il69XkVevt5L3Yu9q76c+Oj6JPo0+E752vqt9L/hh/QL9dvrd89fw5/rX+08EOASsCegKpARGBFYHPgsyCRIFdQTDwQHBu4IfL9JfJFzUFgJC/EN2hTwJNQxdFfpzGC4sNKwm7Hm4VXh+eHcELWJFREPEu0iPyNLIR4uNFksWd0bJR8VF1UdNRXtFl0VLl1gsWbPkRoxajCCmPRYfGxV7JHZyqffS3UuH4+ziCuPuLjNclrPs2nK15anLz66QX8FZcSoeGx8d3xD/iRPCqeVMrvRfuXflBNeTu4f7kufGK+eN8V34ZfyRBJeEsoTRRJfEXYljSa5JFUnjAk9BteB1sl/ygeSplJCUoykzqdGpzWmEtPi000IlYYqwK10zPSe9L8M0ozBDuspp1e5VE6JA0ZFMKHNZZruYjv5M9UiMJJslg1kLs2qy3mdHZZ/KUcwR5vTkmuRuyx3J88n7fjVmNXd1Z752/ob8wTXuaw6thdauXNu5Tnddwbrh9b7rj20gbUjZ8MtGy41lG99uit7UUaBRsL5gaLPv5sZCuUJR4b0tzlsObMVsFWzt3WazrWrblyJe0fViy+KK4k8l3JLr31l9V/ndzPaE7b2l9qX7d+B2CHfc3em681iZYlle2dCu4F2t5czyovK3u1fsvlZhW3FgD2mPZI+0MqiyvUqvakfVp+qk6oEaj5rmvep7t+2d2sfb17/fbX/TAY0DxQc+HhQcvH/I91BrrUFtxWHc4azDz+ui6rq/Z39ff0TtSPGRz0eFR6XHwo911TvU1zeoN5Q2wo2SxrHjccdv/eD1Q3sTq+lQM6O5+AQ4ITnx4sf4H++eDDzZeYp9qukn/Z/2ttBailqh1tzWibakNml7THvf6YDTnR3OHS0/m/989Iz2mZqzymdLz5HOFZybOZ93fvJCxoXxi4kXhzpXdD66tOTSna6wrt7LgZevXvG5cqnbvfv8VZerZ645XTt9nX297Yb9jdYeu56WX+x+aem172296XCz/ZbjrY6+BX3n+l37L972un3ljv+dGwOLBvruLr57/17cPel93v3RB6kPXj/Mejj9aP1j7OOiJwpPKp6qP6391fjXZqm99Oyg12DPs4hnj4a4Qy//lfmvT8MFz6nPK0a0RupHrUfPjPmM3Xqx9MXwy4yX0+OFvyn+tveV0auffnf7vWdiycTwa9HrmT9K3qi+OfrW9m3nZOjk03dp76anit6rvj/2gf2h+2P0x5Hp7E/4T5WfjT93fAn88ngmbWbm3/eE8/syOll+AAAACXBIWXMAAAsTAAALEwEAmpwYAAACLWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBJbWFnZVJlYWR5PC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx0aWZmOllSZXNvbHV0aW9uPjcyPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8dGlmZjpYUmVzb2x1dGlvbj43MjwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CuJJMykAABHKSURBVHgB7V1ryC5FHZ95Lu+5ec7Rk3nDyjALsoxEMy2LLEIryKi+FApesoIg+pCf+pAhBQYRFIREYhpkqUhWlkicjuQRSyusRPMkppi3YyeP5+b7XKbf7z8z++77vPtcdnfe59nn2RnY3dn/zuV/+c1/Zmd3Z7WSYJpK6R6jrZY5XzXURUapd2qjTsRxi1LYKy0p13uHWgxqa+C4jGq/3O3qe0BK+CtWv0FxkEaZTc2WugminAPCYdZTrLz5yQU5e5BzLzj+J+S+q7es7rC2tjrFdafcTeb1za66AQk/WAXxNDnrq9t6Xf1pxFpgulucLysjwH0uoLC7eDnznxNq/Ru2yzod/RBtT8Wi5ZsTmx11H5R+sqHarTegCdBCcJh+6MINLKHqTuCqIa8EyDhFt+YqneGB3g+bptBvx7a73TbvBQj+JAoBDH6AazC+OoJEG8Goc40zMT715Orvh2YAIkpg+YyHLt+WXsl9IuqrYG8DhP8JVHBGA0g4C2r4OIigGRq/QsHhoEIcLQArGyBDB8Z+c7OtLmnAMVzkhEJXkKBkAeSMIozQgDU0Gn4Dg6LTRySMlxZTA9a1GnUGIyc5GWPzX0xjZ0nlbb2V99tLWSkirRYa4G2ejIZrIW0Ucq0G4jB7rU5qRYkAqJW51wgrXcAaaiQsugb4bETClugBFt3WmfJ5+6uNEQCZCqoPMQKgPrbOlDQCIFMt9SFGANTH1pmSRgBkqqU+xAiA+tg6U9IIgEy11IcYAVAfW2dKGgGQqZb6ECMA6mPrTEkjADLVUh9iBEB9bJ0paQRAplrqQ4wAqI+tMyWNAMhUS32IEQD1sXWmpBEAmWqpDzECoD62zpS06gAo8Ul4pryROKCBqgNg/wC/8TSwBqoOgMDixuIGNRABMKiRmp1HANTM4IPi+iVTBunxfHoa4EolfmOtjGcEWejK0/lif5DGGwHgVTq9Iw2cXqMIK6BNsjJH8jGH55TlrCH6i5MeIwAm1VT5dDQ6N+qcRk+Hl3GyF9bcC6u+Ah9wAKa1C2QZ1UZb3wzaJizxtA3Xt8Hu25F+R7qAovEIgKKamzyfb+00urhtGPoRo/r343Q3CP/odNRTuPYSDLs8ulj5po/rOPWxvs/3cbwSG9d3HAQUSJOFCIDJ9FQkFV00jeN1/DSW4fsZlqv8OQyONfqaBIYk4HEliJHp2r17ZznYuNClLHbJldyMNubHSEkAlBoLeOZW6o+xEBrgDCZ1y20Ptut6HXULDPcK4i5w8UoxsjNwevCnBRw+JewPMAgwSGKZ7B6CrOwSAUCVhg3e+Aot/hvdZfUt2BmtloErnoqhYWC7NK+Qx+7Y8n3gQp4SUjR/Lf8xAiC/zkblEOOjuT6K7ZLOsn7QJjZtHHGtzHK3o6otfi0CoLjuBnIarrPYglP/FVr9pxDHipyJ4UMveTtQd/HTCIDiukvnZOtuwbnf3utoGJ+BxteVNbzlseQI0hdS8yONzIb0B6xs7o2P8+obn3YrdQvBAmoeeJvH/v15jPLTxudYYC5CBEA5M1n99dUVaPHPO7c/N8an6HUDgJ9cKWd2m5uGZnk393r61zD+3Lj9tPB1A4C/h07roEic9+Ds9w/3GuoaV0CQ+/IizJTJUxcA+Jbv/odQ2lbs+xl+ql7V/3Kt39PslfXfe5lK1VQXAIiS8G+EzVZbMqdeVIG+9bP/vN5pvzSi8loRs4wHXB7IUbz6WgEATjtEFyBlQOsP4J87f3RGCFFuXgyknhymp4rzFcN+rD6hi0Fbecjb5mbUnVZxZf9o5tUvy/bSK41rzpSA3U3hR8C+Rh7rBYC05IXj8gs65sYj3VBB/s42qRexHkirQ2OhMgF7EQATKCmVBK0TvS8C9rjvlzCuxbpkww58zMvHv2az2qiOh4c6AtMysJWn3LzQuGPL39/tq49ZTqRbK+zXqg4AUXYi+swjtLWwdKjTVPuTl7YK85X80PJ8wOBWmPxobB3VFo/QQQs/BEAM6gC/dhQQHGerlbSFOag6ACo2qyaDLRrkMNqpH4UXVr7PCONfitZ8PO5SiDD81s3ZXKvto918AkhfVO5jpQEApVTz0zAtrtk66twqz8zQ43890Q0A8HiqOH4gyCRw+4POgWXkC5UGQD5RppJazIRWyb9v+ke9llaueteHS69Oq05g2QmSTMBT4cHDBGUvbBKo/iCEC9Y9obyQ3iSX3iMAcqkrSUzjT3rblmTKiNhmzFu6GYUIgAKKh8/H273FZ99SVfruY2Z2mFnFKSXMXRTNNrTeQniTQnoMLUghJuYok7RY7A6H5Bl3AFtDlpenrAiAPNryaTVmASTILJ534/5qkSN/6T6TEAFQTO128FYsb1au2AVkaaXCtBCtPi1eaEClyx4Zjx5gpHqGXDS8C5Aw9/qbewGGmGi9yTNz2aEFqzoAQrva0Pqb+/KqDoCq8xcBsD4a4O2VhKwXItanypqWWtEWZu3f7yeDraqZxwO0anzl5qeiAMgtx7QzBHsZxDE+s7FOBEAx6PB9gJABK3/NJkQAFNN72C6AS8HNKEQAzEjxq6rFAoCrzqd4EgEwRWUPrcpM8grY0NylLlQbADNsGaW0mjdzfCMoW2PoaLmEasgwM1c7Roj4StgQBYWdc2/5N3kqh4OZeeKZVTzE4J5sR9la3r71tPJHo46yhfBTrLAD+XLM9WfGTBUBwOZJvvjd1GNOsWGarOFXN9UL+GTZP16eOnMVBAAXXJT2+ZflZf2w00iQrgAoOiaQhsMA0jOj5UMTfzbVY1UAQIXSyPjaRj6N4tLI11pNyPf3QRTe0AkAypa3KZCVxPXjmce+QOXlLmYdPg2TJVNHKXiwv+M5geiPfOP+a92OvsN9/xbsCxy8fXtCbg1lZ3BLzWRfzEEVPUH4vzqFDeomR1HFkgYGAMXQRVeueBmWv1/39XXdrt4J41MZTi/FhEvlsl2IVifbEuVt3tTlnFGTLNVelj/hq9tVO1tt/kRCvRWc8BF4kKXgx0tlQq4QQl3AZlr9BvsHcEJwpRWk4eQ7GO/KF79Isx9pD2M7gIXT90EJe+AInrNM51oxw2YZuhdjQ9FmCZ7lVMuQW1phaJ5hFxxwtDrWppCFHSh0Ws5hmTPozCdrBHSVMV+ELnYhEY2PrlB0gLJBlSANwkZlP7TOFC+Mjkqnm6E8AAZuuomJu0e6y42PpLjMGRUh4RHzrKU/tgoqkOP/U0zfnOL06ZQ6Nu9AApsN+xNRJHQXYvl3ymqa8Hr3tlrmwzDZjTD5SY7PVP1rWF5DcIlT9FQ0VVI6GgoAgjpMaT9rCzdEMWlCT1c4JO7Syp8y5C5gSLoiZI4v+k2jzoZSyRfLL9pNiUbB7AlYcO44fNL5H5RF2qRyImlWSEBwD4p6W6PVv1LrxoVIeSo2epstWblAY72snx+qcKzEpwoHsafMoBl+wo5Wpf1M40FkkEfZyHRs36ibQgEA9Uhwih338yOffCpHaxyjqFCGYcYi3V0TVy/GlhzJTtwy02xrLavToHEPgCRF8YiAgF5lX7+rvo1ysJmj1Ca1o91Vx2AAuxkdl/CHuEb8UAfrCS3B2MtcV0gLsA06VRqbvGMsISuWI4//Y8la7gIBQBTG0ok8F4TmFOpp0z6KwehiX4sNAKBeklW+PDPkkV6BunBGl4OnE9Rpuk/7btB3rVxDrHRgl0K9iYdCPfoADHoAzfipYUXnf2kybRfTSBlsWBWT0K1+sHdTrZPkmUoaka/RVp+EMulKoeD0AFAmnci8bwhc+etJbHuxeTqPNPqqAGh9wBHWXFuVMPcJB20EggwQUTdBTNBmbrw2bGPejI0Mebrue8Fzs1n9DIJ0tiii/EvOFUEhSaCSKf8hQOJ7UPft+J3bEzjn+37bWy11Okq4BPHLsNEL0NA8ojgEo87FjoM1dAPiaeSWTq4F28kI3rEerNDVBbXa5v5m2xhsXXdkPO8meVFWavFEGmCWQf7XoyDLpU6etHwd0sDvw2qDOW0UlxiZn9dcMs8MlOHLusrmtXWNKqeq1yyaq8pdYb6kRfJeml3StbaYBJBsqS2Mpx7vdtT7sNr340iHd/LExXqXSbdKt9vG7dnunlYXIA89Az1A0tKR+EqcI8zH72Esr6v3CwoA66ab7f53Ie7rsNHdU1a6U+uZjP48ov8DCU8IaUCOwqX/ZR8MI8s5QbQBIHkMxK8iLwPLECAgcja8w8VCtf8EtNE52i8gADgHoemiL0N3fQVsAWNy0kYCWy8BcK+bbob8/L3byCAD7X5H3QzTP4OU3gsQCICMuQblo8xkBD+ysKpdXCAA0Ahi/GX02xdA0TesKJs2l2CNpvs73TmNOSbIaJxAOQjo3OcSE0jM28Ut+RkYMF7t6B5o7rT6h9AAoBESbU9PfPb5dPtajA8O7nJ1c+SellF4w9zJHnddAOHiow6SD7unBxIJgFDfN9ttcybqZ5eB8cT8hLRyQnCNxZPk1iVEWROUIa0eCrd9Ntz+5aD8DhnRrye3bVnlTGr41XndTFyKCEzIXEKjr8xtiB/tQDA3niAUAESh2I3rT1O6KxOVyQ8aHlVKq9sO4/8IJXJjYMvPcu/CJ+ByqqSafGflM+oNa7PI428OIt+IR7q/BQhgfBkPzIUnCAUArxdxlVACj2wdGZtPOu6Y5AWPcksGxVK5pEuLp7ttwfBXNZfUIyjtcmzsm33/nFUB+WIJF7iLYtishCs0Xx9uKY16j6MP6o3GxnhAnQMQ7EIN+NbPdwfMX90wKEhZTql8BGmZiMsRevFHXpPWi3ozpzbRav11nye5JeOtHDejNpo3NNrmK1A23xm8HobBjBxX2pb+fpRM/tr7MVA8H2XBU/A2cGTAXQUKbqvPAtKoR7yLLyedkW6fIDgPfD2IMcE7UD49A0geuOnk1YhrzgSCQz7YGOY2J+GUhuevDZ7rNdU56rB+yhqSxisT5PZt69KSOr7XU6fB2Z6FJ2EwHOpQ/g9gwjdbWZZRMio3BCZeD1SPYSII5Wh8fCIDN/Ka5pflYYMRN5g3NfvqQZxvd2lG1UUgEgxcAv7qfld/B3EXRB7Wn67HX5zJMRQAyDxwRLevXsDu3zjSXZMEPchCDzyxf8FgOnkzCA8+V9sNwyyzVTX0JmTdhnJ2IBMf4vBtXio1FfyDHJngSdEnicp7i3iBRT3cbapPqCP6iWG50JLfhbeYbgc/JyPNpI0kSYc6/gzIfR1/F/3lSh30fqIr6sRt9BRlQ97uRpuQACD3FAIyr0tgq8EmfTJbYNl6fEv1D4NudQ+DOPGz2T0M+gzin8PGkBjVno7bE/fsYixwgeyH+kr/EBNKd4L+7NrcYjwvF2XzgPBxf546lgWNaYQGAOWioTyTPGcYPLfUkXsxNFNQAX4bmSP/ResJknzowuCBuA4wB3GvSei5jZ/KafOSf99t/Bfa2AXpdjaMesi+C6leRH0FdLSqnkIn6wGAQozMLtPqlprigwbxrZ4GLBtYFssc7MpeQn/4HC7whdiXsOGlWfgJ9IOIM7BBcSDK18JaaApcWBrTDmoTEvD7hDRwcI3jjLFgwttgagvy3xEBAA3aQD36wZl4H28AnyDUkRURDCw/a64iVD2TlNMZQOMkeRY1jdjbuen1sr3ojoV7vRMMfuNFxlcO9gT7ND8yVhigJQkR8dfTtDVx1CMTWPs8I2tSRMJUNEDLpq3rKs0gJeyMusZE464nBTGyzQ9MVlHjSW00sDECoDa2zhY0AiBbL7WhRgDUxtTZghIAuUYN2cVE6pxpwN1tqFcwGcUvUWOopQY0AIA7T85AMXhU2LO4X2QNcHaR84UvcL7x74ssaZQtUwPS2DEJvodjgHtckjggzNTVQhItALT6vQwA8QEFQKA/BFH5Tt+4N2QWUiP1EYprBmi+wra311FvsXcAG80pzZ7id307sPmnVrzmN0RjmGMNsMVLv4+jnf7X6uLesv4FDMy3U/DiAj6SbPXVjUh53hwLGlkfr4EnMfj7Ar6Mupu2tx7Ag4DwaJkL8Tzpo7hwJsCAlyDlDVfpM8aXHVNUTAP8kuEIPn9/EQZ8FLzdDbd/Cxo8XnqxDf//8jnqhJ3dNhsAAAAASUVORK5CYII=\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./images/logo.png\n ** module id = 168\n ** module chunks = 1\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../node_modules/css-loader/index.js!./../node_modules/autoprefixer-loader/index.js!./../node_modules/sass-loader/index.js!./notification.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js!./../node_modules/autoprefixer-loader/index.js!./../node_modules/sass-loader/index.js!./notification.scss\", function() {\n\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js!./../node_modules/autoprefixer-loader/index.js!./../node_modules/sass-loader/index.js!./notification.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./style/notification.scss\n ** module id = 169\n ** module chunks = 1\n **/","exports = module.exports = require(\"./../node_modules/css-loader/lib/css-base.js\")();\nexports.push([module.id, \"@-webkit-keyframes Appear {\\n  0% {\\n    -webkit-transform: translate(-300px, 0);\\n            transform: translate(-300px, 0);\\n    opacity: 0; }\\n  10% {\\n    -webkit-transform: translate(0px, 0);\\n            transform: translate(0px, 0);\\n    opacity: 1; }\\n  100% {\\n    -webkit-transform: translate(0px, 0);\\n            transform: translate(0px, 0);\\n    opacity: 0; } }\\n\\n@keyframes Appear {\\n  0% {\\n    -webkit-transform: translate(-300px, 0);\\n            transform: translate(-300px, 0);\\n    opacity: 0; }\\n  10% {\\n    -webkit-transform: translate(0px, 0);\\n            transform: translate(0px, 0);\\n    opacity: 1; }\\n  100% {\\n    -webkit-transform: translate(0px, 0);\\n            transform: translate(0px, 0);\\n    opacity: 0; } }\\n\\n@-webkit-keyframes AppearMobile {\\n  0% {\\n    -webkit-transform: translate(-300px, 0);\\n            transform: translate(-300px, 0); }\\n  10% {\\n    -webkit-transform: translate(0px, 0);\\n            transform: translate(0px, 0); }\\n  90% {\\n    -webkit-transform: translate(0px, 0);\\n            transform: translate(0px, 0); }\\n  100% {\\n    -webkit-transform: translate(-300px, 0);\\n            transform: translate(-300px, 0); } }\\n\\n@keyframes AppearMobile {\\n  0% {\\n    -webkit-transform: translate(-300px, 0);\\n            transform: translate(-300px, 0); }\\n  10% {\\n    -webkit-transform: translate(0px, 0);\\n            transform: translate(0px, 0); }\\n  90% {\\n    -webkit-transform: translate(0px, 0);\\n            transform: translate(0px, 0); }\\n  100% {\\n    -webkit-transform: translate(-300px, 0);\\n            transform: translate(-300px, 0); } }\\n\\n.Notification {\\n  width: 220px;\\n  height: auto;\\n  font-family: sans-serif;\\n  position: absolute;\\n  bottom: 25px;\\n  left: 25px;\\n  font-size: 24px;\\n  background-color: rgba(255, 255, 255, 0.8);\\n  border-radius: 4px;\\n  padding: 15px;\\n  padding-left: 80px;\\n  border: 1px solid rgba(180, 180, 180, 0.8);\\n  opacity: 0;\\n  -webkit-transform: translate(-300px, 0px);\\n      -ms-transform: translate(-300px, 0px);\\n          transform: translate(-300px, 0px);\\n  color: #1040FF; }\\n  .Notification img {\\n    width: 50px;\\n    height: 50px;\\n    -webkit-transform: translate(0px, -50%);\\n        -ms-transform: translate(0px, -50%);\\n            transform: translate(0px, -50%);\\n    top: 50%;\\n    position: absolute;\\n    left: 15px; }\\n\\n.Notification.Show {\\n  -webkit-animation-name: Appear;\\n          animation-name: Appear;\\n  -webkit-animation-duration: 4s;\\n          animation-duration: 4s;\\n  -webkit-animation-timing-function: cubic-bezier(0.76, 0.02, 0.63, 0.13);\\n          animation-timing-function: cubic-bezier(0.76, 0.02, 0.63, 0.13);\\n  -webkit-animation-direction: forwards;\\n          animation-direction: forwards; }\\n\\n.Mobile .Notification {\\n  opacity: 1;\\n  bottom: 60px; }\\n\\n.Mobile .Notification.Show {\\n  -webkit-animation-name: AppearMobile;\\n          animation-name: AppearMobile; }\\n\", \"\"]);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader!./~/autoprefixer-loader!./~/sass-loader!./style/notification.scss\n ** module id = 170\n ** module chunks = 1\n **/","define([\"jquery\", \"controller/Mediator\", \"interface/Window\", \"controller/Analytics\", \n\t\"Tone/core/Master\", \"util/Config\", \"info.html\", \"infoDetail.html\"], \nfunction($, Mediator, Window, Analytics, Master, Config, infoFrag, detailedFrag){\n\n\tvar expanded = false;\n\n\tvar infoContainer = $(\"<div>\").attr(\"id\", \"InfoContainer\")\n\t\t.appendTo(Window.container);\n\n\tvar infoButton = $(\"<div>\").attr(\"id\", \"InfoButton\")\n\t\t.appendTo(infoContainer)\n\t\t.text(\"?\")\n\t\t.on(\"click\", infoClicked);\n\n\tvar credits = $(\"<div>\").attr(\"id\", \"Credits\")\n\t\t.appendTo(infoContainer)\n\t\t.append(infoFrag);\n\n\tcredits.find(\"#MoreInfo\").on(\"click\", function(){\n\t\tAnalytics.event(\"user\", \"moreinfo\", \"clicked\");\n\t});\n\n\tvar fbook = $(\"<div>\").addClass(\"icon-facebook-squared social\")\n\t\t.attr(\"id\", \"Facebook\")\n\t\t.appendTo(credits)\n\t\t.on(\"click\", function(e){\n\t\t\te.preventDefault();\n\t\t\tAnalytics.event(\"user\", \"facebook\", \"clicked\");\n\t\t\twindow.open(\"https://www.facebook.com/dialog/share?\"+\n\t\t\t\t\"app_id=825781467502888\"+\n\t\t\t\t\"&display=popup\"+\n\t\t\t\t\"&href=http%3A%2F%2Fjazz.computer%2F\"+\n\t\t\t\t\"&redirect_uri=http%3A%2F%2Fjazz.computer%2F\", 'facebookwindow', 'height=260, width=550, toolbar=0, location=0, menubar=0, directories=0, scrollbars=0');\n\t\t});\n\n\tvar twitter = $(\"<div>\").addClass(\"icon-twitter-squared social\")\n\t\t.attr(\"id\", \"Twitter\")\n\t\t.appendTo(credits)\n\t\t.on(\"click\", function(e){\n\t\t\te.preventDefault();\n\t\t\tAnalytics.event(\"user\", \"twitter\", \"clicked\");\n\t\t\twindow.open('http://twitter.com/share?url=' + \"http://jazz.computer\", 'twitterwindow', 'height=260, width=550, toolbar=0, location=0, menubar=0, directories=0, scrollbars=0');\n\t\t});\n\n\tfunction infoClicked(e){\n\t\te.preventDefault();\n\t\tif (expanded){\n\t\t\tcontract();\n\t\t} else {\n\t\t\texpand();\n\t\t}\n\t}\n\n\tfunction expand(){\n\t\tif (!expanded){\n\t\t\tAnalytics.event(\"user\", \"info\", \"open\");\n\t\t\tinfoButton.text(\"X\");\n\t\t\texpanded = true;\n\t\t\tinfoContainer.addClass(\"Expanded\");\t\n\t\t}\n\t}\n\n\tfunction contract(){\n\t\tif (expanded){\n\t\t\tinfoButton.text(\"?\");\n\t\t\texpanded = false;\n\t\t\tinfoContainer.removeClass(\"Expanded\");\t\n\t\t}\n\t}\n\n\t$(window).on(\"keydown\", function(e){\n\t\tif (e.which === 27){ //esc\n\t\t\te.preventDefault();\n\t\t\tcontract();\n\t\t}\n\t});\n\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/interface/Info.js\n ** module id = 171\n ** module chunks = 1\n **/","module.exports = \"Jazz.Computer is an interactive song by  <a target=\\\"_blank\\\" href='http://yotammann.info'>Yotam Mann</a> with visual design by <a target=\\\"_blank\\\" href='http://sarahrothberg.com'>Sarah Rothberg</a>.\\n<br><br>\\n\\nSpecial thanks to <a href=\\\"https://twitter.com/gabeliberti\\\" target=\\\"_blank\\\">Gabe Liberti</a> for production help.\\n<br><br>\\n\\njazz.computer was developed using <a target=\\\"_blank\\\" href='http://tonejs.org'>Tone.js</a> and <a target=\\\"_blank\\\" href='http://threejs.org'>Three.js</a>\\n<br><br>\\n\\n<a target=\\\"_blank\\\" href=\\\"./info\\\">more info</a>\\n<br><br>\\n\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./fragment/info.html\n ** module id = 172\n ** module chunks = 1\n **/","module.exports = \"Up/Down is an interactive song by  <a href='http://yotammann.info'>Yotam Mann</a> with visual design by <a href='http://sarahrothberg.com'>Sarah Rothberg</a>.\\n<br><br>\\n\\nSpecial thanks to Gabe Liberti for production help.\\n<br><br>\\n\\nUp/Down was developed using <a href='http://tonejs.org'>Tone.js</a> and <a href='http://threejs.org'>Three.js</a>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./fragment/infoDetail.html\n ** module id = 173\n ** module chunks = 1\n **/","define([\"jquery\", \"controller/Mediator\", \"util/Config\", \"interface/Window\", \"buttons.scss\"], \n\tfunction ($, Mediator, Config, Window, buttonStyle) {\n\n\tif (!Config.MOBILE){\n\t\tvar button = $(\"<div>\").prop(\"id\", \"HDButton\").appendTo(Window.container).text(\"HD\");\n\n\t\tif (Config.HD){\n\t\t\tbutton.addClass(\"HD\");\n\t\t}\n\n\t\tbutton.on(\"click\", function(e){\n\t\t\te.preventDefault();\n\t\t\tif (button.hasClass(\"HD\")){\n\t\t\t\tbutton.removeClass(\"HD\");\n\t\t\t} else {\n\t\t\t\tbutton.addClass(\"HD\");\n\t\t\t}\n\t\t\tConfig.HD = button.hasClass(\"HD\");\n\t\t\tMediator.send(\"HD\", Config.HD);\n\t\t});\n\t}\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/interface/HD.js\n ** module id = 174\n ** module chunks = 1\n **/","define([\"channel/Bass\", \"channel/Piano\", \"channel/Voice\", \"channel/HighHat\", \"channel/Kick\", \n\t\"interface/GUI\", \"channel/Snare\", \"channel/Arp\", \"util/Config\"], \nfunction(Bass, Piano, Voice, HH, Kick, GUI, Snare, Arp, Config){\n\n\tvar volumes = {\n\t\tBass : -8,\n\t\tPiano : -32,\n\t\tVoice : 3,\n\t\tHH : -24,\n\t\tKick : -16,\n\t\tSnare : -8,\n\t\tArp : -33\n\t};\n\n\tBass.volume.value = volumes.Bass;\n\t// Bass.volume.value = -Infinity;\n\n\tPiano.volume.value = volumes.Piano;\n\t// Piano.volume.value = -Infinity;\n\n\tVoice.volume.value = volumes.Voice;\n\t// Voice.volume.value = -Infinity;\n\n\tHH.volume.value = volumes.HH;\n\t// HH.volume.value = -Infinity;\n\t\n\tKick.volume.value = volumes.Kick;\n\t// Kick.volume.value = -Infinity;\n\n\tSnare.volume.value = volumes.Snare;\n\t// Snare.volume.value = -Infinity;\n\n\tif (!Config.MOBILE){\n\t\tArp.volume.value = volumes.Arp;\n\n\t\tif (Config.GUI){\n\t\t\tvar folder = GUI.getFolder(\"Levels (db)\");\n\t\t\tGUI.addVolumeSlider(folder, \"Bass Volume\", Bass.volume);\n\t\t\tGUI.addVolumeSlider(folder, \"Piano Volume\", Piano.volume);\n\t\t\tGUI.addVolumeSlider(folder, \"Voice Volume\", Voice.volume);\n\t\t\tGUI.addVolumeSlider(folder, \"HH Volume\", HH.volume);\n\t\t\tGUI.addVolumeSlider(folder, \"Kick Volume\", Kick.volume);\n\t\t\tGUI.addVolumeSlider(folder, \"Snare Volume\", Snare.volume);\t\n\t\t\tGUI.addVolumeSlider(folder, \"Arp Volume\", Arp.volume, -80, -30);\t\n\t\t}\n\t}\n\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/channel/Main.js\n ** module id = 175\n ** module chunks = 1\n **/","define([\"jquery\", \"controller/Mediator\", \"util/Config\", \"Tone/core/Tone\", \"interface/Window\"], \nfunction($, Mediator, Config, Tone, Window){\n\n\t//start button\n\tvar startButton = $(\"<div>\").attr(\"id\", \"StartButton\").appendTo(\"body\");\n\tvar triangle = $(\"<div>\").attr(\"id\", \"Triangle\").appendTo(startButton);\n\tvar pause0 = $(\"<div>\").attr(\"id\", \"Pause0\").addClass(\"PauseBar\").appendTo(startButton);\n\tvar pause1 = $(\"<div>\").attr(\"id\", \"Pause1\").addClass(\"PauseBar\").appendTo(startButton);\n\n\n\tvar started = false;\n\n\tvar playing = false;\n\n\tvar transportStarted = false;\n\n\tMediator.route(\"firstScroll\", function(){\n\t\ttransportStarted = true;\n\t});\n\n\t$(document).keydown(function(e){\n\t\tif (transportStarted){\n\t\t\tif (started && e.keyCode === 32){ //space bar\n\t\t\t\te.preventDefault();\n\t\t\t\tif (playing){\n\t\t\t\t\tMediator.send(\"pause\");\n\t\t\t\t} else {\n\t\t\t\t\tMediator.send(\"play\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\tif (Config.PAUSE_ON_BLUR){\n\t\tvar inFocus = true;\n\n\t\t$(window).blur(function(){\n\t\t\tif (playing && inFocus && transportStarted){\n\t\t\t\tMediator.send(\"pause\");\n\t\t\t}\n\t\t\tinFocus = false;\n\t\t});\n\n\t\t$(window).focus(function(){\n\t\t\tinFocus = true;\n\t\t});\n\t}\n\n\tMediator.route(\"play\", function(){\n\t\tstartButton.addClass(\"Playing\");\n\t\tplaying = true;\n\t});\n\n\tMediator.route(\"pause\", function(){\n\t\tstartButton.removeClass(\"Playing\");\n\t\tplaying = false;\n\t});\n\n\tMediator.route(\"end\", function(){\n\t\ttransportStarted = false;\n\t\tstartButton.fadeTo(500, 0, function(){\n\t\t\tstartButton.remove();\n\t\t});\n\t});\n\n\tMediator.route(\"replay\", function(){\n\t\tMediator.send(\"start\");\n\t\tstartButton.appendTo(\"body\");\n\t\tstartButton.fadeTo(500, 1);\n\t});\n\n\tstartButton.one(\"mousedown touchstart\", function(e){\n\t\te.preventDefault();\n\t\tMediator.send(\"start\");\n\t\tif (Config.MOBILE){\n\t\t\tTone.startMobile();\n\t\t\tstartButton.addClass(\"MobileCorner\");\n\t\t} else {\n\t\t\tstartButton.addClass(\"Corner\");\n\t\t}\n\t\tstartButton.addClass(\"Playing\");\n\t\tstarted = true;\n\t\tplaying = true;\n\t\tstartButton.on(\"mousedown touchstart\", function(e){\n\t\t\te.preventDefault();\n\t\t\tif (started && transportStarted){\n\t\t\t\tif (playing){\n\t\t\t\t\tMediator.send(\"pause\");\n\t\t\t\t} else {\n\t\t\t\t\tMediator.send(\"play\");\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/interface/StartButton.js\n ** module id = 176\n ** module chunks = 1\n **/"],"mappings":";;;;;AAAA;AACA;AACA;AACA;;;;;;;ACHA;AACA;AACA;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AChkCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC/6BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AC7JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACjXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AC7HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AC7CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACxDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AChFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACxEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACpXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AC/CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACpBA;AACA;;;;;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACjDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC1NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AC5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACjGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AClMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AClBA;;;;;;ACAA;;;;;;ACAA;AACA;;;;;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACpJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACjBA;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AC7fA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AC5TA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACxLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AC9MA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACxMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AC7JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACzpHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACnQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACxMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AClJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACjOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACpKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AC1JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AChNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACxLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACpMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AC5JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AChXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AC3EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACvHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC5GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AChEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACrGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACjFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACl0BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACjJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AC7EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACjGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACzCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACpRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACzCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AClJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACvHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACxBA;;;;;;ACAA;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AC7GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACxBA;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACtFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AChCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AC9FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AChCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AC/IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AChMA;AACA;AACA;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AC/DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AC/FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AC/FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACjDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACjEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACjDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACrRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACpfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACrEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AChEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AC1DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACjEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACvDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACxHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AC1DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACjDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACvDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AC5EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AC9DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACpEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACnEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACxGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AC7DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACrIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AC7HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACrGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AC1CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC9DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AC5DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AC5EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACvDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AChDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AC3KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AC3DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AC3CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACzRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACnRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC7UA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AC1EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACpGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AC3GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACxFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AC9DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACxGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC9DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACjFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACrJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AC/HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACtGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AC3CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AC7LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACxEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AClJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACpEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACxCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AChEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACrEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACvEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AC7DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACzDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACzDA;AACA;AACA;AACA;AACA;AACA;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACjFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACpBA;AACA;;;;;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACpBA;AACA;;;;;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACpDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACpBA;AACA;;;;;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACxMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AC1EA;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACpBA;AACA;;;;;;ACDA;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACpBA;AACA;;;;;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AC5EA;;;;;;ACAA;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AC9CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;","sourceRoot":""}